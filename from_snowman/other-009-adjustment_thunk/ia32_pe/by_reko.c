// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0040106E: Register word32 fn0040106E()
word32 fn0040106E()
{
	word32 eax_4 = operator new(0x18);
	if (eax_4 == 0x00)
	{
		word32 eax_43 = Mem0[0x10:word32];
		word32 edx_44 = Mem0[eax_43 + 0x00:word32];
		word32 esp_45;
		word32 eax_46;
		byte SCZO_47;
		byte SZO_48;
		byte C_49;
		byte Z_50;
		word32 ecx_51;
		word32 edx_52;
		edx_44();
		return 0x00;
	}
	else
	{
		Mem17[eax_4 + 0x04:word32] = 0x0A;
		Mem18[eax_4 + 0x08:word32] = 0x0040374C;
		Mem19[eax_4 + 0x10:word32] = 0x0040375C;
		Mem21[eax_4 + 0x00:word32] = 4208524;
		Mem22[eax_4 + 0x08:word32] = 0x0040377C;
		Mem23[eax_4 + 0x10:word32] = 4208492;
		word32 eax_24 = Mem23[eax_4 + 0x10:word32];
		word32 edx_25 = Mem23[eax_24 + 0x00:word32];
		word32 esp_27;
		word32 eax_28;
		byte SCZO_29;
		byte SZO_30;
		byte C_31;
		byte Z_32;
		word32 ecx_33;
		word32 edx_34;
		edx_25();
		return 0x00;
	}
}

// 0040169A: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
}

// 004018F0: Register word32 fn004018F0(Stack word32 dwArg04)
word32 fn004018F0(word32 dwArg04)
{
	if (Mem0[dwArg04 + 0x00:word16] != 23117)
		return 0x00;
	word32 eax_39 = Mem0[dwArg04 + 0x3C:word32] + dwArg04;
	if (Mem0[eax_39 + 0x00:word32] != 0x4550)
		return 0x00;
	return (word32) (Mem0[eax_39 + 0x18:word16] == 0x010B);
}

// 00401930: Register word32 fn00401930(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00401930(word32 dwArg04, word32 dwArg08)
{
}

// 00401980: Register word32 fn00401980(Stack word32 dwArg04)
word32 fn00401980(word32 dwArg04)
{
	word32 eax_16 = Mem0[fs:0x00:word32];
	Mem38[fs:0x00:word32] = fp - 0x14;
	if (fn004018F0(0x00400000) != 0x00)
	{
		word32 eax_92 = fn00401930(0x00400000, dwArg04 - 0x00400000);
		if (eax_92 != 0x00)
		{
			word32 eax_99 = ~(Mem38[eax_92 + 0x24:word32] >>u 0x1F);
			Mem105[fs:0x00:word32] = eax_16;
			return eax_99 & 0x01;
		}
	}
	Mem73[fs:0x00:word32] = eax_16;
	return 0x00;
}

// 00401A50: Register word32 fn00401A50(Register word32 ebx, Register word32 esi, Register word32 edi, Stack word32 dwArg00, Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00401A50(word32 ebx, word32 esi, word32 edi, word32 dwArg00, word32 dwArg04, word32 dwArg08)
{
	word32 esp_14 = fp - 0x08 - dwArg08;
	Mem17[esp_14 - 0x04 + 0x00:word32] = ebx;
	Mem20[esp_14 - 0x08 + 0x00:word32] = esi;
	Mem23[esp_14 - 0x0C + 0x00:word32] = edi;
	Mem33[esp_14 - 0x10 + 0x00:word32] = Mem23[0x00405078:word32] ^ fp + 0x08;
	Mem38[esp_14 - 0x14 + 0x00:word32] = dwArg00;
	Mem43[fs:0x00:word32] = fp - 0x08;
	return fp + 0x08;
}

// 00401A95: void fn00401A95(Register word32 ebp, Stack word32 dwArg00, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void fn00401A95(word32 ebp, word32 dwArg00, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	Mem5[fs:0x00:word32] = Mem0[ebp - 0x10 + 0x00:word32];
	Mem25[ebp + 0x00:word32] = dwArg00;
}

// 00401B30: Register word32 fn00401B30()
word32 fn00401B30()
{
	word32 eax_10 = Mem0[0x00405078:word32];
	if (eax_10 != 0xBB40E64E && (eax_10 & 0xFFFF0000) != 0x00)
		Mem96[0x0040507C:word32] = ~eax_10;
	else
	{
		GetSystemTimeAsFileTime(fp - 0x0C);
		word32 esi_60 = dwLoc08 & 0x00 ^ dwLoc0C & 0x00 ^ GetCurrentProcessId() ^ GetCurrentThreadId() ^ GetTickCount();
		QueryPerformanceCounter(fp - 0x14);
		word32 esi_69 = esi_60 ^ (dwLoc10 ^ dwLoc14);
		if (esi_69 == 0xBB40E64E)
			esi_69 = ~0x44BF19B0;
		else if ((esi_69 & 0xFFFF0000) == 0x00)
			esi_69 = esi_69 | (esi_69 | 0x4711) << 0x10;
		Mem77[0x00405078:word32] = esi_69;
		Mem79[0x0040507C:word32] = ~esi_69;
		esi = fp - 0x14;
	}
	return esi;
}

