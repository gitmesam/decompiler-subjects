// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401005: Register word32 fn00401005()
word32 fn00401005()
{
	word32 ebx_19;
	operator <<(fn00401028(out ebx_19), 0x00405848);
	return ebx_19;
}

// 0040100A: Register word32 fn0040100A(Register word32 ecx)
word32 fn0040100A(word32 ecx)
{
	return (-(word32) Mem0[ecx + 0x04:byte] == 0x00) - 0x01;
}

// 0040100F: Register word32 fn0040100F()
word32 fn0040100F()
{
	return fn00401530(dwArg00);
}

// 00401014: Register byte fn00401014(Stack word32 dwArg04, Stack word32 dwArg08)
byte fn00401014(word32 dwArg04, word32 dwArg08)
{
	return Mem0[dwArg04 + 0x00:word32] == Mem0[dwArg08 + 0x00:word32];
}

// 00401019: void fn00401019(Register word32 ecx, Stack word32 dwArg04)
void fn00401019(word32 ecx, word32 dwArg04)
{
	operator <<(operator <<(&cout, Mem0[ecx + 0x00:word32] + dwArg04), endl);
}

// 0040101E: void fn0040101E(Register word32 eax)
void fn0040101E(word32 eax)
{
}

// 00401023: void fn00401023(Register word32 ecx)
void fn00401023(word32 ecx)
{
	if ((word32) uncaught_exception() == 0x00)
		_Osfx(Mem0[ecx + 0x00:word32]);
	fn0040102D(ecx);
}

// 00401028: Register word32 fn00401028(Register out ptr32 ebxOut)
word32 fn00401028(ptr32 & ebxOut)
{
	word32 ebx_4;
	return fn00401190(dwArg00, dwArg04, out ebx_4);
}

// 0040102D: void fn0040102D(Register word32 ecx)
void fn0040102D(word32 ecx)
{
	if (rdbuf(Mem0[ecx + 0x00:word32] + Mem0[Mem0[Mem0[ecx + 0x00:word32] + 0x00:word32] + 0x04:word32]) != 0x00)
	{
		word32 eax_43 = Mem0[rdbuf(Mem0[ecx + 0x00:word32] + Mem0[Mem0[Mem0[ecx + 0x00:word32] + 0x00:word32] + 0x04:word32]) + 0x00:word32];
		word32 edx_45 = Mem0[eax_43 + 0x08:word32];
		word32 esp_46;
		word32 ebp_47;
		byte SCZO_48;
		word32 ecx_49;
		word32 eax_50;
		word32 edx_51;
		byte SZO_52;
		byte C_53;
		byte Z_54;
		edx_45();
	}
}

// 00401032: Register word32 fn00401032(Register out ptr32 ebxOut)
word32 fn00401032(ptr32 & ebxOut)
{
	fn00401037(fp - 0x08);
	fn00401019(fp - 0x08, 0x14);
	word32 ebx_18;
	*ebxOut = fn00401005();
	return 0x00;
}

// 00401037: void fn00401037(Register word32 ecx)
void fn00401037(word32 ecx)
{
	fn004010C0(ecx, dwArg00);
}

// 0040103C: void fn0040103C(Register word32 ecx, Stack word32 dwArg04)
void fn0040103C(word32 ecx, word32 dwArg04)
{
	fn00401041(ecx);
	if ((word32) good(dwArg04 + Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32]) != 0x00 && tie(dwArg04 + Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32]) != 0x00)
		flush(tie(dwArg04 + Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32]));
	Mem37[ecx + 0x04:byte] = good(dwArg04 + Mem0[Mem0[dwArg04 + 0x00:word32] + 0x04:word32]);
}

// 00401041: void fn00401041(Register word32 ecx)
void fn00401041(word32 ecx)
{
	fn00401690(ecx, dwArg00);
}

// 004010C0: void fn004010C0(Register word32 ecx, Stack word32 dwArg04)
void fn004010C0(word32 ecx, word32 dwArg04)
{
	Mem13[ecx + 0x00:word32] = dwArg04;
	word32 ebx_23;
	operator <<(fn00401028(out ebx_23), 0x00405830);
}

// 00401190: Register word32 fn00401190(Stack word32 dwArg04, Stack word32 dwArg08, Register out ptr32 ebxOut)
word32 fn00401190(word32 dwArg04, word32 dwArg08, ptr32 & ebxOut)
{
}

// 00401530: Register word32 fn00401530(Stack word32 dwArg04)
word32 fn00401530(word32 dwArg04)
{
	return strlen(dwArg04);
}

// 00401690: void fn00401690(Register word32 ecx, Stack word32 dwArg04)
void fn00401690(word32 ecx, word32 dwArg04)
{
	Mem12[ecx + 0x00:word32] = dwArg04;
	if (rdbuf(Mem12[ecx + 0x00:word32] + Mem12[Mem12[Mem12[ecx + 0x00:word32] + 0x00:word32] + 0x04:word32]) != 0x00)
	{
		word32 eax_47 = Mem12[rdbuf(Mem12[ecx + 0x00:word32] + Mem12[Mem12[Mem12[ecx + 0x00:word32] + 0x00:word32] + 0x04:word32]) + 0x00:word32];
		word32 edx_49 = Mem12[eax_47 + 0x04:word32];
		word32 esp_50;
		word32 ebp_51;
		byte SCZO_52;
		word32 ecx_53;
		word32 eax_54;
		word32 edx_55;
		byte SZO_56;
		byte C_57;
		byte Z_58;
		edx_49();
	}
}

// 00401AB6: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
}

// 00401D40: Register word32 fn00401D40(Stack word32 dwArg04)
word32 fn00401D40(word32 dwArg04)
{
	if (Mem0[dwArg04 + 0x00:word16] != 23117)
		return 0x00;
	word32 eax_39 = Mem0[dwArg04 + 0x3C:word32] + dwArg04;
	if (Mem0[eax_39 + 0x00:word32] != 0x4550)
		return 0x00;
	return (word32) (Mem0[eax_39 + 0x18:word16] == 0x010B);
}

// 00401D80: Register word32 fn00401D80(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00401D80(word32 dwArg04, word32 dwArg08)
{
}

// 00401DD0: Register word32 fn00401DD0(Stack word32 dwArg04)
word32 fn00401DD0(word32 dwArg04)
{
	word32 eax_16 = Mem0[fs:0x00:word32];
	Mem38[fs:0x00:word32] = fp - 0x14;
	if (fn00401D40(0x00400000) != 0x00)
	{
		word32 eax_92 = fn00401D80(0x00400000, dwArg04 - 0x00400000);
		if (eax_92 != 0x00)
		{
			word32 eax_99 = ~(Mem38[eax_92 + 0x24:word32] >>u 0x1F);
			Mem105[fs:0x00:word32] = eax_16;
			return eax_99 & 0x01;
		}
	}
	Mem73[fs:0x00:word32] = eax_16;
	return 0x00;
}

// 00401EA0: Register word32 fn00401EA0(Register word32 ebx, Register word32 esi, Register word32 edi, Stack word32 dwArg00, Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00401EA0(word32 ebx, word32 esi, word32 edi, word32 dwArg00, word32 dwArg04, word32 dwArg08)
{
	word32 esp_14 = fp - 0x08 - dwArg08;
	Mem17[esp_14 - 0x04 + 0x00:word32] = ebx;
	Mem20[esp_14 - 0x08 + 0x00:word32] = esi;
	Mem23[esp_14 - 0x0C + 0x00:word32] = edi;
	Mem33[esp_14 - 0x10 + 0x00:word32] = Mem23[0x00407000:word32] ^ fp + 0x08;
	Mem38[esp_14 - 0x14 + 0x00:word32] = dwArg00;
	Mem43[fs:0x00:word32] = fp - 0x08;
	return fp + 0x08;
}

// 00401EE5: void fn00401EE5(Register word32 ebp, Stack word32 dwArg00, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void fn00401EE5(word32 ebp, word32 dwArg00, word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	Mem5[fs:0x00:word32] = Mem0[ebp - 0x10 + 0x00:word32];
	Mem25[ebp + 0x00:word32] = dwArg00;
}

// 00401F80: Register word32 fn00401F80()
word32 fn00401F80()
{
	word32 eax_10 = Mem0[0x00407000:word32];
	if (eax_10 != 0xBB40E64E && (eax_10 & 0xFFFF0000) != 0x00)
		Mem96[0x00407004:word32] = ~eax_10;
	else
	{
		GetSystemTimeAsFileTime(fp - 0x0C);
		word32 esi_60 = dwLoc08 & 0x00 ^ dwLoc0C & 0x00 ^ GetCurrentProcessId() ^ GetCurrentThreadId() ^ GetTickCount();
		QueryPerformanceCounter(fp - 0x14);
		word32 esi_69 = esi_60 ^ (dwLoc10 ^ dwLoc14);
		if (esi_69 == 0xBB40E64E)
			esi_69 = ~0x44BF19B0;
		else if ((esi_69 & 0xFFFF0000) == 0x00)
			esi_69 = esi_69 | (esi_69 | 0x4711) << 0x10;
		Mem77[0x00407000:word32] = esi_69;
		Mem79[0x00407004:word32] = ~esi_69;
		esi = fp - 0x14;
	}
	return esi;
}

