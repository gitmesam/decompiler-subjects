// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401026: Register word32 fn00401026(Register (ptr32 word32) edx, Register word32 edi, Stack word32 dwArg00)
word32 fn00401026(word32 * edx, word32 edi, word32 dwArg00)
{
	Mem6[edx + 0x00:word32] = Mem0[edx + 0x00:word32] + 3455551474 + C;
	__syscall(~0x07);
	return (word32 *) 0x408F87FE;
}

// 0040F143: Register Eq_23 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	GetCommandLineA();
	GetCurrentProcessId();
	Eq_30 eax_13 = GetModuleHandleA(&globals->t434FC7);
	GetCommandLineW();
	GetVersion();
	GetCommandLineA();
	SizeofResource(0x00, dwLoc14);
	GetACP();
	Eq_54 eax_35 = GetProcAddress(eax_13, &globals->t434FD1);
	GetACP();
	SizeofResource(0x00, eax_13);
	GetCommandLineW();
	GetACP();
	Eq_70 eax_55 = eax_35();
	SizeofResource(0x00, eax_13);
	<anonymous> * eax_70 = (eax_55 ^ 0xC0000005) + 0x0040F1F9;
	ptr32 esp_72;
	word32 ebp_73;
	byte SCZO_74;
	word32 eax_75;
	byte SZO_76;
	bool C_77;
	word32 edx_78;
	word32 edi_79;
	eax_70();
	*(esp_72 - 0x04) = fp - 0x24;
	*(esp_72 - 0x08) = 0x40;
	*(esp_72 - 0x0C) = 56884;
	*(esp_72 - 0x10) = 0x00401000;
	GetCommandLineW();
	VirtualProtect(*(esp_72 - 0x10), *(esp_72 - 0x0C), *(esp_72 - 0x08), *(esp_72 - 0x04));
	*(esp_72 - 0x04) = (union Eq_70 *) eax_55;
	GetCommandLineA();
	*(esp_72 - 0x08) = 56884;
	GetVersion();
	*(esp_72 - 0x0C) = 0x00401000;
	word32 esp_107;
	word32 ebp_108;
	byte SCZO_109;
	word32 eax_110;
	byte SZO_111;
	bool C_112;
	word32 * edx_113;
	word32 edi_114;
	(eax_55 - ~0x4040F104)();
	return fn00401026(edx_113, edi_114, ebp);
}

