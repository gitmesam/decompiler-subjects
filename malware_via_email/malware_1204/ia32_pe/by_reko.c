// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401020: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	word32 edx_11 = fn00401130();
	word32 eax_19 = 206336032 - (edx_11 << 11) & 0x0C0B6000 - (edx_11 << 11);
	word32 edx_29 = fp + ~0x0001819F + dwLoc20;
	Mem30[edx_29 + 0x00:word32] = (eax_19 + 4244441164)[edx_11 * 0x0200] - 0x28;
	word32 eax_34 = eax_19 + Mem30[(((eax_19 + 4244441164) + (edx_11 << 0x09)) - 0x04) + 0x00:word32] + 0x000181B4 - dwLoc20;
	fn00401180(dwLoc20);
	word32 eax_52 = 0x0041918C - dwLoc20;
	word32 esp_54;
	word32 ebp_55;
	byte SCZO_56;
	word32 eax_57;
	word32 ecx_58;
	word32 edx_59;
	word32 ebx_60;
	byte SZO_61;
	bool C_62;
	word32 esi_63;
	Mem30[eax_52 + 0x00:word32]();
	Mem66[esp_54 - 0x04 + 0x00:word32] = dwLoc20;
	Mem73[esp_54 - 0x08 + 0x00:word32] = dwLoc14;
	Mem76[esp_54 - 0x0C + 0x00:word32] = eax_34;
	word32 esp_77;
	word32 ebp_78;
	byte SCZO_79;
	word32 eax_80;
	word32 ecx_81;
	word32 edx_82;
	word32 ebx_83;
	byte SZO_84;
	bool C_85;
	word32 esi_86;
	(dwLoc20 + 4099908)();
	Mem94[esp_77 - 0x04 + 0x00:word32] = 0x00;
	word32 v17_91 = eax_34 + 0x000181BC - dwLoc20;
	Mem99[esp_77 - 0x08 + 0x00:word32] = v17_91 + 1164;
	word32 esp_100;
	word32 ebp_101;
	byte SCZO_102;
	word32 eax_103;
	word32 ecx_104;
	word32 edx_105;
	word32 ebx_106;
	byte SZO_107;
	bool C_108;
	word32 esi_109;
	v17_91();
	int3();
	int3();
	int3();
	int3();
	int3();
	int3();
	int3();
	int3();
	int3();
	int3();
	int3();
	Mem111[esp_100 - 0x04 + 0x00:word32] = fp - 0x04;
	word32 edx_114 = Mem111[esp_100 + 0x0C:word32];
	word32 ecx_117 = Mem111[esp_100 + ~0x00018183 + edx_114:word32];
	word32 ebx_119 = (esp_100 + ~0x00030313)[edx_114 * 0x02];
	Mem121[esp_100 - 0x10 + 0x00:word32] = 0x181900A0;
	word32 eax_124 = Mem121[esp_100 - 0x10 + 0x00:word32] - (edx_114 << 0x01);
	Mem126[esp_100 - 0x10 + 0x00:word32] = 158735475;
	Mem127[esp_100 - 0x08 + 0x00:word32] = 0x01;
	Mem128[esp_100 - 0x0C + 0x00:word32] = Mem127[esp_100 - 0x10 + 0x00:word32];
	Mem131[esp_100 - 0x0C + 0x00:word32] = Mem128[esp_100 - 0x0C + 0x00:word32] + (edx_114 << 0x01);
	while (true)
	{
		Mem138[ebx_119 + 0x00:word32] = Mem131[ebx_119 + 0x00:word32] ^ eax_124;
		ecx_117 = ecx_117 - 0x04;
		if (ecx_117 <= 0x00)
			break;
		eax_124 = eax_124 + Mem138[(esp_100 - 0x0C) + 0x00:word32] + Mem138[(esp_100 - 0x08) + 0x00:word32];
		ebx_119 = ebx_119 + 0x00018190 - Mem138[esp_100 + 0x0C:word32];
		Mem148[esp_100 - 0x08 + 0x00:word32] = -Mem138[esp_100 - 0x08 + 0x00:word32];
	}
	return eax_124;
}

// 00401130: Register word32 fn00401130()
word32 fn00401130()
{
	word32 eax_8 = RequestDeviceWakeup + ~0x00;
	word32 esp_13;
	word32 eax_14;
	byte SZO_15;
	bool C_16;
	word32 ecx_17;
	word32 ebx_18;
	selector fs_19;
	byte SCZO_20;
	bool Z_21;
	word32 edx_22;
	fn00001223();
	word32 eax_28 = ((Mem0[ebx_18 + 3060:word32] >>u 0x10 | 0x24) ^ 0x55) << 0x01;
	Mem34[Mem0[fp + ~0x0001818B + (eax_28 + 0xAA):word32] + 0x00:word32] = eax_28 + 0xAA;
	return eax_28 + 0xAA;
}

// 00401180: void fn00401180(Stack word32 dwArg04)
void fn00401180(word32 dwArg04)
{
}

