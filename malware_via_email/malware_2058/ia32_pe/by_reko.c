// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401019: Register word32 fn00401019(Register Eq_3 eax, Register word32 edx, Register word16 di)
word32 fn00401019(LPSTR eax, word32 edx, word16 di)
{
	__ror(0x00120004, 0x0F);
	return DPB(edi, di + 0x4B, 0) + 0x01;
}

// 004011E6: Register Eq_18 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	fn00401019(GetCommandLineA(), 0xDC00269A, (word16) (dwArg00 + edi + 0x01));
	word32 * ecx_18 = fp;
	word32 edx_24 = ~0x00;
	do
	{
		ecx_18 = ecx_160 - 0x01;
		word32 * ecx_160 = ecx_18;
	} while (*ecx_160 != edx_24);
	word32 edx_39 = 0x004010F2;
	word32 esi_41 = globals->dw4010F2;
	Eq_18 eax_45 = dwArg00;
	do
	{
		eax_45 = (Eq_18) (eax_45 + 0x01);
		edx_39 = -edx_39;
	} while (eax_45->dw0000 - esi_41 != 0x00);
	__ror(edx_39 - 0x01, 0x01);
	__ror(eax_45 - 0x05, 0x1B);
	Eq_18 ecx_81 = dwArg00;
	word32 esi_85 = globals->dw40104B;
	do
	{
		ecx_81 = ecx_81 - ~0x00;
		ui32 edx_101 = ecx_81->dw0000 ^ esi_85;
	} while (edx_101 != 0x00);
	__rol(__rol(0x00, 0x09), 0x0F);
	word32 edx_121 = -edx_101;
	word32 edx_137 = DPB(edx_121, __ror((word16) edx_121, 0x0C), 0);
	fs->ptr0000 = fp - 0x08;
	__rol(edx_137, 0x0A);
	return ecx_81;
}

