// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 004011BC: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	Eq_3 esp_103 = fp;
	word32 esi_22 = -esi;
	word32 edi_102;
	struct Eq_152 ** ecx_100;
	word32 esi_26 = ~esi_22;
	Eq_12 ecx_82 = (fp - ~0x04 | 0xE3A20167) + dwArg00;
	Eq_19 eax_72 = fp - ~0x04 - (fp - ~0x04);
	word32 esi_64 = DPB(esi_26, (word16) esi_26 | 0x34, 0);
	Eq_3 edx_303 = dwArg00 - ~0x06;
	byte dh_69 = SLICE(dwArg00 - ~0x06, byte, 8);
	word16 cx_83 = (word16) ecx_82;
	if (0x90 != DPB(eax_72, (byte) eax_72 + *(dwArg00 - ~0x06), 0))
	{
		Eq_45 eax_251 = OpenFile((CHAR *) 0x90, (struct _OFSTRUCT *) 2190775738, ecx_82);
		byte al_252 = (byte) eax_251;
		struct Eq_56 * esi_259 = esi_64 + 0x01 ^ DPB(ecx_82, __rol(cx_83, 0x09), 0);
		eax_251->b0000 = eax_251->b0000 + al_252;
		eax_251->b0000 = eax_251->b0000 + al_252;
		eax_251->b0000 = eax_251->b0000 + al_252;
		(byte *) 0xF469A400 = (byte *) 0xF469A400 + 0x00A4;
		esi_259->b007E = esi_259->b007E + dh_69;
		eax_251->b0000 = eax_251->b0000 + al_252;
		(byte *) 0xCE024BF0 = (byte *) 0xCE024BF0 + al_252;
		byte ah_253 = SLICE(eax_251, byte, 8);
		ecx_100 = (struct Eq_152 **) 0xF469A400;
		(byte *) 4150355426 = (byte *) ((byte *) 4150355426 | ~0x46);
		byte v49_291 = *(esi_259 - 0x7D) + ah_253;
		*(esi_259 - 0x7D) = v49_291;
		edi_102 = 0x94;
		if (OVERFLOW(v49_291))
			__syscall(0x04);
		esp_103 = esi_259 - 117;
	}
	else
	{
		edx_303 = fp;
		word16 dx_306 = (word16) fp;
		edi_102 = 0x0240;
		ecx_100 = DPB(1194671, dx_306, 0);
	}
	struct Eq_152 * eax_106 = *ecx_100;
	__rol((word32) edx_303 + edi_102, 0x19);
	word32 edi_116 = globals->dw4010D2;
	do
		eax_106 = eax_106 + 0x01;
	while (eax_106->dw0000 - edi_116 != 0x00);
	__rol(edi_116, 0x18);
	struct Eq_168 * eax_146 = DPB(eax_106, *(eax_106 - 0x02), 0);
	union Eq_3 * esp_152 = esp_103 - 0x04;
	*esp_152 = (union Eq_3 *) esp_103;
	*esp_152 = **esp_152;
	Eq_3 edi_163 = *esp_152;
	word32 edx_172 = globals->dw401037;
	do
	{
		word32 esi_181 = *edi_163;
		edi_163 = (word32) edi_163 + 0x01;
		ui32 ecx_190 = esi_181 ^ edx_172;
	} while (ecx_190 != 0x00);
	*esp_152 = (union Eq_3 *) 4177264;
	Mem215[esp_152 + 0x00:word32] = Mem206[esp_152 + 0x00:word32] + ((eax_146 << 0x10) >>u 0x10);
	ptr32 edi_220 = fs->ptr0000;
	__ror((word16) ((esi_181 ^ 1276373775) & edi_163 ^ eax_146), 0x03);
	*(esp_152 - 0x04) = edi_220;
	__ror(ecx_190, 0x03);
	fs->ptr0000 = esp_152 - 0x04;
	*(esp_152 - 0x08) = 0x00;
	*(esp_152 - 0x0C) = (union Eq_3 *) edi_163;
	return 0x00;
}

