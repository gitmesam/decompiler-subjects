// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00407A80: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	ptr32 esp_16 = fp - 0x24;
	do
		esp_16 = esp_16 + 0x04;
	while (false);
	*(esp_16 - 0x04) = 0x08;
	word32 * esp_32 = esp_16 - 0x04;
	do
	{
		ui32 eax_37 = globals->dw40910C;
		esp_32 = esp_32 - 0x04;
		*esp_32 = 375286973;
		int32 ebx_38 = 375286973;
	} while (eax_37 != globals->dw40910C);
	word32 edx_43 = 3869486407 - globals->dw40946F;
	if (0x0C != 0x00)
	{
		*(esp_32 - 0x04) = 0x32;
		ebx_38 = 371331812;
		esp_32 = esp_32 - 0x04;
	}
	if (edx_43 == __ror(eax_37, ~0x24))
		edx_43 = edx_43 - ebx_38 *s 0x002CDADA;
	if (0x0030555A != 0x00)
	{
		word32 * esp_449 = esp_32 - 0x04;
		*esp_449 = 0x0030555A;
		*esp_449 = 0x1F;
		*(esp_449 - 0x04) = edx_43;
		*(esp_449 - 0x04) = 4701904;
		esp_32 = esp_449;
	}
	word32 edx_68 = *esp_32;
	ptr32 esp_69 = esp_32 + 0x01;
	do
	{
		word32 ebx_73 = globals->dw409243;
	} while (globals->dw409150 != globals->dw409150);
	do
		ebx_73 = ebx_73 + edx_68;
	while (0x0E08E8F2 == 0x00);
	*(esp_69 - 0x04) = fp - 0x04;
	word32 ebx_87 = ebx_73 + globals->dw40913F;
	*(esp_69 - 0x08) = 4225994;
	*(esp_69 - 0x0C) = fs->ptr0000;
	fs->ptr0000 = esp_69 - 0x0C;
	__subps(xmm3, null);
	word32 edi_103 = globals->dw409275;
	__rol(ebx_87, ~0x30);
	*(esp_69 - 0x10) = edi_103;
	*(esp_69 - 0x10) = 0x00407000;
	*(esp_69 - 0x14) = 0x004091AB;
	(word32 *) 3627003999 = edi_103;
	struct Eq_164 * esp_117 = *(esp_69 - 0x08);
	fs->dw27D04FA1 = esp_117->dw0000;
	word32 ebp_124 = esp_117->dw0008;
	word32 * esp_130 = &esp_117->dw000C + 0x01;
	if (false)
	{
		esp_117->dw000C = 0x0D;
		esp_130 = (word32 *) &esp_117->dw000C;
	}
	word32 ebx_135 = 262769;
	while (true)
	{
		do
			;
		while (34407450 == 0x00);
		struct Eq_193 * eax_162 = globals->a409000;
		ui32 edi_165 = 0x0040944B;
		ui32 esi_169 = globals->dw409452 << 0x36;
		do
		{
			word32 edx_180 = globals->dw409161;
			ui32 edx_181 = edx_180 + 2080384;
			if (esi_169 == edi_165)
			{
				esi_169 = esi_169 - globals->dw4092B9 + 0x0E;
				edx_181 = edx_180 + 2080384 | 0x00296A33;
			}
			*(esp_130 - 0x04) = esi_169;
			*(esp_130 - 0x04) = 0x004093D4;
			eax_162->dw0000 = eax_162->dw0000 + 0x2AAA;
			do
				;
			while (globals->dw409058 != globals->dw409058);
			eax_162->dw0000 = eax_162->dw0000 - 0x11A1;
			*(esp_130 - 0x04) = 0x11A1;
			*(esp_130 - 0x04) = 4231624;
			ptr32 eax_226 = eax_162 + 0x01;
			esi_169 = 0x11A1;
			word32 edi_222 = 117;
			eax_162 = eax_226 - 0x67;
			if (((*(esp_130 - 0x04) & 0x11A1) - globals->dw40945E & 0x00) == 0x00)
				esi_169 = 0x08D08000 - globals->dw4090C7 - 0x60222044;
			do
				edi_222 = edi_222 - ~0x6410081F;
			while (globals->dw409178 != globals->dw409178);
			edi_165 = edi_222 - esi_169;
		} while (eax_226 != 4232411);
		*(esp_130 - 0x04) = 0x00409474;
		*(esp_130 - 0x04) = 0x00409246;
		ebx_135 = ebx_135 - 0x01;
		do
			;
		while (0x001A8095 == 0x00);
		ui32 ecx_270 = 0x00;
		if (ebx_135 == 0x00)
			break;
		do
			;
		while (globals->dw4091C8 != globals->dw4091C8);
	}
	do
		;
	while (false);
	if (true)
		ecx_270 = globals->dw409133;
	*(esp_130 - 0x04) = ebp_124;
	*(esp_130 - 0x08) = 0x00409000;
	*(esp_130 - 0x0C) = fs->ptr0000;
	fs->ptr0000 = esp_130 - 0x0C;
	__subps(xmm6, null);
	*(esp_130 - 0x10) = 0x00409234;
	__ror(ecx_270, 0xCC);
	ptr32 esp_316 = esp_130 - 0x0C;
	word32 ecx_328 = globals->dw409333;
	if (ecx_328 != 0x0040944C)
	{
		*(esp_130 - 0x10) = ~0x63020603;
		esp_316 = esp_130 - 0x10;
	}
	DWORD * esp_337 = esp_316 + 0x04;
	do
		;
	while (false);
	do
	{
		ui32 eax_351 = 0x4B;
		up32 ebx_352 = globals->dw409084;
	} while (0x4B == 0x00);
	word32 edx_355 = 0x0047A342;
	if (0x0047A342 >= ebx_352)
	{
		edx_355 = 2292;
		eax_351 = 0x04B0;
	}
	if ((eax_351 & 0x02) != 0x00)
		edx_355 = edx_355 + globals->dw40946C;
	DWORD ebx_370 = *esp_337;
	*esp_337 = (uint32) 87861882;
	*(esp_337 - 0x04) = 2978824986;
	*(esp_337 - 0x08) = 0xB0;
	do
	{
		ebx_370 = ebx_370 - globals->dw4090E1;
		Eq_2 eax_389 = ebx_370;
	} while (false);
	if (ebx_370 != ~0x00032456)
	{
		__ror(ebx_370 | 228, 0x82);
		eax_389 = (Eq_2) ((word32) ebx_370 + 0x0030B662);
	}
	*(esp_337 - 0x0C) = 0x00407000;
	return eax_389;
}

