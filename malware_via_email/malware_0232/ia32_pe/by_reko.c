// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00403463: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	fs->ptr0000 = fp - 0x14;
	__set_app_type(0x02);
	globals->dw403798 = globals->dw403798 | ~0x00;
	globals->dw40379C = globals->dw40379C | ~0x00;
	*__p__fmode() = globals->dw403674;
	*__p__commode() = globals->dw403670;
	globals->dw403794 = *adjust_fdiv;
	fn004035F5();
	if (globals->dw401230 == 0x00)
		__setusermatherr(&globals->t4035F2);
	fn004035E0();
	_initterm(&globals->t401214, &globals->t401218);
	__getmainargs(fp - 100, fp - 116, fp - 0x68, globals->dw403668);
	_initterm(&globals->t401204, &globals->t401210);
	cu8 * esi_135 = *acmdln;
	if (*esi_135 == 0x22)
	{
		do
		{
			esi_135 = esi_135 + 0x01;
			cu8 al_148 = *esi_135;
		} while (al_148 != 0x00 && al_148 != 0x22);
		if (*esi_135 == 0x22)
		{
l00403552:
			esi_135 = esi_135 + 0x01;
		}
	}
	else
	{
		while (*esi_135 > 0x20)
			esi_135 = esi_135 + 0x01;
	}
	cu8 al_92 = *esi_135;
	if (al_92 == 0x00 || al_92 > 0x20)
	{
		word32 eax_108;
		GetStartupInfoA(fp - 0x60);
		if (0x00 != 0x00)
			eax_108 = (word32) wLoc30;
		else
			eax_108 = 0x0A;
		Eq_144 eax_117 = GetModuleHandleA(null);
		fn004035FC(eax_117, 0x00, esi_135, eax_108);
		exit(eax_117);
	}
	goto l00403552;
}

// 004035E0: void fn004035E0()
void fn004035E0()
{
	_controlfp(0x00010000, 0x00030000);
}

// 004035F5: void fn004035F5()
void fn004035F5()
{
}

// 004035FC: void fn004035FC(Stack Eq_144 dwArg04, Stack word32 dwArg08, Stack (ptr32 cu8) dwArg0C, Stack word32 dwArg10)
void fn004035FC(HMODULE dwArg04, word32 dwArg08, cu8 * dwArg0C, word32 dwArg10)
{
	word32 esp_18;
	MFC42.DLL!Ordinal_1576();
}

