// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 004244C9: Register (ptr32 word32) fn004244C9(Stack (ptr32 word32) dwArg04, Stack uint32 dwArg08, Stack word32 dwArg0C)
word32 * fn004244C9(word32 * dwArg04, uint32 dwArg08, word32 dwArg0C)
{
	word32 * edx_16 = dwArg04;
	uint32 edi_19 = dwArg08 >> 0x02;
	do
	{
		*edx_16 = *edx_16 ^ dwArg0C;
		*edx_16 = *edx_16 ^ dwArg0C;
		*edx_16 = __ror(*edx_16, 11);
		*edx_16 = __ror(*edx_16, 0x39);
		*edx_16 = __ror(*edx_16, 0x28);
		edx_16 = edx_16 + 0x01;
		edi_19 = edi_19 - 0x01;
	} while (edi_19 != 0x00);
	return edx_16;
}

// 0042451B: Register Eq_60 Win32CrtStartup()
Eq_60 Win32CrtStartup()
{
Win32CrtStartup_entry:
	esp = fp
	esp = fp - 0x04
	dwLoc04 = ebp
	ebp = fp - 0x04
	esp = fp - 0x28
	esp = fp - 44
	dwLoc2C = ebx
	esp = fp - 0x30
	dwLoc30 = edi
	esp = fp - 0x34
	dwLoc34 = esi
	eax = GetCommandLineA()
	dwLoc18 = eax
	esp = fp - 0x38
	&dwLoc38.u0->b0000 = 0x00
	esp = fp - 0x3C
	&dwLoc3C.u0->b0000 = 0x0100
	esp = fp - 0x40
	&dwLoc40.u0->b0000 = 0x03
	esp = fp - 0x44
	&dwLoc44.u0->b0000 = 0x00
	esp = fp - 0x48
	&dwLoc48.u0->b0000 = 0x03
	esp = fp - 0x4C
	&dwLoc4C.u0->b0000 = 0x60000000
	esp = fp - 0x50
	&dwLoc50.u0->b0000 = 0x00432012
	eax = CreateFileA(&globals->t432012, (struct Eq_482 *) 0x60000000, (struct Eq_482 *) 0x03, null, (struct Eq_482 *) 0x03, (struct Eq_482 *) 0x0100, null)
	esp = fp - 0x34
	dwLoc20 = eax
	esp = fp - 0x38
	&dwLoc38.u0->b0000 = 0x00
	eax = GetCommandLineW()
	esp = fp - 0x3C
	&dwLoc3C.u0->b0000 = 0x00
	esp = fp - 0x40
	&dwLoc40.u0->b0000 = 0x00
	esp = fp - 0x44
	&dwLoc44.u0->b0000 = 0x00432008
	eax = GetACP()
	eax = GetCommandLineW()
	eax = GetModuleHandleA(&globals->t432008)
	esp = fp - 0x40
	esp = fp - 0x44
	&dwLoc44.u0->b0000 = 0x00432045
	esp = fp - 0x48
	dwLoc48 = eax
	esp = fp - 0x4C
	&dwLoc4C.u0->b0000 = 0x00
	esp = fp - 0x50
	&dwLoc50.u0->b0000 = 0x26
	esp = fp - 0x54
	&dwLoc54.u0->b0000 = 0x03
	esp = fp - 88
	&dwLoc58.u0->b0000 = 0x00
	esp = fp - 0x5C
	&dwLoc5C.u0->b0000 = 0x01
	esp = fp - 0x60
	&dwLoc60.u0->b0000 = 0xC0000000
	esp = fp - 100
	&dwLoc64.u0->b0000 = 0x00432000
	eax = CreateFileA(&globals->t432000, (struct Eq_482 *) 0xC0000000, (struct Eq_482 *) 0x01, null, (struct Eq_482 *) 0x03, (struct Eq_482 *) 0x26, null)
	esp = fp - 0x48
	dwLoc0C = eax
	SCZO = cond(eax - ~0x00)
	Z = (bool) SCZO
	esp = fp - 0x4C
	&dwLoc4C.u0->b0000 = 0x00
	esp = fp - 0x50
	&dwLoc50.u0->b0000 = 0x0182
	esp = fp - 0x54
	&dwLoc54.u0->b0000 = 0x03
	esp = fp - 88
	&dwLoc58.u0->b0000 = 0x00
	esp = fp - 0x5C
	&dwLoc5C.u0->b0000 = 0x05
	esp = fp - 0x60
	&dwLoc60.u0->b0000 = 0xE0000000
	esp = fp - 100
	&dwLoc64.u0->b0000 = 4399129
	eax = CreateFileA(&globals->t432019, (struct Eq_482 *) 0xE0000000, (struct Eq_482 *) 0x05, null, (struct Eq_482 *) 0x03, (struct Eq_482 *) 0x0182, null)
	esp = fp - 0x48
	dwLoc08 = eax
	eax = GetProcAddress(dwLoc48, &globals->t432045)
	esp = fp - 0x40
	eax()
	esp = esp - 0x04
	esp->u2 = eax
	v10 = dwLoc20
	esp = esp - 0x04
	esp->u2 = v10
	esp = esp - 0x04
	*esp = 0x00
	eax = SizeofResource(*esp, *((word32) esp + 0x04))
	esp = (word32) esp + 0x08
	esp = esp - 0x04
	*esp = 0x733C
	esp = esp - 0x04
	*esp = 0x00
	v11 = dwLoc20
	esp = esp - 0x04
	esp->u2 = v11
	eax = GetFileSize(*esp, *((word32) esp + 0x04))
	esp = (word32) esp + 0x08
	esp = esp - 0x04
	*esp = 4366336
	esp = esp - 0x04
	*esp = 0x00
	esp = esp - 0x04
	*esp = 0x01
	esp = esp - 0x04
	*esp = 0x03
	esp = esp - 0x04
	*esp = 0x00
	esp = esp - 0x04
	*esp = 0x00
	esp = esp - 0x04
	*esp = 0x40000000
	esp = esp - 0x04
	*esp = 0x00432074
	eax = CreateFileA(*esp, *((word32) esp + 0x04), *((word32) esp + 0x08), *((word32) esp + 0x0C), *((word32) esp + 0x0010), *((word32) esp + 0x0014), *((word32) esp + 0x0018))
	esp = (word32) esp + 0x001C
	dwLoc1C = eax
	edx = fn004244C9(dwArg00, dwArg04, dwArg08)
	esp = (word32) esp + 0x0C
	eax = fp - 0x28
	esp = esp - 0x04
	*esp = fp - 0x28
	esp = esp - 0x04
	*esp = (struct _SECURITY_ATTRIBUTES *) 0x40
	esp = esp - 0x04
	*esp = (struct _SECURITY_ATTRIBUTES *) 0x733C
	esp = esp - 0x04
	*esp = &globals->t42A000
	v12 = dwLoc08
	esp = esp - 0x04
	esp->u2 = v12
	eax = GetFileType(*esp)
	esp = (word32) esp + 0x04
	eax = GetCommandLineA()
	dwLoc14 = eax
	eax = VirtualProtect(*esp, *((word32) esp + 0x04), *((word32) esp + 0x08), *((word32) esp + 0x0C))
	esp = (word32) esp + 0x0010
	eax = GetACP()
	esi.u14 = *esp
	esp = (word32) esp + 0x04
	esp = esp - 0x04
	*esp = 0x00
	v13 = dwLoc08
	esp = esp - 0x04
	esp->u2 = v13
	eax = GetFileSize(*esp, *((word32) esp + 0x04))
	esp = (word32) esp + 0x08
	edi.u14 = *esp
	esp = (word32) esp + 0x04
	eax = GetOEMCP()
	ebx.u14 = *esp
	esp = fp - 0x04
	ebp = dwLoc04
	esp = fp
	eax = GetOEMCP()
	al = (byte) eax
	ah = SLICE(eax, byte, 8)
	v15 = Mem0[eax + 0x001B000E:byte] + al
	*((word32) eax + 0x001B000E) = v15
	SCZO = cond(*esi.u14 - 0x00)
	v16 = Mem0[eax + 0x00:byte] + al
	*eax = v16
	v18 = (word32) *eax + cl
	*eax = v18
	es = psegArg00
	esp = (word32) fp + 0x02
	al = al + al
	SCZO = cond(al)
	branch Test(ULE,CZ) l0042A044
	goto l0042A03A
l0042451B:
l004245B6:
l0042A028:
l0042A03A:
	v22 = (word32) *(eax - 0x01) + dh
	*(eax - 0x01) = v22
	SCZO = cond(v22)
	v24 = *eax - al - C
	*eax = v24
	SCZO = cond(v24)
	eax = (word32) eax + 0x01
	SZO = cond(eax)
	branch Test(GT,SZO) l0042A0C0
l0042A042:
	v26 = eax
	eax = esi
	esi = v26
	edx = (word32) edx + 0x01
	SZO = cond(edx)
l0042A044:
	edx = edx - 0x01
	v29 = xmm3
	v30 = *((word32) ebx.u14 + 0x2797578A)
	xmm3 = __orps(v29, v30)
	ch = 0x78
	esp = fp
	psegArg00 = ds
	esp = fp - 0x04
	dwLoc04 = edi
	eax = dwLoc04
	esp = fp
	*esi.u14 = 0xB0C087B6
	rArg0 = rArg0 * *((word32) (edi - 0x56) + eax * 0x08)
	v34 = Mem0[ebx + 0x77:byte] + al
	*((word32) ebx.u14 + 0x0077) = v34
	SCZO = cond(v34)
l0042A0C0:
	*((word32) esi.u14 + 0x0053) = (int32) trunc(rArg0)
	branch Test(ULT,C) l0042A10C
l0042A0C5:
	v35 = *((word32) ebx.u14 + 0x0B72F342) << ~0x30
	*((word32) ebx.u14 + 0x0B72F342) = v35
	SCZO = cond(v35)
	return eax
l0042A10C:
	branch Test(LE,SZO) l0042A14D
l0042A10E:
	C = __das(al, &al)
	branch Test(NO,O) l0042A110
l0042A10F_1:
	__syscall(0x04)
l0042A110:
	esp = (word32) fp + 0x03
	bl = (byte) ((word32) *((word32) ebp + 0x11CC2C48) + bl)
	v39 = eax
	eax = esi
	esi = v39
	ch = 0x88
	v41 = (byte) ((word32) *((word32) eax + 0x004C) + dl)
	*((word32) eax + 0x004C) = v41
	SCZO = cond(v41)
	branch Test(NO,O) l0042A11E
l0042A11D_1:
	__syscall(0x04)
l0042A11E:
	eax = eax - 0x01
	eax = dwArg03
	esp = (word32) fp + 0x07
	v42 = Mem0[esi - 0x4A + 0x00:word32] + eax
	*(esi - 0x4A) = v42
	v43 = Mem0[eax + 0x00:byte] + al
	*eax = v43
	eax = eax + Mem0[eax + 0x00:word32]
	al = (Eq_482) 0xB8
	ch = 0xD0
	v46 = *ecx - ah
	*ecx = v46
	SCZO = cond(v46)
	ds_esi = *((word32) eax + 2010699966)
l0042A12D:
	ebp = ebp & eax
	SZO = cond(ebp)
	C.u0 = false
	al = (Eq_482) ~0x41
	FPUF = cond(rArg1 - rArg1)
	branch Test(UGT,CZ) l0042A110
	goto l0042A135
l0042A12E:
l0042A12F:
l0042A134:
l0042A135:
	v49 = *edi.u14 & al
	*edi.u14 = v49
	SZO = cond(*edi.u14)
	v50 = eax
	eax = ebx
	ebx = v50
	v51 = esp
	esp = esp - 0x04
	esp->u2 = eax
	esp = esp - 0x04
	esp->u6 = ecx
	esp = esp - 0x04
	esp->u3 = edx
	esp = esp - 0x04
	esp->u2 = ebx
	esp = esp - 0x04
	*esp = v51
	esp = esp - 0x04
	esp->u2 = ebp
	esp = esp - 0x04
	esp->u2 = esi
	esp = esp - 0x04
	esp->u2 = edi
	esp = esp - 0x02
	*esp = es
	v52 = Mem0[eax + 0x00:byte] + al
	*eax = v52
	dh = 0xD0
	*edi.u14 = al
	edi = edi + 0x01
	esp = esp - 0x04
	*esp = 0x20
	esp = esp - 0x02
	*esp = cs
	esp = esp - 0x01
	C = __daa(al, &al)
	v54 = (word32) *(eax - 0x61) + ah
	*(eax - 0x61) = v54
	*((word32) eax + 0x07) = (int32) rArg2
	al = (Eq_482) ((byte) al.b0000 + dl)
	SCZO = cond(al)
	branch Test(UGT,CZ) l0042A1CC
	goto l0042A14E
l0042A14D:
	branch Test(LE,SZO) l0042A12D
l0042A14E:
l0042A14F:
	rArg1 = rArg1 - *((word32) edi.u14 + eax * 0x08)
l0042A1CC:
	esp = esp - 0x01
	v56 = Mem0[esi + 0x500EC82C:byte] + dl + C
	*((word32) esi.u14 + 0x500EC82C) = v56
	SCZO = cond(v56)
	ch = 0x80
Win32CrtStartup_exit:
}

