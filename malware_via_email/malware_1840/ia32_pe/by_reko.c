// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401128: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	struct Eq_3 * esp_8;
	ui32 edx_9;
	byte SZO_10;
	byte C_11;
	word32 ecx_12;
	byte SCZO_13;
	word32 edi_14;
	word32 ebx_15;
	word16 ax_16;
	word32 eax_17;
	byte al_18;
	word32 esi_19;
	struct Eq_15 * ebp_20;
	word16 di_21;
	byte cl_22;
	word16 dx_23;
	byte Z_24;
	byte ah_25;
	byte bh_26;
	byte dh_27;
	byte ch_28;
	word16 cx_29;
	word16 si_30;
	struct Eq_26 * fs_31;
	globals->t40102D();
	*(esp_8 - 0x04) = ebx_15;
	byte * eax_39 = *(esp_8 - 0x04);
	byte al_40 = (byte) eax_39;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	*eax_39 = *eax_39 + al_40;
	word32 ecx_88 = (word32) ebp_20->b0007;
	__ror((word16) ((edx_9 | 52820389) >> 0x09 | 0x3044764D), 0x0F);
	cui16 di_35 = (word16) ebx_15;
	struct Eq_3 * esp_100 = esp_8;
	word32 edi_86 = DPB(ebx_15, di_35 - ~0x28, 0);
	if (ecx_88 != 0x90)
	{
		*(esp_8 - 0x04) = 3963125073;
		*(esp_8 - 0x08) = 0x90;
		Eq_191 eax_247 = CopyFileExA(*(esp_8 - 0x08), *(esp_8 - 0x04), esp_8->t0000, esp_8->t0004, esp_8->t0008, esp_8->t000C);
		Eq_222 eax_257 = DPB(eax_247, bh_26, 8);
		eax_257->b6C00E0 = eax_257->b6C00E0 + bh_26;
		eax_257->t0000.b0000 = (byte) ((byte) eax_247).b0000 + (eax_257->t0000).b0000;
		(ui32 *) 0x66008500 = (ui32 *) 0x66008500 ^ edi_86;
		esp_100 = esp_8 - 0x08;
	}
	word16 dx_102 = (word16) esp_100;
	struct Eq_246 * ecx_110 = DPB(1194964, dx_102, 0) + 0x00;
	__ror(dx_102, 0x06);
	__ror(DPB(ebx_15, di_35 - ~0x28 | ~0x5C, 0) + 1194964, 0x02);
	word32 eax_117 = 0x004010DB;
	ui32 esi_123 = globals->dw40111D;
	do
	{
		ecx_110 = ecx_110 + 0x01;
		word32 edx_135 = ecx_110->dw0000;
		eax_117 = __rol(-eax_117, 0x1E);
	} while (edx_135 - esi_123 != 0x00);
	struct Eq_257 * ecx_156 = DPB(ecx_110, *(ecx_110 - 0x03), 0);
	__ror((word16) (esi_123 * 0x02), 0x02);
	Eq_196 esi_165 = esp_100->t0000;
	word32 edi_171 = globals->dw40105E;
	ecx_177 = ecx_156;
	do
	{
		struct Eq_257 * ecx_177;
		ui32 eax_178 = *esi_165;
		__ror(ecx_177, 0x11);
		esi_165 = esi_165 - ~0x00;
		ecx_177 = eax_178 ^ edi_171;
	} while (ecx_177 != null);
	uint32 * esp_215 = esp_100 - 0x04;
	*esp_215 = (ecx_156 << 0x10 >> 0x10) + 4177108;
	*(esp_215 - 0x04) = fs_31->ptr0000;
	fs_31->ptr0000 = esp_215 - 0x04;
	*(esp_215 - 0x08) = 0x00;
	__rol((word16) (esp_215 - 0x04), 0x0E);
	*(esp_215 - 0x0C) = (union Eq_196 *) esi_165;
	__ror(null, 0x12);
	ui32 eax_202 = eax_178 - 382895693 << 0x1E;
	return DPB(eax_202 + 0x01, (word16) (eax_202 + 0x01) - 0x2A, 0) + 0x01;
}

