// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	struct Eq_3 * edx_15;
	word32 ecx_16 = fn00401078(globals->a401131, (Eq_141 (*)[]) 0x063C, out edx_15);
	fn00401131(ecx_16, edx_15, ebx, fp - 0x04, esi, edi, es, ds, dwLoc20, rArg0);
	*(fp - 0x18) = 0x063C;
	*(fp - 0x1C) = 0x00401131;
	word32 edx_45;
	fn00401078(dwArg00, dwArg04, out edx_45);
	if (false)
	{
		*(fp - 0x18) = 0x00405000;
		*(fp - 0x1C) = 0x00401000;
		lstrcpyA(*(fp - 0x1C), *(fp - 0x18));
	}
	return 0x00;
}

// 00401078: Register (ptr (arr Eq_141)) fn00401078(Stack (ptr (arr Eq_141)) dwArg04, Stack (ptr (arr Eq_141)) dwArg08, Register out ptr32 edxOut)
Eq_141 * fn00401078[](Eq_141 * dwArg04[], Eq_141 * dwArg08[], ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_141 (* dwLoc08_22)[] = null;
	while (dwLoc08_22 < dwArg08)
	{
		if (dwLoc08_22 > null && (dwLoc08_22 & 0x01) == 0x00)
		{
			word32 eax_120 = dwLoc08_22 + dwArg04;
			Mem127[dwArg04 + dwLoc08_22:byte] = (byte) (DPB(eax_120, *eax_120, 0) ^ 0x3D);
		}
		if (dwLoc08_22 > (Eq_141 (*)[]) 0x01)
		{
			word32 eax_104 = dwLoc08_22 + dwArg04;
			Mem110[dwArg04 + dwLoc08_22:byte] = (byte) (DPB(eax_104, *eax_104, 0) + 0x08);
		}
		if (dwLoc08_22 > (Eq_141 (*)[]) 0x02 && (dwLoc08_22 - (Eq_141 (*)[]) 0x02 & 0x01) == 0x00)
		{
			Eq_141 eax_93[] = dwLoc08_22 + dwArg04;
			Mem99[dwArg04 + dwLoc08_22:byte] = (byte) (DPB(eax_93, eax_93[0x00].t0000, 0) - (Eq_141 (*)[]) 0x57);
		}
		ecx = (Eq_141 (*)[]) 0x03;
		int32 edx_52 = (int32) (SEQ(dwLoc08_22 >> 0x1F, dwLoc08_22) % 0x03);
		*edxOut = edx_52;
		if (edx_52 == 0x00)
		{
			ecx = dwArg04 + dwLoc08_22;
			Mem82[ecx + 0x00:byte] = Mem0[dwLoc08_22 + dwArg04:byte] - (byte) dwLoc08_22;
			word32 edx_75;
			*edxOut = dwLoc08_22;
		}
		dwLoc08_22 = dwLoc08_22 + 0x01;
	}
	return ecx;
}

// 00401131: FpuStack real64 fn00401131(Register word32 ecx, Register (ptr Eq_3) edx, Register (ptr Eq_18) ebx, Register (ptr Eq_19) ebp, Register Eq_20 esi, Register (ptr byte) edi, Register (ptr Eq_22) es, Register (ptr Eq_23) ds, Stack word32 dwArg00, FpuStack real64 rArg0)
real64 fn00401131(word32 ecx, Eq_3 * edx, Eq_18 * ebx, Eq_19 * ebp, Eq_20 esi, byte * edi, Eq_22 * es, Eq_23 * ds, word32 dwArg00, real64 rArg0)
{
}

