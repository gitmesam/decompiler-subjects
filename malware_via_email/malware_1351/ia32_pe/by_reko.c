// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401111: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	word32 edx_4;
	int32 esi_5;
	byte SCZO_6;
	word32 edi_7;
	byte * ebx_8;
	word32 eax_9;
	byte al_10;
	word16 si_11;
	byte C_12;
	byte SZO_13;
	word32 ecx_14;
	byte Z_15;
	byte dl_17;
	word16 dx_18;
	word16 cx_19;
	word16 ax_20;
	word16 di_21;
	struct Eq_20 * fs_22;
	struct Eq_21 * ebp_108;
	struct Eq_22 * esp_110;
	globals->ptr401079();
	byte al_27 = (byte) ebx_8;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	*ebx_8 = *ebx_8 + al_27;
	word16 si_63 = __ror((word16) (ebx_8 + (esi_5 >> 0x1D)), 0x01);
	struct Eq_22 * edx_69 = esp_110;
	ptr32 edi_72 = ebx_8 - 0x01 + esp_110->dw0000;
	do
	{
		edx_69 = edx_69 + 0x01;
		byte * ecx_81 = edx_69->dw0000;
		si_63 = __rol(si_63, 0x06);
	} while (ecx_81 != ebx_8);
	word32 edi_97 = __rol(edi_72, 0x17);
	word32 edx_101 = (word32) (ebp_108->b0007 ^ 0x00);
	if (0x90 != edx_101)
	{
		ImageList_Replace(esp_110->dw0000, esp_110[0x04], esp_110[0x08], esp_110[0x0C]);
		*(esp_110 - 0x04) = 0x751CF59B;
		RegQueryValueA(*(esp_110 - 0x04), esp_110->dw0000, esp_110[0x04], esp_110[0x08]);
		byte * eax_268 = __indw((word16) edx_101);
		__lock();
		byte al_269 = (byte) eax_268;
		*eax_268 = *eax_268 + al_269;
		*eax_268 = *eax_268 + al_269;
		*(esp_110 - 0x08) = (struct Eq_21 **) ebp_108;
		*(esp_110 - 0x08) = *(esp_110 - 0x08) + 0x9C;
		(byte *) 0x77C5009C = (byte *) 0x77C5009C + 0x009C;
		(ui32 *) 321740271 = (ui32 *) 321740271 | 0x77C5009C;
		ebp_108 = esp_110 - 0x08;
		*(esp_110 - ~0x6F) = edi_97 - 4040370253;
		esp_110 = esp_110 - ~0x6F;
	}
	__ror(0x90, 0x0A);
	struct Eq_293 * edi_123 = DPB(1210455, (word16) esp_110, 0) + 0x00;
	word32 eax_126 = 0x0040110B;
	word32 ecx_130 = globals->dw40110B;
	do
	{
		edi_123 = edi_123 + 0x01;
		eax_126 = ebp_108 + eax_126 / 0x08 + esp_110->dw0000 / 0x08;
		word32 edx_144 = edi_123->dw0000 - ecx_130;
	} while (edx_144 != 0x00);
	ui32 edx_159 = DPB(edx_144, *(edi_123 - 0x03), 0);
	struct Eq_22 ** esp_167 = esp_110 - 0x04;
	*esp_167 = (struct Eq_22 **) esp_110;
	struct Eq_22 * edi_169 = *esp_167;
	__rol(eax_126 + edx_144 - 2030342245, 0x03);
	word32 * ecx_176 = edi_169->dw0000;
	word32 edx_181 = globals->dw40104E;
	do
	{
		ecx_176 = (word32 *) ((char *) ecx_296 + 0x01);
		word32 * ecx_296 = ecx_176;
	} while ((*ecx_296 ^ edx_181) != 0x00);
	__ror((word16) (ebp_108 >> 0x03), 0x05);
	Eq_355 edx_223 = edx_159 << 0x10 >> 0x10;
	*esp_167 = (word32) edx_223 + 0x003F1338;
	__ror((word16) edx_223, 0x09);
	*(esp_167 - 0x04) = fs_22->ptr0000;
	fs_22->ptr0000 = esp_167 - 0x04;
	*(esp_167 - 0x08) = 0x00;
	int32 eax_240 = ~((word32) edx_223 + 0x003F1338 >> 0x1A);
	Eq_2 eax_253 = DPB(eax_240, __ror((word16) eax_240, 0x04), 0);
	*(esp_167 - 0x0C) = ecx_176;
	__ror(0x00, 0x0D);
	return eax_253;
}

