// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0040F9E4: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	Eq_3 edi_3 = edi;
	Eq_5 ebp_33 = dwArg04;
	Eq_7 eax_12 = IsWindow(dwArg04);
	ptr32 esp_16 = fp - 0x04;
	if ((eax_12 | 0x01) == 0x01)
	{
		eax_12 = fn0040FA4C((byte) GetProfileIntW(fp - 0x08, fp - 0x08, 0xF7), out ecx, out edx, out ebp_33, out esi, out edi_3);
		esp_16 = fp + 0x24;
	}
	word32 * esp_37 = esp_16 - 0x04;
	*esp_37 = ecx;
	*(esp_37 - 0x04) = (int32) eax_12;
	byte bl_42 = (byte) *(esp_37 - 0x04);
	*(esp_37 - 0x04) = (union Eq_3 *) edi_3;
	word32 ecx_46 = ecx - 266694;
	if (edi_3 == esi)
		return esp_37 - 0x04;
	word32 ecx_57;
	word32 edx_58;
	word32 ebp_59;
	word32 esi_60;
	word32 edi_61;
	return fn0040FA80(ecx_46 + 0x00042662, edx, bl_42, ebp_33, esi, edi_3, out ecx_57, out edx_58, out ebp_59, out esi_60, out edi_61);
}

// 0040FA4C: Register Eq_2 fn0040FA4C(Register byte bl, Register out ptr32 ecxOut, Register out ptr32 edxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_2 fn0040FA4C(byte bl, ptr32 & ecxOut, ptr32 & edxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	Eq_3 eax_10 = VirtualAlloc(0x00, 83538, 0x3000, 0x40);
	uint32 edx_29 = DPB(28768668, bl + 0x9C, 0);
	word32 ecx_35;
	word32 edx_36;
	word32 ebp_37;
	word32 esi_38;
	word32 edi_39;
	return fn0040FA80(0x01F6, edx_29, bl, 0x00, 0xC3, eax_10, out ecx_35, out edx_36, out ebp_37, out esi_38, out edi_39);
}

// 0040FA80: Register (ptr Eq_136) fn0040FA80(Register word32 ecx, Register uint32 edx, Register byte bl, Register Eq_5 ebp, Register Eq_3 esi, Register Eq_3 edi, Register out ptr32 ecxOut, Register out ptr32 edxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_136 * fn0040FA80(word32 ecx, uint32 edx, byte bl, HWND ebp, Eq_3 esi, Eq_3 edi, ptr32 & ecxOut, ptr32 & edxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
}

