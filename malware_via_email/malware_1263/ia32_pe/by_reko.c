// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0040102C: Register word32 fn0040102C(Register out ptr32 ebpOut)
word32 fn0040102C(ptr32 & ebpOut)
{
	fn0040390E();
	MessageBoxW((struct HWND__ *) ~0x00, null, null, 0x00);
	int32 eax_35 = MessageBoxW((struct HWND__ *) ~0x00, null, null, 0x00);
	if (true)
	{
		word32 esp_40;
		word32 ebp_41;
		byte SCZO_42;
		word32 ebx_43;
		word32 esi_44;
		word32 edi_45;
		word32 eax_46;
		bool C_47;
		fn0145795D();
		return eax_46;
	}
}

// 0040390E: void fn0040390E()
void fn0040390E()
{
	MessageBoxW((struct HWND__ *) ~0x00, null, null, 0x00);
	MessageBoxW((struct HWND__ *) ~0x00, null, null, 0x00);
	MessageBoxW((struct HWND__ *) ~0x00, null, null, 0x00);
	int32 dwLoc08_40 = 0x00;
	while (dwLoc08_40 < 5000000)
	{
		operator delete(fp - 0x18);
		dwLoc08_40 = dwLoc08_40 + 0x01;
	}
}

// 00404836: Register Eq_67 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	fs->ptr0000 = fp - 0x14;
	__set_app_type(0x02);
	globals->dw40745C = globals->dw40745C | ~0x00;
	globals->dw407460 = globals->dw407460 | ~0x00;
	*__p__fmode() = globals->dw407458;
	*__p__commode() = globals->dw407454;
	globals->dw407464 = *adjust_fdiv;
	fn004049B5();
	if (globals->dw406830 == 0x00)
		__setusermatherr(&globals->t4049B2);
	fn004049A0();
	_initterm(&globals->t40600C, &globals->t406010);
	__getmainargs(fp - 100, fp - 116, fp - 0x68, globals->dw40744C);
	_initterm(&globals->t406000, &globals->t406008);
	cu8 * esi_133 = *acmdln;
	if (*esi_133 == 0x22)
	{
		do
		{
			esi_133 = esi_133 + 0x01;
			cu8 al_146 = *esi_133;
		} while (al_146 != 0x00 && al_146 != 0x22);
		if (*esi_133 == 0x22)
		{
l00404925:
			esi_133 = esi_133 + 0x01;
		}
	}
	else
	{
		while (*esi_133 > 0x20)
			esi_133 = esi_133 + 0x01;
	}
	cu8 al_92 = *esi_133;
	if (al_92 == 0x00 || al_92 > 0x20)
	{
		GetStartupInfoA(fp - 0x60);
		GetModuleHandleA(null);
		ptr32 ebp_120;
		int32 eax_121 = fn0040102C(out ebp_120);
		*(ebp_120 - 0x68) = eax_121;
		exit(eax_121);
	}
	goto l00404925;
}

// 004049A0: void fn004049A0()
void fn004049A0()
{
	_controlfp(0x00010000, 0x00030000);
}

// 004049B5: void fn004049B5()
void fn004049B5()
{
}

