// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 004112B0: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	struct Eq_3 * esp_107 = fp - 44;
l00411329:
	esp_107->dw000C = 0x00;
	esp_107->t0018.u0 = 0xCB0BC92A;
	word32 * esp_14 = esp_107 - 0x04;
	*esp_14 = ecx;
	*(esp_14 - 0x04) = 0x00;
	*(esp_14 - 0x08) = 0x00;
	struct Eq_34 * esp_23;
	byte SCZO_25;
	word32 ecx_26;
	word32 eax_27;
	word32 esi_28;
	byte bl_29;
	bool Z_30;
	byte SZO_31;
	word16 ax_32;
	byte al_33;
	struct Eq_44 * edi_106;
	fn000154A9();
	ecx = esp_23->dw0000;
	esp_23->dw001C = esp_23->dw001C + 0x00415315;
	esp_107 = (struct Eq_3 *) (&esp_23->dw0000 + 0x01);
	byte * esi_39 = &globals->b411358;
	do
	{
		esp_107->ptr0020 = esi_39;
		while (true)
		{
			byte * esi_59 = esp_107->ptr0020;
			Eq_11 bl_60 = esp_107->t0018;
			if (esp_107->dw0008 == 666)
				*esi_59 = *esi_59 - bl_60;
			esp_107->ptr0020 = esp_107->ptr0020 + 0x01;
			esi_39 = &globals->b4115FA;
			if (esp_107->ptr0020 > &globals->b4115FA)
				break;
			esp_107->t0018 = esp_107->t0018 >> 0x08;
			esp_107->dw000C = esp_107->dw000C + 0x01;
			if (esp_107->dw000C == 0x04)
			{
				esp_107->dw000C = 0x00;
				esp_107->t0018.u0 = 0xCB0BC92A;
				word32 * esp_76 = esp_107 - 0x04;
				*esp_76 = ecx;
				*(esp_76 - 0x04) = 0x00;
				*(esp_76 - 0x08) = 0x00;
				struct Eq_156 * esp_85;
				byte SCZO_87;
				word32 ecx_88;
				word32 eax_89;
				word32 esi_90;
				byte bl_91;
				bool Z_92;
				byte SZO_93;
				word16 ax_94;
				fn000154A9();
				ecx = esp_85->dw0000;
				esp_85->dw001C = esp_85->dw001C + 0x00415315;
				esp_107 = (struct Eq_3 *) (&esp_85->dw0000 + 0x01);
			}
		}
		esp_107->dw0008 = esp_107->dw0008 + 0x01;
		if (esp_107->dw0008 != 1000)
			goto l00411329;
		edi_106 = edi_106->ptr0000;
		esp_107 = (struct Eq_3 *) ((char *) &edi_106->ptr0000 + 0x04);
		ecx = ecx - 0x01;
	} while (ecx != 0x00);
	__aam(al_33);
	__hlt();
}

