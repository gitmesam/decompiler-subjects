// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00400300: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	fn00400493();
	bool Z_16 = __arpl(*edx, bx, &*edx);
	GetFileSize(&globals->v40031C, &globals->t40031A);
	GetLastError();
	fn004003F8();
	<anonymous> * eax_43 = fn00400415();
	word32 esp_46;
	word32 ebp_47;
	byte SCZO_48;
	real64 rArg7_49;
	real64 rArg0_50;
	bool Z_51;
	word32 edx_52;
	word16 bx_53;
	Eq_2 eax_54;
	word32 ebx_55;
	eax_43();
	return eax_54;
}

// 004003F8: Register Eq_49 fn004003F8()
HMODULE fn004003F8()
{
	return GetModuleHandleA(null) + Mem0[0x00400308:word32];
}

// 00400415: Register word32 fn00400415()
word32 fn00400415()
{
	word32 ecx_15 = 0x0D;
	byte * eax_13 = globals->a400510;
	do
	{
		*eax_13 = __ror(*eax_13, 0x01);
		byte * eax_9 = eax_13 + 0x01;
		*eax_9 = __rol(*eax_9, 0x01);
		eax_13 = eax_9 + 0x01;
		ecx_15 = ecx_15 - 0x01;
	} while (ecx_15 != 0x00);
	Eq_54 eax_18 = GetModuleHandleA(&globals->t40051D);
	Eq_100 edx_24 = eax_18 + (&(eax_18 + (&eax_18->unused)[0x0F] / 0x04)->unused)[0x001E] / 0x04;
	word32 eax_26[] = eax_18 + edx_24->dw0020 / 0x04;
	int32 ebp_30 = 0x00;
	do
	{
		byte * esi_35 = eax_18 + eax_26[ebp_30] / 0x04;
		bool Z_39 = (bool) cond(esi_35);
		word32 ecx_40 = 0x0D;
		byte * edi_41 = globals->a400510;
		while (ecx_40 != 0x00)
		{
			Z_39 = (bool) cond(*esi_77 - *edi_78);
			esi_35 = esi_77 + 0x01;
			edi_41 = edi_78 + 0x01;
			ecx_40 = ecx_40 - 0x01;
			byte * esi_77 = esi_35;
			byte * edi_78 = edi_41;
			if (*esi_77 == *edi_78)
				break;
		}
		if (Z_39)
			return (Mem0[edx_24 + 0x1C:word32] + eax_18)[ebp_30 * 0x04] + eax_18;
		ebp_30 = ebp_30 + 0x01;
	} while (ebp_30 != edx_24->dw0018);
	return (Mem11[edx_24 + 0x1C:word32] + eax_18)[ebp_30 * 0x04] + eax_18;
}

// 00400493: void fn00400493()
void fn00400493()
{
	globals->dw400316 = ~globals->dw400316;
	globals->dw400359 = ~globals->dw400359;
	globals->t400308 = ~globals->t400308;
	EnumTimeFormatsA(&globals->t40046D, 0x00, 0x00);
	globals->dw40050C <= 0x0A;
}

