// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401030: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	fn00401068();
	Eq_2 eax_5 = fn00401469();
	fp->tFFFFFFFC = eax_5;
	fn0040144C();
	return eax_5;
}

// 00401068: void fn00401068()
void fn00401068()
{
	globals->dw402000 = globals->dw407074;
	word32 esp_27;
	word32 eax_28;
	byte SCZO_29;
	word32 edx_30;
	byte SZO_31;
	bool C_32;
	word32 ebx_33;
	word32 esi_34;
	word32 ecx_35;
	word32 ebp_36;
	fn00001810();
	word32 esp_49;
	word32 eax_50;
	byte SCZO_51;
	word32 edx_52;
	byte SZO_53;
	bool C_54;
	word32 ebx_55;
	word32 esi_56;
	word32 ecx_57;
	word32 ebp_58;
	fn00001804();
	globals->ptr402008 = null;
	globals->dw40200C = globals->dw402000;
	fn004016A5();
	*(fp - 0x1C) = globals->dw402000;
	*(fp - 0x20) = (struct Eq_45 **) globals->ptr402008;
	fn004011A2(dwArg00, dwArg04);
}

// 004011A2: void fn004011A2(Stack word32 dwArg04, Stack word32 dwArg08)
void fn004011A2(word32 dwArg04, word32 dwArg08)
{
	word32 ecx_21 = dwArg04 + 60100;
	word32 edx_24 = dwArg08;
	do
	{
		struct Eq_81 * ebx_27 = ecx_21 + 0x00;
		ebx_27->bFFFF153C = ebx_27->bFFFF153C + 228;
		ecx_21 = ecx_21 + 0x01;
		edx_24 = edx_24 - 0x01;
	} while (edx_24 != 0x00);
	globals->ptr402008 = globals->ptr402008 + 0x03;
	fn00401643();
	byte * esi_42 = (word32) fp - 0x0014;
	struct Eq_45 * ecx_49 = globals->ptr402008;
	word32 edx_51 = dwArg08;
	ui32 edi_54 = (word32) fp - 0x0014 & ~0x00;
	do
	{
		ecx_49->b0000 = ecx_49->b0000 ^ *esi_42;
		esi_42 = esi_42 - (byte *) ~0x00;
		if (*esi_42 == 0x00)
			esi_42 = edi_54 & ~0x00;
		ecx_49 = ecx_49 + 0x01;
		edx_51 = edx_51 + ~0x00;
	} while (edx_51 != 0x00);
	globals->ptr402100 = globals->ptr402008;
}

// 004012D9: void fn004012D9()
void fn004012D9()
{
	int32 esi_12 = globals->dw402120;
	struct Eq_151 * esp_28 = fp - 0x08;
	struct Eq_155 * ebx_25 = ((esi_12 & ~0x00)->ptr003C + esi_12)->dw0080 + esi_12;
	do
	{
		word32 eax_32 = ebx_25->dw000C + globals->dw402120;
		*(esp_28 - 0x04) = eax_32;
		word32 ecx_39;
		word32 ebp_40;
		byte SCZO_41;
		byte SZO_42;
		bool C_43;
		word32 edx_44;
		word32 esi_45;
		word32 eax_46;
		word32 * ebx_47;
		word32 edi_48;
		bool Z_49;
		fn0000181E();
		word32 * esi_55 = *ebx_47 + globals->dw402120;
		do
		{
			esp_28->dwFFFFFFFC = *esi_55 + globals->dw402120 + 0x02;
			*(esp_28 - 0x08) = eax_46;
			word32 ecx_79;
			word32 ebp_80;
			byte SCZO_81;
			byte SZO_82;
			bool C_83;
			word32 edx_84;
			struct Eq_190 * esi_85;
			word32 eax_86;
			struct Eq_192 * ebx_87;
			word32 * edi_88;
			bool Z_89;
			fn000017F2();
			*edi_88 = eax_86;
			esi_55 = (word32 *) &esi_85->dw0004;
		} while (esi_85->dw0004 != 0x00);
		ebx_25 = (struct Eq_155 *) ((char *) ebx_87 + 0x0014);
	} while (ebx_87->dw0020 != 0x00);
}

// 0040141A: void fn0040141A()
void fn0040141A()
{
	fs->ptr0018->ptr0030->dw0008 = globals->dw402120;
}

// 0040144C: void fn0040144C()
void fn0040144C()
{
	fn004012D9();
	fn0040141A();
}

// 00401469: Register word32 fn00401469()
word32 fn00401469()
{
	struct Eq_45 * ebx_23 = globals->ptr402100;
	word32 ebx_25 = ebx_23 + Mem0[ebx_23 + 0x3C:word32];
	globals->dw402120 = ebx_25->dw0034;
	word32 esp_52;
	word32 ecx_53;
	word32 ebp_54;
	byte SCZO_55;
	byte SZO_56;
	bool C_57;
	ui32 eax_58;
	struct Eq_281 * ebx_59;
	word32 esi_60;
	word32 edi_61;
	word32 edx_62;
	byte al_63;
	bool Z_64;
	fn0000182E();
	fn004016A5();
	struct Eq_291 * edi_115 = &ebx_59->dw0028 + 0x0034;
	do
	{
		word32 eax_93 = globals->ptr402100 + edi_115->dw0014;
		ui32 ecx_98 = (eax_58 & ~0x00) + edi_115->dw000C;
		*(fp - 0x3C) = edi_115->dw0010;
		*(fp - 0x40) = eax_93;
		*(fp - 0x44) = ecx_98;
		ptr32 ebp_112 = fn004016A5();
		word32 v19_116 = *(ebp_112 - 0x04) - 0x01;
		*(ebp_112 - 0x04) = v19_116;
		edi_115 = edi_115 + 0x01;
	} while (v19_116 != 0x00);
	return ebx_59->dw0028 + eax_58;
}

// 00401643: void fn00401643()
void fn00401643()
{
	word32 esp_11;
	word32 ecx_12;
	word32 ebp_13;
	byte SCZO_14;
	byte SZO_15;
	bool C_16;
	fn000017B8();
	word32 esp_23;
	word32 ecx_24;
	word32 ebp_25;
	byte SCZO_26;
	byte SZO_27;
	bool C_28;
	fn000017E2();
}

// 004016A5: Register word32 fn004016A5()
word32 fn004016A5()
{
	struct Eq_368 * ebp_8 = fp - 0x04 & ~0x00;
	byte * eax_23 = ebp_8->ptr000C;
	byte * edx_25 = ebp_8->ptr0008;
	word32 ecx_27 = ebp_8->dw0010;
	if (ecx_27 != 0x00)
	{
		do
		{
			*edx_25 = *eax_23;
			eax_23 = eax_23 - ~0x00;
			edx_25 = edx_25 - ~0x00;
			ecx_27 = ecx_27 - 0x01;
		} while (ecx_27 != 0x00);
	}
	return ebp_8->dw0000;
}

