// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0040A822: Register ui32 fn0040A822(Stack (ptr32 byte) dwArg04)
ui32 fn0040A822(byte * dwArg04)
{
	byte * edi_32 = dwArg04;
	word32 ebx_33 = 0x00;
	byte bl_34 = 0x00;
	uint8 cl_38 = 0x00;
	do
	{
		cl_38 = cl_38 ^ *edi_32;
		ui32 ebx_54 = DPB(ebx_33, bl_34 ^ *edi_32, 0);
		while (cl_38 >= 0x20)
			cl_38 = cl_38 - 0x20;
		ebx_33 = __rol(ebx_54, cl_38);
		edi_32 = edi_32 + 0x01;
		bl_34 = (byte) ebx_33;
	} while (*edi_32 != 0x00);
	return ebx_33 ^ 0x6000;
}

// 0040A85C: void fn0040A85C(Stack (ptr32 Eq_40) dwArg04, Stack uint32 dwArg08)
void fn0040A85C(Eq_40 * dwArg04, uint32 dwArg08)
{
	union Eq_40 * edi_31 = dwArg04;
	uint32 ecx_34 = dwArg08 >> 0x02;
	while (ecx_34 != 0x00)
	{
		*edi_31 = 0x00;
		edi_31 = (union Eq_40 *) ((char *) edi_31 + 0x04);
		ecx_34 = ecx_34 - 0x01;
	}
	ui32 ecx_47 = dwArg08 & 0x03;
	while (ecx_47 != 0x00)
	{
		*edi_31 = (union Eq_40 *) 0x00;
		edi_31 = (union Eq_40 *) ((char *) edi_31 + 0x01);
		ecx_47 = ecx_47 - 0x01;
	}
}

// 0040A87C: void fn0040A87C(Stack Eq_69 dwArg04)
void fn0040A87C(Eq_69 dwArg04)
{
	if (globals->dw40E018 == 0x00)
	{
		*dwArg04 = 0x00;
		Eq_78 v13_78 = *(dwArg04 - 0x04);
		if (v13_78 != null)
		{
			ptr32 v17_114 = fs->ptr0000;
			fs->ptr0000 = fp + ~0x2F;
			globals->dw40E004 = 0x0040A8DB;
			globals->ptr40E00C = fp - 0x04;
			globals->ptr40E008 = fp + ~0x2F;
			WaitForSingleObject(v13_78, ~0x00);
			CloseHandle(v13_78);
			fs->ptr0000 = v17_114;
		}
	}
}

// 0040A8EA: void fn0040A8EA(Stack (ptr32 (ptr32 Eq_144)) dwArg04)
void fn0040A8EA(Eq_144 * * dwArg04)
{
	union Eq_40 * esi_15;
	__lock();
	globals->dw40E010 = __xadd(globals->dw40E010, 0x01);
	if (globals->dw40E018 == 0x00)
		esi_15 = fp - 0x0108;
	else
		esi_15 = &globals->t40E028;
	fn0040A85C(esi_15, 200);
	struct Eq_144 * edi_23 = *dwArg04;
	word32 dwLoc08_29 = (word32) edi_23->b0001;
	byte ah_31 = edi_23->b0000;
	byte * edi_33 = &edi_23->b0001 + 0x01;
	do
	{
		*esi_15 = (union Eq_40 *) (*edi_33 ^ ah_31);
		word32 v15_49 = dwLoc08_29 - 0x01;
		ah_31 = __rol(ah_31, 0x02);
		esi_15 = (union Eq_40 *) ((char *) esi_15 + 0x01);
		edi_33 = edi_33 + 0x01;
		dwLoc08_29 = v15_49;
	} while (v15_49 != 0x00);
	if (globals->dw40E018 == 0x00)
	{
		*dwArg04 = (struct Eq_144 **) (fp - 0x0108);
		do
			Sleep(0x0A);
		while (bLoc0108 != 0x00 && globals->dw40E014 <= 0x00);
	}
	__lock();
	globals->dw40E010 = __xadd(globals->dw40E010, ~0x00);
}

// 0040A998: void fn0040A998(Stack (ptr32 (ptr32 Eq_234)) dwArg04)
void fn0040A998(Eq_234 * * dwArg04)
{
	union Eq_40 * esi_104;
	__lock();
	globals->dw40E010 = __xadd(globals->dw40E010, 0x01);
	if (globals->dw40E018 == 0x00)
		esi_104 = fp - 0x0108;
	else
		esi_104 = &globals->t40E435;
	fn0040A85C(esi_104, 200);
	struct Eq_234 * edi_26 = *dwArg04;
	word32 dwLoc08_35 = (word32) edi_26->b0001;
	byte ah_37 = edi_26->b0000;
	byte * edi_39 = &edi_26->b0001 + 0x01;
	do
	{
		*esi_104 = (union Eq_40 *) (*edi_39 ^ ah_37);
		word32 v15_55 = dwLoc08_35 - 0x01;
		ah_37 = __rol(ah_37, 0x02);
		esi_104 = (union Eq_40 *) ((char *) esi_104 + 0x01);
		edi_39 = edi_39 + 0x01;
		dwLoc08_35 = v15_55;
	} while (v15_55 != 0x00);
	if (globals->dw40E018 == 0x00)
	{
		*dwArg04 = (struct Eq_234 **) (fp - 0x0108);
		do
			Sleep(0x0A);
		while (bLoc0108 != 0x00 && globals->dw40E014 <= 0x00);
	}
	__lock();
	globals->dw40E010 = __xadd(globals->dw40E010, ~0x00);
}

// 0040AA43: Register Eq_69 fn0040AA43(Stack Eq_69 dwArg04, Stack Eq_69 dwArg08)
Eq_69 fn0040AA43(Eq_69 dwArg04, Eq_69 dwArg08)
{
	globals->dw40E014 = 0x00;
	Eq_69 dwLoc08_127 = dwArg04;
	Eq_78 dwLoc0C_106 = null;
	if (globals->dw40E018 == 0x00)
	{
		dwLoc0C_106 = CreateThread(null, 0x00, &globals->t40A8EA, fp - 0x08, 0x00, fp - 0x0C);
		do
			Sleep(0x00);
		while (dwArg04 == dwArg04);
	}
	else if (dwArg08 == 0x00)
	{
		fn0040A8EA(fp - 0x08);
		dwLoc08_127.u0 = 0x0040E028;
	}
	else
	{
		fn0040A998(fp - 0x08);
		dwLoc08_127.u0 = 4252725;
	}
	*(dwLoc08_127 - 0x04) = (HANDLE *) dwLoc0C_106;
	return dwLoc08_127;
}

// 0040AAD9: Register (ptr32 code) fn0040AAD9(Stack Eq_69 dwArg04, Stack Eq_69 dwArg08)
code * fn0040AAD9(Eq_69 dwArg04, Eq_69 dwArg08)
{
	Eq_69 eax_20 = fn0040AA43((word32) dwArg04 + 0x01, 0x01);
	<anonymous> * eax_35 = fn0040AB12(LoadLibraryA(eax_20), dwArg08);
	fn0040A87C(eax_20);
	return eax_35;
}

// 0040AB12: Register (ptr32 byte) fn0040AB12(Stack Eq_69 dwArg04, Stack Eq_69 dwArg08)
byte * fn0040AB12(Eq_69 dwArg04, Eq_69 dwArg08)
{
	byte * dwLoc18_172 = null;
	int32 eax_41 = *((word32) dwArg04 + 0x003C);
	if (*((word32) dwArg04 + eax_41) == 0x4550)
	{
		word32 ecx_84 = *((word32) dwArg04 + (eax_41 + 0x78));
		if (ecx_84 != 0x00)
		{
			struct Eq_390 * ecx_89 = (word32) dwArg04 + ecx_84;
			ui32 edx_90 = ecx_89->dw0018;
			word32 eax_102[] = (word32) dwArg04 + ecx_89->dw001C;
			Eq_5530 edi_107[] = (word32) dwArg04 + ecx_89->dw0024;
			word32 * esi_113 = (word32) dwArg04 + ecx_89->dw0020;
			ui32 dwLoc08_115 = edx_90;
			do
			{
				if (fn0040A822((word32) dwArg04 + *esi_113) == dwArg08)
				{
					byte * edx_159 = (word32) dwArg04 + eax_102[(edi_107)[edx_90 - dwLoc08_115].dw0000 & 0xFFFF];
					word32 eax_162 = (word32) *edx_159;
					if ((eax_162 ^ 0x6000) == 0x60CC)
						edx_159 = edx_159 ^ (eax_162 ^ 0x6000);
					dwLoc18_172 = edx_159;
					return dwLoc18_172;
				}
				ui32 v18_132 = dwLoc08_115 - 0x01;
				esi_113 = esi_113 + 0x01;
				dwLoc08_115 = v18_132;
			} while (v18_132 != 0x00);
		}
	}
	return dwLoc18_172;
}

// 0040ABB4: void fn0040ABB4(Stack Eq_69 dwArg04, Stack Eq_69 dwArg08, Stack word32 dwArg0C)
void fn0040ABB4(Eq_69 dwArg04, Eq_69 dwArg08, word32 dwArg0C)
{
	Eq_69 esi_34 = dwArg04;
	Eq_69 edi_40 = dwArg08;
	word32 ecx_43 = dwArg0C;
	while (ecx_43 != 0x00)
	{
		*edi_40 = *esi_34;
		esi_34 = (word32) esi_34 + 0x01;
		edi_40 = (word32) edi_40 + 0x01;
		ecx_43 = ecx_43 - 0x01;
	}
}

// 0040ABCB: Register (ptr32 word32) fn0040ABCB(Register ptr32 ebp, Stack Eq_69 dwArg04)
word32 * fn0040ABCB(ptr32 ebp, Eq_69 dwArg04)
{
	ptr32 esp_19 = fp + ~0x0F;
	do
	{
		word32 * esp_20 = esp_19 - 0x04;
		*esp_20 = 0x0040A7F5;
		*(esp_20 - 0x04) = fs->ptr0000;
		fs->ptr0000 = esp_20 - 0x04;
		globals->dw40E004 = 0x0040AC55;
		globals->ptr40E00C = fp - 0x04;
		globals->ptr40E008 = esp_20 - 0x04;
		word32 eax_31 = *dwArg04;
		*(esp_20 - 0x08) = eax_31 + 0x0404;
		*(esp_20 - 0x0C) = 0x40;
		*(esp_20 - 0x10) = (union Eq_69 *) globals->t40AC1D;
		*(esp_20 - 0x14) = 0x0040AC10;
		<anonymous> * eax_45 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_47;
		uint32 ebp_48;
		byte SCZO_49;
		word32 edi_51;
		word32 * eax_52;
		word32 ecx_53;
		bool Z_54;
		eax_45();
		*eax_52 = eax_31;
		*(esp_47 - 0x04) = eax_52 + 0x01;
		*(esp_47 - 0x08) = (word32) dwArg04 + 0x04;
		fn0040C2F0(ebp_48, dwArg00, dwArg04);
		fs->ptr0000 = *(esp_47 - 0x08);
		esp_19 = esp_47;
	} while (false);
	return eax_52;
}

// 0040AC71: void fn0040AC71(Stack Eq_69 dwArg04, Stack Eq_69 dwArg08, Stack Eq_69 dwArg0C, Stack Eq_69 dwArg10)
void fn0040AC71(Eq_69 dwArg04, Eq_69 dwArg08, Eq_69 dwArg0C, Eq_69 dwArg10)
{
	Eq_69 dwLoc0C_18 = dwArg0C;
	word32 eax_20 = dwArg0C + dwArg10;
	byte bLoc0D_26 = *dwArg0C;
	Eq_69 ecx_28 = dwArg08;
	Eq_69 esi_30 = dwArg04;
	Eq_69 edi_31 = dwArg04;
	do
	{
		Eq_69 v13_50 = (word32) dwLoc0C_18 + 0x01;
		Eq_69 esi_43 = (word32) esi_30 + 0x01;
		ui8 al_44 = *esi_30 ^ bLoc0D_26;
		dwLoc0C_18 = v13_50;
		byte al_53 = *v13_50;
		if (v13_50 == eax_20)
		{
			dwLoc0C_18 = dwArg0C;
			al_53 = (byte) *dwArg0C;
		}
		*edi_31 = al_44;
		bLoc0D_26 = al_53;
		esi_30 = esi_43;
		edi_31 = (word32) edi_31 + 0x01;
		ecx_28 = ecx_28 - 0x01;
	} while (ecx_28 != 0x00);
}

// 0040AD35: void fn0040AD35(Stack Eq_69 dwArg04, Stack Eq_69 dwArg08, Stack Eq_69 dwArg0C, Stack Eq_69 dwArg10)
void fn0040AD35(Eq_69 dwArg04, Eq_69 dwArg08, Eq_69 dwArg0C, Eq_69 dwArg10)
{
	Eq_69 dwLoc0C_18 = dwArg0C;
	word32 eax_20 = dwArg0C + dwArg10;
	byte bLoc0D_26 = *dwArg0C;
	Eq_69 ecx_28 = dwArg08;
	Eq_69 esi_31 = dwArg04;
	Eq_69 edi_32 = dwArg04;
	do
	{
		Eq_69 v15_58 = (word32) dwLoc0C_18 + 0x01;
		byte al_49 = __rol(*esi_31, bLoc0D_26);
		Eq_69 esi_44 = (word32) esi_31 + 0x01;
		dwLoc0C_18 = v15_58;
		byte al_61 = *v15_58;
		if (v15_58 == eax_20)
		{
			dwLoc0C_18 = dwArg0C;
			al_61 = (byte) *dwArg0C;
		}
		*edi_32 = al_49;
		bLoc0D_26 = al_61;
		esi_31 = esi_44;
		edi_32 = (word32) edi_32 + 0x01;
		ecx_28 = ecx_98 - 0x01;
		Eq_69 ecx_98 = ecx_28;
	} while (ecx_98 != 0x01);
}

// 0040AD9C: void fn0040AD9C(Register ptr32 ebp)
void fn0040AD9C(ptr32 ebp)
{
	if (globals->dw40E844 == 0x00)
	{
		globals->dw40E848 = 0x01;
		<anonymous> * eax_49 = fn0040AAD9(0x0040AC10, globals->t40AC1D);
		ptr32 esp_51;
		word32 ebp_52;
		byte SCZO_53;
		bool Z_54;
		word32 eax_55;
		word32 ecx_56;
		byte CZ_57;
		word32 ebx_58;
		byte cl_59;
		byte SZO_60;
		bool C_61;
		eax_49();
		globals->dw40E850 = eax_55;
		*(esp_51 - 0x04) = 0x00;
		*(esp_51 - 0x08) = 0x0040ADD9;
		Eq_69 eax_70 = fn0040AA43(dwArg00, dwArg04);
		*(esp_51 - 0x04) = (union Eq_69 *) eax_70;
		*(esp_51 - 0x08) = globals->dw40E850;
		*(esp_51 - 0x0C) = globals->dw40ADFD;
		*(esp_51 - 0x10) = 0x0040AC10;
		<anonymous> * eax_82 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_84;
		word32 ebp_85;
		byte SCZO_86;
		bool Z_87;
		word32 eax_88;
		word32 ecx_89;
		byte CZ_90;
		word32 ebx_91;
		byte cl_92;
		byte SZO_93;
		bool C_94;
		eax_82();
		globals->dw40E014 = 0x01;
		*(esp_84 - 0x04) = 0x0400;
		*(esp_84 - 0x08) = 0x40;
		*(esp_84 - 0x0C) = (union Eq_69 *) globals->t40AC1D;
		*(esp_84 - 0x10) = 0x0040AC10;
		<anonymous> * eax_105 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_107;
		word32 ebp_108;
		byte SCZO_109;
		bool Z_110;
		word32 ecx_112;
		byte CZ_113;
		word32 ebx_114;
		byte cl_115;
		byte SZO_116;
		bool C_117;
		byte * eax_111;
		eax_105();
		globals->ptr40E840 = eax_111;
		up32 ecx_119 = 0x03FF;
		byte cl_120 = ~0x00;
		while (ecx_119 > 0x00)
		{
			*eax_111 = cl_120;
			ecx_119 = ecx_119 - 0x01;
			eax_111 = eax_111 + 0x01;
			cl_120 = (byte) ecx_119;
		}
		*(esp_107 - 0x04) = 0x00019000;
		*(esp_107 - 0x08) = 0x40;
		*(esp_107 - 0x0C) = (union Eq_69 *) globals->t40AC1D;
		*(esp_107 - 0x10) = 0x0040AC10;
		<anonymous> * eax_136 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_138;
		word32 ebp_139;
		byte SCZO_140;
		bool Z_141;
		word32 eax_142;
		word32 ecx_143;
		byte CZ_144;
		word32 ebx_145;
		byte cl_146;
		byte SZO_147;
		bool C_148;
		eax_136();
		globals->dw40E838 = eax_142;
		*(esp_138 - 0x04) = 0x00;
		*(esp_138 - 0x08) = 0x0040AE75;
		Eq_69 eax_156 = fn0040AA43(dwArg00, dwArg04);
		*(esp_138 - 0x04) = fp - 0x08;
		*(esp_138 - 0x08) = 0x00020019;
		*(esp_138 - 0x0C) = 0x00;
		*(esp_138 - 0x10) = (union Eq_69 *) eax_156;
		*(esp_138 - 0x14) = 0x80000002;
		*(esp_138 - 0x18) = globals->dw40AEC3;
		*(esp_138 - 0x1C) = 4239030;
		<anonymous> * eax_173 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_175;
		word32 ebp_176;
		byte SCZO_177;
		bool Z_178;
		word32 eax_179;
		word32 ecx_180;
		byte CZ_181;
		word32 ebx_182;
		byte cl_183;
		byte SZO_184;
		bool C_185;
		eax_173();
		globals->dw40E014 = 0x01;
		if (eax_179 == 0x00)
		{
			*(esp_175 - 0x04) = 0x00;
			*(esp_175 - 0x08) = 0x0040AF05;
			Eq_69 eax_198 = fn0040AA43(dwArg00, dwArg04);
			*(esp_175 - 0x04) = fp - 0x0C;
			*(esp_175 - 0x08) = globals->dw40E838;
			*(esp_175 - 0x0C) = 0x00;
			*(esp_175 - 0x10) = 0x00;
			*(esp_175 - 0x14) = (union Eq_69 *) eax_198;
			*(esp_175 - 0x18) = dwLoc08;
			*(esp_175 - 0x1C) = globals->dw40AF27;
			*(esp_175 - 0x20) = 4239030;
			<anonymous> * eax_220 = fn0040AAD9(dwArg00, dwArg04);
			ptr32 esp_222;
			word32 ebp_223;
			byte SCZO_224;
			bool Z_225;
			word32 eax_226;
			word32 ecx_227;
			byte CZ_228;
			word32 ebx_229;
			byte cl_230;
			byte SZO_231;
			bool C_232;
			eax_220();
			globals->dw40E014 = 0x01;
			*(esp_222 - 0x04) = dwLoc08;
			*(esp_222 - 0x08) = globals->dw40AF58;
			*(esp_222 - 0x0C) = 4239030;
			<anonymous> * eax_242 = fn0040AAD9(dwArg00, dwArg04);
			word32 esp_244;
			word32 ebp_245;
			byte SCZO_246;
			bool Z_247;
			word32 eax_248;
			word32 ecx_249;
			byte CZ_250;
			word32 ebx_251;
			byte cl_252;
			byte SZO_253;
			bool C_254;
			eax_242();
			globals->ptr40E83C = globals->dw40E838 + 0x08;
			globals->dw40E844 = 0x01;
		}
	}
}

// 0040AF8A: void fn0040AF8A(Register ptr32 ebp, Stack Eq_69 dwArg04, Stack Eq_69 dwArg08, Stack Eq_69 dwArg0C)
void fn0040AF8A(ptr32 ebp, Eq_69 dwArg04, Eq_69 dwArg08, Eq_69 dwArg0C)
{
	fn0040AD9C(fp - 0x04);
	<anonymous> * eax_43 = fn0040AAD9(0x0040AC10, globals->t40AC1D);
	ptr32 esp_45;
	word32 ebp_46;
	byte SCZO_47;
	word32 eax_48;
	word32 ecx_49;
	word32 edx_50;
	word32 ebx_51;
	word32 esi_52;
	word32 edi_53;
	byte SZO_54;
	bool C_55;
	bool Z_56;
	byte CZ_57;
	eax_43();
	if (eax_48 != 0x00)
	{
		byte * dwLoc10_123;
		*(esp_45 - 0x04) = (union Eq_69 *) dwArg08;
		*(esp_45 - 0x08) = (union Eq_69 *) dwArg04;
		*(esp_45 - 0x0C) = eax_48;
		*(esp_45 - 0x10) = globals->dw40AFC4;
		*(esp_45 - 0x14) = 0x0040AFBA;
		<anonymous> * eax_106 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_108;
		word32 ebp_109;
		byte SCZO_110;
		word32 eax_111;
		word32 ecx_112;
		word32 edx_113;
		word32 ebx_114;
		word32 esi_115;
		word32 edi_116;
		byte SZO_117;
		bool C_118;
		bool Z_119;
		byte CZ_120;
		eax_106();
		if (globals->dw40E848 > 0x00)
			dwLoc10_123 = globals->ptr40E83C;
		else
			dwLoc10_123 = globals->ptr40E840;
		*(esp_108 - 0x04) = 0x17;
		*(esp_108 - 0x08) = (byte **) dwLoc10_123;
		*(esp_108 - 0x0C) = (union Eq_69 *) dwArg08;
		*(esp_108 - 0x10) = eax_48;
		fn0040AC71(dwArg00, dwArg04, dwArg08, dwArg0C);
		*(esp_108 - 0x04) = 0x0C;
		*(esp_108 - 0x08) = (byte **) dwLoc10_123;
		*(esp_108 - 0x0C) = (union Eq_69 *) dwArg08;
		*(esp_108 - 0x10) = eax_48;
		fn0040AD35(dwArg00, dwArg04, dwArg08, dwArg0C);
		*(esp_108 - 0x04) = fp - 0x0C;
		*(esp_108 - 0x08) = globals->dw40E850;
		*(esp_108 - 0x0C) = 0x80000002;
		*(esp_108 - 0x10) = globals->dw40B023;
		*(esp_108 - 0x14) = 4239030;
		<anonymous> * eax_163 = fn0040AAD9(dwArg00, dwArg04);
		word32 ebp_166;
		byte SCZO_167;
		word32 eax_168;
		word32 ecx_169;
		word32 edx_170;
		word32 ebx_171;
		word32 esi_172;
		word32 edi_173;
		byte SZO_174;
		bool C_175;
		bool Z_176;
		byte CZ_177;
		ptr32 esp_165;
		eax_163();
		if (eax_168 == 0x00)
		{
			*(esp_165 - 0x04) = (union Eq_69 *) dwArg08;
			*(esp_165 - 0x08) = eax_48;
			*(esp_165 - 0x0C) = 0x03;
			*(esp_165 - 0x10) = 0x00;
			*(esp_165 - 0x14) = (union Eq_69 *) dwArg0C;
			*(esp_165 - 0x18) = dwLoc0C;
			*(esp_165 - 0x1C) = globals->dw40B04B;
			*(esp_165 - 0x20) = 4239030;
			<anonymous> * eax_240 = fn0040AAD9(dwArg00, dwArg04);
			ptr32 esp_242;
			word32 ebp_243;
			byte SCZO_244;
			word32 eax_245;
			word32 ecx_246;
			word32 edx_247;
			word32 ebx_248;
			word32 esi_249;
			word32 edi_250;
			byte SZO_251;
			bool C_252;
			bool Z_253;
			byte CZ_254;
			eax_240();
			*(esp_242 - 0x04) = dwLoc0C;
			*(esp_242 - 0x08) = globals->dw40AF58;
			*(esp_242 - 0x0C) = 4239030;
			<anonymous> * eax_263 = fn0040AAD9(dwArg00, dwArg04);
			word32 ebp_266;
			byte SCZO_267;
			word32 eax_268;
			word32 ecx_269;
			word32 edx_270;
			word32 ebx_271;
			word32 esi_272;
			word32 edi_273;
			byte SZO_274;
			bool C_275;
			bool Z_276;
			byte CZ_277;
			eax_263();
		}
		word32 * esp_196 = esp_165 - 0x04;
		*esp_196 = eax_48;
		*(esp_196 - 0x04) = globals->dw40B088;
		*(esp_196 - 0x08) = 0x0040AC10;
		<anonymous> * eax_203 = fn0040AAD9(dwArg00, dwArg04);
		word32 esp_205;
		word32 ebp_206;
		byte SCZO_207;
		word32 eax_208;
		word32 ecx_209;
		word32 edx_210;
		word32 ebx_211;
		word32 esi_212;
		word32 edi_213;
		byte SZO_214;
		bool C_215;
		bool Z_216;
		byte CZ_217;
		eax_203();
	}
}

// 0040B1BC: void fn0040B1BC(Register word32 ebp, Stack Eq_69 dwArg04, Stack Eq_69 dwArg08, Stack word32 dwArg0C)
void fn0040B1BC(word32 ebp, Eq_69 dwArg04, Eq_69 dwArg08, word32 dwArg0C)
{
	<anonymous> * eax_20 = fn0040AAD9(4239030, globals->t40B1C1);
	ptr32 esp_22;
	word32 ebp_23;
	word32 eax_24;
	eax_20();
	*(esp_22 - 0x04) = 0x0040E870;
	*(esp_22 - 0x08) = (union Eq_69 *) dwArg08;
	*(esp_22 - 0x0C) = 0x00;
	*(esp_22 - 0x10) = globals->dw40B1E3;
	*(esp_22 - 0x14) = 4239030;
	<anonymous> * eax_39 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_41;
	word32 ebp_42;
	word32 eax_43;
	eax_39();
	*(esp_41 - 0x04) = 0x01;
	globals->dw40E86C = *(esp_41 - 0x04);
	globals->dw40E878 = dwArg0C;
	*(esp_41 - 0x04) = 0x00;
	*(esp_41 - 0x08) = 0x00;
	*(esp_41 - 0x0C) = 0x00;
	*(esp_41 - 0x10) = 0x0040E86C;
	*(esp_41 - 0x14) = 0x00;
	*(esp_41 - 0x18) = globals->dw40E868;
	*(esp_41 - 0x1C) = globals->dw40B215;
	*(esp_41 - 0x20) = 4239030;
	<anonymous> * eax_69 = fn0040AAD9(dwArg00, dwArg04);
	word32 esp_71;
	word32 ebp_72;
	word32 eax_73;
	eax_69();
}

// 0040B242: void fn0040B242(Register word32 ebp, Stack Eq_69 dwArg04)
void fn0040B242(word32 ebp, Eq_69 dwArg04)
{
	<anonymous> * eax_18 = fn0040AAD9(0x0040AC10, globals->t40AC1D);
	ptr32 esp_20;
	word32 ebp_21;
	byte SCZO_22;
	word32 * eax_23;
	word32 edi_24;
	eax_18();
	*eax_23 = 0x5C3F3F5C;
	*(esp_20 - 0x04) = (union Eq_69 *) dwArg04;
	*(esp_20 - 0x08) = eax_23;
	*(esp_20 - 0x0C) = globals->dw40B26F;
	*(esp_20 - 0x10) = 0x0040AC10;
	<anonymous> * eax_41 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_43;
	word32 ebp_44;
	byte SCZO_45;
	word32 eax_46;
	word32 edi_47;
	eax_41();
	*(esp_43 - 0x04) = 0x2800;
	*(esp_43 - 0x08) = 0x40;
	*(esp_43 - 0x0C) = (union Eq_69 *) globals->t40AC1D;
	*(esp_43 - 0x10) = 0x0040AC10;
	<anonymous> * eax_57 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_59;
	word32 ebp_60;
	byte SCZO_61;
	word32 eax_62;
	word32 edi_63;
	eax_57();
	*(esp_59 - 0x04) = 0x1400;
	*(esp_59 - 0x08) = eax_62;
	*(esp_59 - 0x0C) = ~0x00;
	*(esp_59 - 0x10) = eax_23;
	*(esp_59 - 0x14) = 0x00;
	*(esp_59 - 0x18) = 0x01;
	*(esp_59 - 0x1C) = globals->dw40B2A9;
	*(esp_59 - 0x20) = 0x0040AC10;
	<anonymous> * eax_84 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_86;
	word32 ebp_87;
	byte SCZO_88;
	word32 eax_89;
	word32 edi_90;
	eax_84();
	*(esp_86 - 0x04) = eax_62;
	*(esp_86 - 0x08) = 0x0040E87C;
	*(esp_86 - 0x0C) = globals->dw40B2D8;
	*(esp_86 - 0x10) = 0x0040AFBA;
	<anonymous> * eax_102 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_104;
	word32 ebp_105;
	byte SCZO_106;
	word32 eax_107;
	word32 edi_108;
	eax_102();
	*(esp_104 - 0x04) = 0x08;
	*(esp_104 - 0x08) = 0x0040E87C;
	*(esp_104 - 0x0C) = 0x26;
	*(esp_104 - 0x10) = globals->dw40B2F4;
	*(esp_104 - 0x14) = 0x0040AFBA;
	<anonymous> * eax_120 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_122;
	word32 ebp_123;
	byte SCZO_124;
	word32 eax_125;
	word32 edi_126;
	eax_120();
	*(esp_122 - 0x04) = eax_62;
	*(esp_122 - 0x08) = globals->dw40B088;
	*(esp_122 - 0x0C) = 0x0040AC10;
	<anonymous> * eax_135 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_137;
	word32 ebp_138;
	byte SCZO_139;
	word32 eax_140;
	word32 edi_141;
	eax_135();
	*(esp_137 - 0x04) = eax_23;
	*(esp_137 - 0x08) = globals->dw40B088;
	*(esp_137 - 0x0C) = 0x0040AC10;
	<anonymous> * eax_150 = fn0040AAD9(dwArg00, dwArg04);
	word32 esp_152;
	word32 ebp_153;
	byte SCZO_154;
	word32 eax_155;
	word32 edi_156;
	eax_150();
}

// 0040B341: void fn0040B341(Register ptr32 ebp)
void fn0040B341(ptr32 ebp)
{
	fn0040C066(0x00401000, fn0040AA43(4240201, 0x00), 11120);
	<anonymous> * eax_32 = fn0040AAD9(0x0040AC10, globals->t40AC1D);
	ptr32 esp_34;
	word32 ebp_35;
	byte SCZO_36;
	word32 eax_37;
	word32 edi_38;
	bool Z_39;
	eax_32();
	*(esp_34 - 0x04) = eax_37;
	*(esp_34 - 0x08) = 0x03FF;
	*(esp_34 - 0x0C) = globals->dw40B394;
	*(esp_34 - 0x10) = 0x0040AC10;
	<anonymous> * eax_53 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_55;
	word32 ebp_56;
	byte SCZO_57;
	word32 eax_58;
	word32 edi_59;
	bool Z_60;
	eax_53();
	*(esp_55 - 0x04) = eax_37;
	*(esp_55 - 0x08) = 0x00;
	*(esp_55 - 0x0C) = 0x00;
	*(esp_55 - 0x10) = eax_37;
	*(esp_55 - 0x14) = globals->dw40B3B4;
	*(esp_55 - 0x18) = 0x0040AC10;
	<anonymous> * eax_76 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_78;
	word32 ebp_79;
	byte SCZO_80;
	word32 eax_81;
	word32 edi_82;
	bool Z_83;
	eax_76();
	*(esp_78 - 0x04) = eax_37;
	*(esp_78 - 0x08) = globals->dw40B3D6;
	*(esp_78 - 0x0C) = 0x0040AC10;
	<anonymous> * eax_92 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_94;
	word32 ebp_95;
	byte SCZO_96;
	word32 eax_97;
	word32 edi_98;
	bool Z_99;
	eax_92();
	*(esp_94 - 0x04) = eax_37;
	*(esp_94 - 0x08) = globals->dw40B3F1;
	*(esp_94 - 0x0C) = 0x0040AC10;
	<anonymous> * eax_108 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_110;
	word32 ebp_111;
	byte SCZO_112;
	word32 eax_113;
	word32 edi_114;
	bool Z_115;
	eax_108();
	word32 edi_117 = eax_37 + eax_113;
	*(esp_110 - 0x04) = 0x00;
	*(esp_110 - 0x08) = 4240404;
	Eq_69 eax_125 = fn0040AA43(dwArg00, dwArg04);
	*(esp_110 - 0x04) = 0x05;
	*(esp_110 - 0x08) = edi_117 - 0x04;
	*(esp_110 - 0x0C) = (union Eq_69 *) eax_125;
	fn0040ABB4(dwArg00, dwArg04, dwArg08);
	*(esp_110 - 0x04) = 0x00;
	*(esp_110 - 0x08) = 0x80;
	*(esp_110 - 0x0C) = 0x02;
	*(esp_110 - 0x10) = 0x00;
	*(esp_110 - 0x14) = 0x00;
	*(esp_110 - 0x18) = 0xC0000000;
	*(esp_110 - 0x1C) = eax_37;
	*(esp_110 - 0x20) = globals->dw40B433;
	*(esp_110 - 0x24) = 0x0040AC10;
	<anonymous> * eax_155 = fn0040AAD9(dwArg00, dwArg04);
	word32 ebp_158;
	byte SCZO_159;
	word32 eax_160;
	word32 edi_161;
	bool Z_162;
	ptr32 esp_157;
	eax_155();
	if (eax_160 != ~0x00)
	{
		*(esp_157 - 0x04) = 0x00;
		*(esp_157 - 0x08) = 0x0040E000;
		*(esp_157 - 0x0C) = (union Eq_69 *) globals->t40E9E9;
		*(esp_157 - 0x10) = (union Eq_69 *) globals->t40E9E5;
		*(esp_157 - 0x14) = eax_160;
		*(esp_157 - 0x18) = globals->dw40B46C;
		*(esp_157 - 0x1C) = 0x0040AC10;
		<anonymous> * eax_206 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_208;
		word32 ebp_209;
		byte SCZO_210;
		word32 eax_211;
		word32 edi_212;
		bool Z_213;
		eax_206();
		*(esp_208 - 0x04) = eax_160;
		*(esp_208 - 0x08) = globals->dw40B49A;
		*(esp_208 - 0x0C) = 0x0040AC10;
		<anonymous> * eax_222 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_224;
		word32 ebp_225;
		byte SCZO_226;
		word32 eax_227;
		word32 edi_228;
		bool Z_229;
		eax_222();
		*(esp_224 - 0x04) = eax_160;
		*(esp_224 - 0x08) = globals->dw40B4B5;
		*(esp_224 - 0x0C) = 0x0040AC10;
		<anonymous> * eax_238 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_240;
		word32 ebp_241;
		byte SCZO_242;
		word32 eax_243;
		word32 edi_244;
		bool Z_245;
		eax_238();
		*(esp_240 - 0x04) = 0x00;
		*(esp_240 - 0x08) = 0x0040B4D0;
		Eq_69 eax_251 = fn0040AA43(dwArg00, dwArg04);
		*(esp_240 - 0x04) = 0x02;
		*(esp_240 - 0x08) = (union Eq_69 *) eax_251;
		*(esp_240 - 0x0C) = ~0x00;
		fn0040B1BC(ebp_241, dwArg00, dwArg04, dwArg08);
		*(esp_240 - 0x04) = eax_37;
		fn0040B242(ebp_241, dwArg00);
		*(esp_240 - 0x04) = eax_37;
		*(esp_240 - 0x08) = globals->dw40B3D6;
		*(esp_240 - 0x0C) = 0x0040AC10;
		<anonymous> * eax_272 = fn0040AAD9(dwArg00, dwArg04);
		word32 ebp_275;
		byte SCZO_276;
		word32 eax_277;
		word32 edi_278;
		bool Z_279;
		eax_272();
	}
	word32 * esp_169 = esp_157 - 0x04;
	*esp_169 = eax_37;
	*(esp_169 - 0x04) = globals->dw40B088;
	*(esp_169 - 0x08) = 0x0040AC10;
	<anonymous> * eax_176 = fn0040AAD9(dwArg00, dwArg04);
	word32 esp_178;
	word32 ebp_179;
	byte SCZO_180;
	word32 eax_181;
	word32 edi_182;
	bool Z_183;
	eax_176();
}

// 0040B533: void fn0040B533(Register ptr32 ebp)
void fn0040B533(ptr32 ebp)
{
	fn0040B8B8(fp - 0x04);
	globals->dw40E894 = fn0040B986(fp - 0x04, fn0040AA43(4240707, 0x00));
	<anonymous> * eax_31 = fn0040AAD9(0x0040AC10, globals->t40B56C);
	ptr32 esp_34;
	word32 ebp_35;
	byte SCZO_36;
	up32 eax_37;
	byte CZ_38;
	bool Z_39;
	word32 edi_40;
	word32 ecx_41;
	byte SZO_42;
	bool C_43;
	word16 ax_44;
	eax_31();
	if (eax_37 > 0x00)
	{
		globals->dw40E88C = eax_37;
		*(esp_34 - 0x04) = 0x0104;
		*(esp_34 - 0x08) = fp - 0x0109;
		*(esp_34 - 0x0C) = (union Eq_69 *) globals->t40B59D;
		*(esp_34 - 0x10) = 0x0040AC10;
		<anonymous> * eax_80 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_82;
		word32 ebp_83;
		byte SCZO_84;
		word32 eax_85;
		byte CZ_86;
		bool Z_87;
		word32 edi_88;
		word32 ecx_89;
		byte SZO_90;
		bool C_91;
		word16 ax_92;
		eax_80();
		*(esp_82 - 0x04) = 0x0040E888;
		*(esp_82 - 0x08) = 0x00;
		*(esp_82 - 0x0C) = 0x00;
		*(esp_82 - 0x10) = 0x10;
		*(esp_82 - 0x14) = globals->dw40B5CA;
		*(esp_82 - 0x18) = 0x0040AFBA;
		<anonymous> * eax_110 = fn0040AAD9(dwArg00, dwArg04);
		word32 ebp_113;
		byte SCZO_114;
		word32 eax_115;
		byte CZ_116;
		bool Z_117;
		word32 edi_118;
		word32 ecx_119;
		byte SZO_120;
		bool C_121;
		word16 ax_122;
		word32 esp_112;
		eax_110();
		if (eax_115 == 0xC0000004)
		{
			globals->dw40E888 = 0x1000;
			do
			{
				globals->dw40E888 = globals->dw40E888 + globals->dw40E888;
				if (globals->ptr40E884 != null)
				{
					word32 * esp_577 = esp_112 - 0x04;
					*esp_577 = 0x8000;
					*(esp_577 - 0x04) = 0x00;
					*(esp_577 - 0x08) = globals->ptr40E884;
					*(esp_577 - 0x0C) = globals->dw40B617;
					*(esp_577 - 0x10) = 0x0040AC10;
					<anonymous> * eax_589 = fn0040AAD9(dwArg00, dwArg04);
					word32 ebp_592;
					byte SCZO_593;
					word32 eax_594;
					byte CZ_595;
					bool Z_596;
					word32 edi_597;
					word32 ecx_598;
					byte SZO_599;
					bool C_600;
					word16 ax_601;
					eax_589();
				}
				word32 * esp_519 = esp_112 - 0x04;
				*esp_519 = 0x04;
				*(esp_519 - 0x04) = 0x1000;
				*(esp_519 - 0x08) = globals->dw40E888;
				*(esp_519 - 0x0C) = 0x00;
				*(esp_519 - 0x10) = globals->dw40B63C;
				*(esp_519 - 0x14) = 0x0040AC10;
				<anonymous> * eax_533 = fn0040AAD9(dwArg00, dwArg04);
				ptr32 esp_535;
				word32 ebp_536;
				byte SCZO_537;
				up32 * eax_538;
				byte CZ_539;
				bool Z_540;
				word32 edi_541;
				word32 ecx_542;
				byte SZO_543;
				bool C_544;
				word16 ax_545;
				eax_533();
				globals->ptr40E884 = eax_538;
				*(esp_535 - 0x04) = 0x0040E890;
				*(esp_535 - 0x08) = globals->dw40E888;
				*(esp_535 - 0x0C) = globals->ptr40E884;
				*(esp_535 - 0x10) = 0x10;
				*(esp_535 - 0x14) = globals->dw40B5CA;
				*(esp_535 - 0x18) = 0x0040AFBA;
				<anonymous> * eax_562 = fn0040AAD9(dwArg00, dwArg04);
				word32 ebp_565;
				byte SCZO_566;
				word32 eax_567;
				byte CZ_568;
				bool Z_569;
				word32 edi_570;
				word32 ecx_571;
				byte SZO_572;
				bool C_573;
				word16 ax_574;
				eax_562();
			} while (eax_567 == 0xC0000004);
		}
		up32 * edi_133 = globals->ptr40E884;
		up32 ecx_134 = *edi_133;
		struct Eq_2351 * edi_136 = edi_133 + 0x01;
		up32 dwLoc0220_138 = 0x00;
		struct Eq_2351 * dwLoc0224_139 = edi_133 + 0x01;
		while (true)
		{
			if (edi_136->dw0000 == globals->dw40E894)
			{
				word16 ax_220 = dwLoc0224_139->w0006;
				word32 eax_221 = (word32) ax_220;
				word32 * esp_222 = esp_112 - 0x04;
				*esp_222 = 0x02;
				*(esp_222 - 0x04) = 0x00;
				*(esp_222 - 0x08) = 0x00;
				*(esp_222 - 0x0C) = 0x0040E898;
				*(esp_222 - 0x10) = ~0x00;
				*(esp_222 - 0x14) = eax_221;
				*(esp_222 - 0x18) = globals->dw40E88C;
				*(esp_222 - 0x1C) = globals->dw40B6D4;
				*(esp_222 - 0x20) = 0x0040AC10;
				<anonymous> * eax_242 = fn0040AAD9(dwArg00, dwArg04);
				word32 ebp_245;
				byte SCZO_246;
				word32 eax_247;
				byte CZ_248;
				bool Z_249;
				word32 edi_250;
				word32 ecx_251;
				byte SZO_252;
				bool C_253;
				word16 ax_254;
				ptr32 esp_244;
				eax_242();
				if (eax_247 != 0x00)
				{
					*(esp_244 - 0x04) = 0x00;
					*(esp_244 - 0x08) = 0x0214;
					*(esp_244 - 0x0C) = 4253852;
					*(esp_244 - 0x10) = 0x01;
					*(esp_244 - 0x14) = globals->dw40E898;
					*(esp_244 - 0x18) = globals->dw40B708;
					*(esp_244 - 0x1C) = 0x0040AFBA;
					<anonymous> * eax_297 = fn0040AAD9(dwArg00, dwArg04);
					word32 ebp_300;
					byte SCZO_301;
					word32 eax_302;
					byte CZ_303;
					bool Z_304;
					word32 edi_305;
					word32 ecx_306;
					byte SZO_307;
					bool C_308;
					word16 ax_309;
					eax_297();
					if (eax_302 == 0x00)
					{
						word32 edi_315 = globals->dw40E8A0;
						*(esp_244 - 0x04) = 0x00;
						*(esp_244 - 0x08) = 0x00;
						*(esp_244 - 0x0C) = 0x0104;
						*(esp_244 - 0x10) = fp - 0x020E;
						*(esp_244 - 0x14) = ~0x00;
						*(esp_244 - 0x18) = edi_315;
						*(esp_244 - 0x1C) = 0x00;
						*(esp_244 - 0x20) = 0x01;
						*(esp_244 - 0x24) = globals->dw40B74A;
						*(esp_244 - 0x28) = 0x0040AC10;
						<anonymous> * eax_338 = fn0040AAD9(dwArg00, dwArg04);
						word32 ebp_341;
						byte SCZO_342;
						word32 eax_343;
						byte CZ_344;
						bool Z_345;
						word32 edi_346;
						word32 ecx_347;
						byte SZO_348;
						bool C_349;
						word16 ax_350;
						eax_338();
						if (eax_343 != 0x00)
						{
							*(esp_244 - 0x04) = fp - 0x0107;
							*(esp_244 - 0x08) = 0x00;
							*(esp_244 - 0x0C) = fp - 0x020E;
							*(esp_244 - 0x10) = globals->dw40B78E;
							*(esp_244 - 0x14) = 4241282;
							<anonymous> * eax_368 = fn0040AAD9(dwArg00, dwArg04);
							word32 ebp_371;
							byte SCZO_372;
							word32 eax_373;
							byte CZ_374;
							bool Z_375;
							word32 edi_376;
							word32 ecx_377;
							byte SZO_378;
							bool C_379;
							word16 ax_380;
							eax_368();
							if (eax_373 != 0x00)
							{
								*(esp_244 - 0x04) = fp - 0x0107;
								*(esp_244 - 0x08) = eax_373;
								*(esp_244 - 0x0C) = globals->dw40B7B8;
								*(esp_244 - 0x10) = 0x0040AC10;
								<anonymous> * eax_396 = fn0040AAD9(dwArg00, dwArg04);
								word32 ebp_399;
								byte SCZO_400;
								word32 eax_401;
								byte CZ_402;
								bool Z_403;
								word32 edi_404;
								word32 ecx_405;
								byte SZO_406;
								bool C_407;
								word16 ax_408;
								eax_396();
								if (eax_401 == 0x00)
								{
									*(esp_244 - 0x04) = globals->dw40E898;
									*(esp_244 - 0x08) = globals->dw40B4B5;
									*(esp_244 - 0x0C) = 0x0040AC10;
									<anonymous> * eax_421 = fn0040AAD9(dwArg00, dwArg04);
									ptr32 esp_423;
									word32 ebp_424;
									byte SCZO_425;
									word32 eax_426;
									byte CZ_427;
									bool Z_428;
									word32 edi_429;
									word32 ecx_430;
									byte SZO_431;
									bool C_432;
									word16 ax_433;
									eax_421();
									word16 ax_438 = dwLoc0224_139->w0006;
									*(esp_423 - 0x04) = 0x03;
									*(esp_423 - 0x08) = 0x00;
									*(esp_423 - 0x0C) = 0x00;
									*(esp_423 - 0x10) = 0x0040E898;
									*(esp_423 - 0x14) = ~0x00;
									*(esp_423 - 0x18) = (word32) ax_438;
									*(esp_423 - 0x1C) = globals->dw40E88C;
									*(esp_423 - 0x20) = globals->dw40B6D4;
									*(esp_423 - 0x24) = 0x0040AC10;
									<anonymous> * eax_460 = fn0040AAD9(dwArg00, dwArg04);
									ptr32 esp_462;
									word32 ebp_463;
									byte SCZO_464;
									word32 eax_465;
									byte CZ_466;
									bool Z_467;
									word32 edi_468;
									word32 ecx_469;
									byte SZO_470;
									bool C_471;
									word16 ax_472;
									eax_460();
									*(esp_462 - 0x04) = globals->dw40E898;
									*(esp_462 - 0x08) = globals->dw40B4B5;
									*(esp_462 - 0x0C) = 0x0040AC10;
									<anonymous> * eax_481 = fn0040AAD9(dwArg00, dwArg04);
									word32 ebp_484;
									byte SCZO_485;
									word32 eax_486;
									byte CZ_487;
									bool Z_488;
									word32 edi_489;
									word32 ecx_490;
									byte SZO_491;
									bool C_492;
									word16 ax_493;
									eax_481();
								}
							}
						}
					}
				}
				word32 * esp_261 = esp_244 - 0x04;
				*esp_261 = globals->dw40E898;
				*(esp_261 - 0x04) = globals->dw40B4B5;
				*(esp_261 - 0x08) = 0x0040AC10;
				<anonymous> * eax_268 = fn0040AAD9(dwArg00, dwArg04);
				word32 ebp_271;
				byte SCZO_272;
				word32 eax_273;
				byte CZ_274;
				bool Z_275;
				word32 edi_276;
				word32 ecx_277;
				byte SZO_278;
				bool C_279;
				word16 ax_280;
				eax_268();
			}
			up32 v19_161 = dwLoc0220_138 + 0x01;
			dwLoc0220_138 = v19_161;
			if (v19_161 >= ecx_134)
				break;
			edi_136 = dwLoc0224_139 + 0x01;
			dwLoc0224_139 = edi_136;
		}
		word32 * esp_166 = esp_112 - 0x04;
		*esp_166 = 0x8000;
		*(esp_166 - 0x04) = 0x00;
		*(esp_166 - 0x08) = globals->ptr40E884;
		*(esp_166 - 0x0C) = globals->dw40B617;
		*(esp_166 - 0x10) = 0x0040AC10;
		<anonymous> * eax_178 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_180;
		word32 ebp_181;
		byte SCZO_182;
		word32 eax_183;
		byte CZ_184;
		bool Z_185;
		word32 edi_186;
		word32 ecx_187;
		byte SZO_188;
		bool C_189;
		word16 ax_190;
		eax_178();
		*(esp_180 - 0x04) = globals->dw40E88C;
		*(esp_180 - 0x08) = globals->dw40B4B5;
		*(esp_180 - 0x0C) = 0x0040AC10;
		<anonymous> * eax_199 = fn0040AAD9(dwArg00, dwArg04);
		word32 esp_201;
		word32 ebp_202;
		byte SCZO_203;
		word32 eax_204;
		byte CZ_205;
		bool Z_206;
		word32 edi_207;
		word32 ecx_208;
		byte SZO_209;
		bool C_210;
		word16 ax_211;
		eax_199();
	}
}

// 0040B8B8: void fn0040B8B8(Register ptr32 ebp)
void fn0040B8B8(ptr32 ebp)
{
	<anonymous> * eax_21 = fn0040AAD9(4239030, globals->t40B1C1);
	ptr32 esp_23;
	word32 ebp_24;
	byte SCZO_25;
	word32 eax_26;
	word32 ebx_27;
	byte SZO_28;
	bool C_29;
	bool Z_30;
	eax_21();
	*(esp_23 - 0x04) = 0x00;
	*(esp_23 - 0x08) = 0x0040B8DD;
	Eq_69 eax_39 = fn0040AA43(dwArg00, dwArg04);
	*(esp_23 - 0x04) = fp - 0x24;
	*(esp_23 - 0x08) = (union Eq_69 *) eax_39;
	*(esp_23 - 0x0C) = 0x00;
	*(esp_23 - 0x10) = globals->dw40B1E3;
	*(esp_23 - 0x14) = 4239030;
	<anonymous> * eax_52 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_54;
	word32 ebp_55;
	byte SCZO_56;
	word32 eax_57;
	word32 ebx_58;
	byte SZO_59;
	bool C_60;
	bool Z_61;
	eax_52();
	if (eax_57 != 0x00)
	{
		*(esp_54 - 0x04) = dwLoc24;
		*(esp_54 - 0x04) = dwLoc20;
		*(esp_54 - 0x04) = fp - 0x1C;
		*(esp_54 - 0x08) = fp - 0x18;
		*(esp_54 - 0x0C) = 0x10;
		*(esp_54 - 0x10) = fp - 0x18;
		*(esp_54 - 0x14) = 0x00;
		*(esp_54 - 0x18) = dwLoc08;
		*(esp_54 - 0x1C) = globals->dw40B215;
		*(esp_54 - 0x20) = 4239030;
		<anonymous> * eax_140 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_142;
		word32 ebp_143;
		byte SCZO_144;
		word32 eax_145;
		word32 ebx_146;
		byte SZO_147;
		bool C_148;
		bool Z_149;
		eax_140();
		*(esp_142 - 0x04) = dwLoc08;
		*(esp_142 - 0x08) = globals->dw40B4B5;
		*(esp_142 - 0x0C) = 0x0040AC10;
		<anonymous> * eax_158 = fn0040AAD9(dwArg00, dwArg04);
		word32 esp_160;
		word32 ebp_161;
		byte SCZO_162;
		word32 eax_163;
		word32 ebx_164;
		byte SZO_165;
		bool C_166;
		bool Z_167;
		eax_158();
	}
	else
	{
		*(esp_54 - 0x04) = dwLoc08;
		*(esp_54 - 0x08) = globals->dw40B4B5;
		*(esp_54 - 0x0C) = 0x0040AC10;
		<anonymous> * eax_87 = fn0040AAD9(dwArg00, dwArg04);
		word32 esp_93;
		word32 ebp_94;
		byte SCZO_95;
		word32 eax_96;
		word32 ebx_97;
		byte SZO_98;
		bool C_99;
		bool Z_100;
		eax_87();
	}
}

// 0040B986: Register word32 fn0040B986(Register ptr32 ebp, Stack Eq_69 dwArg04)
word32 fn0040B986(ptr32 ebp, Eq_69 dwArg04)
{
	<anonymous> * eax_18 = fn0040AAD9(0x0040AC10, globals->t40B991);
	ptr32 esp_20;
	word32 ebp_21;
	byte SCZO_22;
	word32 eax_23;
	byte SZO_24;
	bool C_25;
	bool Z_26;
	eax_18();
	*(esp_20 - 0x04) = fp - 300;
	*(esp_20 - 0x08) = eax_23;
	*(esp_20 - 0x0C) = globals->dw40B9BD;
	*(esp_20 - 0x10) = 0x0040AC10;
	<anonymous> * eax_42 = fn0040AAD9(dwArg00, dwArg04);
	word32 ebp_45;
	byte SCZO_46;
	word32 eax_47;
	byte SZO_48;
	bool C_49;
	bool Z_50;
	word32 esp_107;
	eax_42();
	word32 eax_119 = eax_47;
	if (eax_47 != 0x00)
	{
		do
		{
			ptr32 * esp_71 = esp_107 - 0x04;
			*esp_71 = fp - 300;
			*(esp_71 - 0x04) = eax_23;
			*(esp_71 - 0x08) = globals->dw40B9E8;
			*(esp_71 - 0x0C) = 0x0040AC10;
			<anonymous> * eax_81 = fn0040AAD9(dwArg00, dwArg04);
			ptr32 esp_83;
			word32 ebp_84;
			byte SCZO_85;
			word32 eax_86;
			byte SZO_87;
			bool C_88;
			bool Z_89;
			eax_81();
			eax_119 = eax_86;
			if (eax_86 == 0x00)
				return eax_119;
			*(esp_83 - 0x04) = (union Eq_69 *) dwArg04;
			*(esp_83 - 0x08) = fp - 0x0108;
			*(esp_83 - 0x0C) = globals->dw40B7B8;
			*(esp_83 - 0x10) = 0x0040AC10;
			<anonymous> * eax_105 = fn0040AAD9(dwArg00, dwArg04);
			word32 ebp_108;
			byte SCZO_109;
			word32 eax_110;
			byte SZO_111;
			bool C_112;
			bool Z_113;
			eax_105();
		} while (eax_110 != 0x00);
		eax_119 = dwLoc0124;
	}
	return eax_119;
}

// 0040BA3F: void fn0040BA3F(Register ptr32 ebp)
void fn0040BA3F(ptr32 ebp)
{
	<anonymous> * eax_23 = fn0040AAD9(0x0040AC10, globals->t40B59D);
	ptr32 esp_25;
	word32 ebp_26;
	byte SCZO_27;
	word32 eax_28;
	byte SZO_29;
	bool C_30;
	bool Z_31;
	eax_23();
	if (eax_28 != 0x00)
	{
		*(esp_25 - 0x04) = fp - 0x0109;
		*(esp_25 - 0x08) = fp - 0x020E;
		*(esp_25 - 0x0C) = globals->dw40ADFD;
		*(esp_25 - 0x10) = 0x0040AC10;
		<anonymous> * eax_57 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_59;
		word32 ebp_60;
		byte SCZO_61;
		word32 eax_62;
		byte SZO_63;
		bool C_64;
		bool Z_65;
		eax_57();
		*(esp_59 - 0x04) = 0x00;
		*(esp_59 - 0x08) = 0x0040BAA5;
		*(esp_59 - 0x04) = (union Eq_69 *) fn0040AA43(dwArg00, dwArg04);
		*(esp_59 - 0x08) = fp - 0x0109;
		*(esp_59 - 0x0C) = globals->dw40B26F;
		*(esp_59 - 0x10) = 0x0040AC10;
		<anonymous> * eax_83 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_85;
		word32 ebp_86;
		byte SCZO_87;
		word32 eax_88;
		byte SZO_89;
		bool C_90;
		bool Z_91;
		eax_83();
		globals->dw40E014 = 0x01;
		*(esp_85 - 0x04) = 0x00;
		*(esp_85 - 0x08) = 4242152;
		*(esp_85 - 0x04) = (union Eq_69 *) fn0040AA43(dwArg00, dwArg04);
		*(esp_85 - 0x08) = fp - 0x020E;
		*(esp_85 - 0x0C) = globals->dw40B26F;
		*(esp_85 - 0x10) = 0x0040AC10;
		<anonymous> * eax_110 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_112;
		word32 ebp_113;
		byte SCZO_114;
		word32 eax_115;
		byte SZO_116;
		bool C_117;
		bool Z_118;
		eax_110();
		globals->dw40E014 = 0x01;
		*(esp_112 - 0x04) = 0x00;
		*(esp_112 - 0x08) = 0x80;
		*(esp_112 - 0x0C) = 0x03;
		*(esp_112 - 0x10) = 0x00;
		*(esp_112 - 0x14) = 0x03;
		*(esp_112 - 0x18) = 0x80000000;
		*(esp_112 - 0x1C) = fp - 0x0109;
		*(esp_112 - 0x20) = globals->dw40B433;
		*(esp_112 - 0x24) = 0x0040AC10;
		<anonymous> * eax_140 = fn0040AAD9(dwArg00, dwArg04);
		ptr32 esp_142;
		word32 ebp_143;
		byte SCZO_144;
		word32 eax_145;
		byte SZO_146;
		bool C_147;
		bool Z_148;
		eax_140();
		if (eax_145 != ~0x00)
		{
			globals->dw40E9B9 = eax_145;
			*(esp_142 - 0x04) = 4254129;
			*(esp_142 - 0x08) = 4254121;
			*(esp_142 - 0x0C) = 4254113;
			*(esp_142 - 0x10) = globals->dw40E9B9;
			*(esp_142 - 0x14) = globals->dw40BB63;
			*(esp_142 - 0x18) = 0x0040AC10;
			<anonymous> * eax_166 = fn0040AAD9(dwArg00, dwArg04);
			ptr32 esp_168;
			word32 ebp_169;
			byte SCZO_170;
			word32 eax_171;
			byte SZO_172;
			bool C_173;
			bool Z_174;
			eax_166();
			*(esp_168 - 0x04) = globals->dw40E9B9;
			*(esp_168 - 0x08) = globals->dw40B4B5;
			*(esp_168 - 0x0C) = 0x0040AC10;
			<anonymous> * eax_183 = fn0040AAD9(dwArg00, dwArg04);
			ptr32 esp_185;
			word32 ebp_186;
			byte SCZO_187;
			word32 eax_188;
			byte SZO_189;
			bool C_190;
			bool Z_191;
			eax_183();
			*(esp_185 - 0x04) = fp - 0x020E;
			*(esp_185 - 0x08) = fp - 0x0109;
			*(esp_185 - 0x0C) = globals->dw40BBA8;
			*(esp_185 - 0x10) = 0x0040AC10;
			<anonymous> * eax_203 = fn0040AAD9(dwArg00, dwArg04);
			ptr32 esp_205;
			word32 ebp_206;
			byte SCZO_207;
			word32 eax_208;
			byte SZO_209;
			bool C_210;
			bool Z_211;
			eax_203();
			if (eax_208 != 0x00)
			{
				*(esp_205 - 0x04) = 0x01;
				*(esp_205 - 0x08) = fp - 0x0109;
				*(esp_205 - 0x0C) = fp - 0x020E;
				*(esp_205 - 0x10) = globals->dw40BBD4;
				*(esp_205 - 0x14) = 0x0040AC10;
				<anonymous> * eax_229 = fn0040AAD9(dwArg00, dwArg04);
				ptr32 esp_231;
				word32 ebp_232;
				byte SCZO_233;
				word32 eax_234;
				byte SZO_235;
				bool C_236;
				bool Z_237;
				eax_229();
				if (eax_234 != 0x00)
				{
					*(esp_231 - 0x04) = 0x00;
					*(esp_231 - 0x08) = 0x80;
					*(esp_231 - 0x0C) = 0x03;
					*(esp_231 - 0x10) = 0x00;
					*(esp_231 - 0x14) = 0x03;
					*(esp_231 - 0x18) = 0x80000000;
					*(esp_231 - 0x1C) = fp - 0x020E;
					*(esp_231 - 0x20) = globals->dw40B433;
					*(esp_231 - 0x24) = 0x0040AC10;
					<anonymous> * eax_262 = fn0040AAD9(dwArg00, dwArg04);
					word32 ebp_265;
					byte SCZO_266;
					word32 eax_267;
					byte SZO_268;
					bool C_269;
					bool Z_270;
					ptr32 esp_264;
					eax_262();
					if (eax_267 != ~0x00)
					{
						globals->dw40E9B9 = eax_267;
						*(esp_264 - 0x04) = 0x0040E000;
						*(esp_264 - 0x08) = globals->dw40E9B9;
						*(esp_264 - 0x0C) = globals->dw40BC3A;
						*(esp_264 - 0x10) = 0x0040AC10;
						<anonymous> * eax_392 = fn0040AAD9(dwArg00, dwArg04);
						ptr32 esp_394;
						word32 ebp_395;
						byte SCZO_396;
						word32 eax_397;
						byte SZO_398;
						bool C_399;
						bool Z_400;
						eax_392();
						globals->dw40E9BD = eax_397;
						*(esp_394 - 0x04) = eax_397;
						*(esp_394 - 0x08) = 0x40;
						*(esp_394 - 0x0C) = (union Eq_69 *) globals->t40AC1D;
						*(esp_394 - 0x10) = 0x0040AC10;
						<anonymous> * eax_411 = fn0040AAD9(dwArg00, dwArg04);
						ptr32 esp_413;
						word32 ebp_414;
						byte SCZO_415;
						word32 eax_416;
						byte SZO_417;
						bool C_418;
						bool Z_419;
						eax_411();
						globals->dw40E9C1 = eax_416;
						*(esp_413 - 0x04) = 0x00;
						*(esp_413 - 0x08) = 0x0040E000;
						*(esp_413 - 0x0C) = globals->dw40E9BD;
						*(esp_413 - 0x10) = globals->dw40E9C1;
						*(esp_413 - 0x14) = globals->dw40E9B9;
						*(esp_413 - 0x18) = globals->dw40BC7C;
						*(esp_413 - 0x1C) = 0x0040AC10;
						<anonymous> * eax_439 = fn0040AAD9(dwArg00, dwArg04);
						ptr32 esp_441;
						word32 ebp_442;
						byte SCZO_443;
						word32 eax_444;
						byte SZO_445;
						bool C_446;
						bool Z_447;
						eax_439();
						*(esp_441 - 0x04) = globals->dw40E9B9;
						*(esp_441 - 0x08) = globals->dw40B4B5;
						*(esp_441 - 0x0C) = 0x0040AC10;
						<anonymous> * eax_456 = fn0040AAD9(dwArg00, dwArg04);
						ptr32 esp_458;
						ptr32 ebp_459;
						byte SCZO_460;
						word32 eax_461;
						byte SZO_462;
						bool C_463;
						bool Z_464;
						eax_456();
						*(esp_458 - 0x04) = 0x00;
						*(esp_458 - 0x08) = 4242629;
						*(esp_458 - 0x04) = (union Eq_69 *) fn0040AA43(dwArg00, dwArg04);
						*(esp_458 - 0x08) = globals->dw40E9BD;
						*(esp_458 - 0x0C) = globals->dw40E9C1;
						fn0040AF8A(ebp_459, dwArg00, dwArg04, dwArg08);
						*(esp_458 - 0x04) = globals->dw40E9C1;
						*(esp_458 - 0x08) = globals->dw40B088;
						*(esp_458 - 0x0C) = 0x0040AC10;
						<anonymous> * eax_489 = fn0040AAD9(dwArg00, dwArg04);
						ptr32 esp_491;
						word32 ebp_492;
						byte SCZO_493;
						word32 eax_494;
						byte SZO_495;
						bool C_496;
						bool Z_497;
						eax_489();
						*(esp_491 - 0x04) = 0x04;
						*(esp_491 - 0x08) = 0x00;
						*(esp_491 - 0x0C) = fp - 0x020E;
						*(esp_491 - 0x10) = globals->dw40BD0B;
						*(esp_491 - 0x14) = 0x0040AC10;
						<anonymous> * eax_510 = fn0040AAD9(dwArg00, dwArg04);
						word32 ebp_513;
						byte SCZO_514;
						word32 eax_515;
						byte SZO_516;
						bool C_517;
						bool Z_518;
						eax_510();
					}
					word32 * esp_274 = esp_264 - 0x04;
					*esp_274 = 11084;
					*(esp_274 - 0x04) = 0x00;
					*(esp_274 - 0x08) = 0x00403B70;
					fn0040C066(dwArg00, dwArg04, dwArg08);
					*esp_274 = 0x00;
					*(esp_274 - 0x04) = 0x80;
					*(esp_274 - 0x08) = 0x03;
					*(esp_274 - 0x0C) = 0x00;
					*(esp_274 - 0x10) = 0x00;
					*(esp_274 - 0x14) = 0xC0000000;
					*(esp_274 - 0x18) = fp - 0x0109;
					*(esp_274 - 0x1C) = globals->dw40B433;
					*(esp_274 - 0x20) = 0x0040AC10;
					<anonymous> * eax_302 = fn0040AAD9(dwArg00, dwArg04);
					ptr32 esp_304;
					word32 ebp_305;
					byte SCZO_306;
					word32 eax_307;
					byte SZO_308;
					bool C_309;
					bool Z_310;
					eax_302();
					if (eax_307 != ~0x00)
					{
						globals->dw40E9B9 = eax_307;
						*(esp_304 - 0x04) = 0x00;
						*(esp_304 - 0x08) = 0x0040E000;
						*(esp_304 - 0x0C) = (union Eq_69 *) globals->t40E9E9;
						*(esp_304 - 0x10) = (union Eq_69 *) globals->t40E9E5;
						*(esp_304 - 0x14) = globals->dw40E9B9;
						*(esp_304 - 0x18) = globals->dw40B46C;
						*(esp_304 - 0x1C) = 0x0040AC10;
						<anonymous> * eax_332 = fn0040AAD9(dwArg00, dwArg04);
						ptr32 esp_334;
						word32 ebp_335;
						byte SCZO_336;
						word32 eax_337;
						byte SZO_338;
						bool C_339;
						bool Z_340;
						eax_332();
						*(esp_334 - 0x04) = 4254129;
						*(esp_334 - 0x08) = 4254121;
						*(esp_334 - 0x0C) = 4254113;
						*(esp_334 - 0x10) = globals->dw40E9B9;
						*(esp_334 - 0x14) = globals->dw40BD9D;
						*(esp_334 - 0x18) = 0x0040AC10;
						<anonymous> * eax_355 = fn0040AAD9(dwArg00, dwArg04);
						ptr32 esp_357;
						word32 ebp_358;
						byte SCZO_359;
						word32 eax_360;
						byte SZO_361;
						bool C_362;
						bool Z_363;
						eax_355();
						*(esp_357 - 0x04) = globals->dw40E9B9;
						*(esp_357 - 0x08) = globals->dw40B4B5;
						*(esp_357 - 0x0C) = 0x0040AC10;
						<anonymous> * eax_372 = fn0040AAD9(dwArg00, dwArg04);
						word32 esp_374;
						word32 ebp_375;
						byte SCZO_376;
						word32 eax_377;
						byte SZO_378;
						bool C_379;
						bool Z_380;
						eax_372();
					}
				}
			}
		}
	}
}

// 0040BDE2: void fn0040BDE2(Stack Eq_69 dwArg04)
void fn0040BDE2(Eq_69 dwArg04)
{
	globals->dw40E9C5 = __rol(dwArg04 ^ 12987928, 0x04);
}

// 0040BDFC: Register uint32 fn0040BDFC(Stack Eq_69 dwArg04, Stack Eq_69 dwArg08)
uint32 fn0040BDFC(Eq_69 dwArg04, Eq_69 dwArg08)
{
	uint32 dwLoc08_107;
	globals->dw40E9C5 = 0x3693;
	ui32 ecx_69 = dwArg08 - dwArg04;
	if (ecx_69 != 0x00)
		dwLoc08_107 = (word32) dwArg04 + (uint32) (0x3693 % ecx_69);
	else
		dwLoc08_107 = 0x3693;
	return dwLoc08_107;
}

// 0040BE57: Register word32 fn0040BE57(Register word32 ebp, Stack Eq_69 dwArg04, Register out ptr32 esiOut)
word32 fn0040BE57(word32 ebp, Eq_69 dwArg04, ptr32 & esiOut)
{
	ptr32 esp_42;
	word32 ebp_43;
	byte SCZO_44;
	word32 eax_45;
	word32 ecx_46;
	word32 edx_47;
	word32 ebx_48;
	word32 esi_49;
	word32 edi_50;
	byte SZO_51;
	byte CZ_52;
	globals->ptr40E9DD();
	up32 eax_32 = globals->dw40E9D9;
	if (dwArg04 > 0x00)
	{
		*(esp_42 - 0x04) = (union Eq_69 *) dwArg04;
		*(esp_42 - 0x08) = eax_45;
		*(esp_42 - 0x0C) = (byte **) globals->ptr40E9D5;
		fn0040ABB4(dwArg00, dwArg04, dwArg08);
	}
	word32 esi_59 = Mem0[4254165:word32] + dwArg04;
	*(esp_42 - 0x04) = globals->dw40E9D9;
	*(esp_42 - 0x04) = *(esp_42 - 0x04) - dwArg04 - 0x02;
	word32 edi_62 = (word32) dwArg04 + eax_45;
	*(esp_42 - 0x08) = edi_62;
	*(esp_42 - 0x0C) = esi_59 + 0x02;
	fn0040ABB4(dwArg00, dwArg04, dwArg08);
	*(esp_42 - 0x04) = (byte **) globals->ptr40E9D5;
	struct Eq_4467 * esp_83;
	word32 ebp_84;
	byte SCZO_85;
	word32 eax_86;
	word32 ecx_87;
	word32 edx_88;
	word32 ebx_89;
	word32 esi_90;
	word32 edi_91;
	byte SZO_92;
	byte CZ_93;
	globals->ptr40E9E1();
	*(esp_83 - 0x04) = eax_45;
	*(esp_83 - 0x04) = *(esp_83 - 0x04);
	globals->ptr40E9D5 = (byte *) *(esp_83 - 0x04);
	*(esp_83 - 0x04) = eax_32 - 0x02;
	globals->dw40E9D9 = *(esp_83 - 0x04);
	word32 esi_111;
	*esiOut = esp_83->dw0004;
	return esp_83->dw0018;
}

// 0040BED9: void fn0040BED9(Register word32 ebp, Stack Eq_69 dwArg04, Stack Eq_69 dwArg08, Stack Eq_69 dwArg0C)
void fn0040BED9(word32 ebp, Eq_69 dwArg04, Eq_69 dwArg08, Eq_69 dwArg0C)
{
	Eq_69 eax_13 = fn0040AA43(0x0040BEE1, 0x00);
	<anonymous> * eax_28 = fn0040AAD9(0x0040AC10, globals->t40BEFF);
	ptr32 esp_30;
	word32 ebp_31;
	byte SCZO_32;
	word32 eax_33;
	word32 ebx_34;
	word32 ecx_35;
	word32 edi_36;
	bool C_37;
	word32 esi_38;
	byte CZ_39;
	byte SZO_40;
	eax_28();
	*(esp_30 - 0x04) = (union Eq_69 *) eax_13;
	fn0040A87C(dwArg00);
	*(esp_30 - 0x04) = 525453361;
	*(esp_30 - 0x08) = eax_33;
	globals->ptr40E9DD = fn0040AB12(dwArg00, dwArg04);
	*(esp_30 - 0x04) = 0x4AD2A820;
	*(esp_30 - 0x08) = eax_33;
	globals->ptr40E9E1 = fn0040AB12(dwArg00, dwArg04);
	*(esp_30 - 0x04) = (union Eq_69 *) dwArg08;
	ui32 eax_68 = *(esp_30 - 0x04);
	*(esp_30 - 0x04) = eax_68;
	globals->dw40E9CD = *(esp_30 - 0x04);
	*(esp_30 - 0x04) = eax_68 * 0x04;
	globals->dw40E9D1 = *(esp_30 - 0x04);
	*(esp_30 - 0x04) = globals->dw40E9D1;
	*(esp_30 - 0x08) = 0x40;
	*(esp_30 - 0x0C) = (union Eq_69 *) globals->t40AC1D;
	*(esp_30 - 0x10) = 0x0040AC10;
	<anonymous> * eax_91 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_93;
	word32 ebp_94;
	byte SCZO_95;
	word32 eax_96;
	word32 ebx_97;
	word32 ecx_98;
	word32 edi_99;
	bool C_100;
	word32 esi_101;
	byte CZ_102;
	byte SZO_103;
	eax_91();
	*(esp_93 - 0x04) = eax_96;
	globals->dw40E9C9 = *(esp_93 - 0x04);
	*(esp_93 - 0x04) = (union Eq_69 *) dwArg0C;
	up32 dwLoc08_119 = *(esp_93 - 0x04) - dwArg08 * 0x02 - 0x08;
	*(esp_93 - 0x04) = (union Eq_69 *) dwArg04;
	fn0040BDE2(dwArg00);
	*(esp_93 - 0x04) = (union Eq_69 *) dwArg0C;
	up32 ecx_127 = *(esp_93 - 0x04);
	*(esp_93 - 0x04) = globals->dw40E9C9;
	word32 * edi_134 = *(esp_93 - 0x04);
	while (dwLoc08_119 < ecx_127 - 0x08)
	{
		*(esp_93 - 0x04) = dwLoc08_119;
		*(esp_93 - 0x08) = 0x00;
		*edi_134 = fn0040BDFC(dwArg00, dwArg04);
		edi_134 = edi_134 + 0x01;
		dwLoc08_119 = dwLoc08_119 + 0x02;
	}
	*(esp_93 - 0x04) = globals->dw40E9C9;
	ptr32 esi_147 = *(esp_93 - 0x04) + globals->dw40E9D1;
	up32 ecx_149 = globals->dw40E9CD;
	while (ecx_149 > 0x00)
	{
		*(esp_93 - 0x04) = *(esi_147 - 0x04);
		*(esp_93 - 0x04) = *(esp_93 - 0x04);
		ecx_149 = fn0040BE57(ebp_94, dwArg00, out esi_147) - 0x01;
	}
}

// 0040BFEA: void fn0040BFEA(Register ptr32 ebp, Stack Eq_69 dwArg04, Stack Eq_69 dwArg08)
void fn0040BFEA(ptr32 ebp, Eq_69 dwArg04, Eq_69 dwArg08)
{
	word32 v7_14 = *dwArg04;
	word32 eax_21 = *((word32) dwArg04 + 0x04);
	globals->dw40E9D9 = dwArg08 - 0x08;
	<anonymous> * eax_41 = fn0040AAD9(0x0040AC10, globals->t40AC1D);
	ptr32 esp_43;
	word32 ebp_44;
	byte SCZO_45;
	word32 esi_46;
	word32 eax_47;
	eax_41();
	*(esp_43 - 0x04) = eax_47;
	globals->ptr40E9D5 = (byte *) *(esp_43 - 0x04);
	*(esp_43 - 0x04) = globals->dw40E9D9;
	*(esp_43 - 0x08) = (word32) dwArg04 + 0x08;
	*(esp_43 - 0x0C) = (byte **) globals->ptr40E9D5;
	*(esp_43 - 0x10) = globals->dw40AFC4;
	*(esp_43 - 0x14) = 0x0040AFBA;
	<anonymous> * eax_69 = fn0040AAD9(dwArg00, dwArg04);
	ptr32 esp_71;
	word32 ebp_72;
	byte SCZO_73;
	word32 esi_74;
	word32 eax_75;
	eax_69();
	*(esp_71 - 0x04) = (union Eq_69 *) dwArg08;
	*(esp_71 - 0x08) = eax_21;
	*(esp_71 - 0x0C) = v7_14;
	fn0040BED9(ebp_72, dwArg00, dwArg04, dwArg08);
}

// 0040C066: void fn0040C066(Stack Eq_69 dwArg04, Stack Eq_69 dwArg08, Stack Eq_69 dwArg0C)
void fn0040C066(Eq_69 dwArg04, Eq_69 dwArg08, Eq_69 dwArg0C)
{
	uint32 eax_12 = (uint32 *) 0x7FFE0008;
	do
	{
		uint32 eax_17 = (uint32 *) 0x7FFE0008;
	} while (eax_17 >> 0x13 == eax_12 >> 0x13);
	word32 v8_22 = dwArg04 - (eax_17 >> 0x13);
	uint32 eax_25 = (uint32 *) 0x7FFE0008;
	do
	{
		uint32 eax_30 = (uint32 *) 0x7FFE0008;
	} while (eax_30 >> 0x13 == eax_25 >> 0x13);
	uint32 eax_35 = (eax_30 >> 0x13) - 0x01;
	fn0040BFEA(fp - 0x04, v8_22 + eax_35, dwArg0C);
	byte * esi_114 = globals->ptr40E9D5;
	byte * edi_113 = globals->ptr40E9D5;
	up32 ecx_112 = globals->dw40E9D9;
	byte al_108 = 0x13;
	uint32 eax_107 = DPB(eax_35, 0x13, 0);
	while (ecx_112 > 0x00)
	{
		byte bl_102 = *esi_114;
		uint32 eax_106 = -DPB(eax_107, __rol(al_108, 0x03), 0);
		al_108 = (byte) (eax_106 + 0x01);
		*edi_113 = bl_102 ^ al_108;
		eax_107 = eax_106 + 0x01;
		ecx_112 = ecx_112 - 0x01;
		edi_113 = edi_113 + 0x01;
		esi_114 = esi_114 + 0x01;
	}
	union Eq_69 * eax_74 = fn0040ABCB(fp - 0x04, globals->ptr40E9D5 + 0x04);
	globals->t40E9E9 = *eax_74;
	globals->t40E9E5 = (char *) eax_74 + 0x04;
	if (dwArg08 != 0x00)
		fn0040AF8A(fp - 0x04, globals->t40E9E5, globals->t40E9E9, dwArg08);
}

// 0040C125: void fn0040C125(Register ptr32 ebp)
void fn0040C125(ptr32 ebp)
{
	fn0040A85C(fp - 0x98, 0x94);
	<anonymous> * eax_24 = fn0040AAD9(0x0040AC10, globals->t40C14B);
	ptr32 esp_26;
	word32 ebp_27;
	byte SCZO_28;
	word32 eax_29;
	bool C_30;
	eax_24();
	if (dwLoc94 >= 0x06)
	{
		*(esp_26 - 0x04) = 0x00;
		*(esp_26 - 0x08) = (union Eq_69 *) globals->t40C173;
		*(esp_26 - 0x0C) = 0x0040AC10;
		<anonymous> * eax_49 = fn0040AAD9(dwArg00, dwArg04);
		word32 esp_51;
		word32 ebp_52;
		byte SCZO_53;
		word32 eax_54;
		bool C_55;
		eax_49();
	}
}

// 0040C18D: Register Eq_108 Win32CrtStartup()
Eq_108 Win32CrtStartup()
{
	fn0040AD9C(ebp);
	fn0040C125(ebp);
	fn0040B533(ebp);
	fn0040BA3F(ebp);
	fn0040C066(4220604, fn0040AA43(0x0040C1A3, 0x00), 0x03BC);
	fn0040C066(0x00406A78, fn0040AA43(0x0040C1D1, 0x00), 0x3D47);
	globals->dw40E848 = 0x00;
	fn0040C066(4237247, fn0040AA43(0x0040C209, 0x00), 0x36);
	globals->dw40E848 = 0x01;
	fn0040B341(ebp);
	<anonymous> * eax_54 = fn0040AAD9(0x0040AC10, globals->t40C173);
	word32 esp_56;
	word32 eax_57;
	word32 ebp_58;
	eax_54();
	int3();
	return CloseHandle(tArg04);
}

// 0040C2F0: void fn0040C2F0(Register uint32 ebp, Stack Eq_69 dwArg04, Stack Eq_69 dwArg08)
void fn0040C2F0(uint32 ebp, Eq_69 dwArg04, Eq_69 dwArg08)
{
	Eq_69 esi_101 = dwArg04;
	Eq_69 edi_163 = dwArg08;
	uint8 dl_102 = 0x80;
	while (true)
	{
		*edi_163 = *esi_101;
		esi_101 = (word32) esi_101 + 0x01;
		edi_163 = (word32) edi_163 + 0x01;
		ui32 ebx_165 = 0x02;
		while (true)
		{
			dl_102 = dl_102 * 0x02;
			bool C_464 = (bool) cond(dl_102);
			if (dl_102 == 0x00)
			{
				dl_102 = *esi_101 * 0x02 + (dl_102 < 0x00);
				esi_101 = (word32) esi_101 + 0x01;
				C_464 = (bool) cond(dl_102);
			}
			if (C_464)
				break;
			dl_102 = dl_102 * 0x02;
			bool C_456 = (bool) cond(dl_102);
			if (dl_102 == 0x00)
			{
				dl_102 = *esi_101 * 0x02 + (dl_102 < 0x00);
				esi_101 = (word32) esi_101 + 0x01;
				C_456 = (bool) cond(dl_102);
			}
			if (C_456)
			{
				ui32 eax_256 = 0x01;
				do
				{
					uint8 dl_263 = dl_102 * 0x02;
					bool C_268 = (bool) cond(dl_263);
					if (dl_263 == 0x00)
					{
						dl_263 = *esi_101 * 0x02 + (dl_263 < 0x00);
						esi_101 = (word32) esi_101 + 0x01;
						C_268 = (bool) cond(dl_263);
					}
					dl_102 = dl_263 * 0x02;
					eax_256 = eax_256 * 0x02 + C_268;
					bool C_280 = (bool) cond(dl_102);
					if (dl_102 == 0x00)
					{
						dl_102 = *esi_101 * 0x02 + (dl_102 < 0x00);
						esi_101 = (word32) esi_101 + 0x01;
						C_280 = (bool) cond(dl_102);
					}
				} while (C_280);
				ui32 eax_288 = eax_256 - ebx_165;
				ebx_165 = 0x01;
				if (eax_288 == 0x00)
				{
					ui32 ecx_293 = 0x01;
					do
					{
						uint8 dl_298 = dl_102 * 0x02;
						bool C_303 = (bool) cond(dl_298);
						if (dl_298 == 0x00)
						{
							dl_298 = *esi_101 * 0x02 + (dl_298 < 0x00);
							esi_101 = (word32) esi_101 + 0x01;
							C_303 = (bool) cond(dl_298);
						}
						dl_102 = dl_298 * 0x02;
						ecx_293 = ecx_293 * 0x02 + C_303;
						bool C_314 = (bool) cond(dl_102);
						if (dl_102 == 0x00)
						{
							dl_102 = *esi_101 * 0x02 + (dl_102 < 0x00);
							esi_101 = (word32) esi_101 + 0x01;
							C_314 = (bool) cond(dl_102);
						}
					} while (C_314);
					byte * esi_325 = edi_163 - ebp;
					while (ecx_293 != 0x00)
					{
						*edi_163 = *esi_325;
						esi_325 = esi_325 + 0x01;
						edi_163 = (word32) edi_163 + 0x01;
						ecx_293 = ecx_293 - 0x01;
					}
				}
				else
				{
					uint32 eax_357 = DPB(eax_288 - 0x01 << 0x08, *esi_101, 0);
					Eq_69 esi_358 = (word32) esi_101 + 0x01 + 0x01;
					ebp = eax_357;
					ui32 ecx_361 = 0x01;
					do
					{
						uint8 dl_366 = dl_102 * 0x02;
						bool C_371 = (bool) cond(dl_366);
						if (dl_366 == 0x00)
						{
							dl_366 = *esi_358 * 0x02 + (dl_366 < 0x00);
							esi_358 = esi_358;
							C_371 = (bool) cond(dl_366);
						}
						dl_102 = dl_366 * 0x02;
						ecx_361 = ecx_361 * 0x02 + C_371;
						bool C_382 = (bool) cond(dl_102);
						if (dl_102 == 0x00)
						{
							dl_102 = *esi_358 * 0x02 + (dl_102 < 0x00);
							esi_358 = (word32) esi_358 + 0x01;
							C_382 = (bool) cond(dl_102);
						}
					} while (C_382);
					ui32 ecx_401 = ecx_361 - ~0x00 - (eax_357 < 0x7D00) - ~0x00 - (eax_357 < 0x0500) + (eax_357 < 0x80) + (eax_357 < 0x80);
					byte * esi_405 = edi_163 - eax_357;
					while (ecx_401 != 0x00)
					{
						*edi_163 = *esi_405;
						esi_405 = esi_405 + 0x01;
						edi_163 = (word32) edi_163 + 0x01;
						ecx_401 = ecx_401 - 0x01;
					}
					esi_101 = esi_358;
				}
				continue;
			}
			dl_102 = dl_102 * 0x02;
			bool C_100 = (bool) cond(dl_102);
			if (dl_102 == 0x00)
			{
				dl_102 = *esi_101 * 0x02 + (dl_102 < 0x00);
				esi_101 = (word32) esi_101 + 0x01;
				C_100 = (bool) cond(dl_102);
			}
			if (C_100)
			{
				bu8 al_203 = *esi_101;
				Eq_69 esi_204 = (word32) esi_101 + 0x01;
				uint32 eax_207 = (word32) (al_203 >> 0x01);
				if (al_203 >> 0x01 == 0x00)
					return;
				else
				{
					Eq_5249 ecx_212 = (al_203 >> 0x01 < 0x00) + 0x02;
					ebp = eax_207;
					byte * esi_217 = edi_163 - eax_207;
					while (ecx_212 != 0x00)
					{
						*edi_163 = *esi_217;
						esi_217 = esi_217 + 0x01;
						edi_163 = (word32) edi_163 + 0x01;
						ecx_212 = ecx_212 - 0x01;
					}
					esi_101 = esi_204;
					ebx_165 = 0x01;
					continue;
				}
			}
			uint8 dl_108 = dl_102 * 0x02;
			bool C_113 = (bool) cond(dl_108);
			if (dl_108 == 0x00)
			{
				dl_108 = *esi_101 * 0x02 + (dl_108 < 0x00);
				esi_101 = (word32) esi_101 + 0x01;
				C_113 = (bool) cond(dl_108);
			}
			uint8 dl_120 = dl_108 * 0x02;
			bool C_125 = (bool) cond(dl_120);
			if (dl_120 == 0x00)
			{
				dl_120 = *esi_101 * 0x02 + (dl_120 < 0x00);
				esi_101 = (word32) esi_101 + 0x01;
				C_125 = (bool) cond(dl_120);
			}
			uint8 dl_132 = dl_120 * 0x02;
			ui32 eax_130 = C_113 * 0x02 + C_125;
			bool C_137 = (bool) cond(dl_132);
			if (dl_132 == 0x00)
			{
				dl_132 = *esi_101 * 0x02 + (dl_132 < 0x00);
				esi_101 = (word32) esi_101 + 0x01;
				C_137 = (bool) cond(dl_132);
			}
			dl_102 = dl_132 * 0x02;
			ui32 eax_142 = eax_130 * 0x02 + C_137;
			bool C_149 = (bool) cond(dl_102);
			if (dl_102 == 0x00)
			{
				dl_102 = *esi_101 * 0x02 + (dl_102 < 0x00);
				esi_101 = (word32) esi_101 + 0x01;
				C_149 = (bool) cond(dl_102);
			}
			ui32 eax_155 = eax_142 * 0x02 + C_149;
			byte al_156 = (byte) eax_155;
			if (eax_155 != 0x00)
				al_156 = *(edi_163 - eax_155);
			*edi_163 = al_156;
			edi_163 = (word32) edi_163 + 0x01;
			ebx_165 = 0x02;
		}
	}
}

