// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: void fn00401000()
void fn00401000()
{
}

// 00401201: void fn00401201(Register cui16 ax, Register (ptr byte) ebp)
void fn00401201(cui16 ax, byte * ebp)
{
}

// 0040126F: Register word32 fn0040126F(Register (ptr byte) esi, Register (ptr byte) edi)
word32 fn0040126F(byte * esi, byte * edi)
{
}

// 00401287: Register byte fn00401287(Register Eq_79 eax, Register Eq_79 ebx, Register out ptr32 ebpOut)
byte fn00401287(Eq_79 eax, Eq_79 ebx, ptr32 & ebpOut)
{
	word32 * esp_6;
	word32 ebp_7;
	word32 eax_8;
	byte SCZO_9;
	byte Z_10;
	word32 esi_12;
	word32 edi_13;
	word32 edx_14;
	word32 ecx_15;
	word16 ax_16;
	byte SZO_17;
	byte C_18;
	byte al_19;
	Eq_79 ebx_11;
	globals->t4081C6();
	if (eax_8 == ~0x01)
		ebx_11 = globals->t4020F5;
	*(esp_6 - 0x04) = 0x004020F5;
	word32 ebp_30 = Mem26[ebx_11 + Mem26[ebx_11 + 0x3C:word32] + 0x78:word32] + ebx_11;
	word32 edi_34 = Mem26[Mem26[ebp_30 + 0x20:word32] + ebx_11:word32] + ebx_11;
	*(esp_6 - 0x04) = *(esp_6 - 0x04);
	word16 * eax_46 = (word32) ebx_11 + ebp_30->dw0024 + 0x02 + fn0040126F(&globals->t4020F5, edi_34) * 0x02 - ebp_30->dw0010 * 0x02;
	word32 eax_53 = (word32) ebx_11 + *((word32) ((word32) ebx_11 + ebp_30->dw001C) + (DPB(eax_46, *eax_46, 0) & 0xFFFF) * 0x04);
	**(esp_6 - 0x04) = eax_53;
	word32 ebp_60;
	*ebpOut = *esp_6;
	return (byte) eax_53;
}

// 004012E7: Register Eq_181 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	esp = fp;
	esp = fp - 0x04;
	dwLoc04 = 0x00402072;
	eax = LoadLibraryA(&globals->t402072);
	globals->t4020F5 = eax;
	esp = fp - 0x08;
	dwLoc08 = 0x00402048;
	v4 = globals->t4020F5;
	esp = fp - 0x0C;
	dwLoc0C = v4;
	eax = GetProcAddress(dwLoc0C, &globals->t402048);
	globals->t4081C6 = eax;
	eax = globals->t4081C6;
	al = (byte) eax;
	ax = (word16) eax;
	fn00401201(ax, ebp);
	globals->t4020F5 = eax;
	globals->t4081C6();
	SCZO = cond(eax - ~0x01);
	Z = SCZO;
	SZO = SCZO;
	C = SCZO;
	do
		;
	while (Test(NE,Z));
	al = fn00401287(eax, ebx, out ebp);
	eax = DPB(eax, al, 0);
	ax = DPB(ax, al, 0);
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) 0x00;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) ~0x02;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) 0xE0380F01;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) 0x5294A508;
	ecx = 0x4488;
	ecx = 22877;
	ecx = 15751731;
	SCZO = cond(15751731);
	do
	{
		al = al ^ *ebp;
		__wait();
		__fninit();
		eax = 0x00;
		al = (byte) eax;
		ax = (word16) eax;
		SZO = cond(0x00);
		C = false;
		ecx = ecx - 0x01;
	} while (ecx != 0x00);
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) 0x004020A5;
	v12 = globals->t4020F5;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) v12;
	eax = GetProcAddress(esp->t0000, esp->t0004);
	ExitProcess = eax;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) 0x00402072;
	eax = LoadLibraryA(esp->t0000);
	globals->t4020F5 = eax;
	v13 = globals->t4020F5;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) v13;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) ~0x08BF;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) 4226744;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) 0x00405BB8;
	fn00401000();
	eax = esp->t0000;
	esp = &esp->t0004;
	globals->t405BBA = eax;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) &globals->t402048;
	v14 = globals->t4020F5;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) v14;
	eax = GetProcAddress(esp->t0000, esp->t0004);
	globals->t4081C6 = eax;
	globals->b40205A = 0x4C;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) &globals->t40207F;
	v15 = globals->t4020F5;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) v15;
	eax = GetProcAddress(esp->t0000, esp->t0004);
	globals->t4020F9 = eax;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) &globals->t40203B;
	v16 = globals->t4020F5;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) v16;
	eax = GetProcAddress(esp->t0000, esp->t0004);
	globals->t4020FD = eax;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) &globals->t402067;
	eax = LoadLibraryA(esp->t0000);
	al = (byte) eax;
	ax = (word16) eax;
	SZO = cond(eax & eax);
	Z = SZO;
	C = false;
	if (Test(EQ,Z))
	{
		eax = 0x00;
		C = false;
		eax = 0x01;
		al = (byte) eax;
		ax = (word16) eax;
		SZO = cond(0x01);
		globals->dw405BBE = 0x01;
	}
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) &globals->t402023;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) eax;
	eax = GetProcAddress(esp->t0000, esp->t0004);
	al = (byte) eax;
	ax = (word16) eax;
	SZO = cond(eax & eax);
	Z = SZO;
	C = false;
	if (Test(EQ,Z))
	{
		eax = 0x00;
		C = false;
		eax = 0x01;
		al = (byte) eax;
		ax = (word16) eax;
		SZO = cond(0x01);
		globals->dw405BBE = 0x01;
	}
	globals->t403EB7 = eax;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) null;
	globals->t4020F9();
	globals->t4020C1 = eax;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) &globals->t40209A;
	eax = LoadLibraryA(esp->t0000);
	ebx = eax;
	edi = 0x00402105;
	esi = &globals->ptr402187;
	eax = fn00401547(ebx, esi, edi);
	al = (byte) eax;
	ax = (word16) eax;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) (CHAR *) 0x7F00;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) null;
	globals->ptr40218B();
	globals->t4020C5 = eax;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) (CHAR *) 0x7F00;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) null;
	globals->ptr40218F();
	globals->t4020C9 = eax;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) &globals->t4020B1;
	globals->ptr402193();
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) null;
	v20 = globals->t4020C1;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) v20;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) null;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) null;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) (CHAR *) 0xC0;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) (CHAR *) 0x0100;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) (CHAR *) ~0x03E7;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) (CHAR *) ~0x03E7;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) (CHAR *) 0x00480000;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) &globals->t402005;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) &globals->t402015;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) null;
	globals->ptr402187();
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) (CHAR *) 0x80;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) (CHAR *) ~0x13;
	esp = esp - 0x04;
	esp->t0000 = (LPCSTR) eax;
	globals->ptr4021A7();
	while (true)
	{
		esp = esp - 0x04;
		esp->t0000 = (LPCSTR) null;
		esp = esp - 0x04;
		esp->t0000 = (LPCSTR) null;
		esp = esp - 0x04;
		esp->t0000 = (LPCSTR) null;
		esp = esp - 0x04;
		esp->t0000 = (LPCSTR) &globals->t4020D9;
		globals->ptr402197();
		esp = esp - 0x04;
		esp->t0000 = (LPCSTR) &globals->t4020D9;
		globals->ptr40219F();
	}
}

// 00401547: Register word32 fn00401547(Register Eq_79 ebx, Register (ptr word32) esi, Register Eq_79 edi)
word32 fn00401547(Eq_79 ebx, word32 * esi, Eq_79 edi)
{
}

