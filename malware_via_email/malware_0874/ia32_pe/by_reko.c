// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: void fn00401000(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00401000(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem20[0x004040E0:word32] = Mem0[0x004040E0:word32] << 0x55;
	Mem23[0x004040E0:word32] = Mem20[0x004040D8:word32];
	CopyRect(fp - 0x3C, fp - 44);
	word32 dwLoc0C_40 = 0x00;
	while (dwLoc0C_40 < dwArg0C)
	{
		Mem69[dwArg04 + dwLoc0C_40:byte] = Mem23[dwArg08 + dwLoc0C_40:byte];
		dwLoc0C_40 = dwLoc0C_40 + 0x01;
	}
}

// 004010C0: void fn004010C0(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn004010C0(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	Mem10[0x004040C0:word32] = Mem0[0x004040E0:word32] >> ~0x45;
	Mem14[0x004040E0:word32] = dwLoc30;
	GetTextFaceA(GetDC(GetDesktopWindow()), 0xFF, fp - 0x0134);
	if (true)
		Mem245[0x004040E0:word32] = dwLoc30 >> (byte) Mem14[0x004040C0:word32];
	if (dwArg0C >=u 0x01)
	{
		byte dl_74 = Mem14[dwArg04 + 0x00:byte];
		word32 dwLoc0C_114 = 0x01;
		word32 dwLoc1C_110 = 0x00;
		do
		{
			word32 edx_92 = dwLoc0C_114 + 0x01;
			byte cl_89 = Mem14[dwArg04 + dwLoc0C_114:byte];
			dwLoc0C_114 = edx_92;
			word32 eax_97 = Mem14[0x004040FC:word32] << (byte) Mem14[0x004040EC:word32];
			if ((word32) cl_89 == (word32) dl_74)
			{
				if ((word32) Mem14[dwArg04 + edx_92:byte] == 0x00)
				{
					Mem143[dwArg08 + dwLoc1C_110:byte] = dl_74;
					Mem154[0x004040FC:word32] = Mem143[0x004040EC:word32] << (byte) (dwLoc10 * 0x02) >> 0x25;
					dwLoc1C_110 = dwLoc1C_110 + 0x01;
					dwLoc0C_114 = edx_92 + 0x01;
				}
				else
				{
					Mem161[0x004040FC:word32] = Mem14[0x004040EC:word32] *s 0x000BF8FD;
					word32 eax_172 = fn004012B0(fp - 0x14, dwArg04 + edx_92) + edx_92;
					Mem177[0x004040FC:word32] = Mem161[0x004040EC:word32] + eax_97 + dwLoc10;
					dwLoc0C_114 = fn004012B0(fp - 44, dwArg04 + eax_172) + eax_172;
					word32 dwLoc20_191 = 0x00;
					while (dwLoc20_191 <u dwLoc14)
					{
						Mem217[dwArg08 + dwLoc1C_110:byte] = Mem177[dwArg08 + (dwLoc1C_110 - dwLoc2C):byte];
						dwLoc1C_110 = dwLoc1C_110 + 0x01;
						dwLoc20_191 = dwLoc20_191 + 0x01;
					}
				}
			}
			else
			{
				Mem229[dwArg08 + dwLoc1C_110:byte] = cl_89;
				dwLoc1C_110 = dwLoc1C_110 + 0x01;
			}
		} while (dwLoc0C_114 <u dwArg0C);
	}
}

// 004012B0: Register word32 fn004012B0(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn004012B0(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc0C_13 = 0x00;
	word32 dwLoc28_15 = 0x00;
	do
	{
		word32 ecx_18 = (word32) Mem0[dwArg08 + 0x00:byte];
		Mem26[0x004040EC:word32] = Mem0[0x004040C4:word32] *s dwLoc2C;
		word32 ecx_31 = dwLoc0C_13 << 0x07 | ecx_18 & 0x7F;
		word32 ecx_38 = dwLoc28_15 + 0x01;
		dwArg08 = dwArg08 + 0x01;
		dwLoc0C_13 = ecx_31;
		dwLoc28_15 = ecx_38;
	} while ((ecx_18 & 0x80) != 0x00);
	Mem48[dwArg04 + 0x00:word32] = ecx_31;
	return ecx_38;
}

// 00401330: Register word32 fn00401330(Stack word32 dwArg04)
word32 fn00401330(word32 dwArg04)
{
	word32 eax_37;
	word32 eax_29 = CreateFileA(dwArg04, 0x80000000, 0x01, 0x00, 0x03, 0x80, 0x00);
	if (eax_29 == ~0x00)
		eax_37 = 0x00;
	else
		eax_37 = eax_29;
	return eax_37;
}

// 00401390: void fn00401390(Stack word32 dwArg04, Stack byte bArg08, Stack word32 dwArg0C)
void fn00401390(word32 dwArg04, byte bArg08, word32 dwArg0C)
{
	Mem9[0x004040C4:word32] = LoadBitmapW;
	word32 dwLoc0C_10 = 0x00;
	while (dwLoc0C_10 < dwArg0C)
	{
		Mem27[dwArg04 + dwLoc0C_10:byte] = bArg08;
		dwLoc0C_10 = dwLoc0C_10 + 0x01;
	}
}

// 004013E0: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	word32 edx_22 = 0x000E116E >> (byte) ((Mem0[0x004040EC:word32] + 0x0001C55A) + Mem0[0x004040C4:word32]);
	Mem25[0x004040EC:word32] = GetMonitorInfoW;
	Mem27[0x004040FC:word32] = GetMenuItemInfoW;
	Mem34[0x004040FC:word32] = 0x000D24CD - edx_22;
	GetModuleHandleA(0x00);
	Mem48[0x004040FC:word32] = Mem34[0x004040FC:word32] << (byte) Mem34[0x004040FC:word32] << (byte) Mem34[0x004040FC:word32];
	LoadIconA(GetModuleHandleA(0x00), 0x00404000);
	LoadCursorA(0x00, 0x7F00);
	Mem71[0x004040C4:word32] = Mem48[0x004040EC:word32] *s dwLoc24 + 0x00029170;
	Mem77[0x004040FC:word32] = Mem71[0x004040C4:word32] + ~0x000AD87F + edx_22 >> 0x7C;
	Mem79[0x004040FC:word32] = 721557;
	Mem86[0x004040FC:word32] = 666473 << (byte) dwLoc0C;
	word16 ax_90 = RegisterClassA(fp - 188);
	if (dwArg08 != 0x01)
		Mem787[0x004040E8:word32] = 0x00;
	else
	{
		Mem788[0x004040E8:word32] = 0x01;
		Mem790[0x004040D0:word32] = dwArg04;
	}
	word32 dwLoc30_136;
	CreateWindowExA(0x00, 0x00404044, 0x00404034, 0x01, 340340, 2302297, 808, 0x6873, 0x00, 0x00, GetModuleHandleA(0x00), 0x00);
	Mem127[0x004040FC:word32] = LoadAcceleratorsW;
	if (Mem127[0x004040E8:word32] == 0x00)
		dwLoc30_136 = GetModuleHandleA(0x00);
	else
		dwLoc30_136 = dwArg04;
	Mem148[0x004040E0:word32] = Mem127[0x004040BC:word32];
	CopyRect(fp - 220, fp - 0xCC);
	Mem157[0x004040C8:word32] = 0x00;
	Mem161[0x004040FC:word32] = CharUpperW;
	word32 ecx_171 = dwLoc30_136 + Mem161[dwLoc30_136 + 0x3C:word32];
	fn00401390(fp - 0x7C, 0x00, 0x44);
	GetStartupInfoA(fp - 0x7C);
	Mem197[0x004040EC:word32] = EnumThreadWindows;
	if (true)
		return 0x00;
	Mem291[0x004040C4:word32] = 988983 - Mem197[0x004040FC:word32] - dwLoc0C + Mem197[0x004040C4:word32];
	Mem292[0x004040BC:word32] = 0x00166D1E;
	word32 eax_297 = LoadCursorA(0x00, 0x00404068);
	if (eax_297 != 0x00)
		SetCursor(eax_297);
	Mem310[0x004040EC:word32] = MoveWindow;
	word32 eax_320 = ((word32) Mem310[ecx_171 + 0x06:word16] - 0x01) *s 0x28 + ((ecx_171 + 0x18) + (word32) Mem310[ecx_171 + 0x14:word16]);
	word32 eax_336 = (uint32) ((uint64) (uint32) (Mem310[eax_320 + 0x10:word32] - 0x01 + Mem310[ecx_171 + 0x3C:word32]) /u Mem310[ecx_171 + 0x3C:word32]) *s Mem310[ecx_171 + 0x3C:word32] + Mem310[eax_320 + 0x14:word32];
	Mem340[0x004040FC:word32] = EnumDisplaySettingsExA;
	word32 dwLoc28_302 = 2255859;
	word32 eax_343 = fn00402690(0x0200);
	if (eax_343 == 0x00)
		return 0x00;
	Mem354[0x004040C4:word32] = IsClipboardFormatAvailable;
	GetModuleFileNameA(dwLoc30_136, eax_343, 0x0200);
	Mem367[0x004040BC:word32] = 4287546642;
	word32 eax_372 = LoadCursorA(0x00, 0x00404090);
	if (eax_372 != 0x00)
	{
		SetCursor(eax_372);
		dwLoc28_302 = 6303100;
	}
	Mem383[0x004040BC:word32] = dwLoc28_302 *s dwLoc28_302 << (byte) dwLoc28_302;
	word32 eax_394 = fn00401330(eax_343);
	if (eax_394 == 0x00)
		return 0x00;
	word32 edx_409 = Mem383[0x004040FC:word32] >> (byte) (Mem383[0x004040C4:word32] *s 0x0001F3F6 + 464538);
	Mem412[0x004040FC:word32] = ToAsciiEx;
	word32 eax_420 = GetFileSize(eax_394, 0x00) - eax_336;
	Mem425[0x004040EC:word32] = BroadcastSystemMessageW;
	if (eax_420 == 0x00)
		return 0x00;
	word32 eax_436 = fn00402690(eax_420 + 0x10);
	if (eax_436 == 0x00)
		return 0x00;
	SetFilePointer(eax_394, eax_336, 0x00, 0x00);
	if (ReadFile(eax_394, eax_436, eax_420, fp - 0x84, 0x00) == 0x00 || dwLoc84 != eax_420)
		return 0x00;
	Mem498[0x004040EC:word32] = SetMenuInfo;
	Mem507[0x004040FC:word32] = 0x0005A588 << (byte) edx_409 >> (byte) (Mem498[0x004040EC:word32] *s edx_409);
	CloseHandle(eax_394);
	Mem514[0x004040C4:word32] = RegisterClassExA;
	if (dwLoc84 != eax_420)
		return 0x00;
	Mem524[0x004040EC:word32] = SubtractRect;
	fn00401000(eax_436, eax_436 - 0x40 + eax_420, 0x40);
	Mem537[0x004040EC:word32] = GetMenuDefaultItem;
	word32 dwLoc28_539 = dwLoc28_302;
	if (GetBkColor(0x0015C561) == ~0x00)
	{
		Mem748[0x004040BC:word32] = Mem537[0x004040C8:word32] - 0x00505D23;
		dwLoc28_539 = dwLoc28_302 << (byte) (Mem748[0x004040E0:word32] + Mem748[0x004040D8:word32]);
	}
	Mem551[0x004040D8:word32] = dwLoc28_539 - Mem537[0x004040C8:word32] << ~0x79;
	word32 edx_553 = Mem551[eax_436 + 0x00:word32];
	Mem556[0x004040C4:word32] = EnumClipboardFormats;
	Mem559[0x004040D8:word32] = dwLoc28_539 *s 4383850;
	GetBkColor(0x9963) != ~0x00;
	word32 edx_574 = Mem559[eax_436 + 0x04:word32];
	word32 dwLoc10_576 = 0x00;
	while (dwLoc10_576 <u edx_553)
	{
		Mem590[eax_436 + dwLoc10_576 + 0x08:word32] = Mem559[eax_436 + dwLoc10_576 + 0x08:word32] ^ 3322;
		dwLoc10_576 = dwLoc10_576 + 0x08;
	}
	Mem604[0x004040E4:word32] = fn00402690(edx_574);
	if (Mem604[0x004040E4:word32] != 0x00)
	{
		fn004010C0(eax_436 + 0x08, Mem604[0x004040E4:word32], edx_553);
		word32 edx_627 = 0x000157CC << (byte) Mem604[0x004040C4:word32];
		Mem636[0x004040EC:word32] = Mem604[0x004040C4:word32] << (byte) Mem604[0x004040FC:word32];
		Mem639[0x004040F4:word32] = Mem636[fs:0x18:word32];
		Mem641[0x004040CC:word32] = edi;
		Mem642[0x004040B8:word32] = esi;
		Mem643[0x004040DC:word32] = ebx;
		Mem650[0x004040D4:word32] = fp - 0x04;
		Mem655[0x004040FC:word32] = dwLoc18 - 971343 - ((0x00 >> (byte) edx_627) >> ~0x22);
		if (Mem655[0x004040E8:word32] != 0x00)
			fn00401C70(0x00401B9A - Mem655[0x004040D0:word32]);
		else
			fn00401C70(0x00401B9A - GetModuleHandleA(0x00));
		if (fn00401F00(Mem655[0x004040E4:word32]) != 0x00)
		{
			Mem684[0x004040EC:word32] = Mem655[0x004040EC:word32] >> (byte) Mem655[(fp - 0x14) + 0x00:word32] >> (byte) Mem655[(fp - 0x18) + 0x00:word32];
			Mem688[0x004040FC:word32] = Mem684[0x004040C4:word32] - 585083;
			Mem692[0x004040FC:word32] = Mem688[fp - 0x0C + 0x00:word32] << ~0x36;
			word32 edx_698 = 0x0A7D << (byte) (Mem692[(fp - 0x14) + 0x00:word32] *s Mem692[(fp - 0x24) + 0x00:word32]);
			Mem699[0x004040FC:word32] = edx_698;
			word32 ecx_705 = Mem699[0x004040EC:word32];
			byte cl_706 = (byte) ecx_705;
			word32 eax_707 = Mem699[0x004040FC:word32] << (byte) Mem699[(fp - 0x0C) + 0x00:word32] >> cl_706;
			Mem709[fp - 0x18 + 0x00:word32] = eax_707;
			word32 esp_710;
			word32 ebp_711;
			byte SCZO_712;
			word32 ebx_713;
			word32 esi_714;
			word32 edi_715;
			word32 eax_716;
			word32 ecx_717;
			word32 edx_718;
			byte cl_719;
			word16 ax_720;
			bool Z_721;
			byte SZO_722;
			bool C_723;
			selector fs_724;
			Mem709[0x004040F8:word32]();
			return eax_716;
		}
		else
		{
			fn00402650(Mem655[0x004040E4:word32]);
			ExitProcess(0x00582353);
		}
	}
	else
		ExitProcess(0x01795716);
}

// 00401C70: void fn00401C70(Stack word32 dwArg04)
void fn00401C70(word32 dwArg04)
{
	word32 dwLoc3C_16;
	Mem11[0x004040EC:word32] = GetKeyboardLayout;
	Mem13[0x004040C4:word32] = LoadMenuIndirectW;
	if (Mem13[0x004040E8:word32] != 0x00)
		dwLoc3C_16 = Mem13[0x004040D0:word32];
	else
		dwLoc3C_16 = GetModuleHandleA(0x00);
	if (dwLoc3C_16 == 0x00)
		return;
	Mem84[0x004040C4:word32] = GetKeyboardType;
	Mem88[0x004040C4:word32] = Mem84[0x004040EC:word32] *s dwLoc2C *s 0x00059D4E;
	word32 eax_91 = dwLoc3C_16 + Mem88[dwLoc3C_16 + 0x3C:word32];
	Mem105[0x004040F0:word32] = VirtualAlloc(0x00, Mem88[eax_91 + 0x50:word32], 0x3000, 0x40);
	if (Mem105[0x004040F0:word32] == 0x00)
		return;
	word32 ecx_123 = Mem105[0x004040F0:word32];
	fn00401000(ecx_123, dwLoc3C_16, Mem105[eax_91 + 0x50:word32]);
	word32 edx_128 = Mem105[0x004040F0:word32] - dwLoc3C_16;
	if (Mem105[eax_91 + 0xA4:word32] != 0x00)
	{
		word32 dwLoc14_166 = dwLoc3C_16 + Mem105[eax_91 + 0xA0:word32];
		while (Mem105[dwLoc14_166 + 0x04:word32] != 0x00)
		{
			word32 edx_190 = Mem105[dwLoc14_166 + 0x04:word32] - 0x08 >>u 0x01;
			word32 ecx_198 = dwLoc14_166 + 0x08;
			word32 dwLoc0C_205 = 0x00;
			while (dwLoc0C_205 <u edx_190)
			{
				if ((word32) ecx_198[dwLoc0C_205 * 0x02] >> 0x0C == 0x03)
					Mem255[Mem105[0x004040F0:word32] + Mem105[dwLoc14_166 + 0x00:word32] + ((word32) ecx_198[dwLoc0C_205 * 0x02] & 0x0FFF):word32] = Mem105[Mem105[0x004040F0:word32] + Mem105[dwLoc14_166 + 0x00:word32] + ((word32) ecx_198[dwLoc0C_205 * 0x02] & 0x0FFF):word32] + edx_128;
				dwLoc0C_205 = dwLoc0C_205 + 0x01;
			}
			dwLoc14_166 = dwLoc14_166 + Mem105[dwLoc14_166 + 0x04:word32];
		}
	}
	word32 eax_147 = dwArg04 + Mem105[0x004040F0:word32];
	word32 esp_151;
	word32 ebp_152;
	byte SCZO_153;
	word32 esi_154;
	word32 eax_155;
	word32 ecx_156;
	bool Z_157;
	word32 edx_158;
	byte SZO_159;
	bool C_160;
	byte cl_161;
	eax_147();
}

// 00401F00: Register word32 fn00401F00(Stack word32 dwArg04)
word32 fn00401F00(word32 dwArg04)
{
	word32 eax_279;
	word32 edx_16 = dwArg04 + Mem0[dwArg04 + 0x3C:word32];
	word32 dwLoc2C_122 = edx_16 + 0x18 + (word32) Mem0[edx_16 + 0x14:word16];
	word32 eax_33 = VirtualAlloc(0x00, Mem0[edx_16 + 0x50:word32], 0x3000, 0x40);
	if (eax_33 != 0x00)
	{
		Mem98[0x004040C4:word32] = 0x00 << (byte) (dwLoc20 - Mem0[0x004040C4:word32]);
		fn00401000(eax_33, dwArg04, Mem98[dwArg04 + 0x3C:word32] + 0x0138 + (word32) Mem98[edx_16 + 0x06:word16] *s 0x28);
		word32 dwLoc10_116 = 0x00;
		while (dwLoc10_116 <u (word32) Mem98[edx_16 + 0x06:word16])
		{
			Mem131[0x004040FC:word32] = 0x00;
			if (Mem131[dwLoc2C_122 + 0x14:word32] != 0x00 && Mem131[dwLoc2C_122 + 0x10:word32] != 0x00)
				fn00401000(eax_33 + Mem131[dwLoc2C_122 + 0x0C:word32], dwArg04 + Mem131[dwLoc2C_122 + 0x14:word32], (uint32) ((uint64) (uint32) (Mem131[dwLoc2C_122 + 0x10:word32] - 0x01 + Mem131[edx_16 + 0x3C:word32]) /u Mem131[edx_16 + 0x3C:word32]) *s Mem131[edx_16 + 0x3C:word32]);
			Mem144[0x004040FC:word32] = Mem131[0x004040FC:word32] *s dwLoc30;
			dwLoc2C_122 = dwLoc2C_122 + 0x28;
			dwLoc10_116 = dwLoc10_116 + 0x01;
		}
		word32 edx_188 = eax_33 + Mem98[eax_33 + 0x3C:word32];
		word32 dwLoc54_194 = eax_33 + Mem98[edx_188 + 0x80:word32];
		while (Mem98[dwLoc54_194 + 0x10:word32] != 0x00)
		{
			word32 eax_219 = GetModuleHandleA(eax_33 + Mem98[dwLoc54_194 + 0x0C:word32]);
			word32 dwLoc18_221 = eax_219;
			if (eax_219 == 0x00)
			{
				if (Mem98[0x004040E8:word32] != 0x00)
				{
					eax_279 = 0x00;
					return eax_279;
				}
				word32 eax_357 = LoadLibraryA(eax_33 + Mem98[dwLoc54_194 + 0x0C:word32]);
				dwLoc18_221 = eax_357;
				dwLoc20 = Mem98[0x004040C4:word32] *s 0x000E3550 *s dwLoc24;
				if (eax_357 == 0x00)
				{
					eax_279 = 0x00;
					return eax_279;
				}
			}
			word32 dwLoc40_239;
			word32 dwLoc28_238;
			dwLoc30 = Mem98[0x004040FC:word32] << (byte) (dwLoc24 + Mem98[0x004040EC:word32]);
			if (Mem98[dwLoc54_194 + 0x00:word32] != 0x00)
			{
				dwLoc28_238 = eax_33 + Mem98[dwLoc54_194 + 0x00:word32];
				dwLoc40_239 = eax_33 + Mem98[dwLoc54_194 + 0x10:word32];
			}
			else
			{
				dwLoc28_238 = eax_33 + Mem98[dwLoc54_194 + 0x10:word32];
				dwLoc40_239 = eax_33 + Mem98[dwLoc54_194 + 0x00:word32];
			}
			word32 dwLoc14_242 = 0x00;
			if (Mem98[dwLoc54_194 + 0x10:word32] != 0x00 && Mem98[dwLoc54_194 + 0x00:word32] != 0x00)
				dwLoc14_242 = 0x01;
			while (Mem98[dwLoc28_238 + 0x00:word32] != 0x00)
			{
				dwLoc30 = Mem98[0x004040C4:word32] - dwLoc20;
				if ((Mem98[dwLoc28_238 + 0x00:word32] & 0x80000000) != 0x00)
					Mem310[dwLoc28_238 + 0x00:word32] = GetProcAddress(dwLoc18_221, Mem98[dwLoc28_238 + 0x00:word32] & 0x7FFFFFFF);
				else
					Mem323[dwLoc28_238 + 0x00:word32] = GetProcAddress(dwLoc18_221, Mem98[dwLoc28_238 + 0x00:word32] + 0x02 + eax_33);
				if (Mem98[dwLoc28_238 + 0x00:word32] == 0x00)
				{
					eax_279 = 0x00;
					return eax_279;
				}
				if (dwLoc14_242 != 0x00)
					Mem296[dwLoc40_239 + 0x00:word32] = Mem98[dwLoc28_238 + 0x00:word32];
				dwLoc28_238 = dwLoc28_238 + 0x04;
				dwLoc40_239 = dwLoc40_239 + 0x04;
			}
			dwLoc54_194 = dwLoc54_194 + 0x14;
		}
		if (Mem98[0x004040E8:word32] != 0x00)
		{
			word32 ecx_695 = Mem98[0x004040D0:word32] - Mem98[edx_188 + 0x34:word32];
			if (Mem98[edx_188 + 0xA4:word32] != 0x00)
			{
				word32 dwLoc1C_704 = eax_33 + Mem98[edx_188 + 0xA0:word32];
				while (Mem98[dwLoc1C_704 + 0x04:word32] != 0x00)
				{
					word32 ecx_720 = Mem98[dwLoc1C_704 + 0x04:word32] - 0x08 >>u 0x01;
					word32 edx_723 = dwLoc1C_704 + 0x08;
					word32 dwLoc10_726 = 0x00;
					while (dwLoc10_726 <u ecx_720)
					{
						dwLoc30 = 0x00;
						if ((word32) edx_723[dwLoc10_726 * 0x02] >> 0x0C == 0x03)
							Mem769[eax_33 + Mem98[dwLoc1C_704 + 0x00:word32] + ((word32) edx_723[dwLoc10_726 * 0x02] & 0x0FFF):word32] = Mem98[eax_33 + Mem98[dwLoc1C_704 + 0x00:word32] + ((word32) edx_723[dwLoc10_726 * 0x02] & 0x0FFF):word32] + ecx_695;
						dwLoc10_726 = dwLoc10_726 + 0x01;
					}
					dwLoc1C_704 = dwLoc1C_704 + Mem98[dwLoc1C_704 + 0x04:word32];
				}
			}
		}
		word32 eax_398 = CreateFileMappingA(~0x00, 0x00, 0x04, 0x00, Mem98[edx_188 + 0x50:word32], 0x00);
		if (eax_398 != 0x00)
		{
			Mem409[0x004040FC:word32] = dwLoc20 + 0x00073B70;
			if (Mem409[0x004040E8:word32] != 0x00)
				Mem674[0x004040F0:word32] = MapViewOfFileEx(eax_398, 0x22, 0x00, 0x00, 0x00, Mem409[0x004040D0:word32]);
			else
				Mem692[0x004040F0:word32] = MapViewOfFileEx(eax_398, 0x22, 0x00, 0x00, 0x00, Mem409[edx_188 + 0x34:word32]);
			if (Mem409[0x004040F0:word32] == 0x00)
			{
				dwLoc30 = dwLoc20 << (byte) (dwLoc24 *s dwLoc30);
				if (Mem409[0x004040E8:word32] != 0x00)
				{
					if (UnmapViewOfFile(Mem409[0x004040D0:word32]) == 0x00 && VirtualFree(Mem409[0x004040D0:word32], 0x00, 0x8000) == 0x00)
					{
						eax_279 = 0x00;
						return eax_279;
					}
				}
				else if (UnmapViewOfFile(Mem409[edx_188 + 0x34:word32]) == 0x00 && VirtualFree(Mem409[edx_188 + 0x34:word32], 0x00, 0x8000) == 0x00)
				{
					eax_279 = 0x00;
					return eax_279;
				}
				if (Mem409[0x004040E8:word32] != 0x00)
					Mem580[0x004040F0:word32] = MapViewOfFileEx(eax_398, 0x22, 0x00, 0x00, 0x00, Mem409[0x004040D0:word32]);
				else
					Mem598[0x004040F0:word32] = MapViewOfFileEx(eax_398, 0x22, 0x00, 0x00, 0x00, Mem409[edx_188 + 0x34:word32]);
				if (Mem409[0x004040F0:word32] == 0x00)
				{
					if (Mem409[0x004040E8:word32] != 0x00)
						Mem548[0x004040F0:word32] = VirtualAlloc(Mem409[0x004040D0:word32], Mem409[edx_188 + 0x50:word32], 0x3000, 0x40);
					else
						Mem563[0x004040F0:word32] = VirtualAlloc(Mem409[edx_188 + 0x34:word32], Mem409[edx_188 + 0x50:word32], 0x3000, 0x40);
					if (Mem409[0x004040F0:word32] == 0x00)
					{
						eax_279 = 0x00;
						return eax_279;
					}
				}
			}
			Mem437[0x004040FC:word32] = 156494 << (byte) (Mem409[0x004040EC:word32] *s dwLoc08);
			fn00401000(Mem437[0x004040F0:word32], eax_33, Mem437[edx_188 + 0x50:word32]);
			if (Mem437[0x004040E8:word32] != 0x00)
				fn004024F0(Mem437[0x004040D0:word32], Mem437[0x004040F0:word32] + Mem437[edx_188 + 0x28:word32]);
			else
				fn004025E0(Mem437[0x004040F0:word32]);
			Mem456[0x004040C4:word32] = dwLoc20 - 0x00060CA5;
			Mem460[0x004040F8:word32] = Mem456[0x004040F0:word32] + Mem456[edx_188 + 0x28:word32];
			Mem463[edx_188 + 0x28:word32] = Mem460[0x004040F8:word32];
			Mem469[0x004040C4:word32] = dwLoc30 >> (byte) Mem463[0x004040FC:word32];
			eax_279 = 0x01;
			return eax_279;
		}
		else
		{
			eax_279 = 0x00;
			return eax_279;
		}
	}
	else
	{
		eax_279 = 0x00;
		return eax_279;
	}
}

// 004024F0: void fn004024F0(Stack word32 dwArg04, Stack word32 dwArg08)
void fn004024F0(word32 dwArg04, word32 dwArg08)
{
	Mem11[0x004040FC:word32] = Mem0[0x004040EC:word32] - 0x000DC541 << ~0x08;
	word32 ecx_23 = Mem11[Mem11[Mem11[Mem11[0x004040F4:word32] + 0x30:word32] + 0x0C:word32] + 0x0C:word32];
	Mem34[0x004040FC:word32] = 0x000EDB03 >> (byte) Mem11[0x004040EC:word32] >> ~0xBF;
	word32 dwLoc18_24 = ecx_23;
	while (0x01 != 0x00)
	{
		word32 edx_64 = Mem34[0x004040C4:word32] + 642333 - Mem34[0x004040FC:word32] >> (byte) Mem34[0x004040EC:word32];
		if (dwLoc18_24 == 0x00)
			return;
		Mem75[0x004040FC:word32] = Mem34[0x004040C4:word32] *s edx_64 *s dwLoc24;
		if (Mem75[dwLoc18_24 + 0x18:word32] == dwArg04)
		{
			Mem84[dwLoc18_24 + 0x1C:word32] = dwArg08;
			return;
		}
		Mem88[0x004040C4:word32] = Mem75[0x004040C4:word32] - dwLoc24;
		word32 ecx_90 = Mem88[dwLoc18_24 + 0x00:word32];
		dwLoc18_24 = ecx_90;
		if (ecx_90 == ecx_23)
			return;
	}
}

// 004025E0: void fn004025E0(Stack word32 dwArg04)
void fn004025E0(word32 dwArg04)
{
	word32 eax_10 = Mem0[0x004040EC:word32] + dwLoc10;
	word32 eax_23 = Mem0[Mem0[0x004040F4:word32] + 0x30:word32];
	Mem26[0x004040C4:word32] = 0x0DDB;
	Mem30[eax_23 + 0x08:word32] = dwArg04;
	Mem37[0x004040C4:word32] = Mem30[0x004040FC:word32] + Mem30[0x004040EC:word32] << (byte) eax_10;
}

// 00402650: void fn00402650(Stack word32 dwArg04)
void fn00402650(word32 dwArg04)
{
	Mem13[0x004040EC:word32] = dwLoc0C *s dwLoc0C >> ~0x60;
	HeapFree(GetProcessHeap(), 0x00, dwArg04);
}

// 00402690: Register word32 fn00402690(Stack word32 dwArg04)
word32 fn00402690(word32 dwArg04)
{
	Mem15[0x004040C4:word32] = dwLoc10 + 102966 >> (byte) Mem0[0x004040C4:word32];
	return HeapAlloc(GetProcessHeap(), 0x00, dwArg04);
}

