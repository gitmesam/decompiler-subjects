// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401024: void fn00401024(Register ui32 ecx)
void fn00401024(ui32 ecx)
{
}

// 004010DB: Register Eq_3 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	return fn004010FF(edx, ebx, si, edi, dwLoc04, dwArg00);
}

// 004010FF: Register ptr32 fn004010FF(Register word32 edx, Register ui32 ebx, Register word16 si, Register word32 edi, Stack word32 dwArg00, Stack (ptr32 Eq_11) dwArg04)
ptr32 fn004010FF(word32 edx, ui32 ebx, word16 si, word32 edi, word32 dwArg00, Eq_11 * dwArg04)
{
	ui32 ecx_24 = ebx;
	ptr32 esi_13 = DPB(esi, __rol(si, 11), 0);
	word32 eax_17 = (word32) (word16) ebx;
	word32 edi_22 = 63036;
	do
	{
		ecx_24 = ecx_24 ^ 0x00;
		edi_22 = edi_22 - 0x01;
	} while (eax_17 != edi_22);
	fn00401024(ecx_24);
	ptr32 esi_37 = __rol(esi_13, 22);
	cui16 si_38 = (word16) esi_37;
	ptr32 eax_44 = -eax_17;
	if (*((char *) dwArg04 + 0x07) != 0x90)
		return eax_44;
	__rol(eax_44, 0x0C);
	struct Eq_62 * edi_109 = DPB(1193460, (word16) (fp + 0x04), 0) + 0x00;
	__rol(DPB(esi_37, si_38 | 0x6B | 0x1E, 0) + eax_44, 0x19);
	word32 eax_101 = globals->dw4010D5;
	__rol(fp + 0x04, 0x01);
	ptr32 esi_108 = 0x004010C7;
	do
	{
		edi_109 = edi_109 + 0x01;
		word32 edx_116 = edi_109->dw0000 - eax_101;
		esi_108 = -(esi_108 + 1179318437);
		word16 dx_117 = (word16) edx_116;
	} while (edx_116 != 0x00);
	__rol(esi_108, 0x14);
	__ror(dx_117, 0x01);
	union Eq_11 * edx_147 = dwArg04;
	ptr32 esi_149 = 0x0040102E;
	word32 eax_152 = globals->dw40102E;
	do
	{
		word32 edi_159 = *edx_147;
		edx_147 = (union Eq_11 *) ((char *) edx_147 + 0x01);
		esi_149 = __rol(esi_149, 0x03);
	} while ((edi_159 ^ eax_152) != 0x00);
	fs->ptr0000 = fp - 0x04;
	return DPB(fp - 0x04, __rol((word16) (fp - 0x04), 0x0A), 0);
}

