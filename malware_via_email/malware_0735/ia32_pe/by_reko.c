// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401050: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	word32 ebx_10 = Mem0[fs:0x18:word32];
	word32 edx_15 = fn00401170(ebx_10 + 0x0C00);
	Mem20[fp + ~0x1C4A + edx_15:word32] = edx_15;
	word32 eax_27 = 18966608 - (edx_15 << 11) & 0x00E05800 - (edx_15 << 11);
	word32 edx_36 = fp + ~0x1C3E + dwLoc20;
	Mem37[edx_36 + 0x00:word32] = (eax_27 + ~0x003835B3)[edx_15 * 0x0200] - 0x28;
	word32 eax_41 = eax_27 + Mem37[(((eax_27 + ~0x003835B3) + (edx_15 << 0x09)) - 0x04) + 0x00:word32] + 0x1C53 - dwLoc20;
	fn00401220(dwLoc20);
	fn004011B0(dwLoc20, ebx_10, dwLoc6C);
	word32 esp_72;
	word32 ebp_73;
	byte SCZO_74;
	word32 ebx_75;
	selector fs_76;
	word32 esi_77;
	word32 eax_78;
	word32 edi_79;
	word32 ecx_80;
	word32 edx_81;
	byte SZO_82;
	bool C_83;
	(dwLoc20 + 4191461)();
	Mem91[esp_72 - 0x04 + 0x00:word32] = 0x00;
	word32 v19_88 = eax_41 + 0x1C5B - dwLoc20;
	Mem96[esp_72 - 0x08 + 0x00:word32] = v19_88 + 0x0BCA;
	word32 esp_97;
	word32 ebp_98;
	byte SCZO_99;
	word32 ebx_100;
	selector fs_101;
	word32 esi_102;
	word32 eax_103;
	word32 edi_104;
	word32 ecx_105;
	word32 edx_106;
	byte SZO_107;
	bool C_108;
	v19_88();
	int3();
	int3();
	int3();
	int3();
	int3();
	int3();
	int3();
	int3();
	int3();
	int3();
	int3();
	Mem110[esp_97 - 0x04 + 0x00:word32] = fp - 0x04;
	word32 edx_114 = Mem110[esp_97 + 0x0C:word32];
	word32 ecx_116 = Mem110[esp_97 + ~0x1C22 + edx_114:word32];
	word32 ebx_119 = (esp_97 + ~0x70A7)[edx_114 * 0x04];
	Mem121[esp_97 - 0x10 + 0x00:word32] = 129400141;
	word32 eax_124 = Mem121[esp_97 - 0x10 + 0x00:word32] - (edx_114 << 0x02);
	Mem126[esp_97 - 0x10 + 0x00:word32] = 0x0DBC8BEB;
	Mem127[esp_97 - 0x08 + 0x00:word32] = 0x01;
	Mem128[esp_97 - 0x0C + 0x00:word32] = Mem127[esp_97 - 0x10 + 0x00:word32];
	Mem131[esp_97 - 0x0C + 0x00:word32] = Mem128[esp_97 - 0x0C + 0x00:word32] + (edx_114 << 0x02);
	while (true)
	{
		Mem138[ebx_119 + 0x00:word32] = Mem131[ebx_119 + 0x00:word32] ^ eax_124;
		ecx_116 = ecx_116 - 0x04;
		if (ecx_116 <= 0x00)
			break;
		eax_124 = eax_124 + Mem138[(esp_97 - 0x0C) + 0x00:word32] + Mem138[(esp_97 - 0x08) + 0x00:word32];
		ebx_119 = ebx_119 + 0x1C2F - Mem138[esp_97 + 0x0C:word32];
		Mem148[esp_97 - 0x08 + 0x00:word32] = -Mem138[esp_97 - 0x08 + 0x00:word32];
	}
	return eax_124;
}

// 00401170: Register word32 fn00401170(Register word32 esi)
word32 fn00401170(word32 esi)
{
	word32 eax_7 = CancelIo + ~0x00;
	word32 esp_14;
	word32 ecx_15;
	word32 edx_16;
	word32 eax_17;
	byte SCZO_18;
	byte cl_19;
	bool Z_20;
	byte SZO_21;
	word32 esi_22;
	fn00001323();
	return Mem0[esi_22 + ~0x0B:word32] - 3221218269;
}

// 004011B0: void fn004011B0(Register word32 ecx, Register word32 edi, Stack word32 dwArg00)
void fn004011B0(word32 ecx, word32 edi, word32 dwArg00)
{
	word32 eax_4 = fn004011C0(ecx, edi);
	fn004011E0(eax_4);
	word32 esp_8;
	word32 ebx_9;
	word32 eax_10;
	word32 ecx_11;
	word32 edi_12;
	eax_4();
	Mem14[esp_8 - 0x04 + 0x00:word32] = ebx_9;
}

// 004011C0: Register word32 fn004011C0(Register word32 ecx, Register word32 edi)
word32 fn004011C0(word32 ecx, word32 edi)
{
	return Mem0[Mem0[Mem0[Mem0[(edi + 4294952922)[ecx * 0x02] + 0x0C:word32] + 0x1C:word32] + 0x00:word32] + 0x08:word32];
}

// 004011E0: void fn004011E0(Register word32 eax)
void fn004011E0(word32 eax)
{
	word32 esi_11 = Mem0[Mem0[Mem0[eax + 0x3C:word32] + eax + 0x78:word32] + eax + 0x20:word32] + eax;
	word32 edx_15 = 0x00;
	while (Mem0[Mem0[esi_11 + edx_15:word32] + eax + 0x0C:word32] != 0x56007463)
		edx_15 = edx_15 + 0x04;
}

// 00401220: void fn00401220(Stack word32 dwArg04)
void fn00401220(word32 dwArg04)
{
}

