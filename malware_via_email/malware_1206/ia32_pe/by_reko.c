// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 004012F8: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	GetCurrentProcessId() == 1019;
	CharUpperA(fp - 0x98);
	OpenEventW(0x00, 0x00, fp - 188);
	GetDC(0x00);
	Eq_30 ecx_32 = fp - 188;
	if (GetCurrentThreadId() == 0x026D)
		ecx_32 = fp - 188 ^ dwArg05;
	__set_app_type(0x02);
	GetFileAttributesA(fp - 0xB4);
	CharUpperA(fp - 232);
	GetProcessHeap();
	IsWindow(OpenMutexA(CharUpperA(fp - 0xA8) & 0x08, 0x00, fp - 0x9C) - dwArg00);
	Eq_82 ecx_112 = (fp - 0xA8 & 0x011C) - dwArg01;
	Eq_88 v22_118 = dwLoc0120 - (fp - 0x04);
	Eq_93 edx_120 = fp - 0x04 ^ 0x0611;
	if ((GetCurrentThreadId() & 2788) != ecx_112)
	{
		edx_120 = edx_120 | ecx_112;
		ecx_112 = fp - 0x04;
	}
	Eq_93 eax_146 = GetClientRect(0x00, fp - 0x60) | dwLoc0180;
	if (eax_146 != edx_120)
	{
		eax_146 = fp - 0x0228;
		edx_120 = (edx_120 ^ dwLoc0225 ^ dwLoc021C) & dwLoc0227;
	}
	Eq_93 edx_155 = edx_120 ^ 0x21CD;
	Eq_119 C_159 = (bool) cond(eax_146 - edx_155);
	if (eax_146 != edx_155)
	{
		eax_146 = eax_146 - 13345;
		edx_155 = edx_155 * 0x02 + (eax_146 < edx_155);
		ecx_112 = ecx_112 + v22_118;
		C_159 = (bool) cond(eax_146);
	}
	if (eax_146 + edx_155 + C_159 == 0x0330)
	{
		edx_155 = edx_155 ^ 7664;
		ecx_112 = ecx_112 - 0x292F;
	}
	Eq_145 eax_182 = CreateItemMoniker(null, null, null);
	Eq_2 eax_184 = eax_182 ^ 0x80070057;
	if ((eax_182 ^ 0x80070057) == 0x00)
	{
		if ((word32) edx_155 + (eax_182 ^ 0x80070057) == 0x00)
			ecx_112 = (ecx_112 & dwLocBD) - dwLocC3;
		Eq_169 ecx_286 = (ecx_112 & 0x2F37) + dwLoc03;
		if (fp - 0x04 != ecx_286)
			ecx_286 = fp - 484;
		Eq_184 eax_314 = VirtualAlloc(0x00, 0x2000, 0x1000, 0x40);
		if (dwLoc0154 == ecx_286)
			ecx_286 = (word32) ecx_286 + 0x00001D56 ^ 10339;
		Eq_198 eax_339 = (fp - 0x04 ^ dwLoc010E) + dwLoc0118;
		ui32 ecx_341 = (word32) eax_339 + (ecx_286 - dwLoc01B4 | dwArg0B);
		struct Eq_210 * edi_340 = &globals->t412E33;
		Eq_184 esi_342 = eax_314;
		Eq_213 edx_345 = fp - 9409;
		word32 dwLoc68_346 = 2742709975;
		Eq_218 ecx_347 = ecx_341 - 0x28C3;
		if (ecx_341 != 0x28C3)
			ecx_347 = ecx_341 - 0x28C3 | 0x28C3;
		do
		{
			word32 ebx_366 = edi_340->dw0000 + dwLoc68_346;
			*esi_342 = ebx_366;
			dwLoc68_346 = dwLoc68_346 + 1648285686;
			Eq_237 edx_371 = edx_345 - eax_339;
			eax_339 = eax_339 | 0x2279;
			ptr32 edi_374 = (char *) edi_340 - 80554824;
			ecx_347 = ((ecx_347 ^ dwLoc4C) & edx_345) - dwLoc8C;
			word32 esi_377 = esi_342 + 0xA596E2A8;
			if (eax_339 == 1007)
			{
				edx_371 = fp - 388 - ecx_347;
				eax_339 = (eax_339 | 0x38A7) & 0x3565;
			}
			edi_340 = edi_374 + 80554828;
			edx_345 = (word32) edx_371 + 0x00003BBE;
			esi_342 = esi_377 + 1516838236;
			if ((dwLoc0234 & ecx_347) != 0x00)
				eax_339 = eax_339 ^ 0x34ED;
		} while (edi_374 != 76278925);
		word32 esp_398;
		word32 ebp_399;
		byte SCZO_400;
		bool Z_402;
		Eq_2 edx_403;
		byte SZO_404;
		bool C_405;
		word32 ecx_406;
		word32 ebx_407;
		word32 esi_408;
		word32 edi_409;
		eax_314();
		if (eax_184 == edx_403)
			eax_184 = eax_184 & 0x30B6;
	}
	return eax_184;
}

