// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401005: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	word32 eax_26 = 0x00 - ecx + edi - ecx + edi - ecx + edi - ecx + edi;
	Mem57[fp - 44 + 0x00:word32] = fn0040105F(eax_26, eax_26, 81267607, 0x00, eax);
	word32 eax_58 = Mem57[fp - 44 + 0x00:word32];
	return fn0040105F(eax_58, dwArg00, dwArg14, dwArg18, dwArg24);
}

// 0040105F: Register word32 fn0040105F(Register word32 eax, Stack word32 dwArg00, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg24)
word32 fn0040105F(word32 eax, word32 dwArg00, word32 dwArg14, word32 dwArg18, word32 dwArg24)
{
}

// 0040133E: Register word32 fn0040133E(Register word32 eax)
word32 fn0040133E(word32 eax)
{
	ptr32 fp;
	word32 eax;
	esp_1 = fp;
	ecx_3 = fp + 0x08 + eax;
	esp_4 = fp - 0x04;
	dwLoc04_5 = eax;
	eax_6 = ecx_3;
	eax_7 = Hgomiqdjr(ecx_3, dwLoc04_5);
	return eax_7;
}

// 00401346: Register word32 Hgomiqdjr(Register word32 ecx, Stack word32 dwArg00)
word32 Hgomiqdjr(word32 ecx, word32 dwArg00)
{
	Mem6[ecx + 0x00:byte] = (byte) dwArg00;
	return Nckurdj(dwArg00 + 0x01, dwArg04, dwArg08, dwArg0110, dwArg011C, dwArg0120, dwArg0134, dwArg0138, dwArg013C);
}

// 00401363: Register word32 Nckurdj(Stack word32 dwArg00, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0110, Stack word32 dwArg011C, Stack word32 dwArg0120, Stack word32 dwArg0134, Stack word32 dwArg0138, Stack word32 dwArg013C)
word32 Nckurdj(word32 dwArg00, word32 dwArg04, word32 dwArg08, word32 dwArg0110, word32 dwArg011C, word32 dwArg0120, word32 dwArg0134, word32 dwArg0138, word32 dwArg013C)
{
	if (Z)
		return fn0040133E(dwArg00);
	word32 ecx_109 = 0x00;
	word32 esi_107 = 0x00;
	word32 ebp_108 = 0x00;
	word32 eax_111 = dwArg00;
	do
	{
		word32 eax_114 = DPB(eax_111, Mem0[fp + 0x0C + ebp_108:byte], 8);
		byte dl_142 = (byte) ((word32) Mem0[ecx_109 + dwArg08:byte] + ((word32) SLICE(eax_114, byte, 8) + esi_107));
		word32 edx_147 = (word32) dl_142;
		ecx_109 = ecx_109 + 0x01;
		if (ecx_109 >=u dwArg011C)
			ecx_109 = 0x00;
		byte al_176 = Mem0[fp + 0x0C + edx_147:byte];
		word32 eax_177 = DPB(eax_114, al_176, 0);
		word32 esi_185 = fp + 0x0C + ebp_108;
		Mem186[esi_185 + 0x00:byte] = 0x00;
		Mem193[esi_185 + 0x00:byte] = Mem186[esi_185 + 0x00:byte] + al_176;
		Mem226[fp - 0x0C + (edx_147 + 0x18):byte] = SLICE(eax_177, byte, 8);
		ebp_108 = ebp_108 + 0x01;
		eax_111 = eax_177;
		esi_107 = edx_147;
	} while (ebp_108 <u 0x0100);
	word32 ecx_254 = dwArg0138;
	byte ch_255 = SLICE(dwArg0138, byte, 8);
	if (ch_255 == ~0x05)
	{
		word32 esi_377 = 0x00;
		word32 ebp_396 = dwArg0120;
		word32 edi_403 = dwArg04;
		if (true)
		{
			word32 eax_463 = 0x00;
			do
			{
				word32 eax_482 = (word32) (byte) (eax_463 + 0x01);
				byte cl_487 = Mem226[fp + 0x0C + eax_482:byte];
				word32 edx_504 = (word32) (byte) ((word32) cl_487 + esi_377);
				word32 ecx_488 = DPB(ecx_254, cl_487, 0);
				byte dl_514 = Mem226[fp + 0x0C + edx_504:byte];
				Mem524[fp + 0x0C + eax_482:byte] = dl_514;
				Mem542[fp + 0x0C + edx_504:byte] = cl_487;
				esi_377 = edx_504;
				Mem597[edi_403 + 0x00:byte] = Mem542[edi_403 + 0x00:byte] ^ Mem542[(fp - 0x08) + ((word32) ((byte) (Mem542[(fp + 0x0C) + eax_482:word32] + ecx_488)) + 0x14):byte];
				ecx_254 = 0x00;
				edi_403 = edi_403 + 0x01;
				ebp_396 = ebp_396 - 0x01;
				eax_463 = eax_482;
			} while (ebp_396 != 0x00);
		}
		return dwArg0110;
	}
	else
	{
		word32 esp_279;
		word32 eax_280;
		byte Z_281;
		word32 ecx_282;
		selector cs_283;
		word32 ebp_284;
		word32 esi_285;
		word32 edi_286;
		byte SZO_287;
		byte C_288;
		word32 ebx_289;
		byte ah_290;
		word32 edx_291;
		byte SCZO_292;
		byte dl_293;
		byte al_294;
		byte bh_295;
		byte ch_296;
		byte CZ_297;
		byte cl_298;
		Mem226[dwArg013C - 0x04 + 0x00:word32]();
		Mem300[esp_279 - 0x04 + 0x00:word32] = eax_280;
		do
		{
			word32 esp_305;
			word32 eax_306;
			byte Z_307;
			word32 ecx_308;
			selector cs_309;
			word32 ebp_310;
			word32 esi_311;
			word32 edi_312;
			byte SZO_313;
			byte C_314;
			word32 ebx_315;
			byte ah_316;
			word32 edx_317;
			byte SCZO_318;
			byte dl_319;
			byte al_320;
			byte bh_321;
			byte ch_322;
			byte CZ_323;
			byte cl_324;
			Mem300[ebx_289 + 0x08:word32]();
			Mem326[esp_305 - 0x04 + 0x00:word32] = eax_306;
			Mem331[esp_305 - 0x04 + 0x00:word32] = Mem326[esp_305 - 0x04 + 0x00:word32];
			word32 eax_332 = Mem331[esp_305 - 0x04 + 0x00:word32];
			Mem337[esp_305 + 0x00:word32] = Mem331[esp_305 + 0x00:word32] | eax_332;
		} while (ebp_310 != 0x01);
		Mem346[esp_305 - 0x04 + 0x00:word32] = eax_332;
		Mem350[esp_305 - 0x04 + 0x00:word32] = Mem346[esp_305 - 0x04 + 0x00:word32];
		word32 esp_353;
		word32 eax_354;
		byte Z_355;
		word32 ecx_356;
		selector cs_357;
		word32 ebp_358;
		word32 esi_359;
		word32 edi_360;
		byte SZO_361;
		byte C_362;
		word32 ebx_363;
		byte ah_364;
		word32 edx_365;
		byte SCZO_366;
		byte dl_367;
		byte al_368;
		byte bh_369;
		byte ch_370;
		byte CZ_371;
		byte cl_372;
		Mem350[ebx_315 + 0x14:word32]();
		Mem374[esp_353 - 0x04 + 0x00:word32] = eax_354;
	}
}

// 0040164A: Register word32 fn0040164A(Stack word32 dwArg00, Stack word32 dwArg04, Register out ptr32 ebxOut)
word32 fn0040164A(word32 dwArg00, word32 dwArg04, ptr32 & ebxOut)
{
}

