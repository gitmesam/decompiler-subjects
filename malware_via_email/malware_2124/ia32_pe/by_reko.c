// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: Register word32 fn00401000(Register uint32 ebx, Register uint32 esi, Stack (arr word32) dwArg04, Stack (ptr32 Eq_6) dwArg08, Register out ptr32 ecxOut, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn00401000(uint32 ebx, uint32 esi, word32 dwArg04[], Eq_6 * dwArg08, ptr32 & ecxOut, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & esiOut, ptr32 & ediOut)
{
	uint32 dwLoc08_109 = dwArg08->dw0000;
	uint32 dwLoc10_106 = dwArg08->dw0004;
	int32 dwLoc14_42 = 0x00;
	while (dwLoc14_42 < 0x02)
		dwLoc14_42 = dwLoc14_42 + 0x01;
	ptr32 esp_72;
	word32 ebp_73;
	byte SCZO_74;
	word32 ebx_75;
	word32 esi_76;
	word32 edi_77;
	word32 eax_78;
	word32 ecx_79;
	word32 edx_80;
	byte cl_81;
	byte SZO_82;
	bool C_83;
	byte SO_84;
	bool Z_85;
	fn00009796();
	uint32 dwLoc0C_107 = 3337565984;
	while (dwLoc0C_107 != 0x00)
	{
		uint32 ecx_140 = dwLoc10_106 - (((dwLoc08_109 << 0x04 ^ dwLoc08_109 >> 0x05) + (dwLoc08_109 ^ dwLoc0C_107)) + dwArg04[dwLoc0C_107 >> 11 & 0x03]);
		dwLoc10_106 = ecx_140;
		int32 dwLoc18_144 = 0x00;
		while (dwLoc18_144 < 0x03)
			dwLoc18_144 = dwLoc18_144 + 0x01;
		uint32 eax_180 = dwLoc0C_107 + 0x61C88647;
		dwLoc0C_107 = eax_180;
		int32 dwLoc1C_184 = 0x00;
		while (dwLoc1C_184 < 0x05)
			dwLoc1C_184 = dwLoc1C_184 + 0x01;
		dwLoc08_109 = dwLoc08_109 - (((ecx_140 << 0x04 ^ ecx_140 >> 0x05) + (ecx_140 ^ eax_180)) + dwArg04[eax_180 & 0x03]);
	}
	*(esp_72 - 0x04) = 29222;
	struct Eq_50 * esp_249;
	word32 ebp_250;
	byte SCZO_251;
	word32 ebx_252;
	word32 esi_253;
	word32 edi_254;
	word32 eax_255;
	word32 ecx_256;
	word32 edx_257;
	byte cl_258;
	byte SZO_259;
	bool C_260;
	byte SO_261;
	bool Z_262;
	fn00009796();
	dwArg08->dw0000 = dwLoc08_109;
	dwArg08->dw0004 = dwLoc10_106;
	word32 edx_279;
	*edxOut = dwLoc08_109;
	word32 ecx_282;
	*ecxOut = dwLoc10_106;
	word32 edi_287;
	*ediOut = esp_249->dw0000;
	word32 esi_289;
	*esiOut = esp_249->dw0004;
	word32 ebx_291;
	*ebxOut = esp_249->dw0008;
	return 0x00402970;
}

// 004017C0: Register ui32 fn004017C0(Register ui32 eax, Register word32 ecx, Register word32 ebx, Register Eq_143 ebp, Register word32 edi, Register out ptr32 esiOut)
ui32 fn004017C0(ui32 eax, word32 ecx, word32 ebx, Eq_143 ebp, word32 edi, ptr32 & esiOut)
{
	int32 dwLoc01F4_17 = 0x00;
	while (dwLoc01F4_17 < 0x05)
		dwLoc01F4_17 = dwLoc01F4_17 + 0x01;
	word32 ecx_62;
	word32 edx_63;
	fn00402906(&globals->t4082D4, &globals->b4082D0, out ecx_62, out edx_63);
	word32 ecx_84;
	word32 edx_85;
	fn00402906(&globals->t4082DC, &globals->b4082D8, out ecx_84, out edx_85);
	int32 dwLoc01F8_131 = 0x00;
	while (dwLoc01F8_131 < 0x02)
		dwLoc01F8_131 = dwLoc01F8_131 + 0x01;
	struct Eq_177 * ecx_180 = globals->dw40003C + 0x00400000;
	word32 ebp_207;
	byte SCZO_208;
	word32 edi_211;
	byte SO_212;
	word32 ecx_214;
	byte SZO_215;
	bool C_216;
	word32 eax_217;
	byte cl_218;
	bool Z_219;
	byte CZ_220;
	word16 cx_221;
	Eq_143 edx_213;
	word32 esp_206;
	ui32 ebx_209;
	uint32 esi_210;
	fn000097DE();
	Eq_143 eax_195 = VirtualAllocEx(~0x00, 0x00, ecx_180->t0050, 0x1000, 0x40);
	ui32 edi_222 = edi_211 ^ edx_213;
	Eq_143 dwLoc01FC_231 = 0x00400000;
	while (dwLoc01FC_231 < ecx_180->t0050)
	{
		esi_210 = (esi_210 >> 0x05 | edx_213) << 0x03;
		if (dwLoc01FC_231 == 0xFFC00014)
		{
			word32 * esp_326 = esp_206 - 0x04;
			*esp_326 = 0x4E30;
			word32 ebp_329;
			byte SCZO_330;
			byte SO_334;
			word32 edx_335;
			word32 ecx_336;
			byte SZO_337;
			bool C_338;
			word32 eax_339;
			byte cl_340;
			bool Z_341;
			byte CZ_342;
			word16 cx_343;
			fn00009796();
		}
		word32 edx_272 = eax_195 + dwLoc01FC_231;
		*edx_272 = *dwLoc01FC_231;
		Eq_234 dwLoc0260_281 = 0x00;
		while (dwLoc0260_281 < 0x04)
		{
			edi_222 = (edi_222 | edx_272) << 0x03;
			ebx_209 = esi_210 * 0x1B;
			esi_210 = esi_210 - 0x01 >> 0x04;
			edx_272 = (word32) dwLoc0260_281 + 0x01;
			dwLoc0260_281 = edx_272;
		}
		edx_213 = dwLoc01FC_231 + 0x01;
		dwLoc01FC_231 = edx_213;
	}
	Eq_143 dwLocE0_345 = eax_195;
	while (*dwLocE0_345 != 0x9818DD39 || *((word32) dwLocE0_345 + 0x04) != 417346763)
		dwLocE0_345 = dwLocE0_345 + 0x01;
	uint32 dwLoc10_369 = 466;
	int32 dwLoc0264_370 = 0x00;
	while (dwLoc0264_370 < 0x2D)
	{
		uint32 edx_384 = dwLoc10_369 << 0x01;
		dwLoc10_369 = edx_384;
		if (edx_384 <= 0x00)
			dwLoc10_369 = 0x07;
		dwLoc0264_370 = dwLoc0264_370 + 0x05;
	}
	Eq_143 dwLoc01C4_405 = dwLocE0_345;
	ui32 ebx_420 = ebx_209 - 0x5D42;
	word32 eax_421 = dwLocE0_345 + 141 << (byte) ((esi_210 + 0x011A) + (edi_222 - 0x9A));
	Eq_310 edx_422 = 4211176441;
	int32 dwLoc0268_428 = 0x00;
	while (dwLoc0268_428 < 0x04)
	{
		ebx_420 = ebx_420 + eax_421 * 0x08;
		dwLoc0268_428 = dwLoc0268_428 + 0x01;
	}
	uint32 ebx_454 = ebx_420 - 4259732972;
	Eq_310 dwLoc026C_458 = 0x00;
	while (true)
	{
		Eq_310 ecx_478 = dwLoc026C_458;
		byte cl_479 = (byte) dwLoc026C_458;
		if (dwLoc026C_458 >= 0x22E0)
			break;
		Eq_310 dwLoc0270_483 = 0x00;
		while (dwLoc0270_483 < 0x05)
		{
			ecx_478 = ecx_478 >> cl_479;
			cl_479 = (byte) ecx_478;
			esi_210 = 4114351103 - ecx_478;
			edx_422 = (word32) dwLoc0270_483 + 0x01;
			dwLoc0270_483 = edx_422;
		}
		int32 dwLoc0274_509 = 0x00;
		while (dwLoc0274_509 < 0x02)
		{
			esi_210 = esi_210 + 0x01;
			ebx_454 = (word32) edx_422 + 0x00A5 | esi_210;
			dwLoc0274_509 = dwLoc0274_509 + 0x01;
		}
		union Eq_143 * esp_538 = esp_206 - 0x04;
		*esp_538 = (union Eq_143 *) dwLoc01C4_405;
		*(esp_538 - 0x04) = fp - 0x011C;
		word32 ecx_545;
		ui32 edi_549;
		ui32 esi_548;
		uint32 ebx_547;
		uint32 edx_546;
		Eq_389 eax_550 = fn00401000(ebx_454, esi_210, dwArg00, dwArg04, out ecx_545, out edx_546, out ebx_547, out esi_548, out edi_549);
		Eq_389 dwLoc0278_554 = 0x00;
		while (dwLoc0278_554 < 0x04)
		{
			ebx_547 = edx_546 + 0x47;
			edx_546 = SLICE(edx_546 * eax_550, word32, 32);
			esi_548 = 4180308691;
			eax_550 = (word32) dwLoc0278_554 + 0x01;
			dwLoc0278_554 = eax_550;
		}
		uint32 ebx_585 = (ebx_547 >> 0x03) + esi_548 * 0x08;
		ui32 edi_597 = (edi_549 * 0x09 | esi_548) * 0x02 + ebx_585 * 0x04;
		int32 dwLoc027C_598 = 0x00;
		while (dwLoc027C_598 < 0x01)
		{
			edi_597 = edi_597 - 0x01;
			ebx_585 = ebx_585 * 0x02;
			dwLoc027C_598 = dwLoc027C_598 + 0x01;
		}
		esi_210 = esi_548 + 0x01 | edi_597;
		ebx_454 = ebx_585 + esi_210;
		edx_422 = (word32) dwLoc026C_458 + 0x08;
		dwLoc026C_458 = edx_422;
		dwLoc01C4_405 = dwLoc01C4_405 + 0x08;
	}
	uint32 dwLoc18_640 = 877;
	int32 dwLoc0280_641 = 0x00;
	while (dwLoc0280_641 < 0x3B)
	{
		uint32 eax_651 = dwLoc18_640 >> 0x01;
		dwLoc18_640 = eax_651;
		if (eax_651 < 0x00)
			dwLoc18_640 = 0x02;
		dwLoc0280_641 = dwLoc0280_641 + 0x07;
	}
	Eq_310 dwLoc0284_666 = 0x00;
	while (dwLoc0284_666 < (struct Eq_13662 *) 0x22E0)
	{
		int32 dwLoc0288_699 = 0x00;
		while (dwLoc0288_699 < 0x02)
			dwLoc0288_699 = dwLoc0288_699 + 0x01;
		if (Mem0[eax_195 + ((dwLoc0284_666 + dwLocE0_345) - eax_195):word32] == 4229744675)
			Mem855[eax_195 + ((dwLoc0284_666 + dwLocE0_345) - eax_195):word32] = 0x00400000;
		int32 dwLoc028C_745 = 0x00;
		while (dwLoc028C_745 < 0x01)
			dwLoc028C_745 = dwLoc028C_745 + 0x01;
		int32 dwLoc0290_761 = 0x00;
		while (dwLoc0290_761 < 0x01)
			dwLoc0290_761 = dwLoc0290_761 + 0x01;
		if (Mem0[eax_195 + ((dwLoc0284_666 + dwLocE0_345) - eax_195):word32] == 4128355636)
			Mem845[eax_195 + ((dwLoc0284_666 + dwLocE0_345) - eax_195):word32] = eax_195;
		int32 dwLoc0294_794 = 0x00;
		while (dwLoc0294_794 < 0x01)
			dwLoc0294_794 = dwLoc0294_794 + 0x01;
		dwLoc0284_666 = dwLoc0284_666 + 0x01;
	}
	word32 * esp_859 = esp_206 - 0x04;
	*esp_859 = 0x5587;
	ptr32 esp_861;
	word32 ebp_862;
	byte SCZO_863;
	word32 ebx_864;
	word32 esi_865;
	word32 edi_866;
	byte SO_867;
	word32 edx_868;
	word32 ecx_869;
	byte SZO_870;
	bool C_871;
	word32 eax_872;
	byte cl_873;
	bool Z_874;
	byte CZ_875;
	word16 cx_876;
	fn000097A4();
	uint32 dwLoc01B8_884 = 0x01DE;
	int32 dwLoc0298_885 = 0x00;
	while (dwLoc0298_885 < 0x2B)
	{
		uint32 eax_903 = (uint32) ((uint64) (uint32) dwLoc01B8_884 /u 0x0A);
		dwLoc01B8_884 = eax_903;
		if (eax_903 <= 0x00)
			dwLoc01B8_884 = 0x05;
		dwLoc0298_885 = dwLoc0298_885 + 0x08;
	}
	word32 edx_921 = dwLocE0_345 - eax_195 + (eax_195 + 848);
	word32 dwLoc01B4_1050 = eax_195 + 0x2220 + dwLocE0_345 - eax_195;
	word32 ecx_932 = eax_195 - 0x0280 + dwLocE0_345 - eax_195;
	up32 dwLoc01D4_1044 = 0x00;
	uint32 dwLoc3C_941 = 959;
	int32 dwLoc029C_942 = 0x00;
	while (dwLoc029C_942 < 0x5C)
	{
		uint32 eax_962 = (uint32) ((uint64) (uint32) dwLoc3C_941 /u 0x0A);
		dwLoc3C_941 = eax_962;
		if (eax_962 < 0x00)
			dwLoc3C_941 = 0x03;
		dwLoc029C_942 = dwLoc029C_942 + 0x08;
	}
	while (dwLoc01D4_1044 < 0xA8)
	{
		Eq_597 ecx_993 = *((word32) dwLoc01B4_1050 + 0x04) - 0x08 >> 0x01;
		word32 dwLoc02A0_1000 = dwLoc01B4_1050 + 0x08;
		Eq_597 dwLoc02A8_1001 = 0x00;
		while (dwLoc02A8_1001 < ecx_993)
		{
			if ((word32) *dwLoc02A0_1000 >> 0x0C == 0x03)
				Mem1040[ecx_932 + Mem860[dwLoc01B4_1050 + 0x00:word32] + ((word32) Mem860[dwLoc02A0_1000 + 0x00:word16] & 0x0FFF):word32] = Mem860[ecx_932 + Mem860[dwLoc01B4_1050 + 0x00:word32] + ((word32) Mem860[dwLoc02A0_1000 + 0x00:word16] & 0x0FFF):word32] + (ecx_932 - 0x10000000);
			dwLoc02A0_1000 = dwLoc02A0_1000 + 0x02;
			dwLoc02A8_1001 = (word32) dwLoc02A8_1001.u0 + 0x01;
		}
		dwLoc01D4_1044 = (word32) *((word32) dwLoc01B4_1050 + 0x04) + dwLoc01D4_1044;
		dwLoc01B4_1050 = dwLoc01B4_1050 + Mem860[dwLoc01B4_1050 + 0x04:word32];
	}
	*(esp_861 - 0x04) = 19153;
	word32 ebp_1056;
	byte SCZO_1057;
	word32 ebx_1058;
	word32 esi_1059;
	word32 edi_1060;
	byte SO_1061;
	word32 edx_1062;
	word32 ecx_1063;
	byte SZO_1064;
	bool C_1065;
	word32 eax_1066;
	byte cl_1067;
	bool Z_1068;
	byte CZ_1069;
	word16 cx_1070;
	word32 esp_1055;
	fn000097A4();
	word32 dwLoc01DC_1082 = eax_195 + 0x2080 + dwLocE0_345 - eax_195;
	while (*((word32) dwLoc01DC_1082 + 0x0010) != 0x00)
	{
		word32 * esp_1126 = esp_1055 - 0x04;
		*esp_1126 = 21223;
		ptr32 esp_1128;
		word32 ebp_1129;
		byte SCZO_1130;
		word32 ebx_1131;
		word32 esi_1132;
		word32 edi_1133;
		byte SO_1134;
		word32 edx_1135;
		word32 ecx_1136;
		byte SZO_1137;
		bool C_1138;
		word32 eax_1139;
		byte cl_1140;
		bool Z_1141;
		byte CZ_1142;
		word16 cx_1143;
		fn00009796();
		word32 eax_1154 = eax_195 + Mem1127[dwLoc01DC_1082 + 0x0C:word32] - 0x0280 + dwLocE0_345 - eax_195;
		*(esp_1128 - 0x04) = (union Eq_722 *) eax_1154;
		ptr32 esp_1158;
		word32 ebp_1159;
		byte SCZO_1160;
		word32 ebx_1161;
		word32 esi_1162;
		word32 edi_1163;
		byte SO_1164;
		word32 edx_1165;
		word32 ecx_1166;
		byte SZO_1167;
		bool C_1168;
		word32 eax_1169;
		byte cl_1170;
		bool Z_1171;
		byte CZ_1172;
		word16 cx_1173;
		fn000097B0();
		*(esp_1158 - 0x04) = 0x29FA;
		*(esp_1158 - 0x08) = 0x00;
		*(esp_1158 - 0x0C) = 0x00;
		word32 ebp_1185;
		byte SCZO_1186;
		word32 ebx_1187;
		word32 esi_1188;
		word32 edi_1189;
		byte SO_1190;
		word32 edx_1191;
		word32 ecx_1192;
		byte SZO_1193;
		bool C_1194;
		word32 eax_1195;
		byte cl_1196;
		bool Z_1197;
		byte CZ_1198;
		word16 cx_1199;
		fn000097D2();
		if (eax_1169 != 0x00)
		{
			Eq_792 dwLoc03A0_1236;
			if (*dwLoc01DC_1082 != 0x00)
				dwLoc03A0_1236 = *dwLoc01DC_1082;
			else
				dwLoc03A0_1236 = *((word32) dwLoc01DC_1082 + 0x0010);
			word32 dwLoc01E4_1239 = ecx_932 + dwLoc03A0_1236;
			word32 dwLoc14_1245 = ecx_932 + Mem1183[dwLoc01DC_1082 + 0x10:word32];
			while (*dwLoc01E4_1239 != 0x00)
			{
				if ((*dwLoc01E4_1239 & 0x80000000) != 0x00)
				{
					word16 cx_1334 = (word16) (*dwLoc01E4_1239 & 0xFFFF);
					word32 edx_1337 = (word32) cx_1334;
					word32 * esp_1338 = esp_1055 - 0x04;
					*esp_1338 = edx_1337;
					*(esp_1338 - 0x04) = eax_1169;
					word32 ebp_1344;
					byte SCZO_1345;
					word32 ebx_1346;
					word32 esi_1347;
					word32 edi_1348;
					byte SO_1349;
					word32 edx_1350;
					word32 ecx_1351;
					byte SZO_1352;
					bool C_1353;
					word32 eax_1354;
					byte cl_1355;
					bool Z_1356;
					byte CZ_1357;
					word16 cx_1358;
					fn000097C0();
					*dwLoc14_1245 = eax_1354;
				}
				else
				{
					word32 ecx_1365 = Mem1183[dwLoc01E4_1239 + 0x00:word32] + ecx_932;
					word32 * esp_1370 = esp_1055 - 0x04;
					*esp_1370 = ecx_1365 + 0x02;
					*(esp_1370 - 0x04) = eax_1169;
					word32 ebp_1376;
					byte SCZO_1377;
					word32 ebx_1378;
					word32 esi_1379;
					word32 edi_1380;
					byte SO_1381;
					word32 edx_1382;
					word32 ecx_1383;
					byte SZO_1384;
					bool C_1385;
					word32 eax_1386;
					byte cl_1387;
					bool Z_1388;
					byte CZ_1389;
					word16 cx_1390;
					fn000097C0();
					*dwLoc14_1245 = eax_1386;
				}
				uint32 dwLoc0388_1293 = 0x0321;
				int32 dwLoc038C_1294 = 0x00;
				while (dwLoc038C_1294 < 0x62)
				{
					uint32 eax_1310 = (uint32) ((uint64) (uint32) dwLoc0388_1293 /u 0x06);
					dwLoc0388_1293 = eax_1310;
					if (eax_1310 > 0x00)
						dwLoc0388_1293 = 0x05;
					dwLoc038C_1294 = dwLoc038C_1294 + 0x06;
				}
				dwLoc01E4_1239 = dwLoc01E4_1239 + 0x04;
				dwLoc14_1245 = dwLoc14_1245 + 0x04;
			}
		}
		dwLoc01DC_1082 = dwLoc01DC_1082 + 0x14;
	}
	word32 * esp_1404 = esp_1055 - 0x04;
	*esp_1404 = 0x64EA;
	word32 esp_1406;
	word32 ebp_1407;
	byte SCZO_1408;
	word32 ebx_1409;
	word32 esi_1410;
	word32 edi_1411;
	byte SO_1412;
	word32 edx_1413;
	word32 ecx_1414;
	byte SZO_1415;
	bool C_1416;
	word32 eax_1417;
	byte cl_1418;
	bool Z_1419;
	byte CZ_1420;
	word16 cx_1421;
	fn00009796();
	ui32 dwLoc01F0_1422 = 0x020F;
	int32 dwLoc0390_1423 = 0x00;
	while (dwLoc0390_1423 < 0x41)
	{
		ui32 eax_1438 = dwLoc01F0_1422 << 0x03;
		dwLoc01F0_1422 = eax_1438;
		if (eax_1438 == 0x00)
			dwLoc01F0_1422 = 0x00;
		dwLoc0390_1423 = dwLoc0390_1423 + 0x08;
	}
	int32 dwLoc0394_1464 = 0x00;
	while (dwLoc0394_1464 < 0x05)
		dwLoc0394_1464 = dwLoc0394_1464 + 0x01;
	int32 dwLoc0398_1502 = 0x00;
	while (dwLoc0398_1502 < 0x03)
		dwLoc0398_1502 = dwLoc0398_1502 + 0x01;
	struct Eq_947 * esp_1556;
	word32 ebp_1557;
	byte SCZO_1558;
	word32 ebx_1559;
	word32 esi_1560;
	word32 edi_1561;
	byte SO_1562;
	word32 edx_1563;
	word32 ecx_1564;
	byte SZO_1565;
	bool C_1566;
	byte cl_1568;
	bool Z_1569;
	byte CZ_1570;
	word16 cx_1571;
	ui32 eax_1567;
	edx_921();
	int32 dwLoc039C_1572 = 0x00;
	while (dwLoc039C_1572 < 0x01)
	{
		eax_1567 = eax_1567 * 0x02;
		dwLoc039C_1572 = dwLoc039C_1572 + 0x01;
	}
	word32 esi_1607;
	*esiOut = esp_1556->dw0004;
	return eax_1567;
}

// 004028DC: Register (ptr32 Eq_978) fn004028DC(Stack Eq_154 dwArg04, Stack (ptr32 byte) dwArg08, Stack ui32 dwArg0C, Register out ptr32 ecxOut, Register out ptr32 edxOut)
Eq_978 * fn004028DC(LPCSTR dwArg04, byte * dwArg08, ui32 dwArg0C, ptr32 & ecxOut, ptr32 & edxOut)
{
	word32 ecx_2;
	word32 edx_3;
	struct Eq_978 * eax_4 = fn00403261(out ecx_2, out edx_3);
	if (eax_4 != null)
	{
		word32 ecx_39;
		word32 edx_40;
		return fn00402F28(dwArg04, dwArg08, dwArg0C, eax_4, out ecx_39, out edx_40);
	}
	else
	{
		globals->t4169B8.u0 = 0x18;
		return eax_4;
	}
}

// 00402906: Register word32 fn00402906(Stack Eq_154 dwArg04, Stack (ptr32 byte) dwArg08, Register out ptr32 ecxOut, Register out ptr32 edxOut)
word32 fn00402906(LPCSTR dwArg04, byte * dwArg08, ptr32 & ecxOut, ptr32 & edxOut)
{
	word32 ecx_12;
	word32 edx_13;
	return fn004028DC(dwArg04, dwArg08, 0x40, out ecx_12, out edx_13);
}

// 00402970: Register word32 fn00402970(Stack Eq_143 dwArg04, Stack Eq_143 dwArg08, Stack Eq_143 dwArg0C, Register out Eq_1025 esiOut, Register out Eq_1026 ediOut)
word32 fn00402970(Eq_143 dwArg04, Eq_143 dwArg08, Eq_143 dwArg0C, Eq_1025 & esiOut, LPVOID & ediOut)
{
}

// 00402CAD: Register word32 fn00402CAD(Register Eq_143 ebx, Register Eq_143 ebp, Register Eq_143 edi, Stack Eq_143 dwArg04)
word32 fn00402CAD(Eq_143 ebx, Eq_143 ebp, Eq_143 edi, Eq_143 dwArg04)
{
	if (globals->t4169B4 == 0x01)
		fn00403698(ebx, ebp, edi);
	word32 eax_12 = fn004034F7(ebx, ebp, edi, dwArg04);
	word32 esp_15;
	byte SCZO_16;
	bool Z_17;
	word32 ecx_18;
	word32 ebx_19;
	word32 ebp_20;
	word32 edi_21;
	word32 eax_22;
	globals->ptr410AA0();
	return eax_22;
}

// 00402D4C: Register Eq_143 Win32CrtStartup()
Eq_143 Win32CrtStartup()
{
	Eq_143 ebp_10 = fn00404030(ebx, esi, edi, dwLoc0C, 0x004082E0, 0x60);
	fn00404190(0x94, dwLoc0C);
	*(ebp_10 - 0x18) = fp - 0x08;
	*(fp - 0x08) = 0x94;
	*(fp - 0x0C) = fp - 0x08;
	GetVersionExA(*(fp - 0x0C));
	word32 ecx_20 = fp->dw0008;
	globals->dw4169C4 = ecx_20;
	uint32 eax_22 = *(fp - 0x04);
	globals->dw4169D0 = eax_22;
	word32 edx_25 = fp->dw0000;
	globals->dw4169D4 = edx_25;
	ui32 esi_27 = fp->dw0004;
	globals->dw4169C8 = esi_27 & 0x7FFF;
	if (ecx_20 != 0x02)
		globals->dw4169C8 = esi_27 & 0x7FFF | 0x8000;
	globals->dw4169CC = (eax_22 << 0x08) + edx_25;
	*(fp - 0x0C) = 0x00;
	Eq_143 eax_43 = GetModuleHandleA(*(fp - 0x0C));
	if (*eax_43 != 23117)
	{
l00402DE7:
		*(ebp_10 - 0x1C) = 0x00;
		goto l00402E13;
	}
	else
	{
		word32 ecx_220 = Mem41[eax_43 + 0x3C:word32] + eax_43;
		if (ecx_220->dw0000 != 0x4550)
			goto l00402DE7;
		bool Z_230;
		word32 eax_223 = (word32) ecx_220->w0018;
		if (eax_223 != 0x010B)
		{
			if (eax_223 != 0x020B || ecx_220->dw0084 <= 0x0E)
				goto l00402DE7;
			Z_230 = (bool) cond(ecx_220->dw00F8);
		}
		else
		{
			if (ecx_220->dw0074 <= 0x0E)
				goto l00402DE7;
			Z_230 = (bool) cond(ecx_220->dw00E8);
		}
		*(ebp_10 - 0x1C) = (word32) Z_230;
l00402E13:
		*(fp - 0x0C) = 0x00;
		if (fn00403F58(dwArg00) == 0x00)
		{
			if (globals->t4169B4 == 0x01)
				fn00403698(ebx, ebp_10, GetModuleHandleA);
			*(fp - 0x0C) = 0x1C;
			fn004034F7(ebx, ebp_10, GetModuleHandleA, dwArg00);
			*(fp - 0x10) = 0xFF;
			fn00403090(dwArg00);
		}
		Eq_143 ebp_65;
		word32 esi_66;
		Eq_143 edi_67;
		Eq_143 ebx_68 = fn00403EB6(ebx, 0x00, GetModuleHandleA, out ebp_65, out esi_66, out edi_67);
		*(ebp_65 - 0x04) = esi_66;
		word32 ecx_198;
		if (fn00403CE8(out ecx_198) < 0x00)
		{
			*(fp - 0x0C) = 0x1B;
			fn00402CAD(ebx_68, ebp_65, edi_67, dwArg00);
			ecx_198 = *(fp - 0x0C);
		}
		globals->t417F74 = GetCommandLineA();
		globals->t4169AC = fn00403BC6(ecx_198);
		Eq_143 eax_191 = fn00403B24();
		if (eax_191 < 0x00)
		{
			*(fp - 0x0C) = 0x08;
			eax_191 = fn00402CAD(ebx_68, ebp_65, edi_67, dwArg00);
		}
		if (fn004038F1(eax_191, ebx_68, ebp_65, edi_67) < 0x00)
		{
			*(fp - 0x0C) = 0x09;
			fn00402CAD(ebx_68, ebp_65, edi_67, dwArg00);
		}
		*(fp - 0x0C) = 0x01;
		word32 esi_97;
		Eq_143 edi_98;
		word32 eax_99 = fn004030F6(ebx_68, ebp_65, esi_66, edi_67, dwArg00, out esi_97, out edi_98);
		*(ebp_65 - 0x28) = eax_99;
		if (eax_99 != esi_97)
		{
			*(fp - 0x0C) = eax_99;
			fn00402CAD(ebx_68, ebp_65, edi_98, dwArg00);
		}
		word32 eax_120;
		*(ebp_65 - 0x44) = esi_97;
		*(fp - 0x0C) = ebp_65 - 0x70;
		GetStartupInfoA(*(fp - 0x0C));
		word32 ecx_112;
		word32 ebx_113;
		ptr32 ebp_114;
		word32 eax_115 = fn00403894(out ecx_112, out ebx_113, out ebp_114);
		*(ebp_114 - 0x20) = eax_115;
		if ((*(ebp_114 - 0x44) & 0x01) != 0x00)
			eax_120 = (word32) *(ebp_114 - 0x40);
		else
		{
			*(fp - 0x0C) = 0x0A;
			eax_120 = *(fp - 0x0C);
		}
		*(fp - 0x0C) = eax_120;
		*(fp - 0x10) = *(ebp_114 - 0x20);
		*(fp - 0x14) = esi_97;
		*(fp - 0x18) = esi_97;
		struct Eq_1792 * esp_131;
		word32 edi_132;
		ui32 eax_133;
		Eq_143 ebp_134;
		word32 esi_135;
		word32 ecx_136;
		word32 edx_137;
		byte SZO_138;
		bool C_139;
		byte SCZO_140;
		bool Z_141;
		byte CZ_142;
		byte al_143;
		byte SO_144;
		word32 ebx_145;
		edi_98();
		*(esp_131 - 0x04) = eax_133;
		word32 esi_148;
		word32 eax_149 = fn004017C0(eax_133, ecx_136, ebx_145, ebp_134, edi_132, out esi_148);
		*(ebp_134 - 44) = eax_149;
		if (*(ebp_134 - 0x1C) == esi_148)
		{
			esp_131->dw0008 = eax_149;
			fn00403221(ebp_134, dwArg00);
		}
		Eq_143 edi_156 = fn00403243(ebp_134);
		*(ebp_134 - 0x04) = *(ebp_134 - 0x04) | ~0x00;
		word32 ebx_165;
		word32 ebp_166;
		word32 esi_167;
		word32 edi_168;
		fn0040406B(ebp_134, 0x60, dwArg00, dwArg04, dwArg08, out ebx_165, out ebp_166, out esi_167, out edi_168);
		return edi_156;
	}
}

// 00402F28: Register (ptr32 Eq_978) fn00402F28(Stack Eq_154 dwArg04, Stack (ptr32 byte) dwArg08, Stack ui32 dwArg0C, Stack (ptr32 Eq_978) dwArg10, Register out ptr32 ecxOut, Register out ptr32 edxOut)
Eq_978 * fn00402F28(LPCSTR dwArg04, byte * dwArg08, ui32 dwArg0C, Eq_978 * dwArg10, ptr32 & ecxOut, ptr32 & edxOut)
{
	*ecxOut = ecx;
	*edxOut = edx;
	byte cl_177;
	byte ch_176;
	ui32 ecx_175;
	ui32 esi_102;
	struct Eq_978 * eax_130;
	ui32 esi_18 = globals->dw416B20;
	byte * edi_101 = dwArg08;
	byte al_24 = *dwArg08;
	word32 dwLoc0C_241 = 0x00;
	word32 dwLoc08_174 = 0x00;
	if (al_24 != 0x61)
	{
		if (al_24 == 114)
		{
			ecx_175 = 0x00;
			ch_176 = 0x00;
			cl_177 = 0x00;
			esi_102 = esi_18 | 0x01;
			goto l00402F69;
		}
		if (al_24 != 0x77)
			goto l0040306D;
		ecx_175 = 0x0301;
		ch_176 = 0x03;
		cl_177 = 0x01;
	}
	else
	{
		ecx_175 = 0x0109;
		ch_176 = 0x01;
		cl_177 = 0x09;
	}
	esi_102 = esi_18 | 0x02;
l00402F69:
	word32 edx_154 = 0x01;
	while (true)
	{
		edi_101 = edi_101 + 0x01;
		byte al_104 = *edi_101;
		if (al_104 == 0x00 || edx_154 == 0x00)
			break;
		int32 eax_143 = (int32) al_104;
		if (eax_143 <= 0x54)
		{
			if (eax_143 != 0x54)
			{
				if (eax_143 != 0x2B)
				{
					if (eax_143 != 0x44)
					{
						if (eax_143 != 0x52)
						{
							if (eax_143 == 0x53 && dwLoc08_174 == 0x00)
							{
								ecx_175 = ecx_175 | 0x20;
								dwLoc08_174 = 0x01;
								ch_176 = SLICE(ecx_175, byte, 8);
								cl_177 = (byte) ecx_175;
								continue;
							}
						}
						else if (dwLoc08_174 == 0x00)
						{
							ecx_175 = ecx_175 | 0x10;
							dwLoc08_174 = 0x01;
							ch_176 = SLICE(ecx_175, byte, 8);
							cl_177 = (byte) ecx_175;
							continue;
						}
					}
					else if ((cl_177 & 0x40) == 0x00)
					{
						ecx_175 = ecx_175 | 0x40;
						ch_176 = SLICE(ecx_175, byte, 8);
						cl_177 = (byte) ecx_175;
						continue;
					}
				}
				else if ((cl_177 & 0x02) == 0x00)
				{
					ui32 ecx_199 = ecx_175 & ~0x01;
					ecx_175 = ecx_199 | 0x02;
					ch_176 = SLICE(ecx_199 | 0x02, byte, 8);
					cl_177 = (byte) (ecx_199 | 0x02);
					esi_102 = esi_102 & ~0x03 | 0x80;
					continue;
				}
			}
			else if ((ecx_175 & 0x1000) == 0x00)
			{
				ecx_175 = ecx_175 | 0x1000;
				ch_176 = SLICE(ecx_175, byte, 8);
				cl_177 = (byte) ecx_175;
				continue;
			}
		}
		else if (eax_143 != 0x62)
		{
			if (eax_143 != 99)
			{
				if (eax_143 != 110)
				{
					if (eax_143 == 116 && (ch_176 & 0xC0) == 0x00)
					{
						ecx_175 = ecx_175 | 0x4000;
						ch_176 = SLICE(ecx_175, byte, 8);
						cl_177 = (byte) ecx_175;
						continue;
					}
				}
				else if (dwLoc0C_241 == 0x00)
				{
					dwLoc0C_241 = 0x01;
					esi_102 = esi_102 & ~0x4000;
					continue;
				}
			}
			else if (dwLoc0C_241 == 0x00)
			{
				dwLoc0C_241 = 0x01;
				esi_102 = esi_102 | 0x4000;
				continue;
			}
		}
		else if ((ch_176 & 0xC0) == 0x00)
		{
			ecx_175 = ecx_175 | 0x8000;
			ch_176 = SLICE(ecx_175, byte, 8);
			cl_177 = (byte) ecx_175;
			continue;
		}
		edx_154 = 0x00;
	}
	word32 edx_121;
	int32 eax_122 = fn0040428D(dwArg04, ecx_175, dwArg0C, 0x01A4, out edx_121);
	word32 ecx_123;
	*ecxOut = eax_122;
	if (eax_122 >= 0x00)
	{
		globals->dw416B1C = globals->dw416B1C + 0x01;
		dwArg10->dw000C = esi_102;
		dwArg10->dw0004 = 0x00;
		dwArg10->dw0000 = 0x00;
		dwArg10->dw0008 = 0x00;
		dwArg10->dw001C = 0x00;
		dwArg10->dw0010 = eax_122;
		eax_130 = dwArg10;
		return eax_130;
	}
l0040306D:
	eax_130 = null;
	return eax_130;
}

// 00403090: void fn00403090(Stack Eq_143 dwArg04)
void fn00403090(Eq_143 dwArg04)
{
	Eq_143 eax_4 = GetModuleHandleA(&globals->t4082FC);
	struct Eq_2073 * esp_16 = fp;
	if (eax_4 != 0x00)
	{
		Eq_2093 eax_25 = GetProcAddress(eax_4, &globals->t4082EC);
		esp_16 = fp;
		if (eax_25 != null)
		{
			eax_25();
			esp_16 = fp - 0x04;
		}
	}
	union Eq_143 * esp_19 = esp_16 - 0x04;
	*esp_19 = (union Eq_143 *) esp_16->t0004;
	ExitProcess(*esp_19);
}

// 004030F6: Register word32 fn004030F6(Register Eq_143 ebx, Register Eq_143 ebp, Register word32 esi, Register Eq_143 edi, Stack Eq_143 dwArg04, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn004030F6(Eq_143 ebx, Eq_143 ebp, word32 esi, Eq_143 edi, Eq_143 dwArg04, ptr32 & esiOut, ptr32 & ediOut)
{
	ptr32 esp_1 = fp;
	<anonymous> * eax_3 = globals->ptr417F70;
	if (eax_3 != null)
	{
		word32 esp_152;
		word32 eax_153;
		byte SZO_154;
		bool C_155;
		bool Z_156;
		word32 ecx_157;
		byte SCZO_160;
		eax_3();
		esp_1 = esp_152 + 0x04;
	}
	word32 * esp_20 = esp_1 - 0x04;
	*esp_20 = esi;
	*(esp_20 - 0x04) = (union Eq_143 *) edi;
	struct Eq_2124 * esp_112 = esp_20 - 0x04;
	word32 eax_109 = 0x00;
	word32 * esi_111 = &globals->dw40A00C;
	if (false)
	{
		do
		{
			if (eax_109 != 0x00)
				goto l0040315D;
			<anonymous> * ecx_116 = *esi_111;
			if (ecx_116 != null)
			{
				byte SZO_137;
				bool C_138;
				bool Z_139;
				word32 ecx_140;
				word32 edi_142;
				byte SCZO_143;
				ecx_116();
			}
			esi_111 = esi_111 + 0x01;
		} while (esi_111 < &globals->dw40A01C);
		if (eax_109 != 0x00)
		{
l0040315D:
			word32 edi_39;
			*ediOut = esp_112->dw0000;
			word32 esi_41;
			*esiOut = esp_112->dw0004;
			return eax_109;
		}
	}
	word32 * esp_50 = esp_112 - 0x04;
	*esp_50 = 4210426;
	fn004045F6(ebx, ebp, dwArg00);
	word32 * esi_100 = &globals->dw40A000;
	esp_112 = (struct Eq_2124 *) (esp_50 + 0x01);
	if (false)
	{
		do
		{
			<anonymous> * eax_78 = *esi_100;
			if (eax_78 != null)
			{
				word32 eax_95;
				byte SZO_96;
				bool C_97;
				bool Z_98;
				word32 ecx_99;
				word32 edi_101;
				byte SCZO_102;
				word32 ebx_103;
				word32 ebp_104;
				eax_78();
			}
			esi_100 = esi_100 + 0x01;
		} while (esi_100 < &globals->dw40A008);
	}
	eax_109 = 0x00;
	goto l0040315D;
}

// 00403160: void fn00403160(Register Eq_143 ebp, Stack Eq_143 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00403160(Eq_143 ebp, Eq_143 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (globals->dw416A04 == 0x01)
		TerminateProcess(GetCurrentProcess(), dwArg04);
	globals->dw416A00 = 0x01;
	globals->b4169FC = bArg0C;
	ptr32 esp_110 = fp - 0x0C;
	if (dwArg08 == 0x00)
	{
		Eq_143 ecx_101 = globals->t417F68;
		if (ecx_101 != 0x00)
		{
			union Eq_143 * eax_150 = globals->ptr417F64;
			union Eq_143 * eax_151 = eax_150 - 0x04;
			bool C_154 = (bool) cond(eax_150 - 0x04 - ecx_101);
			while (true)
			{
				globals->ptr417F64 = eax_151;
				if (!C_154)
					break;
				Eq_143 eax_169 = *eax_151;
				if (eax_169 != 0x00)
				{
					word32 ebp_186;
					word32 esi_187;
					byte SZO_188;
					bool C_189;
					byte SCZO_190;
					word32 edi_191;
					bool Z_192;
					word32 eax_193;
					byte al_194;
					word32 ecx_195;
					eax_169();
				}
				union Eq_143 * eax_178 = globals->ptr417F64;
				eax_151 = eax_178 - 0x04;
				C_154 = (bool) cond(eax_178 - 0x04 - globals->t417F68);
			}
		}
		word32 * edi_115 = &globals->dw40A020;
		if (false)
		{
			do
			{
				<anonymous> * eax_123 = *edi_115;
				if (eax_123 != null)
				{
					word32 ebp_140;
					word32 esi_141;
					byte SZO_142;
					bool C_143;
					byte SCZO_144;
					bool Z_146;
					word32 eax_147;
					byte al_148;
					word32 ecx_149;
					eax_123();
				}
				edi_115 = edi_115 + 0x01;
			} while (edi_115 < &globals->dw40A028);
		}
	}
	word32 * edi_43 = &globals->dw40A02C;
	if (false)
	{
		do
		{
			<anonymous> * eax_74 = *edi_43;
			if (eax_74 != null)
			{
				word32 ebp_91;
				word32 esi_92;
				byte SZO_93;
				bool C_94;
				byte SCZO_95;
				bool Z_97;
				word32 eax_98;
				byte al_99;
				word32 ecx_100;
				eax_74();
			}
			edi_43 = edi_43 + 0x01;
		} while (edi_43 < &globals->dw40A030);
	}
	union Eq_143 * esp_55 = esp_110 + 0x04;
	if (dwArg0C == 0x00)
	{
		*esp_55 = (union Eq_143 *) dwArg04;
		globals->dw416A04 = 0x01;
		fn00403090(dwArg00);
	}
}

// 00403221: void fn00403221(Register Eq_143 ebp, Stack Eq_143 dwArg04)
void fn00403221(Eq_143 ebp, Eq_143 dwArg04)
{
	fn00403160(ebp, dwArg04, 0x00, 0x00);
}

// 00403232: Register word32 fn00403232(Register Eq_143 ebp, Stack Eq_143 dwArg04, Register out ptr32 ediOut)
word32 fn00403232(Eq_143 ebp, Eq_143 dwArg04, ptr32 & ediOut)
{
	*ediOut = edi;
	fn00403160(ebp, dwArg04, 0x01, 0x00);
	return esi;
}

// 00403243: Register word32 fn00403243(Register Eq_143 ebp)
word32 fn00403243(Eq_143 ebp)
{
	fn00403160(ebp, 0x00, 0x00, 0x01);
	return edi;
}

// 00403261: Register (ptr32 Eq_2361) fn00403261(Register out ptr32 ecxOut, Register out ptr32 edxOut)
Eq_2361 * fn00403261(ptr32 & ecxOut, ptr32 & edxOut)
{
	*edxOut = edx;
	*ecxOut = ecx;
	int32 edi_12 = globals->dw417E40;
	struct Eq_2361 * esi_14 = null;
	int32 eax_15 = 0x00;
	if (edi_12 > 0x00)
	{
		struct Eq_2361 * ecx_42[] = globals->ptr416E20;
		*ecxOut = ecx_42;
		do
		{
			struct Eq_2404 * edx_47 = ecx_42[eax_15].dw0000;
			*edxOut = edx_47;
			if (edx_47 == null)
			{
				word32 edx_82;
				Eq_143 eax_83 = fn004046A2(0x20, out edx_82);
				struct Eq_2361 ** edi_80 = eax_15 << 0x02;
				struct Eq_2361 * (* ecx_86)[] = globals->ptr416E20;
				*ecxOut = ecx_86;
				Mem87[edi_80 + ecx_86:word32] = eax_83;
				word32 edi_89 = Mem87[edi_80 + Mem87[4288032:word32]:word32];
				if (edi_89 == null)
					return esi_14;
				esi_14 = edi_89;
				goto l004032B7;
			}
			if ((edx_47->b000C & 131) == 0x00)
			{
				esi_14 = ecx_42[eax_15].dw0000;
l004032B7:
				if (esi_14 != null)
				{
					esi_14->dw0010 = esi_14->dw0010 | ~0x00;
					esi_14->dw0004 = 0x00;
					esi_14->dw000C = 0x00;
					esi_14->dw0008 = 0x00;
					esi_14->dw0000 = 0x00;
					esi_14->dw001C = 0x00;
				}
				return esi_14;
			}
			eax_15 = eax_15 + 0x01;
		} while (eax_15 < edi_12);
	}
	return esi_14;
}

// 004032D3: Register Eq_143 fn004032D3(Register Eq_143 ebp, Stack Eq_143 dwArg04, Register out Eq_2457 ebxOut, Register out (ptr32 Eq_2458) ebpOut, Register out Eq_2459 ediOut)
Eq_143 fn004032D3(Eq_143 ebp, Eq_143 dwArg04, Eq_2457 & ebxOut, Eq_2458 * & ebpOut, Eq_2459 & ediOut)
{
	*ebxOut = ebx;
	*ebpOut = ebp;
	*ediOut = edi;
	if (dwArg04 == 0x00)
		return eax;
	if (globals->dw417E48 == 0x03)
	{
		Eq_143 eax_61 = fn00404711(dwArg04);
		if (eax_61 != 0x00)
			return fn0040473C(ebp, eax_61, dwArg04, bLoc05);
	}
	eax = HeapFree(globals->t417E44, 0x00, dwArg04);
	return eax;
}

// 0040330B: Register Eq_143 fn0040330B(Register Eq_143 eax, Stack Eq_143 dwArg04)
Eq_143 fn0040330B(Eq_143 eax, Eq_143 dwArg04)
{
	Eq_143 eax_26;
	if (dwArg04 < globals->t417E4C)
	{
		union Eq_143 * ebx_66 = (dwArg04 >> 0x05) * 0x04 + 4292192;
		eax = *ebx_66;
		int32 esi_68 = (dwArg04 & 0x1F) << 0x03;
		if (((word32) eax + 0x04 + esi_68 & 0x01) != 0x00)
		{
			Eq_143 ebp_107;
			Eq_143 eax_105 = fn0040581E(dwArg04);
			if (eax_105 != ~0x00)
			{
				if (dwArg04 == 0x01 || dwArg04 == 0x02)
				{
					Eq_143 eax_131 = fn0040581E(0x02);
					eax_105 = fn0040581E(0x01);
					if (eax_105 == eax_131)
						goto l00403384;
				}
				eax_105 = CloseHandle(fn0040581E(dwArg04));
				if (eax_105 == 0x00)
				{
					eax_105 = GetLastError();
					ebp_107 = eax_105;
l00403386:
					fn004057A4(eax_105, dwArg04);
					((char *) *ebx_66 + 0x04)[esi_68] = 0x00;
					if (ebp_107 == 0x00)
					{
						eax_26.u0 = 0x00;
						return eax_26;
					}
					eax = fn00405631(ebp_107);
l004033B6:
					eax_26 = eax | ~0x00;
					return eax_26;
				}
			}
l00403384:
			ebp_107.u0 = 0x00;
			goto l00403386;
		}
	}
	globals->t4169BC = globals->t4169BC & 0x00;
	globals->t4169B8.u0 = 0x09;
	goto l004033B6;
}

// 004034F7: Register Eq_143 fn004034F7(Register Eq_143 ebx, Register Eq_143 ebp, Register Eq_143 edi, Stack Eq_143 dwArg04)
Eq_143 fn004034F7(Eq_143 ebx, Eq_143 ebp, Eq_143 edi, Eq_143 dwArg04)
{
	Eq_143 eax_8 = globals->t410FD0;
	Eq_143 eax_178 = 0x00;
	while (dwArg04 != (globals->a410AA8)[eax_178])
	{
		eax_178 = (word32) eax_178 + 0x01;
		if (eax_178 >= 0x13)
			break;
	}
	Eq_143 esi_32 = eax_178 << 0x03;
	if (dwArg04 == *((word32) esi_32 + 4262568))
	{
		eax_178 = globals->t4169B4;
		if (eax_178 != 0x01 && (eax_178 != 0x00 || globals->dw410AA4 != 0x01))
		{
			if (dwArg04 != 252)
			{
				if (GetModuleFileNameA(0x00, fp - 0x0110, 0x0104) == 0x00)
					fn00405C40(fp - 0x0110);
				*(fp - 288) = fp - 0x0110;
				ptr32 edi_119 = fp - 0x0110;
				if (fn00405E70(dwArg00) > ~0x3A)
				{
					*(fp - 288) = fp - 0x0110;
					Eq_143 eax_184 = fn00405E70(dwArg00);
					*(fp - 292) = 0x03;
					*(fp - 0x0128) = 0x004086F8;
					edi_119 = (word32) eax_184 + (fp - 331);
					*(fp - 300) = edi_119;
					fn00405D40(dwArg00, dwArg04, dwArg08);
				}
				*(fp - 288) = edi_119;
				Eq_143 eax_134 = fn00405E70(dwArg00);
				*(fp - 292) = (union Eq_143 *) *((word32) esi_32 + 4262572);
				fn00404190((word32) fn00405E70(dwArg00) + ((word32) eax_134 + 0x001C) + 0x03 & ~0x03, ebp);
				*(fp - 288) = 4228828;
				*(fp - 292) = fp - 0x011C;
				*(fp - 0x0128) = fn00405C40(dwArg00);
				*(fp - 300) = fp - 0x011C;
				fn00405C50(dwArg00);
				*(fp - 0x0130) = 4228824;
				*(fp - 0x0134) = fp - 0x011C;
				fn00405C50(dwArg00);
				*(fp - 0x0138) = (union Eq_143 *) *((word32) esi_32 + 4262572);
				*(fp - 0x013C) = fp - 0x011C;
				edi = fn00405C50(dwArg00);
				*(fp - 0x0140) = 0x00012010;
				*(fp - 0x0144) = 4228784;
				*(fp - 0x0148) = fp - 0x011C;
				ebx = fp - 0x011C;
				eax_178 = fn00405B3E(dwArg00, dwArg04, dwArg08);
			}
		}
		else
		{
			esi_32 = (word32) esi_32 + 4262572;
			eax_178 = WriteFile(GetStdHandle(~0x0B), *((word32) esi_32 + 4262572), fn00405E70(*((word32) esi_32 + 4262572)), fp + 0x04, null);
		}
	}
	fn00405F2C(eax_8, ebx, esi_32, edi);
	return eax_178;
}

// 00403698: void fn00403698(Register Eq_143 ebx, Register Eq_143 ebp, Register Eq_143 edi)
void fn00403698(Eq_143 ebx, Eq_143 ebp, Eq_143 edi)
{
	Eq_143 eax_3 = globals->t4169B4;
	if (eax_3 == 0x01 || eax_3 == 0x00 && globals->dw410AA4 == 0x01)
	{
		fn004034F7(ebx, ebp, edi, 252);
		<anonymous> * eax_24 = globals->ptr416A08;
		ptr32 esp_29 = fp;
		if (eax_24 != null)
		{
			word32 eax_45;
			byte SCZO_46;
			bool Z_47;
			byte SZO_48;
			bool C_49;
			word32 ecx_50;
			eax_24();
		}
		*(esp_29 - 0x04) = 0xFF;
		fn004034F7(ebx, ebp, edi, dwArg00);
	}
}

// 00403894: Register Eq_143 fn00403894(Register out ptr32 ecxOut, Register out ptr32 ebxOut, Register out ptr32 ebpOut)
Eq_143 fn00403894(ptr32 & ecxOut, ptr32 & ebxOut, ptr32 & ebpOut)
{
	*ebxOut = ebx;
	*ebpOut = ebp;
	*ecxOut = ecx;
	word32 edi_106 = 0x00;
	if (globals->dw417F6C == 0x00)
	{
		word32 ecx_103;
		word32 ebx_104;
		word32 ebp_105;
		fn0040646A(0x00, out ecx_103, out ebx_104, out ebp_105, out edi_106);
	}
	Eq_143 esi_100 = globals->t417F74;
	if (esi_100 == 0x00)
		esi_100.u0 = 4228883;
	while (true)
	{
		cu8 al_37 = *esi_100;
		if (al_37 <= 0x20)
		{
			if (al_37 == 0x00)
				return esi_100;
			if (edi_106 == 0x00)
			{
				while (true)
				{
					cu8 al_93 = *esi_100.u0;
					if (al_93 == 0x00 || al_93 > 0x20)
						break;
					esi_100.u0 = (byte) esi_100.u0 + 0x01;
				}
				return esi_100;
			}
		}
		if (al_37 == 0x22)
			edi_106 = (word32) (edi_106 == 0x00);
		word32 eax_46 = (word32) al_37;
		word32 ecx_53;
		*ecxOut = eax_46;
		if (fn00406001(eax_46) != 0x00)
			esi_100.u0 = (byte) esi_100.u0 + 0x01;
		esi_100.u0 = (byte) esi_100.u0 + 0x01;
	}
}

// 004038F1: Register Eq_143 fn004038F1(Register Eq_143 eax, Register Eq_143 ebx, Register Eq_143 ebp, Register Eq_143 edi)
Eq_143 fn004038F1(Eq_143 eax, Eq_143 ebx, Eq_143 ebp, Eq_143 edi)
{
	Eq_143 ebx_191 = 0x00;
	if (globals->dw417F6C == 0x00)
	{
		word32 ecx_190;
		word32 edi_193;
		eax = fn0040646A(edi, out ecx_190, out ebx_191, out ebp, out edi_193);
	}
	Eq_143 eax_101;
	Eq_143 esi_187 = globals->t4169AC;
	ui32 edi_181 = 0x00;
	if (esi_187 != ebx_191)
	{
		while (true)
		{
			Eq_143 al_69 = *esi_187;
			if (al_69 == 0x00)
				break;
			if (al_69 != 0x3D)
				edi_181 = edi_181 + 0x01;
			esi_187 = (word32) fn00405E70(esi_187) + ((word32) esi_187 + 0x01);
		}
		word32 edx_76;
		eax = fn004046A2(edi_181 * 0x04 + 0x04, out edx_76);
		globals->t4169E4 = eax;
		Eq_143 edi_141 = eax;
		if (eax != ebx_191)
		{
			Eq_143 esi_143 = globals->t4169AC;
			while (*esi_143 != 0x00)
			{
				*(fp - 0x14) = (union Eq_143 *) esi_143;
				Eq_143 eax_129 = fn00405E70(dwArg00);
				ebp = (word32) eax_129 + 0x01;
				if (*esi_143 != 0x3D)
				{
					*(fp - 0x14) = (word32) eax_129 + 0x01;
					word32 edx_147;
					Eq_143 eax_148 = fn004046A2(dwArg00, out edx_147);
					*edi_141 = eax_148;
					if (eax_148 == ebx_191)
					{
						*(fp - 0x14) = (union Eq_143 *) globals->t4169E4;
						Eq_143 ebx_169;
						word32 ebp_170;
						word32 edi_171;
						ui32 eax_172 = fn004032D3((word32) eax_129 + 0x01, dwArg00, out ebx_169, out ebp_170, out edi_171);
						globals->t4169E4 = ebx_169;
						eax_101 = eax_172 | ~0x00;
						goto l0040399C;
					}
					*(fp - 0x14) = (union Eq_143 *) esi_143;
					*(fp - 0x18) = (union Eq_143 *) eax_148;
					edi_141 = fn00405C40(dwArg00) + 0x04;
				}
				esi_143 = (word32) esi_143 + ((word32) eax_129 + 0x01);
			}
			*(fp - 0x14) = (union Eq_143 *) globals->t4169AC;
			Eq_143 ebx_116;
			word32 ebp_117;
			union Eq_143 * edi_118;
			fn004032D3(ebp, dwArg00, out ebx_116, out ebp_117, out edi_118);
			globals->t4169AC = ebx_116;
			*edi_118 = (union Eq_143 *) ebx_116;
			globals->dw417F60 = 0x01;
			eax_101.u0 = 0x00;
l0040399C:
			return eax_101;
		}
	}
	eax_101 = eax | ~0x00;
	return eax_101;
}

// 004039B8: void fn004039B8(Register Eq_143 eax, Register (ptr32 byte) ecx, Register (ptr32 word32) esi, Stack Eq_143 dwArg04, Stack (ptr32 word32) dwArg08)
void fn004039B8(Eq_143 eax, byte * ecx, word32 * esi, Eq_143 dwArg04, word32 * dwArg08)
{
	*esi = 0x00;
	*dwArg08 = 0x01;
	word32 * ebx_13 = dwArg08;
	word32 edx_15 = 0x00;
	byte * edi_121 = ecx;
	if (dwArg04 != 0x00)
	{
		*dwArg04 = ecx;
		dwArg04 = (word32) dwArg04 + 0x04;
	}
	do
	{
		byte cl_298;
		if (*eax == 0x22)
		{
			eax = (word32) eax + 0x01;
			edx_15 = (word32) (edx_15 == 0x00);
			cl_298 = 0x22;
		}
		else
		{
			*esi = *esi + 0x01;
			if (edi_121 != null)
			{
				*edi_121 = (byte) *eax;
				edi_121 = edi_121 + 0x01;
			}
			cl_298 = (byte) *eax;
			eax = (word32) eax + 0x01;
			if ((((word32) cl_298)->b416BE1 & 0x04) != 0x00)
			{
				*esi = *esi + 0x01;
				if (edi_121 != null)
				{
					*edi_121 = (byte) *eax;
					edi_121 = edi_121 + 0x01;
				}
				eax = (word32) eax + 0x01;
			}
			ebx_13 = dwArg08;
			if (cl_298 == 0x00)
			{
				eax = eax - 0x01;
				goto l00403A31;
			}
		}
	} while (edx_15 != 0x00 || cl_298 != 0x20 && cl_298 != 0x09);
	if (edi_121 != null)
		*(edi_121 - 0x01) = 0x00;
l00403A31:
	ui32 dwLoc08_116 = ecx & 0x00;
	while (*eax != 0x00)
	{
		while (true)
		{
			byte cl_96 = *eax;
			if (cl_96 != 0x20 && cl_96 != 0x09)
				break;
			eax = (word32) eax + 0x01;
		}
		if (*eax == 0x00)
			break;
		if (dwArg04 != 0x00)
		{
			*dwArg04 = edi_121;
			dwArg04 = (word32) dwArg04 + 0x04;
		}
		*ebx_13 = *ebx_13 + 0x01;
l00403A6A:
		word32 ebx_124 = 0x01;
		uint32 edx_126 = 0x00;
		byte dl_127 = 0x00;
		while (*eax == 0x5C)
		{
			edx_126 = edx_126 + 0x01;
			eax = (word32) eax + 0x01;
			dl_127 = (byte) edx_126;
		}
		if (*eax == 0x22)
		{
			if ((dl_127 & 0x01) == 0x00)
			{
				if (dwLoc08_116 != 0x00)
				{
					Eq_143 ecx_279 = (word32) eax + 0x01;
					if (*ecx_279 != 0x22)
						goto l00403A94;
					eax = ecx_279;
				}
				else
				{
l00403A94:
					ebx_124 = 0x00;
				}
				dwLoc08_116 = (word32) (dwLoc08_116 == 0x00);
			}
			edx_126 = edx_126 >> 0x01;
		}
		if (edx_126 != 0x00)
		{
			do
			{
				if (edi_121 != null)
				{
					*edi_121 = 0x5C;
					edi_121 = edi_121 + 0x01;
				}
				*esi = *esi + 0x01;
				edx_126 = edx_126 - 0x01;
			} while (edx_126 != 0x00);
		}
		byte cl_153 = *eax;
		if (cl_153 != 0x00 && (dwLoc08_116 != 0x00 || cl_153 != 0x20 && cl_153 != 0x09))
		{
			if (ebx_124 != 0x00)
			{
				if (edi_121 != null)
				{
					if ((((word32) cl_153)->b416BE1 & 0x04) != 0x00)
					{
						*edi_121 = cl_153;
						*esi = *esi + 0x01;
						edi_121 = edi_121 + 0x01;
						eax = (word32) eax + 0x01;
					}
					*edi_121 = (byte) *eax;
					edi_121 = edi_121 + 0x01;
				}
				else if ((((word32) cl_153)->b416BE1 & 0x04) != 0x00)
				{
					*esi = *esi + 0x01;
					eax = (word32) eax + 0x01;
				}
				*esi = *esi + 0x01;
			}
			eax = (word32) eax + 0x01;
			goto l00403A6A;
		}
		if (edi_121 != null)
		{
			*edi_121 = 0x00;
			edi_121 = edi_121 + 0x01;
		}
		*esi = *esi + 0x01;
		ebx_13 = dwArg08;
	}
	if (dwArg04 != 0x00)
		*dwArg04 = *dwArg04 & 0x00;
	*ebx_13 = *ebx_13 + 0x01;
}

// 00403B24: Register ui32 fn00403B24()
ui32 fn00403B24()
{
	ptr32 ebp_111 = fp - 0x04;
	Eq_143 edi_112 = 0x00;
	if (globals->dw417F6C == 0x00)
	{
		word32 ecx_109;
		word32 ebx_110;
		fn0040646A(0x00, out ecx_109, out ebx_110, out ebp_111, out edi_112);
	}
	Eq_143 ebx_105;
	globals->b416B14 = 0x00;
	GetModuleFileNameA(edi_112, 0x00416A10, 0x0104);
	Eq_143 eax_38 = globals->t417F74;
	globals->dw4169F4 = 0x00416A10;
	if (eax_38 != edi_112)
	{
		ebx_105 = eax_38;
		if (*eax_38 != 0x00)
		{
l00403B6C:
			ui32 eax_100;
			fn004039B8(ebx_105, null, ebp_111 - 0x08, edi_112, ebp_111 - 0x04);
			ui32 esi_53 = *(ebp_111 - 0x04);
			word32 edx_60;
			Eq_143 eax_61 = fn004046A2(*(ebp_111 - 0x08) + (esi_53 << 0x02), out edx_60);
			if (eax_61 == 0x00)
				eax_100 = eax_61 | ~0x00;
			else
			{
				fn004039B8(ebx_105, (word32) eax_61 + (esi_53 << 0x02), ebp_111 - 0x08, eax_61, ebp_111 - 0x04);
				globals->dw4169D8 = *(ebp_111 - 0x04) - 0x01;
				globals->t4169DC = eax_61;
				eax_100 = 0x00;
			}
			return eax_100;
		}
	}
	ebx_105.u0 = 0x00416A10;
	goto l00403B6C;
}

// 00403BC6: Register word32 fn00403BC6(Register word32 ecx)
word32 fn00403BC6(word32 ecx)
{
	word32 eax_136;
	word32 eax_211 = globals->dw416B18;
	word32 ebx_129 = 0x00;
	Eq_3513 bx_205 = 0x00;
	Eq_3515 esi_208 = 0x00;
	struct Eq_3517 * esp_194 = fp - 0x18;
	if (eax_211 == 0x00)
	{
		Eq_3515 eax_274 = GetEnvironmentStringsW();
		esi_208 = eax_274;
		if (eax_274 != 0x00)
		{
			globals->dw416B18 = 0x01;
l00403C14:
			if (esi_208 != 0x00)
			{
l00403C20:
				Eq_3515 eax_187 = esi_208;
				if (*esi_208 != bx_205)
				{
					do
					{
						do
							eax_187 = eax_187 + 0x02;
						while (*eax_187 != bx_205);
						eax_187 = eax_187 + 0x02;
					} while (Mem0[eax_187 + 0x02:word16] != bx_205);
				}
				struct Eq_3553 * esp_95 = esp_194 - 0x04;
				esp_95->t0000.u0 = 0x00;
				*(esp_95 - 0x04) = 0x00;
				*(esp_95 - 0x08) = 0x00;
				*(esp_95 - 0x0C) = 0x00;
				int32 eax_105 = (eax_187 - esi_208 >> 0x01) + 0x01;
				*(esp_95 - 0x10) = eax_105;
				*(esp_95 - 0x14) = (union Eq_3515 *) esi_208;
				*(esp_95 - 0x18) = 0x00;
				*(esp_95 - 0x1C) = 0x00;
				esp_95->dw0018 = eax_105;
				Eq_143 eax_115 = WideCharToMultiByte(*(esp_95 - 0x1C), *(esp_95 - 0x18), *(esp_95 - 0x14), *(esp_95 - 0x10), *(esp_95 - 0x0C), *(esp_95 - 0x08), *(esp_95 - 0x04), esp_95->t0000);
				if (eax_115 != 0x00)
				{
					esp_95->t0000 = eax_115;
					word32 edx_140;
					Eq_143 eax_141 = fn004046A2(dwArg00, out edx_140);
					esp_95->t0014 = eax_141;
					if (eax_141 != 0x00)
					{
						esp_95->t0000.u0 = 0x00;
						*(esp_95 - 0x04) = 0x00;
						*(esp_95 - 0x08) = (union Eq_143 *) eax_115;
						*(esp_95 - 0x0C) = (union Eq_143 *) eax_141;
						*(esp_95 - 0x10) = esp_95->dw0018;
						*(esp_95 - 0x14) = (union Eq_3515 *) esi_208;
						*(esp_95 - 0x18) = 0x00;
						*(esp_95 - 0x1C) = 0x00;
						if (WideCharToMultiByte(*(esp_95 - 0x1C), *(esp_95 - 0x18), *(esp_95 - 0x14), *(esp_95 - 0x10), *(esp_95 - 0x0C), *(esp_95 - 0x08), *(esp_95 - 0x04), esp_95->t0000) == 0x00)
						{
							esp_95->t0000 = esp_95->t0014;
							Eq_143 ebx_180;
							word32 ebp_181;
							word32 edi_182;
							fn004032D3(eax_115, dwArg00, out ebx_180, out ebp_181, out edi_182);
							esp_95->t0014 = ebx_180;
						}
						ebx_129 = esp_194->dw0010;
					}
				}
				union Eq_3515 * esp_132 = esp_194 - 0x04;
				*esp_132 = (union Eq_3515 *) esi_208;
				FreeEnvironmentStringsW(*esp_132);
				eax_136 = ebx_129;
				return eax_136;
			}
			Eq_3515 eax_196 = GetEnvironmentStringsW();
			esi_208 = eax_196;
			if (eax_196 != 0x00)
				goto l00403C20;
l00403C99:
			eax_136 = 0x00;
			return eax_136;
		}
		if (GetLastError() == 0x78)
		{
			globals->dw416B18 = 0x02;
			eax_211 = 0x02;
		}
		else
			eax_211 = globals->dw416B18;
	}
	if (eax_211 != 0x01)
	{
		if (eax_211 == 0x02 || eax_211 == 0x00)
		{
			Eq_143 eax_217 = GetEnvironmentStrings();
			Eq_143 esi_218 = eax_217;
			if (eax_217 != 0x00)
			{
				Eq_143 eax_223;
				eax_223 = eax_217;
				eax_223 = eax_217;
				if (*eax_217 != 0x00)
				{
					do
					{
						do
							eax_223 = eax_223 + 0x01;
						while (*eax_223 != 0x00);
						eax_223 = eax_223 + 0x01;
					} while (Mem0[eax_223 + 0x01:byte] != 0x00);
				}
				word32 edi_243;
				Eq_3826 eax_224 = eax_223 - eax_217;
				word32 edx_231;
				word32 eax_232 = fn004046A2(eax_224 + 0x01, out edx_231);
				if (eax_232 == 0x00)
					edi_243 = 0x00;
				else
					fn00402970(eax_232, eax_217, eax_224 + 0x01, out esi_218, out edi_243);
				FreeEnvironmentStringsA(esi_218);
				eax_136 = edi_243;
				return eax_136;
			}
		}
		goto l00403C99;
	}
	goto l00403C14;
}

// 00403CE8: Register ui32 fn00403CE8(Register out ptr32 ecxOut)
ui32 fn00403CE8(ptr32 & ecxOut)
{
	ui32 eax_115;
	word32 edx_6;
	Eq_143 eax_320 = fn004046A2(0x0100, out edx_6);
	word32 ecx_11;
	*ecxOut = 0x0100;
	if (eax_320 == 0x00)
		eax_115 = eax_320 | ~0x00;
	else
	{
		globals->a417E60 = eax_320;
		globals->t417E4C.u0 = 0x20;
		Eq_143 ecx_193;
		*ecxOut = (word32) eax_320 + 0x0100;
		while (eax_320 < ecx_193)
		{
			*eax_320 = *eax_320 | ~0x00;
			((word32) eax_320 + 0x04)->u0 = 0x00;
			((word32) eax_320 + 0x05)->u0 = 0x0A;
			eax_320 = (word32) eax_320 + 0x08;
			*ecxOut = (word32) globals->a417E60 + 0x0100;
		}
		GetStartupInfoA(fp - 0x44);
		if (wLoc12 != 0x00 && dwLoc10 != null)
		{
			Eq_143 esi_179 = *dwLoc10;
			byte * ebp_182 = (char *) dwLoc10 + 0x04;
			word32 ebx_186 = esi_179 + (dwLoc10 + 0x04);
			if (esi_179 >= 0x0800)
				esi_179.u0 = 0x0800;
			if (globals->t417E4C < esi_179)
			{
				word32 * edi_273 = globals->a417E64;
				do
				{
					word32 edx_279;
					Eq_143 eax_280 = fn004046A2(0x0100, out edx_279);
					*ecxOut = 0x0100;
					if (eax_280 == 0x00)
					{
						esi_179 = globals->t417E4C;
						break;
					}
					globals->t417E4C = (word32) globals->t417E4C + 0x0020;
					*edi_273 = (word32) eax_280;
					*ecxOut = (word32) eax_280 + 0x0100;
					while (eax_280 < ecx_193)
					{
						*eax_280 = *eax_280 | ~0x00;
						((word32) eax_280 + 0x04)->u0 = 0x00;
						((word32) eax_280 + 0x05)->u0 = 0x0A;
						eax_280 = (word32) eax_280 + 0x08;
						*ecxOut = *edi_273 + 0x0100;
					}
					edi_273 = edi_273 + 0x01;
				} while (globals->t417E4C < esi_179);
			}
			Eq_143 edi_200 = 0x00;
			if (esi_179 > 0x00)
			{
				do
				{
					Eq_143 eax_226 = *ebx_186;
					if (eax_226 != ~0x00)
					{
						byte cl_242 = *ebp_182;
						*ecxOut = (up32) DPB(ecx_193, cl_242, 0);
						if ((cl_242 & 0x01) != 0x00 && ((cl_242 & 0x08) != 0x00 || GetFileType(eax_226) != 0x00))
						{
							struct Eq_4108 * eax_260 = (char *) *((char *) globals->a417E60 + (edi_200 >> 0x05) * 0x04) + (edi_200 & 0x1F) * 0x08;
							word32 ecx_261 = *ebx_186;
							eax_260->dw0000 = ecx_261;
							byte cl_263 = *ebp_182;
							eax_260->b0004 = cl_263;
							*ecxOut = DPB(ecx_261, cl_263, 0);
						}
					}
					edi_200 = (word32) edi_200 + 0x01;
					ebp_182 = ebp_182 + 0x01;
					ebx_186 = ebx_186 + 0x01;
				} while (edi_200 < esi_179);
			}
		}
		int32 ebx_103 = 0x00;
		do
		{
			struct Eq_3959 * esi_93 = (word32) globals->a417E60 + ebx_103 * 0x08;
			if (esi_93->t0000 == ~0x00)
			{
				Eq_143 eax_124;
				esi_93->b0004 = 0x81;
				if (ebx_103 == 0x00)
					eax_124.u0 = ~0x09;
				else
					eax_124 = 0x00 - (0x01 - ebx_103 == 0x00) + ~0x0A;
				Eq_143 eax_128 = GetStdHandle(eax_124);
				if (eax_128 != ~0x00)
				{
					Eq_143 eax_144 = GetFileType(eax_128);
					if (eax_144 == 0x00)
						goto l00403E63;
					esi_93->t0000 = eax_128;
					if ((eax_144 & 0xFF) == 0x02)
						goto l00403E63;
					if ((eax_144 & 0xFF) == 0x03)
						esi_93->b0004 = esi_93->b0004 | 0x08;
				}
				else
				{
l00403E63:
					esi_93->b0004 = esi_93->b0004 | 0x40;
				}
			}
			else
				esi_93->b0004 = esi_93->b0004 | 0x80;
			ebx_103 = ebx_103 + 0x01;
		} while (ebx_103 < 0x03);
		SetHandleCount(globals->t417E4C);
		eax_115 = 0x00;
	}
	return eax_115;
}

// 00403EB6: Register Eq_143 fn00403EB6(Register Eq_143 ebx, Register Eq_143 esi, Register Eq_143 edi, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_143 fn00403EB6(Eq_143 ebx, Eq_143 esi, Eq_143 edi, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	Eq_143 ebp_10 = fn00404030(ebx, esi, edi, dwLoc0C, 4228888, 0x0C);
	*(ebp_10 - 0x1C) = 0x00408F0C;
	while (*(ebp_10 - 0x1C) < 0x00408F0C)
	{
		*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
		<anonymous> * eax_31 = **(ebp_10 - 0x1C);
		if (eax_31 != null)
		{
			word32 esp_50;
			byte SCZO_52;
			bool C_53;
			byte SZO_54;
			word32 eax_55;
			bool Z_56;
			word32 ebx_57;
			word32 esi_58;
			word32 edi_59;
			word32 ecx_60;
			eax_31();
		}
		*(ebp_10 - 0x04) = *(ebp_10 - 0x04) | ~0x00;
		*(ebp_10 - 0x1C) = *(ebp_10 - 0x1C) + 0x04;
	}
	Eq_143 ebx_64;
	word32 ebp_65;
	word32 esi_66;
	word32 edi_67;
	fn0040406B(ebp_10, 0x0C, dwArg00, dwArg04, dwArg08, out ebx_64, out ebp_65, out esi_66, out edi_67);
	return ebx_64;
}

// 00403F3E: Register word32 fn00403F3E()
word32 fn00403F3E()
{
	if (globals->dw4169C4 != 0x02 || globals->dw4169D0 < 0x05)
		return 0x03;
	return 0x01;
}

// 00403F58: Register word32 fn00403F58(Stack Eq_143 dwArg04)
word32 fn00403F58(Eq_143 dwArg04)
{
	Eq_143 eax_14 = HeapCreate((word32) (dwArg04 == 0x00), 0x1000, 0x00);
	globals->t417E44 = eax_14;
	if (eax_14 == 0x00)
		return 0x00;
	word32 eax_39 = fn00403F3E();
	globals->dw417E48 = eax_39;
	if (eax_39 != 0x03 || fn004046C9(1016) != 0x00)
		return 0x01;
	HeapDestroy(globals->t417E44);
	return 0x00;
}

// 00404030: Register ptr32 fn00404030(Register Eq_143 ebx, Register Eq_143 esi, Register Eq_143 edi, Stack Eq_143 dwArg00, Stack word32 dwArg04, Stack ui32 dwArg08)
ptr32 fn00404030(Eq_143 ebx, Eq_143 esi, Eq_143 edi, Eq_143 dwArg00, word32 dwArg04, ui32 dwArg08)
{
	ptr32 esp_14 = fp - 0x08 - dwArg08;
	*(esp_14 - 0x04) = (union Eq_143 *) ebx;
	*(esp_14 - 0x08) = (union Eq_143 *) esi;
	*(esp_14 - 0x0C) = (union Eq_143 *) edi;
	*(esp_14 - 0x10) = (union Eq_143 *) dwArg00;
	fs->ptr0000 = fp - 0x08;
	return fp + 0x08;
}

// 0040406B: Register Eq_143 fn0040406B(Register Eq_143 ebp, Stack Eq_143 dwArg00, Stack Eq_143 dwArg04, Stack int32 dwArg08, Stack Eq_143 dwArg0C, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_143 fn0040406B(Eq_143 ebp, Eq_143 dwArg00, Eq_143 dwArg04, int32 dwArg08, Eq_143 dwArg0C, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	fs->dw0000 = *(ebp - 0x10);
	word32 ebp_19;
	*ebpOut = *ebp;
	*ebp = dwArg00;
	word32 edi_11;
	*ediOut = dwArg04;
	word32 esi_14;
	*esiOut = dwArg08;
	word32 ebx_17;
	*ebxOut = dwArg0C;
	return dwArg00;
}

// 00404190: void fn00404190(Register uint32 eax, Stack Eq_143 dwArg00)
void fn00404190(uint32 eax, Eq_143 dwArg00)
{
	if (eax >= 0x1000)
	{
		ptr32 ecx_29 = (word32) fp + 0x04;
		do
		{
			ecx_29 = ecx_29 - 0x1000;
			eax = eax - 0x1000;
		} while (eax >= 0x1000);
		*(ecx_29 - eax - 0x04) = (union Eq_143 *) dwArg00;
	}
	else
		Mem24[-eax + fp:word32] = dwArg00;
}

// 0040428D: Register Eq_143 fn0040428D(Stack Eq_154 dwArg04, Stack ui32 dwArg08, Stack ui32 dwArg0C, Stack ui32 dwArg10, Register out ptr32 edxOut)
Eq_143 fn0040428D(LPCSTR dwArg04, ui32 dwArg08, ui32 dwArg0C, ui32 dwArg10, ptr32 & edxOut)
{
	*edxOut = edx;
	byte bLoc05_24;
	byte ch_10 = SLICE(dwArg08, byte, 8);
	if ((byte) dwArg08 < 0x00)
		bLoc05_24 = 0x10;
	else
		bLoc05_24 = 0x00;
	if ((dwArg08 & 0x8000) == 0x00 && ((ch_10 & 0x40) != 0x00 || globals->dw416B8C != 0x8000))
		bLoc05_24 = bLoc05_24 | 0x80;
	Eq_143 eax_142;
	Eq_143 dwLoc14_100;
	ui32 eax_103;
	if ((dwArg08 & 0x03) != 0x00)
	{
		ui32 eax_518 = (dwArg08 & 0x03) - 0x01;
		if (eax_518 != 0x00)
		{
			eax_103 = eax_518 - 0x01;
			if (eax_518 != 0x01)
				goto l00404317;
			dwLoc14_100.u0 = 0xC0000000;
		}
		else
			dwLoc14_100.u0 = 0x40000000;
	}
	else
		dwLoc14_100.u0 = 0x80000000;
	Eq_143 dwLoc0C_108;
	eax_103 = dwArg0C;
	if (dwArg0C != 0x10)
	{
		if (dwArg0C != 0x20)
		{
			if (dwArg0C != 0x30)
			{
				if (dwArg0C != 0x40)
				{
l00404317:
					globals->t4169B8.u0 = 22;
					globals->t4169BC.u0 = 0x00;
					eax_142 = eax_103 | ~0x00;
					return eax_142;
				}
				dwLoc0C_108.u0 = 0x03;
			}
			else
				dwLoc0C_108.u0 = 0x02;
		}
		else
			dwLoc0C_108.u0 = 0x01;
	}
	else
		dwLoc0C_108.u0 = 0x00;
	Eq_143 dwLoc10_180;
	word32 edx_110;
	*edxOut = 0x0700;
	ui32 eax_111 = dwArg08 & 0x0700;
	if ((dwArg08 & 0x0700) > 0x0400)
	{
		if ((dwArg08 & 0x0700) != 0x0500)
		{
			if ((dwArg08 & 0x0700) == 0x0600)
				goto l004043BA;
			if ((dwArg08 & 0x0700) != 0x0700)
			{
l004043A2:
				globals->t4169B8.u0 = 22;
				globals->t4169BC.u0 = 0x00;
				goto l004043B2;
			}
		}
		dwLoc10_180.u0 = 0x01;
l004043CA:
		byte al_183 = (byte) dwArg08;
		byte ah_184 = SLICE(dwArg08, byte, 8);
		Eq_143 esi_188 = 0x80;
		if ((dwArg08 & 0x0100) != 0x00 && (byte) (~globals->dw4169C0 & dwArg10) >= 0x00)
			esi_188.u0 = 0x01;
		if ((al_183 & 0x40) != 0x00)
		{
			esi_188 = esi_188 | 0x04000000;
			if (globals->dw4169C4 == 0x02)
				dwLoc0C_108 = dwLoc0C_108 | 0x04;
		}
		if ((ah_184 & 0x10) != 0x00)
			esi_188 = esi_188 | 0x0100;
		if ((al_183 & 0x20) != 0x00)
			esi_188 = esi_188 | 0x08000000;
		else if ((al_183 & 0x10) != 0x00)
			esi_188 = esi_188 | 0x10000000;
		word32 edx_210;
		Eq_143 eax_211 = fn00405690(0x00, out edx_210);
		Eq_143 ebx_212 = eax_211;
		if (eax_211 == ~0x00)
		{
			globals->t4169BC = globals->t4169BC & 0x00;
			globals->t4169B8.u0 = 0x18;
			goto l0040443F;
		}
		Eq_143 eax_259 = CreateFileA(dwArg04, dwLoc14_100, dwLoc0C_108, fp - 0x20, dwLoc10_180, esi_188, 0x00);
		if (eax_259 == ~0x00)
		{
l00404477:
			fn00405631(GetLastError());
l0040443F:
			eax_142.u0 = ~0x00;
			return eax_142;
		}
		Eq_143 eax_277 = GetFileType(eax_259);
		if (eax_277 == 0x00)
		{
			CloseHandle(eax_259);
			goto l00404477;
		}
		if (eax_277 == 0x02)
			bLoc05_24 = bLoc05_24 | 0x40;
		else if (eax_277 == 0x03)
			bLoc05_24 = bLoc05_24 | 0x08;
		fn0040572D(eax_211, eax_259);
		Eq_143 edi_307 = (eax_211 >> 0x05) * 0x04 + 4292192;
		ci8 al_303 = bLoc05_24 | 0x01;
		int32 esi_309 = (eax_211 & 0x1F) << 0x03;
		(word32) *edi_307 + 0x04 + esi_309 = (ci8 *) al_303;
		if ((al_303 & 0x48) == 0x00 && (al_303 < 0x00 && (bArg08 & 0x02) != 0x00))
		{
			Eq_143 eax_362 = fn00406BBC(eax_211, ~0x00, 0x02);
			if (eax_362 == ~0x00)
			{
				if (globals->t4169BC == 131)
					goto l004044F6;
				goto l00404551;
			}
			word32 edx_396;
			if (fn004069CE(fp - 0x06, eax_211, fp - 0x06, 0x01, out edx_396) == 0x00 && false)
			{
				word32 edx_424;
				eax_362 = fn00406872(eax_211, fp - 0x04, esi_309, edi_307, eax_211, eax_362, out edx_424, out ebx_212);
				if (eax_362 == ~0x00)
				{
l00404551:
					eax_111 = fn0040330B(eax_362, ebx_212);
l004043B2:
					eax_142 = eax_111 | ~0x00;
					return eax_142;
				}
			}
			eax_362 = fn00406BBC(ebx_212, 0x00, 0x00);
			if (eax_362 == ~0x00)
				goto l00404551;
		}
l004044F6:
		if ((al_303 & 0x48) == 0x00 && (bArg08 & 0x08) != 0x00)
		{
			byte * eax_345 = (word32) *edi_307 + 0x04 + esi_309;
			*eax_345 = *eax_345 | 0x20;
		}
		eax_142 = ebx_212;
		return eax_142;
	}
	else
	{
		if ((dwArg08 & 0x0700) == 0x0400 || (dwArg08 & 0x0700) == 0x00)
		{
			dwLoc10_180.u0 = 0x03;
			goto l004043CA;
		}
		if ((dwArg08 & 0x0700) == 0x0100)
		{
			dwLoc10_180.u0 = 0x04;
			goto l004043CA;
		}
		if ((dwArg08 & 0x0700) != 0x0200)
		{
			if ((dwArg08 & 0x0700) == 0x0300)
			{
				dwLoc10_180.u0 = 0x02;
				goto l004043CA;
			}
			goto l004043A2;
		}
l004043BA:
		dwLoc10_180.u0 = 0x05;
		goto l004043CA;
	}
}

// 00404574: Register Eq_143 fn00404574(Register Eq_143 ebx, Register Eq_143 ebp, Stack Eq_143 dwArg04)
Eq_143 fn00404574(Eq_143 ebx, Eq_143 ebp, Eq_143 dwArg04)
{
	up32 eax_9 = fn00406DAA(globals->t417F68);
	union Eq_143 * ecx_12 = globals->ptr417F64;
	Eq_143 eax_14 = globals->t417F68;
	if (eax_9 < (ecx_12 - eax_14) + 0x04)
	{
		up32 ecx_47 = 0x0800;
		if (eax_9 < 0x0800)
			ecx_47 = eax_9;
		Eq_143 eax_59 = fn00406C48(ebx, ebp, eax_14, ecx_47 + eax_9);
		if (eax_59 == 0x00)
		{
			eax_59 = fn00406C48(ebx, ebp, globals->t417F68, eax_9 + 0x10);
			if (eax_59 == 0x00)
				return eax_59;
		}
		int32 ecx_76 = globals->ptr417F64 - globals->t417F68;
		globals->t417F68 = eax_59;
		ecx_12 = (word32) eax_59 + (ecx_76 >> 0x02) * 0x04;
		globals->ptr417F64 = ecx_12;
	}
	*ecx_12 = (union Eq_143 *) dwArg04;
	globals->ptr417F64 = (union Eq_143 *) ((char *) globals->ptr417F64 + 0x04);
	return dwArg04;
}

// 004045F6: void fn004045F6(Register Eq_143 ebx, Register Eq_143 ebp, Stack Eq_143 dwArg04)
void fn004045F6(Eq_143 ebx, Eq_143 ebp, Eq_143 dwArg04)
{
	fn00404574(ebx, ebp, dwArg04);
}

// 00404630: Register Eq_143 fn00404630(Stack Eq_143 dwArg04, Register out ptr32 edxOut)
Eq_143 fn00404630(Eq_143 dwArg04, ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_143 eax_27;
	Eq_143 esi_43 = dwArg04;
	if (globals->dw417E48 == 0x03 && dwArg04 <= globals->t416E10)
	{
		word32 edx_69;
		eax_27 = fn00405335(dwArg04, dwArg04, SLICE(dwArg04, byte, 24), out edx_69);
		if (eax_27 != 0x00)
			return eax_27;
	}
	if (dwArg04 == 0x00)
		esi_43 = (word32) dwArg04 + 0x01;
	if (globals->dw417E48 != 0x01)
		esi_43 = esi_43 + 0x0F & ~0x0F;
	eax_27 = HeapAlloc(globals->t417E44, 0x00, esi_43);
	return eax_27;
}

// 00404676: Register word32 fn00404676(Stack Eq_143 dwArg04, Stack word32 dwArg08, Register out ptr32 edxOut)
word32 fn00404676(Eq_143 dwArg04, word32 dwArg08, ptr32 & edxOut)
{
	*edxOut = edx;
	word32 eax_15;
	if (dwArg04 <= ~0x1F)
	{
		do
		{
			word32 edx_32;
			eax_15 = fn00404630(dwArg04, out edx_32);
			if (eax_15 != 0x00 || dwArg08 == eax_15)
				return eax_15;
		} while (fn00406DF8(dwArg04) != 0x00);
	}
	eax_15 = 0x00;
	return eax_15;
}

// 004046A2: Register word32 fn004046A2(Stack Eq_143 dwArg04, Register out ptr32 edxOut)
word32 fn004046A2(Eq_143 dwArg04, ptr32 & edxOut)
{
	word32 edx_10;
	return fn00404676(dwArg04, globals->dw416B94, out edx_10);
}

// 004046C9: Register Eq_143 fn004046C9(Stack Eq_143 dwArg04)
Eq_143 fn004046C9(Eq_143 dwArg04)
{
	Eq_143 eax_10 = HeapAlloc(globals->t417E44, 0x00, 0x0140);
	globals->t416E0C = eax_10;
	if (eax_10 == 0x00)
		return eax_10;
	globals->t416E04 = globals->t416E04 & 0x00;
	globals->dw416E08 = globals->dw416E08 & 0x00;
	globals->t416E14 = eax_10;
	globals->t416E10 = dwArg04;
	globals->dw416E18 = 0x10;
	return 0x01;
}

// 00404711: Register (ptr32 Eq_4873) fn00404711(Stack Eq_143 dwArg04)
Eq_4873 * fn00404711(Eq_143 dwArg04)
{
	struct Eq_4873 * eax_14 = (word32) globals->t416E0C + 0x0C;
	struct Eq_4873 * ecx_6 = eax_14 + globals->dw416E08;
	while (eax_14 < ecx_6)
	{
		if (dwArg04 - eax_14->dw0000 < 0x00100000)
			return eax_14;
		eax_14 = eax_14 + 0x01;
	}
	eax_14 = null;
	return eax_14;
}

// 0040473C: Register Eq_143 fn0040473C(Register Eq_143 ebp, Stack Eq_143 dwArg04, Stack Eq_143 dwArg08, Stack byte bArg0B)
Eq_143 fn0040473C(Eq_143 ebp, Eq_143 dwArg04, Eq_143 dwArg08, byte bArg0B)
{
	uint32 edi_20 = dwArg08 - *((word32) dwArg04 + 0x0C);
	Eq_143 eax_10 = *((word32) dwArg04 + 0x0010);
	word32 ecx_27 = *((word32) dwArg08 - 0x04);
	struct Eq_4909 * ebp_180 = fp - 0x04;
	struct Eq_4913 * esi_123 = (word32) dwArg08 - 0x04;
	Eq_4915 edi_178 = edi_20 >> 0x0F;
	Eq_143 ecx_25 = (word32) eax_10 + ((edi_20 >> 0x0F) *s 0x0204 + 0x0144);
	int32 ecx_28 = ecx_27 - 0x01;
	int32 dwLoc08_113 = ecx_27 - 0x01;
	if (((byte) (ecx_27 - 0x01) & 0x01) == 0x00)
	{
		struct Eq_4913 * ebx_76 = ecx_27 - 0x01 + ((word32) dwArg08 - 0x04);
		int32 edx_77 = ebx_76->dw0000;
		int32 edx_79 = *(dwArg08 - 0x08);
		struct Eq_4913 * dwArg08_112 = ebx_76;
		if (((byte) edx_77 & 0x01) == 0x00)
		{
			Eq_4964 edx_449 = (edx_77 >> 0x04) - 0x01;
			if (edx_449 > 0x3F)
				edx_449.u0 = 0x3F;
			if (ebx_76->ptr0004 == ebx_76->ptr0008)
			{
				if (edx_449 < 0x20)
				{
					uint32 ebx_489 = ~(0x80000000 >> (byte) edx_449);
					*((word32) eax_10 + ((edi_20 >> 0x0F) * 0x04 + 0x0044)) = *((word32) eax_10 + ((edi_20 >> 0x0F) * 0x04 + 0x0044)) & ebx_489;
					word32 ecx_488 = edx_449 + 0x04 + eax_10;
					Eq_4593 v18_494 = *ecx_488 - 0x01;
					*ecx_488 = v18_494;
					if (v18_494 == 0x00)
						*dwArg04 = *dwArg04 & ebx_489;
				}
				else
				{
					uint32 ebx_507 = ~(0x80000000 >> (byte) (edx_449 - 0x20));
					*((word32) eax_10 + ((edi_20 >> 0x0F) * 0x04 + 0x00C4)) = *((word32) eax_10 + ((edi_20 >> 0x0F) * 0x04 + 0x00C4)) & ebx_507;
					word32 ecx_506 = edx_449 + 0x04 + eax_10;
					Eq_4593 v21_512 = *ecx_506 - 0x01;
					*ecx_506 = v21_512;
					if (v21_512 == 0x00)
						*((word32) dwArg04 + 0x04) = *((word32) dwArg04 + 0x04) & ebx_507;
				}
			}
			ebx_76->ptr0008->ptr0004 = ebx_76->ptr0004;
			ebx_76->ptr0004->ptr0008 = ebx_76->ptr0008;
			ecx_28 = ecx_27 - 0x01 + edx_77;
			dwLoc08_113 = ecx_28;
		}
		Eq_4956 edx_97 = ecx_28 >> 0x04;
		Eq_143 edx_104 = edx_97 - 0x01;
		if (edx_97 > 0x40)
			edx_104.u0 = 0x3F;
		Eq_143 ebx_122;
		if ((edx_79 & 0x01) == 0x00)
		{
			struct Eq_4913 * esi_354 = (word32) dwArg08 - 0x04 - edx_79;
			dwArg08_112 = esi_354;
			ebx_122 = (edx_79 >> 0x04) - 0x01;
			if (ebx_122 > 0x3F)
				ebx_122.u0 = 0x3F;
			int32 ecx_366 = ecx_28 + edx_79;
			edx_104 = (ecx_366 >> 0x04) - 0x01;
			dwLoc08_113 = ecx_366;
			if (edx_104 > 0x3F)
				edx_104.u0 = 0x3F;
			if (ebx_122 != edx_104)
			{
				if (esi_354->ptr0004 == esi_354->ptr0008)
				{
					if (ebx_122 < 0x20)
					{
						uint32 esi_408 = ~(0x80000000 >> (byte) ebx_122);
						*((word32) eax_10 + ((edi_20 >> 0x0F) * 0x04 + 0x0044)) = *((word32) eax_10 + ((edi_20 >> 0x0F) * 0x04 + 0x0044)) & esi_408;
						byte v25_413 = *((word32) eax_10 + ((byte) ebx_122.u0 + 0x04)) - 0x01;
						((word32) eax_10 + ((byte) ebx_122.u0 + 0x04))->u0 = v25_413;
						if (v25_413 == 0x00)
							*dwArg04 = *dwArg04 & esi_408;
					}
					else
					{
						uint32 esi_425 = ~(0x80000000 >> (byte) (ebx_122 - 0x20));
						*((word32) eax_10 + ((edi_20 >> 0x0F) * 0x04 + 0x00C4)) = *((word32) eax_10 + ((edi_20 >> 0x0F) * 0x04 + 0x00C4)) & esi_425;
						byte v29_430 = *((word32) eax_10 + ((byte) ebx_122.u0 + 0x04)) - 0x01;
						((word32) eax_10 + ((byte) ebx_122.u0 + 0x04))->u0 = v29_430;
						if (v29_430 == 0x00)
							*((word32) dwArg04 + 0x04) = *((word32) dwArg04 + 0x04) & esi_425;
					}
				}
				esi_354->ptr0008->ptr0004 = esi_354->ptr0004;
				esi_354->ptr0004->ptr0008 = esi_354->ptr0008;
			}
			esi_123 = esi_354;
		}
		else
			ebx_122 = dwArg04;
		if ((edx_79 & 0x01) != 0x00 || ebx_122 != edx_104)
		{
			struct Eq_4913 * ecx_295 = (word32) ecx_25 + edx_104 * 0x08;
			struct Eq_4913 * ebx_296 = ecx_295->ptr0004;
			esi_123->ptr0008 = ecx_295;
			esi_123->ptr0004 = ebx_296;
			ecx_295->ptr0004 = esi_123;
			esi_123->ptr0004->ptr0008 = esi_123;
			if (esi_123->ptr0004 == esi_123->ptr0008)
			{
				byte cl_305 = Mem301[edx_104 + 0x04 + eax_10:byte];
				Mem310[edx_104 + 0x04 + eax_10:byte] = cl_305 + 0x01;
				if (edx_104 < 0x20)
				{
					if (cl_305 == 0x00)
						*dwArg04 = *dwArg04 | 0x80000000 >> (byte) edx_104;
					word32 eax_317 = eax_10 + 0x44 + (edi_20 >>u 0x0F) * 0x04;
					*eax_317 = *eax_317 | 0x80000000 >> (byte) edx_104;
				}
				else
				{
					if (cl_305 == 0x00)
						*((word32) dwArg04 + 0x04) = *((word32) dwArg04 + 0x04) | 0x80000000 >> (byte) (edx_104 - (union Eq_4593 *) 0x20);
					word32 eax_338 = eax_10 + 0xC4 + (edi_20 >>u 0x0F) * 0x04;
					*eax_338 = *eax_338 | 0x80000000 >> (byte) (edx_104 - (union Eq_4593 *) 0x20);
				}
			}
		}
		esi_123->dw0000 = dwLoc08_113;
		esi_123[(dwLoc08_113 - 0x04) / 0x0C] = (struct Eq_4913) dwLoc08_113;
		Eq_4593 v33_138 = *ecx_25 - 0x01;
		*ecx_25 = v33_138;
		eax_10 = ecx_25;
		if (v33_138 == 0x00)
		{
			Eq_143 eax_161 = globals->t416E04;
			if (eax_161 != 0x00)
			{
				VirtualFree((word32) *((word32) eax_161 + 0x0C) + (globals->t416E1C << 0x0F), 0x8000, 0x4000);
				Eq_143 eax_200 = globals->t416E04;
				*((word32) eax_200 + 0x08) = *((word32) eax_200 + 0x08) | 0x80000000 >> (byte) globals->t416E1C;
				Eq_143 eax_207 = *((word32) globals->t416E04 + 0x0010);
				Eq_4915 ecx_208 = globals->t416E1C;
				*((word32) eax_207 + (ecx_208 * 0x04 + 0x00C4)) = *((word32) eax_207 + (ecx_208 * 0x04 + 0x00C4)) & 0x00;
				Eq_143 eax_213 = *((word32) globals->t416E04 + 0x0010);
				((word32) eax_213 + 0x0043)->u0 = *((word32) eax_213 + 0x0043) - 0x01;
				Eq_143 eax_216 = globals->t416E04;
				if (*((word32) *((word32) eax_216 + 0x0010) + 0x0043) == 0x00)
				{
					*((word32) eax_216 + 0x04) = *((word32) eax_216 + 0x04) & ~0x01;
					eax_216 = globals->t416E04;
				}
				if (*((word32) eax_216 + 0x08) == ~0x00)
				{
					VirtualFree(esp_230->t0000, esp_230->t0004, esp_230->t0008);
					*(esp_232 - 0x04) = (union Eq_143 *) *((word32) globals->t416E04 + 0x0010);
					*(esp_232 - 0x08) = 0x00;
					*(esp_232 - 0x0C) = (union Eq_143 *) globals->t417E44;
					HeapFree(*(esp_232 - 0x0C), *(esp_232 - 0x08), *(esp_232 - 0x04));
					Eq_143 eax_263 = globals->t416E04;
					*(esp_232 - 0x04) = (word32) globals->t416E0C + ((globals->dw416E08 * 0x14 - eax_263) - 0x14);
					*(esp_232 - 0x08) = (word32) eax_263 + 0x0014;
					*(esp_232 - 0x0C) = (union Eq_143 *) eax_263;
					ebp_180 = fn00406E20(dwArg00, dwArg04, dwArg08_112, out edi_178);
					Eq_143 eax_277 = ebp_180->t0008;
					globals->dw416E08 = globals->dw416E08 - 0x01;
					if (eax_277 > globals->t416E04)
						ebp_180->t0008 = ebp_180->t0008 - 0x14;
					globals->t416E14 = globals->t416E0C;
				}
			}
			eax_10 = ebp_180->t0008;
			globals->t416E04 = eax_10;
			globals->t416E1C = edi_178;
		}
	}
	return eax_10;
}

// 00404A54: Register (ptr32 Eq_5560) fn00404A54()
Eq_5560 * fn00404A54()
{
	ui32 eax_129 = globals->dw416E08;
	ui32 ecx_4 = globals->dw416E18;
	if (eax_129 == ecx_4)
	{
		Eq_143 eax_116 = HeapReAlloc(globals->t417E44, 0x00, globals->t416E0C, ecx_4 + 0x50 + ecx_4 * 0x04 << 0x02);
		if (eax_116 == 0x00)
			return null;
		globals->dw416E18 = globals->dw416E18 + 0x10;
		globals->t416E0C = eax_116;
		eax_129 = globals->dw416E08;
	}
	struct Eq_5560 * eax_103;
	struct Eq_5560 * esi_38 = (word32) globals->t416E0C + eax_129 * 0x14;
	Eq_143 eax_39 = HeapAlloc(globals->t417E44, 0x08, 0x41C4);
	esi_38->t0010 = eax_39;
	if (eax_39 != 0x00)
	{
		Eq_143 eax_76 = VirtualAlloc(0x00, 0x00100000, 0x2000, 0x04);
		esi_38->t000C = eax_76;
		if (eax_76 != 0x00)
		{
			esi_38->dw0008 = esi_38->dw0008 | ~0x00;
			esi_38->dw0000 = 0x00;
			esi_38->dw0004 = 0x00;
			globals->dw416E08 = globals->dw416E08 + 0x01;
			Eq_143 eax_98 = esi_38->t0010;
			*eax_98 = *eax_98 | ~0x00;
			eax_103 = esi_38;
			return eax_103;
		}
		HeapFree(globals->t417E44, 0x00, esi_38->t0010);
	}
	eax_103 = null;
	return eax_103;
}

// 00404B0B: Register int32 fn00404B0B(Stack Eq_143 dwArg04, Register out ptr32 edxOut)
int32 fn00404B0B(Eq_143 dwArg04, ptr32 & edxOut)
{
	int32 eax_15 = *((word32) dwArg04 + 0x08);
	Eq_5685 esi_23 = *((word32) dwArg04 + 0x0010);
	int32 ebx_178 = 0x00;
	while (eax_15 >= 0x00)
	{
		eax_15 = eax_15 << 0x01;
		ebx_178 = ebx_178 + 0x01;
	}
	struct Eq_5697 * eax_41 = (word32) esi_23 + (ebx_178 *s 0x0204 + 0x0144);
	word32 edx_46 = 0x3F;
	eax_49 = eax_41;
	do
	{
		struct Eq_5697 * eax_49;
		eax_49[0x01] = (struct Eq_5697) eax_49;
		eax_49->dw0004 = eax_49;
		eax_49 = eax_49 + 0x01;
		edx_46 = edx_46 - 0x01;
		*edxOut = edx_46;
	} while (edx_46 != 0x00);
	int32 eax_138;
	ui32 edi_63 = ebx_178 << 0x0F;
	Eq_143 edi_64 = (word32) *((word32) dwArg04 + 0x0C) + edi_63;
	Eq_143 eax_69 = VirtualAlloc(edi_64, 0x8000, 0x1000, 0x04);
	if (eax_69 == 0x00)
		eax_138 = eax_69 | ~0x00;
	else
	{
		if (edi_64 <=u edi_64 + 0x7000)
		{
			word32 eax_148 = edi_64 + 0x10;
			word32 ecx_150 = (edi_64 + 0x7000 - edi_64 >>u 0x0C) + 0x01;
			do
			{
				*(eax_148 - 0x08) = *(eax_148 - 0x08) | ~0x00;
				*((word32) eax_148 + 0x0FEC) = *((word32) eax_148 + 0x0FEC) | ~0x00;
				Mem162[eax_148 + 0x00:word32] = eax_148 + 0x0FFC;
				*(eax_148 - 0x04) = 0x0FF0;
				Mem165[eax_148 + 0x04:word32] = eax_148 + ~0x1003;
				*((word32) eax_148 + 0x0FE8) = 0x0FF0;
				eax_148 = eax_148 + 0x1000;
				ecx_150 = ecx_150 - 0x01;
			} while (ecx_150 != 0x00);
		}
		struct Eq_5741 * edx_105 = (struct Eq_13807 *) 0x7000 + ((word32) (*((word32) dwArg04 + 0x0C)) + edi_63) / 0x00001000;
		Mem109[eax_41 + 0x01FC:word32] = edi_64 + 0x0C;
		*((word32) edi_64 + 0x0014) = eax_41 + 0x003F;
		eax_41[0x0040] = (struct Eq_5697) ((char *) edx_105 + 0x0C);
		edx_105->ptr0010 = eax_41 + 0x003F;
		*((word32) esi_23 + (ebx_178 * 0x04 + 0x0044)) = *((word32) esi_23 + (ebx_178 * 0x04 + 0x0044)) & 0x00;
		*((word32) esi_23 + (ebx_178 * 0x04 + 0x00C4)) = 0x01;
		byte al_120 = *((word32) esi_23 + 0x0043);
		*((word32) esi_23 + 0x0043) = al_120 + 0x01;
		if (al_120 == 0x00)
			*((word32) dwArg04 + 0x04) = *((word32) dwArg04 + 0x04) | 0x01;
		uint32 edx_133 = ~(0x80000000 >> (byte) ebx_178);
		*edxOut = edx_133;
		*((word32) dwArg04 + 0x08) = *((word32) dwArg04 + 0x08) & edx_133;
		eax_138 = ebx_178;
	}
	return eax_138;
}

// 00404C11: Register word32 fn00404C11(Stack Eq_143 dwArg04, Stack Eq_143 dwArg08, Stack byte bArg0B, Stack Eq_143 dwArg0C, Stack byte bArg0F)
word32 fn00404C11(Eq_143 dwArg04, Eq_143 dwArg08, byte bArg0B, Eq_143 dwArg0C, byte bArg0F)
{
	word32 eax_62;
	int32 ecx_32 = *(dwArg08 - 0x04);
	struct Eq_5884 * edi_42 = (word32) dwArg08 + (ecx_32 - 0x05);
	Eq_5888 edx_25 = dwArg08 - *((word32) dwArg04 + 0x0C);
	Eq_5685 eax_10 = *((word32) dwArg04 + 0x0010);
	int32 ebx_43 = edi_42->dw0000;
	int32 ecx_30 = (word32) eax_10 + ((edx_25 >> 0x0F) *s 0x0204 + 0x0144);
	int32 esi_33 = (word32) dwArg0C + 0x0017 & ~0x0F;
	byte bl_44 = (byte) ebx_43;
	if (esi_33 > ecx_32 - 0x01)
	{
		if ((bl_44 & 0x01) != 0x00 || esi_33 > ebx_43 + (ecx_32 - 0x01))
		{
			eax_62 = 0x00;
			return eax_62;
		}
		Eq_5929 ecx_111 = (ebx_43 >> 0x04) - 0x01;
		byte cl_112 = (byte) ecx_111;
		Eq_5929 dwLoc0C_115 = ecx_111;
		if (ecx_111 > 0x3F)
		{
			ecx_111.u0 = 0x3F;
			cl_112 = 0x3F;
			dwLoc0C_115.u0 = 0x3F;
		}
		if (edi_42->ptr0004 == edi_42->ptr0008)
		{
			if (ecx_111 < 0x20)
			{
				uint32 ebx_256 = ~(0x80000000 >> cl_112);
				*((word32) eax_10 + ((edx_25 >> 0x0F) * 0x04 + 0x0044)) = *((word32) eax_10 + ((edx_25 >> 0x0F) * 0x04 + 0x0044)) & ebx_256;
				byte * ecx_255 = (word32) eax_10 + ((word32) dwLoc0C_115.u0 + 0x04);
				byte v20_262 = *ecx_255 - 0x01;
				*ecx_255 = v20_262;
				if (v20_262 == 0x00)
					*dwArg04 = *dwArg04 & ebx_256;
			}
			else
			{
				uint32 ebx_276 = ~(0x80000000 >> (byte) ((word32) ecx_111.u0 - 0x0020));
				*((word32) eax_10 + ((edx_25 >> 0x0F) * 0x04 + 0x00C4)) = *((word32) eax_10 + ((edx_25 >> 0x0F) * 0x04 + 0x00C4)) & ebx_276;
				byte * ecx_275 = (word32) eax_10 + ((word32) dwLoc0C_115.u0 + 0x04);
				byte v26_282 = *ecx_275 - 0x01;
				*ecx_275 = v26_282;
				if (v26_282 == 0x00)
					*((word32) dwArg04 + 0x04) = *((word32) dwArg04 + 0x04) & ebx_276;
			}
		}
		edi_42->ptr0008->ptr0004 = edi_42->ptr0004;
		edi_42->ptr0004->ptr0008 = edi_42->ptr0008;
		int32 v31_136 = ebx_43 + ((ecx_32 - 0x01) - esi_33);
		if (v31_136 > 0x00)
		{
			union Eq_6181 * edi_160 = (v31_136 >> 0x04) - 0x01;
			struct Eq_6252 * ecx_163 = dwArg08 - 0x04 + esi_33;
			if (edi_160 > (union Eq_6181 *) 0x3F)
				edi_160 = (union Eq_6181 *) 0x3F;
			struct Eq_6252 * ebx_169 = ecx_30 + edi_160 * 0x08;
			ecx_163->ptr0004 = ebx_169->ptr0004;
			ecx_163->ptr0008 = ebx_169;
			ebx_169->ptr0004 = ecx_163;
			ecx_163->ptr0004->ptr0008 = ecx_163;
			if (ecx_163->ptr0004 == ecx_163->ptr0008)
			{
				Eq_6342 eax_203;
				byte cl_201;
				byte cl_193 = Mem177[edi_160 + 0x04 + eax_10:byte];
				Mem198[edi_160 + 0x04 + eax_10:byte] = cl_193 + 0x01;
				if (edi_160 < (union Eq_6181 *) 0x20)
				{
					if (cl_193 == 0x00)
						*dwArg04 = *dwArg04 | 0x80000000 >> (byte) edi_160;
					eax_203 = eax_10 + 0x44 + (edx_25 >>u 0x0F) * 0x04;
					cl_201 = (byte) edi_160;
				}
				else
				{
					if (cl_193 == 0x00)
						*((word32) dwArg04 + 0x04) = *((word32) dwArg04 + 0x04) | 0x80000000 >> (byte) (edi_160 - (union Eq_6181 *) 0x20);
					eax_203 = eax_10 + 0xC4 + (edx_25 >>u 0x0F) * 0x04;
					cl_201 = (byte) (edi_160 - (union Eq_6181 *) 0x20);
				}
				*eax_203 = *eax_203 | 0x80000000 >> cl_201;
			}
			int32 * eax_190 = dwArg08 - 0x04 + esi_33;
			*eax_190 = v31_136;
			eax_190[v31_136 - 0x04] = v31_136;
		}
		*(dwArg08 - 0x04) = esi_33 + 0x01;
		(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(dwArg08 - 0x08)[esi_33].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] = esi_33 + 0x01;
	}
	else if (esi_33 < ecx_32 - 0x01)
	{
		int32 v17_298 = ecx_32 - 0x01 - esi_33;
		*(dwArg08 - 0x04) = esi_33 + 0x01;
		struct Eq_5960 * ebx_302 = dwArg08 - 0x04 + esi_33;
		*(ebx_302 - 0x04) = esi_33 + 0x01;
		int32 dwArg0C_299 = v17_298;
		union Eq_6181 * esi_306 = (v17_298 >> 0x04) - 0x01;
		if (esi_306 > (union Eq_6181 *) 0x3F)
			esi_306 = (union Eq_6181 *) 0x3F;
		if ((bLoc08 & 0x01) == 0x00)
		{
			Eq_6014 esi_405 = (ebx_43 >> 0x04) - 0x01;
			if (esi_405 > 0x3F)
				esi_405.u0 = 0x3F;
			if (edi_42->ptr0004 == edi_42->ptr0008)
			{
				if (esi_405 < 0x20)
				{
					uint32 ebx_452 = ~(0x80000000 >> (byte) esi_405);
					*((word32) eax_10 + ((edx_25 >> 0x0F) * 0x04 + 0x0044)) = *((word32) eax_10 + ((edx_25 >> 0x0F) * 0x04 + 0x0044)) & ebx_452;
					word32 esi_451 = esi_405 + 0x04 + eax_10;
					Eq_6181 v23_458 = *esi_451 - 0x01;
					*esi_451 = v23_458;
					if (v23_458 == 0x00)
						*dwArg04 = *dwArg04 & ebx_452;
				}
				else
				{
					uint32 ebx_471 = ~(0x80000000 >> (byte) (esi_405 - 0x20));
					*((word32) eax_10 + ((edx_25 >> 0x0F) * 0x04 + 0x00C4)) = *((word32) eax_10 + ((edx_25 >> 0x0F) * 0x04 + 0x00C4)) & ebx_471;
					word32 ecx_470 = esi_405 + 0x04 + eax_10;
					Eq_6181 v29_477 = *ecx_470 - 0x01;
					*ecx_470 = v29_477;
					if (v29_477 == 0x00)
						*((word32) dwArg04 + 0x04) = *((word32) dwArg04 + 0x04) & ebx_471;
				}
			}
			edi_42->ptr0008->ptr0004 = edi_42->ptr0004;
			edi_42->ptr0004->ptr0008 = edi_42->ptr0008;
			int32 esi_427 = v17_298 + ebx_43;
			dwArg0C_299 = esi_427;
			esi_306 = (esi_427 >> 0x04) - 0x01;
			if (esi_306 > (union Eq_6181 *) 0x3F)
				esi_306 = (union Eq_6181 *) 0x3F;
		}
		struct Eq_5960 * ecx_329 = ecx_30 + esi_306 * 0x08;
		struct Eq_5960 * edi_330 = ecx_329->ptr0004;
		ebx_302->ptr0008 = ecx_329;
		ebx_302->ptr0004 = edi_330;
		ecx_329->ptr0004 = ebx_302;
		ebx_302->ptr0004->ptr0008 = ebx_302;
		if (ebx_302->ptr0004 == ebx_302->ptr0008)
		{
			Eq_6295 eax_361;
			byte cl_359;
			byte cl_351 = Mem335[esi_306 + 0x04 + eax_10:byte];
			Mem356[esi_306 + 0x04 + eax_10:byte] = cl_351 + 0x01;
			if (esi_306 < (union Eq_6181 *) 0x20)
			{
				if (cl_351 == 0x00)
					*dwArg04 = *dwArg04 | 0x80000000 >> (byte) esi_306;
				eax_361 = eax_10 + 0x44 + (edx_25 >>u 0x0F) * 0x04;
				cl_359 = (byte) esi_306;
			}
			else
			{
				if (cl_351 == 0x00)
					*((word32) dwArg04 + 0x04) = *((word32) dwArg04 + 0x04) | 0x80000000 >> (byte) (esi_306 - (union Eq_6181 *) 0x20);
				eax_361 = eax_10 + 0xC4 + (edx_25 >>u 0x0F) * 0x04;
				cl_359 = (byte) (esi_306 - (union Eq_6181 *) 0x20);
			}
			*eax_361 = *eax_361 | 0x80000000 >> cl_359;
		}
		ebx_302->dw0000 = dwArg0C_299;
		ebx_302[(dwArg0C_299 - 0x04) / 0x0C] = (struct Eq_5960) dwArg0C_299;
	}
	eax_62 = 0x01;
	return eax_62;
}

// 00405335: Register ptr32 fn00405335(Register Eq_143 esi, Stack Eq_143 dwArg04, Stack byte bArg07, Register out ptr32 edxOut)
ptr32 fn00405335(Eq_143 esi, Eq_143 dwArg04, byte bArg07, ptr32 & edxOut)
{
	uint32 esi_35;
	uint32 dwLoc0C_32;
	int32 ecx_13 = (word32) dwArg04 + 0x0017 & ~0x0F;
	int32 ecx_26 = (ecx_13 >> 0x04) - 0x01;
	ui32 eax_10 = globals->dw416E08;
	Eq_143 edx_11 = globals->t416E0C;
	*edxOut = edx_11;
	byte cl_27 = (byte) ecx_26;
	Eq_143 edi_30 = (word32) edx_11 + eax_10 * 0x14;
	if (ecx_26 < 0x20)
	{
		esi_35 = (esi | ~0x00) >> cl_27;
		dwLoc0C_32 = dwLoc0C | ~0x00;
	}
	else
	{
		esi_35 = 0x00;
		dwLoc0C_32 = (eax_10 * 0x05 | ~0x00) >> (byte) (ecx_26 + ~0x1F);
	}
	Eq_143 eax_36 = globals->t416E14;
	Eq_143 ebx_146 = eax_36;
	bool C_43 = (bool) cond(eax_36 - edi_30);
	while (true)
	{
		Eq_143 dwArg04_398 = ebx_146;
		if (!C_43 || (*((word32) ebx_146 + 0x04) & dwLoc0C_32 | *ebx_146 & esi_35) != 0x00)
			break;
		ebx_146 = (word32) ebx_146 + 0x0014;
		C_43 = (bool) cond(ebx_146 - edi_30);
	}
	ptr32 eax_165;
	if (ebx_146 != edi_30)
	{
l004053CF:
		globals->t416E14 = ebx_146;
		struct Eq_6517 * eax_94 = *((word32) ebx_146 + 0x0010);
		Eq_4915 edx_100 = eax_94->t0000;
		Eq_4915 dwLoc08_349 = edx_100;
		if (edx_100 == ~0x00 || ((eax_94->a00C4)[edx_100] & dwLoc0C_32 | (eax_94->a0044)[edx_100] & esi_35) == 0x00)
		{
			dwLoc08_349 = edx_100 & 0x00;
			ui32 * ecx_351 = eax_94->a0044 + 33;
			if ((eax_94->a00C4[0x00] & dwLoc0C_32 | (eax_94->a0044)[0x00] & esi_35) == 0x00)
			{
				do
				{
					ecx_351 = ecx_499 + 0x01;
					dwLoc08_349 = (word32) dwLoc08_349 + 0x01;
					ui32 * ecx_499 = ecx_351;
				} while ((*ecx_499 & dwLoc0C_32 | *ecx_351 & esi_35) == 0x00);
			}
			edx_100 = dwLoc08_349;
		}
		struct Eq_6579 * ecx_104 = eax_94 + (edx_100 *s 0x0204 + 0x0144) / 0x00C4;
		int32 edi_107 = 0x00;
		int32 ecx_108 = eax_94->a0044[edx_100] & esi_35;
		if (ecx_108 == 0x00)
		{
			ecx_108 = eax_94->a00C4[edx_100] & dwLoc0C_32;
			edi_107 = 0x20;
		}
		while (ecx_108 >= 0x00)
		{
			ecx_108 = ecx_108 << 0x01;
			edi_107 = edi_107 + 0x01;
		}
		struct Eq_6625 * edx_123 = ecx_104->a0004[edi_107].ptr0000.dw0000;
		int32 ecx_125 = edx_123->dw0000 - ecx_13;
		int32 esi_129 = (ecx_125 >> 0x04) - 0x01;
		if (esi_129 > 0x3F)
			esi_129 = 0x3F;
		if (esi_129 == edi_107)
		{
l004055DF:
			if (ecx_125 != 0x00)
			{
				edx_123->dw0000 = ecx_125;
				edx_123[(ecx_125 - 0x04) / 0x0C] = (struct Eq_6625) ecx_125;
			}
			goto l004055EE;
		}
		if (edx_123->ptr0004 == edx_123->ptr0008)
		{
			if (edi_107 < 0x20)
			{
				uint32 ebx_290 = ~(0x80000000 >> (byte) edi_107);
				eax_94->a0044[dwLoc08_349] = ebx_290 & (eax_94->a0044)[dwLoc08_349];
				byte * edi_289 = (char *) &eax_94->t0000 + 0x04 + edi_107;
				byte v19_295 = *edi_289 - 0x01;
				*edi_289 = v19_295;
				if (v19_295 == 0x00)
				{
					*dwArg04_398 = *dwArg04_398 & ebx_290;
					ebx_146 = dwArg04_398;
					goto l00405542;
				}
l0040553F:
				ebx_146 = dwArg04_398;
				goto l00405542;
			}
			ui32 * ecx_309 = eax_94->a00C4 + dwLoc08_349;
			uint32 ebx_311 = ~(0x80000000 >> (byte) (edi_107 - 0x20));
			*ecx_309 = *ecx_309 & ebx_311;
			byte * edi_310 = (char *) &eax_94->t0000 + 0x04 + edi_107;
			byte v23_316 = *edi_310 - 0x01;
			*edi_310 = v23_316;
			if (v23_316 != 0x00)
				goto l0040553F;
			*((word32) dwArg04_398 + 0x04) = *((word32) dwArg04_398 + 0x04) & ebx_311;
			ebx_146 = dwArg04_398;
		}
l00405542:
		edx_123->ptr0008->ptr0004 = edx_123->ptr0004;
		edx_123->ptr0004->ptr0008 = edx_123->ptr0008;
		if (ecx_125 == 0x00)
		{
l004055EE:
			int32 * edx_148 = edx_123 + ecx_125 / 0x0C;
			*edxOut = edx_148;
			*edx_148 = ecx_13 + 0x01;
			(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(edx_148 - 0x04)[ecx_13].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] = ecx_13 + 0x01;
			word32 ecx_153 = ecx_104->dw0000;
			ecx_104->dw0000 = ecx_153 + 0x01;
			if (ecx_153 == 0x00 && (ebx_146 == globals->t416E04 && dwLoc08_349 == globals->t416E1C))
				globals->t416E04 = globals->t416E04 & 0x00;
			eax_94->t0000 = dwLoc08_349;
			eax_165 = edx_148 + 0x01;
			return eax_165;
		}
		struct Eq_6625 * ecx_207 = ecx_104 + esi_129 * 0x02;
		struct Eq_6625 * edi_208 = ecx_207->ptr0004;
		edx_123->ptr0008 = ecx_207;
		edx_123->ptr0004 = edi_208;
		ecx_207->ptr0004 = edx_123;
		edx_123->ptr0004->ptr0008 = edx_123;
		if (edx_123->ptr0004 == edx_123->ptr0008)
		{
			byte cl_227 = eax_94[(esi_129 + 0x04) / 0x00C4];
			eax_94[(esi_129 + 0x04) / 0x00C4] = (struct Eq_6517) (cl_227 + 0x01);
			if (esi_129 < 0x20)
			{
				if (cl_227 == 0x00)
					*ebx_146 = *ebx_146 | 0x80000000 >> (byte) esi_129;
				eax_94->a0044[dwLoc08_349] = eax_94->a0044[dwLoc08_349] | 0x80000000 >> (byte) esi_129;
			}
			else
			{
				if (cl_227 == 0x00)
					*((word32) ebx_146 + 0x04) = *((word32) ebx_146 + 0x04) | 0x80000000 >> (byte) (esi_129 - 0x20);
				ui32 * edi_255 = eax_94->a00C4 + dwLoc08_349;
				*edi_255 = *edi_255 | 0x80000000 >> (byte) (esi_129 - 0x20);
			}
		}
		goto l004055DF;
	}
	ebx_146 = edx_11;
	while (true)
	{
		dwArg04_398 = ebx_146;
		if (ebx_146 >= eax_36 || (*((word32) ebx_146 + 0x04) & dwLoc0C_32 | *ebx_146 & esi_35) != 0x00)
			break;
		ebx_146 = (word32) ebx_146 + 0x0014;
	}
	if (ebx_146 != eax_36)
		goto l004053CF;
	while (ebx_146 < edi_30 && *((word32) ebx_146 + 0x08) == 0x00)
	{
		ebx_146 = (word32) ebx_146 + 0x0014;
		dwArg04_398 = ebx_146;
	}
	if (ebx_146 == edi_30)
	{
		ebx_146 = (word32) edx_11 + 0x08;
		while (true)
		{
			dwArg04_398 = ebx_146;
			if (ebx_146 >= eax_36 || *ebx_146 != 0x00)
				break;
			ebx_146 = (word32) ebx_146 + 0x0014;
		}
		if (ebx_146 == eax_36)
		{
			Eq_143 eax_446 = fn00404A54();
			ebx_146 = eax_446;
			dwArg04_398 = eax_446;
			if (eax_446 == 0x00)
			{
l004054AB:
				eax_165 = 0x00;
				return eax_165;
			}
		}
	}
	word32 edx_429;
	**((word32) ebx_146 + 0x0010) = fn00404B0B(ebx_146, out edx_429);
	if (**((word32) ebx_146 + 0x0010) != ~0x00)
		goto l004053CF;
	goto l004054AB;
}

// 00405631: Register Eq_143 fn00405631(Stack Eq_143 dwArg04)
Eq_143 fn00405631(Eq_143 dwArg04)
{
	globals->t4169BC = dwArg04;
	uint32 ecx_17 = 0x00;
	do
	{
		if (dwArg04 == (globals->a410E60)[ecx_17])
		{
			Eq_143 eax_37 = globals->a410E64[ecx_17];
			globals->t4169B8 = eax_37;
			return eax_37;
		}
		ecx_17 = ecx_17 + 0x01;
	} while (ecx_17 < 0x2D);
	if (dwArg04 < 0x13 || dwArg04 > 0x24)
	{
		if (dwArg04 >= 188)
		{
			globals->t4169B8.u0 = 0x08;
			if (dwArg04 <= 202)
				return dwArg04;
		}
		globals->t4169B8.u0 = 22;
		return dwArg04;
	}
	else
	{
		globals->t4169B8.u0 = 0x0D;
		return dwArg04;
	}
}

// 00405690: Register int32 fn00405690(Register ui32 ebx, Register out ptr32 edxOut)
int32 fn00405690(ui32 ebx, ptr32 & edxOut)
{
	int32 ebx_110 = ebx | ~0x00;
	ui32 esi_15 = 0x00;
	word32 edx_16;
	*edxOut = 0x00;
	struct Eq_1186 ** ecx_19 = globals->a417E60;
	do
	{
		word32 eax_31 = Mem0[ecx_19 + 0x00:word32] + 0x04;
		if (eax_31 == null)
		{
			word32 edx_90;
			Eq_143 eax_105 = fn004046A2(0x0100, out edx_90);
			if (eax_105 != 0x00)
			{
				globals->t417E4C = (word32) globals->t417E4C + 0x0020;
				union Eq_143 * ecx_100 = esi_15 * 0x04 + 4292192;
				*ecx_100 = (union Eq_143 *) eax_105;
				Eq_143 edx_102;
				*edxOut = (word32) eax_105 + 0x0100;
				while (eax_105 < edx_102)
				{
					*eax_105 = *eax_105 | ~0x00;
					((word32) eax_105 + 0x04)->u0 = 0x00;
					((word32) eax_105 + 0x05)->u0 = 0x0A;
					eax_105 = (word32) eax_105 + 0x08;
					*edxOut = (char *) *ecx_100 + 0x0100;
				}
				ebx_110 = esi_15 << 0x05;
			}
			return ebx_110;
		}
		struct Eq_7008 * ebp_54 = eax_31 + 0x0020;
		while (eax_31 < ebp_54)
		{
			if ((eax_31->b0000 & 0x01) == 0x00)
			{
				eax_31->b0000 = eax_31->b0000 | ~0x00;
				int32 eax_84 = (eax_31 - *ecx_19 >> 0x03) + edx_16;
				ebx_110 = eax_84;
				if (eax_84 == ~0x00)
					break;
				return ebx_110;
			}
			eax_31 = eax_31 + 0x08;
			ebp_54 = Mem0[ecx_19 + 0x00:word32] + 0x0100;
		}
		ecx_19 = (struct Eq_1186 **) ((char *) ecx_19 + 0x04);
		esi_15 = esi_15 + 0x01;
		edx_16 = edx_16 + 0x20;
		*edxOut = edx_16;
	} while (ecx_19 < &globals->dw417F60);
	return ebx_110;
}

// 0040572D: void fn0040572D(Stack Eq_143 dwArg04, Stack Eq_143 dwArg08)
void fn0040572D(Eq_143 dwArg04, Eq_143 dwArg08)
{
	if (dwArg04 < globals->t417E4C)
	{
		Eq_143 (** edi_49)[] = (dwArg04 >> 0x05) * 0x04 + 4292192;
		Eq_143 (* esi_51)[] = (dwArg04 & 0x1F) << 0x03;
		if (Mem0[esi_51 + Mem0[edi_49 + 0x00:word32]:word32] == ~0x00)
		{
			if (globals->dw410AA4 == 0x01)
			{
				Eq_143 dwLoc14_76;
				if (dwArg04 != 0x00)
				{
					if (dwArg04 != 0x01)
					{
						if (dwArg04 != 0x02)
							goto l00405783;
						dwLoc14_76.u0 = ~0x0B;
					}
					else
						dwLoc14_76.u0 = ~0x0A;
				}
				else
					dwLoc14_76.u0 = ~0x09;
				SetStdHandle(dwLoc14_76, dwArg08);
			}
l00405783:
			Mem65[esi_51 + Mem0[edi_49 + 0x00:word32]:word32] = dwArg08;
			return;
		}
	}
	globals->t4169BC = globals->t4169BC & 0x00;
	globals->t4169B8.u0 = 0x09;
}

// 004057A4: void fn004057A4(Register Eq_143 eax, Stack Eq_143 dwArg04)
void fn004057A4(Eq_143 eax, Eq_143 dwArg04)
{
	if (dwArg04 < globals->t417E4C)
	{
		Eq_7210 (** edi_44)[] = (dwArg04 >> 0x05) * 0x04 + 4292192;
		Eq_7210 (* esi_47)[] = (dwArg04 & 0x1F) << 0x03;
		word32 eax_48 = Mem0[edi_44 + 0x00:word32] + esi_47;
		if ((eax_48->b0004 & 0x01) != 0x00 && eax_48->dw0000 != ~0x00)
		{
			if (globals->dw410AA4 == 0x01)
			{
				Eq_143 dwLoc10_76;
				if (dwArg04 != 0x00)
				{
					if (dwArg04 != 0x01)
					{
						if (dwArg04 != 0x02)
							goto l004057FD;
						dwLoc10_76.u0 = ~0x0B;
					}
					else
						dwLoc10_76.u0 = ~0x0A;
				}
				else
					dwLoc10_76.u0 = ~0x09;
				SetStdHandle(dwLoc10_76, 0x00);
			}
l004057FD:
			Eq_7210 (* eax_62)[] = *edi_44;
			Mem64[esi_47 + eax_62:word32] = Mem0[esi_47 + eax_62:word32] | ~0x00;
			return;
		}
	}
	globals->t4169BC = globals->t4169BC & 0x00;
	globals->t4169B8.u0 = 0x09;
}

// 0040581E: Register ui32 fn0040581E(Stack Eq_143 dwArg04)
ui32 fn0040581E(Eq_143 dwArg04)
{
	Eq_143 eax_16 = dwArg04;
	if (dwArg04 < globals->t417E4C)
	{
		eax_16 = (char *) *((char *) globals->a417E60 + (dwArg04 >> 0x05) * 0x04) + (dwArg04 & 0x1F) * 0x08;
		if ((*((word32) eax_16 + 0x04) & 0x01) != 0x00)
			return *eax_16;
	}
	globals->t4169BC = globals->t4169BC & 0x00;
	globals->t4169B8.u0 = 0x09;
	return eax_16 | ~0x00;
}

// 004058F7: Register ui32 fn004058F7(Register ui32 edx, Register Eq_143 ebx, Register Eq_143 esi, Register Eq_143 edi, Stack Eq_143 dwArg04, Stack Eq_143 dwArg08, Stack Eq_143 dwArg0C, Register out ptr32 edxOut)
ui32 fn004058F7(ui32 edx, Eq_143 ebx, Eq_143 esi, Eq_143 edi, Eq_143 dwArg04, Eq_143 dwArg08, Eq_143 dwArg0C, ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_143 eax_112;
	ui32 eax_170;
	Eq_143 eax_12 = globals->t410FD0;
	eax_112 = eax_12;
	if (dwArg04 < globals->t417E4C)
	{
		union Eq_143 * ebx_134 = (dwArg04 >> 0x05) * 0x04 + 4292192;
		Eq_143 eax_135 = *ebx_134;
		int32 esi_138 = (dwArg04 & 0x1F) << 0x03;
		byte al_139 = (word32) eax_135 + 0x04 + esi_138;
		eax_112 = DPB(eax_135, al_139, 0);
		if ((al_139 & 0x01) != 0x00)
		{
			Eq_143 dwLoc0414_149 = 0x00;
			word32 dwLoc041C_150 = 0x00;
			if (dwArg0C == 0x00)
			{
l0040595A:
				eax_170 = 0x00;
				goto l00405AD1;
			}
			if ((al_139 & 0x20) != 0x00)
			{
				word32 edx_420;
				*edxOut = fn0040715D(edx, dwArg04, 0x00, 0x00, 0x02);
			}
			Eq_143 dwArg04_234;
			struct Eq_7325 * eax_186 = (char *) *ebx_134 + esi_138;
			if ((eax_186->b0004 & 0x80) != 0x00)
			{
				Eq_143 dwLoc0410_271 = dwArg08;
				dwArg04_234.u0 = 0x00;
				if (dwArg0C <= 0x00)
					goto l00405A8E;
				do
				{
					int32 edi_287 = 0x00;
					Eq_143 ecx_291 = dwLoc0410_271 - dwArg08;
					Eq_7380 eax_293 = fp - 0x040C;
					while (ecx_291 < dwArg0C)
					{
						Eq_7401 dl_365 = *dwLoc0410_271;
						dwLoc0410_271 = dwLoc0410_271 + 0x01;
						word32 edx_366;
						*edxOut = DPB(dwLoc0410_271, dl_365, 0);
						ecx_291 = ecx_291 + 0x01;
						if (dl_365 == 0x0A)
						{
							*eax_293 = 0x0D;
							dwLoc041C_150 = dwLoc041C_150 + 0x01;
							eax_293 = eax_293 + 0x01;
							edi_287 = edi_287 + 0x01;
						}
						*eax_293 = dl_365;
						eax_293 = eax_293 + 0x01;
						edi_287 = edi_287 + 0x01;
						if (edi_287 >= 0x0400)
							break;
					}
					Eq_143 edi_321 = eax_293 - (fp - 0x040C);
					if (WriteFile(*((char *) *ebx_134 + esi_138), fp - 0x040C, edi_321, fp - 0x0418, null) == 0x00)
					{
						dwArg04_234 = GetLastError();
l00405A20:
						break;
					}
					dwLoc0414_149 = dwLoc0414_149 + dwLoc0418;
					if (dwLoc0418 < edi_321)
						goto l00405A20;
				} while (dwLoc0410_271 - dwArg08 < dwArg0C);
			}
			else if (WriteFile(eax_186->t0000, dwArg08, dwArg0C, fp - 0x0418, null) != 0x00)
			{
				dwArg04_234.u0 = 0x00;
				dwLoc0414_149 = dwLoc0418;
			}
			else
				dwArg04_234 = GetLastError();
			if (dwLoc0414_149 != 0x00)
			{
				eax_170 = dwLoc0414_149 - dwLoc041C_150;
l00405AD1:
				fn00405F2C(eax_12, ebx, esi, edi);
				return eax_170;
			}
			if (dwArg04_234 != 0x00)
			{
				eax_112.u0 = 0x05;
				if (dwArg04_234 != 0x05)
				{
					eax_112 = fn00405631(dwArg04_234);
					goto l00405ACE;
				}
				globals->t4169BC.u0 = 0x05;
l00405AC4:
				globals->t4169B8.u0 = 0x09;
				goto l00405ACE;
			}
l00405A8E:
			eax_112 = *ebx_134;
			if (((word32) eax_112 + 0x04 + esi_138 & 0x40) != 0x00)
			{
				eax_112 = dwArg08;
				if (*dwArg08 == 0x1A)
					goto l0040595A;
			}
			globals->t4169B8.u0 = 0x1C;
			globals->t4169BC.u0 = 0x00;
l00405ACE:
			eax_170 = eax_112 | ~0x00;
			goto l00405AD1;
		}
	}
	globals->t4169BC = globals->t4169BC & 0x00;
	goto l00405AC4;
}

// 00405B3E: Register word32 fn00405B3E(Stack Eq_143 dwArg04, Stack Eq_143 dwArg08, Stack uint32 dwArg0C)
word32 fn00405B3E(Eq_143 dwArg04, Eq_143 dwArg08, uint32 dwArg0C)
{
	word32 eax_26;
	if (globals->t416B24 != null)
	{
l00405BBE:
		if (globals->t416B30 == null)
		{
			Eq_2093 eax_50 = globals->t416B28;
			if (eax_50 == null)
			{
				word32 esp_68;
				word32 ebp_69;
				byte SCZO_70;
				word32 ebx_71;
				byte SZO_72;
				bool C_73;
				word32 esi_74;
				word32 edi_75;
				bool Z_76;
				globals->t416B24();
				return eax_26;
			}
		}
	}
	else
	{
		Eq_143 eax_80 = LoadLibraryA(&globals->t408798);
		if (eax_80 != 0x00)
		{
			Eq_2093 eax_100 = GetProcAddress(eax_80, &globals->t40878C);
			globals->t416B24 = eax_100;
			if (eax_100 != null)
			{
				globals->t416B28 = GetProcAddress(eax_80, &globals->t40877C);
				globals->t416B2C = GetProcAddress(eax_80, &globals->t408768);
				if (globals->dw4169C4 == 0x02)
				{
					Eq_2093 eax_126 = GetProcAddress(eax_80, &globals->t40874C);
					globals->t416B34 = eax_126;
					if (eax_126 != null)
						globals->t416B30 = GetProcAddress(eax_80, &globals->t408734);
				}
				goto l00405BBE;
			}
		}
		eax_26 = 0x00;
		return eax_26;
	}
}

// 00405C40: Register word32 fn00405C40(Stack Eq_143 dwArg04)
word32 fn00405C40(Eq_143 dwArg04)
{
	return fn00405CB5(dwArg04);
}

// 00405C50: Register word32 fn00405C50(Stack Eq_143 dwArg04)
word32 fn00405C50(Eq_143 dwArg04)
{
	Eq_143 ecx_22 = dwArg04;
	if ((dwArg04 & 0x03) != 0x00)
	{
		do
		{
			ecx_22 = (word32) ecx_22 + 0x01;
			if (*ecx_22 == 0x00)
				goto l00405CA3;
		} while ((ecx_22 & 0x03) != 0x00);
	}
	do
	{
		do
		{
			word32 eax_36 = *ecx_22;
			ecx_22 = (word32) ecx_22 + 0x04;
		} while (((eax_36 ^ ~0x00 ^ eax_36 + 0x7EFEFEFF) & 0x81010100) == 0x00);
		ui32 eax_45 = *(ecx_22 - 0x04);
		byte ah_47 = SLICE(eax_45, byte, 8);
		if ((byte) eax_45 == 0x00)
			return fn00405CB5(ecx_22 - 0x04);
		if (ah_47 == 0x00)
			return fn00405CB5(ecx_22 - 0x03);
		if ((eax_45 & 0x00FF0000) == 0x00)
			return fn00405CB5(ecx_22 - 0x02);
	} while ((eax_45 & 0xFF000000) != 0x00);
l00405CA3:
	Eq_143 edi_29 = ecx_22 - 0x01;
	return fn00405CB5(edi_29);
}

// 00405CB5: Register Eq_143 fn00405CB5(Register Eq_143 edi)
Eq_143 fn00405CB5(Eq_143 edi)
{
	byte dl_24;
	byte * ecx_3 = v3->ptr000C;
	if ((ecx_3 & 0x03) != 0x00)
	{
		do
		{
			dl_24 = *ecx_3;
			ecx_3 = ecx_3 + 0x01;
			if (dl_24 == 0x00)
				goto l00405D30;
			edi->u0 = dl_24;
			edi = (word32) edi + 0x01;
		} while ((ecx_3 & 0x03) != 0x00);
	}
l00405CDE:
	Eq_7644 edx_45 = *ecx_3;
	Eq_7648 eax_41 = *ecx_3;
	dl_24 = (byte) edx_45;
	byte dh_47 = SLICE(edx_45, byte, 8);
	Eq_7655 dx_48 = (word16) edx_45;
	ecx_3 = ecx_3 + 0x04;
	if (((eax_41 ^ ~0x00 ^ (word32) eax_41 + 0x7EFEFEFF) & 0x81010100) != 0x00)
	{
		if (dl_24 == 0x00)
		{
l00405D30:
			edi->u0 = dl_24;
			return v3->t0000;
		}
		if (dh_47 == 0x00)
		{
			*edi = dx_48;
			return v3->t0000;
		}
		if ((edx_45 & 0x00FF0000) == 0x00)
		{
			*edi = dx_48;
			((word32) edi + 0x02)->u0 = 0x00;
			return v3->t0000;
		}
		if ((edx_45 & 0xFF000000) == 0x00)
		{
			*edi = edx_45;
			return v3->t0000;
		}
	}
	*edi = edx_45;
	edi = (word32) edi + 0x04;
	goto l00405CDE;
}

// 00405D40: void fn00405D40(Stack Eq_143 dwArg04, Stack Eq_143 dwArg08, Stack uint32 dwArg0C)
void fn00405D40(Eq_143 dwArg04, Eq_143 dwArg08, uint32 dwArg0C)
{
	uint32 ecx_260 = dwArg0C;
	if (dwArg0C == 0x00)
		return;
	uint32 ecx_198;
	uint32 ecx_167;
	byte al_123;
	uint32 ebx_103 = dwArg0C;
	Eq_143 esi_120 = dwArg08;
	Eq_143 edi_105 = dwArg04;
	if ((dwArg08 & 0x03) == 0x00)
	{
		ecx_198 = dwArg0C >> 0x02;
		if (dwArg0C >> 0x02 == 0x00)
			goto l00405D93;
	}
	else
	{
		do
		{
			al_123 = (byte) *esi_120;
			edi_105->u0 = al_123;
			esi_120 = (word32) esi_120 + 0x01;
			edi_105 = (word32) edi_105 + 0x01;
			ecx_260 = ecx_260 - 0x01;
			if (ecx_260 == 0x00)
				return;
			if (al_123 == 0x00)
			{
				if ((edi_105 & 0x03) != 0x00)
				{
					do
					{
						edi_105->u0 = al_123;
						edi_105 = (word32) edi_105 + 0x01;
						ecx_260 = ecx_260 - 0x01;
						if (ecx_260 == 0x00)
							return;
					} while ((edi_105 & 0x03) != 0x00);
				}
				ebx_103 = ecx_260;
				ecx_167 = ecx_260 >> 0x02;
				if (ecx_167 != 0x00)
				{
l00405E47:
					do
					{
						*edi_105 = 0x00;
						edi_105 = (word32) edi_105 + 0x04;
						ecx_167 = ecx_167 - 0x01;
					} while (ecx_167 != 0x00);
l00405E53:
					al_123 = 0x00;
					ebx_103 = ebx_103 & 0x03;
					if (ebx_103 == 0x00)
						return;
				}
				do
				{
					edi_105->u0 = al_123;
					edi_105 = (word32) edi_105 + 0x01;
l00405DD8:
					ebx_103 = ebx_103 - 0x01;
				} while (ebx_103 != 0x00);
				return;
			}
		} while ((esi_120 & 0x03) != 0x00);
		ebx_103 = ecx_260;
		ecx_198 = ecx_260 >> 0x02;
		if (ecx_260 >> 0x02 == 0x00)
		{
l00405D8E:
			ebx_103 = ebx_103 & 0x03;
			if (ebx_103 == 0x00)
				return;
l00405D93:
			do
			{
				al_123 = (byte) *esi_120;
				edi_105->u0 = al_123;
				esi_120 = (word32) esi_120 + 0x01;
				edi_105 = (word32) edi_105 + 0x01;
				if (al_123 == 0x00)
					goto l00405DD8;
				ebx_103 = ebx_103 - 0x01;
			} while (ebx_103 != 0x00);
			return;
		}
	}
	do
	{
		Eq_7745 edx_209 = *esi_120;
		Eq_7749 eax_205 = *esi_120;
		byte dl_210 = (byte) edx_209;
		byte dh_211 = SLICE(edx_209, byte, 8);
		esi_120 = (word32) esi_120 + 0x04;
		if (((eax_205 ^ ~0x00 ^ (word32) eax_205 + 0x7EFEFEFF) & 0x81010100) != 0x00)
		{
			if (dl_210 != 0x00)
			{
				if (dh_211 != 0x00)
				{
					if ((edx_209 & 0x00FF0000) != 0x00)
					{
						if ((edx_209 & 0xFF000000) != 0x00)
							goto l00405DE5;
						*edi_105 = edx_209;
					}
					else
						*edi_105 = edx_209 & 0xFFFF;
				}
				else
					*edi_105 = edx_209 & 0xFF;
			}
			else
				*edi_105 = 0x00;
			edi_105 = (word32) edi_105 + 0x04;
			ecx_167 = ecx_198 - 0x01;
			if (ecx_167 != 0x00)
				goto l00405E47;
			goto l00405E53;
		}
l00405DE5:
		*edi_105 = edx_209;
		edi_105 = (word32) edi_105 + 0x04;
		ecx_198 = ecx_198 - 0x01;
	} while (ecx_198 != 0x00);
	goto l00405D8E;
}

// 00405E70: Register ptr32 fn00405E70(Stack Eq_143 dwArg04)
ptr32 fn00405E70(Eq_143 dwArg04)
{
	Eq_143 ecx_26 = dwArg04;
	if ((dwArg04 & 0x03) != 0x00)
	{
		do
		{
			ecx_26 = (word32) ecx_26 + 0x01;
			if (*ecx_26 == 0x00)
				return ecx_26 - 0x01 - dwArg04;
		} while ((ecx_26 & 0x03) != 0x00);
	}
	do
	{
		do
		{
			word32 eax_39 = *ecx_26;
			ecx_26 = (word32) ecx_26 + 0x04;
		} while (((eax_39 ^ ~0x00 ^ eax_39 + 0x7EFEFEFF) & 0x81010100) == 0x00);
		ui32 eax_48 = *(ecx_26 - 0x04);
		byte ah_50 = SLICE(eax_48, byte, 8);
		if ((byte) eax_48 == 0x00)
			return ecx_26 - 0x04 - dwArg04;
		if (ah_50 == 0x00)
			return ecx_26 - 0x03 - dwArg04;
		if ((eax_48 & 0x00FF0000) == 0x00)
			return ecx_26 - 0x02 - dwArg04;
	} while ((eax_48 & 0xFF000000) != 0x00);
	return ecx_26 - 0x01 - dwArg04;
}

// 00405F2C: void fn00405F2C(Register Eq_143 ecx, Register Eq_143 ebx, Register Eq_143 esi, Register Eq_143 edi)
void fn00405F2C(Eq_143 ecx, Eq_143 ebx, Eq_143 esi, Eq_143 edi)
{
	if (ecx == globals->t410FD0)
		return;
	Eq_143 ebp_14 = fn00404030(ebx, esi, edi, dwLoc0C, 4229032, 0x08);
	*(ebp_14 - 0x04) = *(ebp_14 - 0x04) & 0x00;
	ptr32 ebp_23 = fn00407262(ebx, esi, edi);
	*(ebp_23 - 0x04) = *(ebp_23 - 0x04) | ~0x00;
	ExitProcess(0x03);
}

// 00405F3A: Register ui32 fn00405F3A(Stack byte bArg04, Stack ui32 dwArg08, Stack byte bArg0C)
ui32 fn00405F3A(byte bArg04, ui32 dwArg08, byte bArg0C)
{
	struct Eq_8000 * eax_3 = (word32) bArg04;
	if ((eax_3->b416BE1 & bArg0C) != 0x00)
		return 0x01;
	ui32 eax_29;
	if (dwArg08 != 0x00)
		eax_29 = (word32) globals->ptr4110E0[eax_3].t0000 & dwArg08;
	else
		eax_29 = 0x00;
	if (eax_29 != 0x00)
		return 0x01;
	return eax_29;
}

// 00406001: Register word32 fn00406001(Stack word32 dwArg04)
word32 fn00406001(word32 dwArg04)
{
	return fn00405F3A((byte) dwArg04, 0x00, 0x04);
}

// 00406090: Register Eq_143 fn00406090(Register Eq_143 eax)
Eq_143 fn00406090(Eq_143 eax)
{
	if (eax == 0x03A4)
		return 0x0411;
	if (eax == 0x03A8)
		return 0x0804;
	if (eax == 949)
		return 0x0412;
	if (eax == 0x03B6)
		return 0x0404;
	return 0x00;
}

// 004060BF: Register word32 fn004060BF()
word32 fn004060BF()
{
	word32 ecx_11 = 0x40;
	struct Eq_8046 * edi_13 = globals->a416BE0;
	while (ecx_11 != 0x00)
	{
		edi_13->b0000 = (byte) 0x00;
		edi_13 = edi_13 + 0x01;
		ecx_11 = ecx_11 - 0x01;
	}
	edi_13->b0000 = 0x00;
	globals->t416CE4.u0 = 0x00;
	globals->dw416BC8 = 0x00;
	globals->dw416BC4 = 0x00;
	globals->dw416CF0 = 0x00;
	globals->dw416CF4 = 0x00;
	globals->dw416CF8 = 0x00;
	return ecx_11;
}

// 004060E8: void fn004060E8(Register Eq_143 ecx, Register Eq_143 ebx, Register Eq_143 edi)
void fn004060E8(Eq_143 ecx, Eq_143 ebx, Eq_143 edi)
{
	Eq_8083 ebp_156 = fp - 0x04;
	if (GetCPInfo(globals->t416CE4, fp - 0x1C) == 0x01)
	{
		Eq_8102 eax_52 = 0x00;
		byte al_53 = 0x00;
		do
		{
			*((word32) eax_52 + (fp - 0x011C)) = al_53;
			eax_52 = (word32) eax_52 + 0x01;
			al_53 = (byte) eax_52;
		} while (eax_52 < 0x0100);
		byte al_218 = bLoc16;
		if (bLoc16 != 0x00)
		{
			byte * edx_211 = fp - 0x15;
			do
			{
				ecx = (word32) *edx_211;
				Eq_143 eax_224 = (word32) al_218;
				if (eax_224 <= ecx)
				{
					word32 ecx_246 = ecx - eax_224;
					uint32 ecx_249 = ecx_246 + 0x01 >> 0x02;
					union Eq_8291 * edi_253 = (word32) eax_224 + (fp - 0x011C);
					while (ecx_249 != 0x00)
					{
						*edi_253 = 0x20202020;
						edi_253 = (union Eq_8291 *) ((char *) edi_253 + 0x04);
						ecx_249 = ecx_249 - 0x01;
					}
					ecx = ecx_246 + 0x01 & 0x03;
					while (ecx != 0x00)
					{
						*edi_253 = (union Eq_8291 *) 0x20;
						edi_253 = (union Eq_8291 *) ((char *) edi_253 + 0x01);
						ecx = ecx - 0x01;
					}
				}
				byte * edx_235 = edx_211 + 0x01;
				al_218 = *edx_235;
				edx_211 = edx_235 + 0x01;
			} while (al_218 != 0x00);
		}
		Eq_143 ecx_104;
		Eq_143 ebx_105;
		word32 ebp_106;
		Eq_143 esi_107;
		Eq_143 edi_108;
		fn004077AA(ecx, ebx, 0x0100, edi, out ecx_104, out ebx_105, out ebp_106, out esi_107, out edi_108);
		*(fp - 0x0540) = 0x00;
		*(fp - 0x0544) = (union Eq_143 *) globals->t416CE4;
		*(fp - 0x0548) = (union Eq_143 *) esi_107;
		*(fp - 0x054C) = ebp_106 - 0x0218;
		*(fp - 0x0550) = (union Eq_143 *) esi_107;
		*(fp - 0x0554) = ebp_106 - 0x0118;
		*(fp - 0x0558) = (union Eq_143 *) esi_107;
		*(fp - 0x055C) = globals->dw416BC4;
		Eq_143 ebx_130;
		word32 ebp_131;
		Eq_143 esi_132;
		Eq_143 edi_133;
		Eq_143 ecx_134 = fn004073EE(ecx_104, ebx_105, esi_107, edi_108, out ebx_130, out ebp_131, out esi_132, out edi_133);
		*(fp - 0x0560) = 0x00;
		*(fp - 0x0564) = (union Eq_143 *) globals->t416CE4;
		*(fp - 0x0568) = (union Eq_143 *) esi_132;
		*(fp - 1388) = ebp_131 - 0x0318;
		*(fp - 0x0570) = (union Eq_143 *) esi_132;
		*(fp - 0x0574) = ebp_131 - 0x0118;
		*(fp - 1400) = 0x0200;
		*(fp - 1404) = globals->dw416BC4;
		Eq_8261 esi_157;
		fn004073EE(ecx_134, ebx_130, esi_132, edi_133, out ebx, out ebp_156, out esi_157, out edi);
		Eq_8261 eax_161 = 0x00;
		do
		{
			Eq_8321 cl_188;
			byte cl_170 = (byte) *((word32) (ebp_156 - 0x0518) + eax_161 * 0x02);
			if ((cl_170 & 0x01) != 0x00)
			{
				*((word32) eax_161 + 4287457) = *((word32) eax_161 + 4287457) | 0x10;
				cl_188 = Mem192[ebp_156 - 0x0218 + eax_161:byte];
				goto l004061FA;
			}
			if ((cl_170 & 0x02) != 0x00)
			{
				*((word32) eax_161 + 4287457) = *((word32) eax_161 + 4287457) | 0x20;
				cl_188 = Mem202[ebp_156 - 0x0318 + eax_161:byte];
l004061FA:
				*((word32) eax_161 + 4287744) = cl_188;
			}
			else
				*((word32) eax_161 + 4287744) = 0x00;
			eax_161 = (word32) eax_161 + 0x01;
		} while (eax_161 < esi_157);
	}
	else
	{
		struct Eq_8098 * eax_279 = null;
		byte al_280 = 0x00;
		do
		{
			Eq_8321 cl_312;
			if (eax_279 >= (struct Eq_8098 *) 0x41 && eax_279 <= (struct Eq_8098 *) 0x5A)
			{
				eax_279[4287457] = (struct Eq_8098) (eax_279[4287457] | 0x10);
				cl_312 = al_280 + 0x20;
				goto l0040623D;
			}
			if (eax_279 >= (struct Eq_8098 *) 0x61 && eax_279 <= (struct Eq_8098 *) 122)
			{
				eax_279[4287457] = (struct Eq_8098) (eax_279[4287457] | 0x20);
				cl_312 = al_280 - 0x20;
l0040623D:
				eax_279[4287744] = (struct Eq_8098) cl_312;
			}
			else
				eax_279[4287744] = (struct Eq_8098) 0x00;
			eax_279 = eax_279 + 0x01;
			al_280 = (byte) eax_279;
		} while (eax_279 < (struct Eq_8098 *) 0x0100);
	}
	fn00405F2C(*(ebp_156 - 0x04), ebx, *(fp - 0x0520), edi);
}

// 00406274: Register byte fn00406274(Register Eq_143 edi, Stack Eq_143 dwArg04)
byte fn00406274(Eq_143 edi, Eq_143 dwArg04)
{
	Eq_143 eax_359;
	globals->dw416B38 = 0x00;
	Eq_143 esi_16 = dwArg04;
	Eq_143 ebx_17 = 0x00;
	if (dwArg04 == ~0x01)
	{
		globals->dw416B38 = 0x01;
		eax_359 = GetOEMCP();
	}
	else if (dwArg04 == ~0x02)
	{
		globals->dw416B38 = 0x01;
		eax_359 = GetACP();
	}
	else
	{
		if (dwArg04 != ~0x03)
		{
l004062D7:
			if (esi_16 == globals->t416CE4)
			{
l00406446:
				goto l0040644D;
			}
			Eq_143 ecx_102;
			if (esi_16 != 0x00)
			{
				ui32 edx_115 = 0x00;
				struct Eq_8463 * eax_117 = globals->a410FE0;
				do
				{
					if (eax_117->dw0000 == esi_16)
					{
						word32 ecx_254 = 0x40;
						struct Eq_8467 * edi_256 = globals->a416BE0;
						while (ecx_254 != 0x00)
						{
							edi_256->b0000 = (byte) 0x00;
							edi_256 = edi_256 + 0x01;
							ecx_254 = ecx_254 - 0x01;
						}
						ui32 ecx_262 = edx_115 * 0x03;
						edi_256->b0000 = 0x00;
						ecx_102 = ecx_262 << 0x04;
						byte * dwLoc20_265 = globals->a410FD8;
						ebx_17 = (ecx_262 << 0x04) + 0x00410FF0;
						do
						{
							byte al_282 = *ebx_17;
							Eq_143 esi_284 = ebx_17;
							while (al_282 != 0x00)
							{
								byte dl_325 = *((word32) esi_284 + 0x01);
								if (dl_325 == 0x00)
									break;
								struct Eq_8700 * eax_330 = (word32) al_282;
								struct Eq_8700 * edi_332 = (word32) dl_325;
								if (eax_330 <= edi_332)
								{
									byte dl_346 = *dwLoc20_265;
									do
									{
										eax_330[4287457] = (struct Eq_8700) (eax_330[4287457] | dl_346);
										eax_330 = eax_330 + 0x01;
									} while (eax_330 <= edi_332);
								}
								struct Eq_8705 * esi_340 = (word32) esi_284 + 0x01;
								esi_284 = &esi_340->b0001;
								al_282 = esi_340->b0001;
							}
							byte * v19_300 = dwLoc20_265 + 0x01;
							dwLoc20_265 = v19_300;
							ebx_17 = (word32) ebx_17 + 0x08;
						} while (v19_300 < (byte *) ~0x00410FD3);
						globals->t416CE4 = dwArg04;
						globals->dw416BC8 = 0x01;
						word32 eax_309 = fn00406090(dwArg04);
						struct Eq_8678 * esi_310 = (ecx_262 << 0x04) + 0x00410FE4;
						globals->dw416CF0 = esi_310->dw0000;
						globals->dw416CF4 = esi_310->dw0004;
						globals->dw416BC4 = eax_309;
						globals->dw416CF8 = esi_310->dw0008;
						edi.u0 = 4287740;
						goto l00406441;
					}
					eax_117 = eax_117 + 0x01;
					edx_115 = edx_115 + 0x01;
				} while (eax_117 < (struct Eq_8463 *) ~0x00410EEF);
				if (GetCPInfo(esi_16, fp - 0x1C) == 0x01)
				{
					ecx_102.u0 = 0x40;
					struct Eq_8491 * edi_152 = globals->a416BE0;
					while (ecx_102 != 0x00)
					{
						edi_152->b0000 = (byte) 0x00;
						edi_152 = edi_152 + 0x01;
						ecx_102 = ecx_102 - 0x01;
					}
					edi_152->b0000 = 0x00;
					globals->t416CE4 = esi_16;
					globals->dw416BC4 = 0x00;
					if (dwLoc1C > 0x01)
					{
						if (bLoc16 != 0x00)
						{
							ecx_102 = fp - 0x15;
							do
							{
								byte dl_216 = *ecx_102;
								if (dl_216 == 0x00)
									break;
								struct Eq_8533 * eax_221 = (word32) *(ecx_102 - 0x01);
								struct Eq_8533 * edx_223 = (word32) dl_216;
								while (eax_221 <= edx_223)
								{
									eax_221[4287457] = (struct Eq_8533) (eax_221[4287457] | 0x04);
									eax_221 = eax_221 + 0x01;
								}
								byte * ecx_231 = (byte) ecx_102.u0 + 0x01;
								ecx_102 = ecx_231 + 0x01;
							} while (*ecx_231 != 0x00);
						}
						struct Eq_8529 * eax_195 = (struct Eq_8529 *) 0x01;
						do
						{
							eax_195[4287457] = (struct Eq_8529) (eax_195[4287457] | 0x08);
							eax_195 = eax_195 + 0x01;
						} while (eax_195 < (struct Eq_8529 *) 0xFF);
						globals->dw416BC4 = fn00406090(esi_16);
						globals->dw416BC8 = 0x01;
					}
					else
						globals->dw416BC8 = 0x00;
					globals->dw416CF0 = 0x00;
					globals->dw416CF4 = 0x00;
					globals->dw416CF8 = 0x00;
					edi.u0 = 4287740;
l00406441:
					fn004060E8(ecx_102, ebx_17, edi);
					goto l00406446;
				}
				if (globals->dw416B38 == 0x00)
				{
l0040644D:
					Eq_143 ebx_57 = *(fp - 0x24);
					fn00405F2C(*(fp - 0x08), ebx_57, *(fp - 0x28), *(fp - 44));
					return (byte) ebx_57;
				}
			}
			ecx_102 = fn004060BF();
			goto l00406441;
		}
		eax_359 = globals->t416BB4;
		globals->dw416B38 = 0x01;
	}
	dwArg04 = eax_359;
	esi_16 = eax_359;
	goto l004062D7;
}

// 0040646A: Register word32 fn0040646A(Register Eq_143 edi, Register out ptr32 ecxOut, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out Eq_2902 ediOut)
word32 fn0040646A(Eq_143 edi, ptr32 & ecxOut, ptr32 & ebxOut, ptr32 & ebpOut, HMODULE & ediOut)
{
	*ebxOut = ebx;
	*ecxOut = ecx;
	*ebpOut = ebp;
	*ediOut = edi;
	if (globals->dw417F6C == 0x00)
	{
		word32 ebx_26;
		*ebxOut = DPB(ebx, fn00406274(edi, ~0x02), 0);
		word32 ecx_27;
		*ecxOut = *(fp - 0x04);
		globals->dw417F6C = 0x01;
	}
	return 0x00;
}

// 0040679F: Register Eq_143 fn0040679F(Stack Eq_143 dwArg04, Stack int32 dwArg08)
Eq_143 fn0040679F(Eq_143 dwArg04, int32 dwArg08)
{
	Eq_143 esi_108;
	Eq_143 esi_11 = dwArg04 *s dwArg08;
	esi_108 = esi_11;
	if (esi_11 == 0x00)
		esi_108 = (word32) esi_11 + 0x01;
	do
	{
		Eq_143 eax_49;
		Eq_143 edi_118 = 0x00;
		if (esi_108 <= ~0x1F)
		{
			if (globals->dw417E48 == 0x03)
			{
				Eq_8788 esi_122 = (word32) esi_108 + 0x0F;
				esi_108 = esi_122 & ~0x0F;
				if (esi_11 > globals->t416E10)
					goto l004067DD;
				word32 edx_129;
				Eq_143 eax_130 = fn00405335(esi_122 & ~0x0F, esi_11, SLICE(esi_11, byte, 24), out edx_129);
				edi_118 = eax_130;
				if (eax_130 == 0x00)
					goto l004067DD;
				fn00407970(eax_130, 0x00, esi_11);
			}
			else
			{
l004067DD:
				Eq_143 eax_116 = HeapAlloc(globals->t417E44, 0x08, esi_108);
				edi_118 = eax_116;
				if (eax_116 == 0x00)
					goto l004067F2;
			}
l00406814:
			eax_49 = edi_118;
			return eax_49;
		}
l004067F2:
		if (globals->dw416B94 == 0x00)
			goto l00406814;
		eax_49 = fn00406DF8(esi_108);
	} while (eax_49 != 0x00);
	return eax_49;
}

// 00406872: Register Eq_8816 fn00406872(Register Eq_143 ebx, Register ptr32 ebp, Register int32 esi, Register Eq_143 edi, Stack Eq_143 dwArg04, Stack Eq_143 dwArg08, Register out ptr32 edxOut, Register out ptr32 ebxOut)
Eq_8816 fn00406872(Eq_143 ebx, ptr32 ebp, int32 esi, Eq_143 edi, Eq_143 dwArg04, Eq_143 dwArg08, ptr32 & edxOut, ptr32 & ebxOut)
{
	*edxOut = edx;
	Eq_143 eax_49;
	Eq_8816 eax_124;
	fn00404190(0x1008, dwLoc08);
	Eq_143 eax_9 = globals->t410FD0;
	*(fp - 0x08) = (union Eq_143 *) ebx;
	*(fp - 0x0C) = esi;
	Eq_8816 esi_112 = 0x00;
	eax_49 = eax_9;
	if (dwArg04 < globals->t417E4C)
	{
		eax_49 = *((char *) globals->a417E60 + (dwArg04 >> 0x05) * 0x04);
		if ((*((word32) eax_49 + ((dwArg04 & 0x1F) * 0x08 + 0x04)) & 0x01) != 0x00)
		{
			*(fp - 0x10) = 0x01;
			*(fp - 0x14) = 0x00;
			*(fp - 0x18) = (union Eq_143 *) dwArg04;
			eax_49 = fn00406BBC(dwArg00, dwArg04, dwArg08);
			if (eax_49 != ~0x00)
			{
				*(fp - 0x10) = 0x02;
				*(fp - 0x14) = 0x00;
				*(fp - 0x18) = (union Eq_143 *) dwArg04;
				eax_49 = fn00406BBC(dwArg00, dwArg04, dwArg08);
				if (eax_49 != ~0x00)
				{
					Eq_143 dwArg04_105;
					*(fp - 0x10) = (union Eq_143 *) edi;
					Eq_143 edi_148 = dwArg08 - eax_49;
					if (edi_148 > 0x00)
					{
						*(fp - 0x14) = 0x1000;
						*(fp - 0x18) = 0x00;
						*(fp - 0x1C) = fp + ~0x1007;
						fn00407970(dwArg00, bArg04, dwArg08);
						*(fp - 0x20) = 0x8000;
						*(fp - 0x24) = (union Eq_143 *) dwArg04;
						ui32 edx_139;
						Eq_143 eax_140 = fn004079D0(dwArg00, dwArg04, out edx_139);
						dwArg04_105 = eax_140;
						do
						{
							Eq_143 eax_150 = 0x1000;
							if (edi_148 < 0x1000)
								eax_150 = edi_148;
							*(fp - 0x14) = (union Eq_143 *) eax_150;
							*(fp - 0x18) = fp + ~0x1007;
							*(fp - 0x1C) = (union Eq_143 *) dwArg04;
							int32 eax_162 = fn004058F7(edx_139, dwArg04, 0x00, edi_148, dwArg00, eax_140, dwArg08, out edx_139);
							if (eax_162 == ~0x00)
							{
								if (globals->t4169BC == 0x05)
									globals->t4169B8.u0 = 0x0D;
								esi_112.u0 = ~0x00;
								break;
							}
							edi_148 = edi_148 - eax_162;
						} while (edi_148 > 0x00);
						*(fp - 0x14) = (union Eq_143 *) eax_140;
						*(fp - 0x18) = (union Eq_143 *) dwArg04;
						word32 edx_177;
						fn004079D0(dwArg00, eax_140, out edx_177);
					}
					else
					{
						dwArg04_105 = dwArg04;
						if (edi_148 < 0x00)
						{
							*(fp - 0x14) = 0x00;
							*(fp - 0x18) = (union Eq_143 *) dwArg08;
							*(fp - 0x1C) = (union Eq_143 *) dwArg04;
							fn00406BBC(dwArg00, dwArg04, dwArg08);
							*(fp - 0x20) = (union Eq_143 *) dwArg04;
							*(fp - 0x14) = (union Eq_143 *) fn0040581E(dwArg00);
							Eq_9065 esi_213 = -SetEndOfFile(*(fp - 0x14)) == 0x00;
							esi_112 = esi_213 - 0x01;
							dwArg04_105 = dwArg04;
							if (esi_213 == 0x00)
							{
								globals->t4169B8.u0 = 0x0D;
								globals->t4169BC = GetLastError();
								dwArg04_105 = dwArg04;
							}
						}
					}
					*(fp - 0x14) = 0x00;
					*(fp - 0x18) = (union Eq_143 *) eax_49;
					*(fp - 0x1C) = (union Eq_143 *) dwArg04;
					fn00406BBC(dwArg00, dwArg04_105, dwArg08);
					eax_124 = esi_112;
					edi = *(fp - 0x10);
l004069C2:
					Eq_143 ebx_39 = *(fp - 0x08);
					*ebxOut = ebx_39;
					fn00405F2C(eax_9, ebx_39, *(fp - 0x0C), edi);
					return eax_124;
				}
			}
l004069BF:
			eax_124 = eax_49 | ~0x00;
			goto l004069C2;
		}
	}
	globals->t4169B8.u0 = 0x09;
	goto l004069BF;
}

// 004069CE: Register Eq_143 fn004069CE(Register Eq_143 eax, Stack Eq_143 dwArg04, Stack Eq_143 dwArg08, Stack Eq_143 dwArg0C, Register out ptr32 edxOut)
Eq_143 fn004069CE(Eq_143 eax, Eq_143 dwArg04, Eq_143 dwArg08, Eq_143 dwArg0C, ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_143 eax_146;
	if (dwArg04 < globals->t417E4C)
	{
		struct Eq_9131 ** edi_116 = (dwArg04 >> 0x05) * 0x04 + 4292192;
		int32 esi_119 = (dwArg04 & 0x1F) << 0x03;
		eax = (char *) *edi_116 + esi_119;
		byte dl_122 = *((word32) eax + 0x04);
		word32 edx_123 = DPB(edx, dl_122, 0);
		*edxOut = edx_123;
		if ((dl_122 & 0x01) != 0x00)
		{
			ui32 dwLoc10_128 = dwLoc10 & 0x00;
			Eq_143 ebx_133 = dwArg08;
			Eq_143 ecx_134 = dwArg08;
			if (dwArg0C != 0x00 && (dl_122 & 0x02) == 0x00)
			{
				if ((dl_122 & 0x48) != 0x00 && *((word32) eax + 0x05) != 0x0A)
				{
					*dwArg08 = ((char *) *edi_116 + 0x05)[esi_119];
					((char *) *edi_116 + 0x05)[esi_119] = 0x0A;
					dwArg0C = dwArg0C - 0x01;
					ecx_134 = (word32) dwArg08 + 0x01;
					dwLoc10_128 = 0x01;
				}
				if (ReadFile(*((char *) *edi_116 + esi_119), ecx_134, dwArg0C, fp - 0x14, null) != 0x00)
				{
					Eq_143 v20_201 = dwLoc10_128 + dwLoc14;
					struct Eq_9131 * ecx_200 = *edi_116;
					Eq_143 dwLoc10_202 = v20_201;
					if ((ecx_200->a0004[esi_119] & 0x80) != 0x00)
					{
						if (dwLoc14 != 0x00 && *dwArg08 == 0x0A)
						{
							byte * eax_424 = ecx_200->a0004 + esi_119;
							*eax_424 = *eax_424 | 0x04;
						}
						else
						{
							byte * eax_416 = (char *) *edi_116 + 0x04 + esi_119;
							*eax_416 = *eax_416 & ~0x04;
						}
						word32 ecx_230 = v20_201 + dwArg08;
						Eq_143 dwLoc0C_233 = dwArg08;
						if (dwArg08 < ecx_230)
						{
							do
							{
								byte al_265 = *dwLoc0C_233;
								if (al_265 == 0x1A)
								{
									struct Eq_9131 * eax_403 = *edi_116;
									if ((eax_403->a0004[esi_119] & 0x40) == 0x00)
									{
										byte * esi_408 = eax_403->a0004 + esi_119;
										*esi_408 = *esi_408 | 0x02;
									}
									break;
								}
								if (al_265 != 0x0D)
								{
									ebx_133->u0 = al_265;
									ebx_133 = (word32) ebx_133 + 0x01;
									dwLoc0C_233 = (word32) dwLoc0C_233 + 0x01;
									goto l00406B7A;
								}
								if (dwLoc0C_233 < ecx_230 - 0x01)
								{
									Eq_143 eax_338 = (word32) dwLoc0C_233 + 0x01;
									if (*eax_338 == 0x0A)
									{
										dwLoc0C_233 = (word32) dwLoc0C_233 + 0x02;
										goto l00406B5C;
									}
									dwLoc0C_233 = eax_338;
									goto l00406B76;
								}
								dwLoc0C_233 = (word32) dwLoc0C_233 + 0x01;
								if (ReadFile(*((char *) *edi_116 + esi_119), fp - 0x05, 0x01, fp - 0x14, null) == 0x00 && GetLastError() != 0x00 || dwLoc14 == 0x00)
								{
l00406B76:
									ebx_133->u0 = 0x0D;
									goto l00406B79;
								}
								if ((((char *) *edi_116 + 0x04)[esi_119] & 0x48) != 0x00)
								{
									if (bLoc05 == 0x0A)
										goto l00406B5C;
									ebx_133->u0 = 0x0D;
									((char *) *edi_116 + 0x05)[esi_119] = (char) bLoc05;
									goto l00406B79;
								}
								if (ebx_133 == dwArg08 && bLoc05 == 0x0A)
								{
l00406B5C:
									ebx_133->u0 = 0x0A;
l00406B79:
									ebx_133 = (word32) ebx_133 + 0x01;
									goto l00406B7A;
								}
								fn00406BBC(dwArg04, ~0x00, 0x01);
								if (bLoc05 != 0x0A)
									goto l00406B76;
l00406B7A:
							} while (dwLoc0C_233 < ecx_230);
						}
						dwLoc10_202 = ebx_133 - dwArg08;
					}
					eax_146 = dwLoc10_202;
					return eax_146;
				}
				eax = GetLastError();
				if (eax == 0x05)
				{
					globals->t4169BC.u0 = 0x05;
l00406BAA:
					globals->t4169B8.u0 = 0x09;
					goto l00406BB4;
				}
				if (eax != 0x6D)
				{
					eax = fn00405631(eax);
l00406BB4:
					eax_146 = eax | ~0x00;
					return eax_146;
				}
			}
			eax_146.u0 = 0x00;
			return eax_146;
		}
	}
	globals->t4169BC = globals->t4169BC & 0x00;
	goto l00406BAA;
}

// 00406BBC: Register Eq_143 fn00406BBC(Stack Eq_143 dwArg04, Stack Eq_143 dwArg08, Stack Eq_143 dwArg0C)
Eq_143 fn00406BBC(Eq_143 dwArg04, Eq_143 dwArg08, Eq_143 dwArg0C)
{
	Eq_143 eax_121;
	Eq_143 eax_112 = dwArg04;
	if (dwArg04 < globals->t417E4C)
	{
		struct Eq_9424 ** edi_76 = (dwArg04 >> 0x05) * 0x04 + 4292192;
		int32 esi_78 = (dwArg04 & 0x1F) << 0x03;
		if ((((char *) *edi_76 + 0x04)[esi_78] & 0x01) != 0x00)
		{
			eax_112 = fn0040581E(dwArg04);
			if (eax_112 != ~0x00)
			{
				Eq_143 eax_106;
				Eq_143 eax_101 = SetFilePointer(eax_112, dwArg08, null, dwArg0C);
				if (eax_101 == ~0x00)
					eax_106 = GetLastError();
				else
					eax_106.u0 = 0x00;
				if (eax_106 == 0x00)
				{
					byte * eax_116 = (char *) *edi_76 + 0x04 + esi_78;
					*eax_116 = *eax_116 & ~0x02;
					eax_121 = eax_101;
					return eax_121;
				}
				eax_112 = fn00405631(eax_106);
l00406C41:
				eax_121 = eax_112 | ~0x00;
				return eax_121;
			}
l00406C37:
			globals->t4169B8.u0 = 0x09;
			goto l00406C41;
		}
	}
	globals->t4169BC = globals->t4169BC & 0x00;
	goto l00406C37;
}

// 00406C48: Register Eq_143 fn00406C48(Register Eq_143 ebx, Register Eq_143 ebp, Stack Eq_143 dwArg04, Stack Eq_143 dwArg08)
Eq_143 fn00406C48(Eq_143 ebx, Eq_143 ebp, Eq_143 dwArg04, Eq_143 dwArg08)
{
	Eq_143 eax_130;
	if (dwArg04 == 0x00)
	{
		word32 edx_42;
		eax_130 = fn004046A2(dwArg08, out edx_42);
	}
	else
	{
		Eq_143 esi_110 = dwArg08;
		if (dwArg08 == 0x00)
		{
			word32 ebx_96;
			word32 ebp_97;
			word32 edi_98;
			fn004032D3(ebp, dwArg04, out ebx_96, out ebp_97, out edi_98);
		}
		else if (globals->dw417E48 == 0x03)
		{
			do
			{
				Eq_143 edi_116 = 0x00;
				if (esi_110 <= ~0x1F)
				{
					*(fp - 0x14) = (union Eq_143 *) dwArg04;
					Eq_143 eax_154 = fn00404711(dwArg00);
					Eq_143 ebp_155 = eax_154;
					if (eax_154 != 0x00)
					{
						if (esi_110 <= globals->t416E10)
						{
							*(fp - 0x14) = (union Eq_143 *) esi_110;
							*(fp - 0x18) = (union Eq_143 *) dwArg04;
							*(fp - 0x1C) = (union Eq_143 *) eax_154;
							if (fn00404C11(dwArg00, dwArg04, bArg07, dwArg08, bArg0B) != 0x00)
							{
								edi_116 = dwArg04;
								goto l00406CEC;
							}
							*(fp - 0x14) = (union Eq_143 *) esi_110;
							word32 edx_296;
							Eq_143 eax_297 = fn00405335(esi_110, dwArg00, bArg03, out edx_296);
							if (eax_297 == 0x00)
								goto l00406CF0;
							Eq_4593 eax_304 = *(dwArg04 - 0x04);
							Eq_143 eax_305 = eax_304 - 0x01;
							if (eax_304 - 0x01 >= esi_110)
								eax_305 = esi_110;
							*(fp - 0x14) = (union Eq_143 *) eax_305;
							*(fp - 0x18) = (union Eq_143 *) dwArg04;
							*(fp - 0x1C) = (union Eq_143 *) eax_297;
							fn00402970(dwArg00, dwArg04, dwArg08, out esi_110, out edi_116);
							*(fp - 0x20) = (union Eq_143 *) dwArg04;
							Eq_143 eax_320 = fn00404711(dwArg00);
							*(fp - 0x24) = (union Eq_143 *) dwArg04;
							*(fp - 0x28) = (union Eq_143 *) eax_320;
							fn0040473C(eax_320, dwArg00, dwArg04, bArg07);
							ebp_155 = eax_320;
l00406CEC:
							if (edi_116 == 0x00)
								goto l00406CF0;
						}
						else
						{
l00406CF0:
							if (esi_110 == 0x00)
								esi_110 = esi_110 + 0x01;
							word32 esi_229 = esi_110 + 0x0F;
							*(fp - 0x14) = esi_229 & ~0x0F;
							*(fp - 0x18) = 0x00;
							*(fp - 0x1C) = (union Eq_143 *) globals->t417E44;
							Eq_143 eax_238 = HeapAlloc(*(fp - 0x1C), *(fp - 0x18), *(fp - 0x14));
							esi_110 = esi_229 & ~0x0F;
							edi_116 = eax_238;
							if (eax_238 != 0x00)
							{
								Eq_4593 eax_244 = *(dwArg04 - 0x04);
								ui32 eax_245 = eax_244 - 0x01;
								if (eax_244 - 0x01 >= (esi_229 & ~0x0F))
									eax_245 = esi_229 & ~0x0F;
								*(fp - 0x14) = eax_245;
								*(fp - 0x18) = (union Eq_143 *) dwArg04;
								*(fp - 0x1C) = (union Eq_143 *) eax_238;
								ebp_155 = fn00402970(dwArg00, dwArg04, dwArg08, out esi_110, out edi_116);
								*(fp - 0x20) = (union Eq_143 *) dwArg04;
								*(fp - 0x24) = (union Eq_143 *) ebp_155;
								fn0040473C(ebp_155, dwArg00, dwArg04, bArg07);
							}
						}
						if (ebp_155 == 0x00)
							goto l00406D30;
					}
					else
					{
l00406D30:
						if (esi_110 == 0x00)
							esi_110 = esi_110 + 0x01;
						word32 esi_186 = esi_110 + 0x0F;
						*(fp - 0x14) = esi_186 & ~0x0F;
						*(fp - 0x18) = (union Eq_143 *) dwArg04;
						*(fp - 0x1C) = 0x00;
						*(fp - 0x20) = (union Eq_143 *) globals->t417E44;
						esi_110 = esi_186 & ~0x0F;
						edi_116 = HeapReAlloc(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14));
					}
					if (edi_116 == 0x00)
						goto l00406D51;
l00406D6B:
					eax_130 = edi_116;
					goto l00406DA5;
				}
l00406D51:
				if (globals->dw416B94 == 0x00)
					goto l00406D6B;
				*(fp - 0x14) = (union Eq_143 *) esi_110;
			} while (fn00406DF8(dwArg00) != 0x00);
		}
		else
		{
			do
			{
				eax_130.u0 = 0x00;
				if (esi_110 <= ~0x1F)
				{
					if (esi_110 == 0x00)
						esi_110 = esi_110 + 0x01;
					eax_130 = HeapReAlloc(globals->t417E44, 0x00, dwArg04, esi_110);
					if (eax_130 != 0x00)
						goto l00406DA5;
				}
				if (globals->dw416B94 == 0x00)
					goto l00406DA5;
			} while (fn00406DF8(esi_110) != 0x00);
		}
		eax_130.u0 = 0x00;
l00406DA5:
	}
	return eax_130;
}

// 00406DAA: Register Eq_143 fn00406DAA(Stack Eq_143 dwArg04)
Eq_143 fn00406DAA(Eq_143 dwArg04)
{
	if (globals->dw417E48 != 0x03 || fn00404711(dwArg04) == 0x00)
		return HeapSize(globals->t417E44, 0x00, dwArg04);
	return *(dwArg04 - 0x04) - 0x09;
}

// 00406DF8: Register word32 fn00406DF8(Stack Eq_143 dwArg04)
word32 fn00406DF8(Eq_143 dwArg04)
{
	<anonymous> * eax_3 = globals->ptr416B90;
	if (eax_3 == null)
		return 0x00;
	word32 esp_27;
	word32 eax_28;
	byte SZO_29;
	bool C_30;
	bool Z_31;
	word32 ecx_32;
	eax_3();
	if (eax_28 == 0x00)
		return 0x00;
	return 0x01;
}

// 00406E20: Register word32 fn00406E20(Stack Eq_143 dwArg04, Stack Eq_143 dwArg08, Stack (ptr32 Eq_4913) dwArg0C, Register out Eq_5532 ediOut)
word32 fn00406E20(Eq_143 dwArg04, Eq_143 dwArg08, Eq_4913 * dwArg0C, Eq_5532 & ediOut)
{
}

// 0040715D: Register ui32 fn0040715D(Register ui32 edx, Stack Eq_143 dwArg04, Stack Eq_143 dwArg08, Stack ui32 dwArg0C, Stack Eq_143 dwArg10)
ui32 fn0040715D(ui32 edx, Eq_143 dwArg04, Eq_143 dwArg08, ui32 dwArg0C, Eq_143 dwArg10)
{
	ui32 edx_133;
	if (dwArg04 < globals->t417E4C)
	{
		struct Eq_10161 ** edi_89 = (dwArg04 >> 0x05) * 0x04 + 4292192;
		int32 esi_91 = (dwArg04 & 0x1F) << 0x03;
		if ((((char *) *edi_89 + 0x04)[esi_91] & 0x01) != 0x00)
		{
			Eq_143 eax_103 = fn0040581E(dwArg04);
			if (eax_103 != ~0x00)
			{
				if (SetFilePointer(eax_103, dwArg08, fp - 0x08, dwArg10) == ~0x00)
				{
					Eq_143 eax_134 = GetLastError();
					if (eax_134 != 0x00)
					{
						fn00405631(eax_134);
l004071F2:
						edx_133 = edx | ~0x00;
						return edx_133;
					}
				}
				byte * eax_127 = (char *) *edi_89 + 0x04 + esi_91;
				*eax_127 = *eax_127 & ~0x02;
				edx_133 = dwArg0C;
				return edx_133;
			}
l004071E8:
			globals->t4169B8.u0 = 0x09;
			goto l004071F2;
		}
	}
	globals->t4169BC = globals->t4169BC & 0x00;
	goto l004071E8;
}

// 00407262: Register ptr32 fn00407262(Register Eq_143 ebx, Register Eq_143 esi, Register Eq_143 edi)
ptr32 fn00407262(Eq_143 ebx, Eq_143 esi, Eq_143 edi)
{
	Eq_143 ebx_101;
	ptr32 esp_166;
	Eq_143 ebp_10 = fn00404030(ebx, esi, edi, dwLoc0C, 4229464, 0x0118);
	*(ebp_10 - 0x1C) = (union Eq_143 *) globals->t410FD0;
	<anonymous> * eax_14 = globals->ptr416B98;
	if (eax_14 != null)
	{
		*(ebp_10 - 0x04) = 0x00;
		word32 esp_57;
		word32 eax_58;
		word32 ecx_60;
		byte SZO_61;
		bool C_62;
		byte SCZO_63;
		bool Z_64;
		word32 edi_65;
		word32 esi_66;
		byte cl_67;
		byte CZ_69;
		eax_14();
		*(ebp_10 - 0x04) = *(ebp_10 - 0x04) | ~0x00;
		esp_166 = esp_57 + 0x08;
	}
	else
	{
		word32 edi_190;
		word32 esi_197;
		if (*((word32) ebp_10 + 0x08) != 0x01)
		{
			*(ebp_10 - 0x0128) = 0x00408880;
			edi_190 = 4229428;
			esi_197 = 212;
		}
		else
		{
			*(ebp_10 - 0x0128) = 0x004087C0;
			edi_190 = 0x00408860;
			esi_197 = 0xB9;
		}
		*(ebp_10 - 0x20) = 0x00;
		if (GetModuleFileNameA(0x00, ebp_10 - 292, 0x0104) == 0x00)
			edi_190 = fn00405C40(ebp_10 - 292);
		*(fp - 0x0C) = ebp_10 - 292;
		ebx_101 = ebp_10 - 292;
		if (fn00405E70(dwArg00) > ~0x30)
		{
			*(fp - 0x0C) = ebp_10 - 292;
			ebx_101 = (word32) fn00405E70(dwArg00) + (ebp_10 - 0x0155);
			*(fp - 0x10) = 0x03;
			*(fp - 0x14) = 0x004086F8;
			*(fp - 0x18) = (union Eq_143 *) ebx_101;
			fn00405D40(dwArg00, dwArg04, dwArg08);
		}
		*(fp - 0x0C) = (union Eq_143 *) ebx_101;
		fn00404190((word32) fn00405E70(dwArg00) + 0x0C + esi_197 + 0x03 & ~0x03, 0x0118);
		*(ebp_10 - 0x18) = fp - 0x08;
		*(fp - 0x0C) = edi_190;
		*(fp - 0x10) = fp - 0x08;
		fn00405C40(dwArg00);
		*(fp - 0x14) = 4228824;
		*(fp - 0x18) = fp - 0x08;
		fn00405C50(dwArg00);
		*(fp - 0x1C) = 4229044;
		*(fp - 0x20) = fp - 0x08;
		fn00405C50(dwArg00);
		*(fp - 0x24) = (union Eq_143 *) ebx_101;
		*(fp - 0x28) = fp - 0x08;
		*(fp - 44) = (union Eq_143 *) fn00405C50(dwArg00);
		*(fp - 0x30) = fp - 0x08;
		fn00405C50(dwArg00);
		*(fp - 0x34) = *(ebp_10 - 0x0128);
		*(fp - 0x38) = fp - 0x08;
		fn00405C50(dwArg00);
		*(fp - 0x3C) = 0x00012010;
		*(fp - 0x40) = 4228784;
		*(fp - 0x44) = fp - 0x08;
		fn00405B3E(dwArg00, dwArg04, dwArg08);
		esp_166 = fp - 0x08;
	}
	word32 * esp_32 = esp_166 - 0x04;
	*esp_32 = 0x03;
	Eq_143 edi_35;
	Eq_143 esi_36 = fn00403232(ebp_10, dwArg00, out edi_35);
	int3();
	*(esp_32 - 0x04) = 0x00;
	*(esp_32 - 0x08) = 0x01;
	return fn00407262(ebx_101, esi_36, edi_35);
}

// 004073EE: Register Eq_143 fn004073EE(Register Eq_143 ecx, Register Eq_143 ebx, Register Eq_143 esi, Register Eq_143 edi, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_143 fn004073EE(Eq_143 ecx, Eq_143 ebx, Eq_143 esi, Eq_143 edi, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	Eq_143 ebp_10 = fn00404030(ebx, esi, edi, dwLoc0C, 0x00408E70, 0x38);
	word32 ebx_11 = 0x00;
	if (globals->dw416BBC == 0x00)
	{
		esi.u0 = 0x01;
		if (LCMapStringW(0x00, 0x0100, &globals->t408E6C, 0x01, null, 0x00) != 0x00)
			globals->dw416BBC = 0x01;
		else if (GetLastError() == 0x78)
			globals->dw416BBC = 0x02;
	}
	if (*((word32) ebp_10 + 0x0014) > 0x00)
	{
		ecx = *((word32) ebp_10 + 0x0014);
		Eq_143 eax_601 = *((word32) ebp_10 + 0x0010);
		do
		{
			ecx = ecx - 0x01;
			if (*eax_601 == 0x00)
				goto l00407454;
			eax_601 = (word32) eax_601 + 0x01;
		} while (ecx != 0x00);
		ecx = ecx | ~0x00;
l00407454:
		*((word32) ebp_10 + 0x0014) = (word32) *((word32) ebp_10 + 0x0014) + ((eax_601 | ~0x00) - ecx);
	}
	word32 eax_40 = globals->dw416BBC;
	if (eax_40 != 0x02 && eax_40 != 0x00)
	{
		if (eax_40 == 0x01)
		{
			*(ebp_10 - 44) = 0x00;
			*(ebp_10 - 0x38) = 0x00;
			*(ebp_10 - 0x34) = 0x00;
			if (*((word32) ebp_10 + 0x0020) == 0x00)
				*((word32) ebp_10 + 0x0020) = globals->t416BB4;
			Eq_143 eax_372 = MultiByteToWideChar(*((word32) ebp_10 + 0x0020), (word32) (*((word32) ebp_10 + 0x0024) != 0x00) * 0x08 + 0x01, *((word32) ebp_10 + 0x0010), *((word32) ebp_10 + 0x0014), null, 0x00);
			*(ebp_10 - 0x30) = (union Eq_143 *) eax_372;
			if (eax_372 != 0x00)
			{
				*(ebp_10 - 0x04) = 0x01;
				fn00404190(eax_372 * 0x02 + 0x03 & ~0x03, 0x00);
				*(ebp_10 - 0x18) = fp - 0x08;
				*(ebp_10 - 0x1C) = fp - 0x08;
				*(ebp_10 - 0x04) = *(ebp_10 - 0x04) | ~0x00;
				if (*(ebp_10 - 0x1C) != 0x00)
				{
l00407520:
					*(fp - 0x0C) = (union Eq_143 *) eax_372;
					*(fp - 0x10) = *(ebp_10 - 0x1C);
					*(fp - 0x14) = (union Eq_143 *) *((word32) ebp_10 + 0x0014);
					*(fp - 0x18) = (union Eq_143 *) *((word32) ebp_10 + 0x0010);
					*(fp - 0x1C) = 0x01;
					*(fp - 0x20) = (union Eq_143 *) *((word32) ebp_10 + 0x0020);
					if (MultiByteToWideChar(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C)) != 0x00)
					{
						*(fp - 0x0C) = 0x00;
						*(fp - 0x10) = 0x00;
						*(fp - 0x14) = (union Eq_143 *) eax_372;
						*(fp - 0x18) = *(ebp_10 - 0x1C);
						*(fp - 0x1C) = (union Eq_143 *) *((word32) ebp_10 + 0x0C);
						*(fp - 0x20) = (union Eq_143 *) *((word32) ebp_10 + 0x08);
						Eq_143 eax_474 = LCMapStringW(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
						*(ebp_10 - 44) = (union Eq_143 *) eax_474;
						if (eax_474 == 0x00)
							goto l00407623;
						if ((*((word32) ebp_10 + 0x0D) & 0x04) != 0x00)
						{
							if (*((word32) ebp_10 + 0x001C) != 0x00 && eax_474 <= *((word32) ebp_10 + 0x001C))
							{
								*(fp - 0x0C) = (union Eq_143 *) *((word32) ebp_10 + 0x001C);
								*(fp - 0x10) = (union Eq_143 *) *((word32) ebp_10 + 0x0018);
								*(fp - 0x14) = (union Eq_143 *) eax_372;
								*(fp - 0x18) = *(ebp_10 - 0x1C);
								*(fp - 0x1C) = (union Eq_143 *) *((word32) ebp_10 + 0x0C);
								*(fp - 0x20) = (union Eq_143 *) *((word32) ebp_10 + 0x08);
								LCMapStringW(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
							}
							goto l00407623;
						}
						*(ebp_10 - 0x04) = 0x02;
						fn00404190(eax_474 * 0x02 + 0x03 & ~0x03, 0x38);
						*(ebp_10 - 0x18) = fp - 0x08;
						*(ebp_10 - 0x20) = fp - 0x08;
						*(ebp_10 - 0x04) = *(ebp_10 - 0x04) | ~0x00;
						if (*(ebp_10 - 0x20) != 0x00)
						{
l004075EA:
							*(fp - 0x0C) = (union Eq_143 *) eax_474;
							*(fp - 0x10) = *(ebp_10 - 0x20);
							*(fp - 0x14) = (union Eq_143 *) eax_372;
							*(fp - 0x18) = *(ebp_10 - 0x1C);
							*(fp - 0x1C) = (union Eq_143 *) *((word32) ebp_10 + 0x0C);
							*(fp - 0x20) = (union Eq_143 *) *((word32) ebp_10 + 0x08);
							if (LCMapStringW(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C)) != 0x00)
							{
								*(fp - 0x0C) = 0x00;
								*(fp - 0x10) = 0x00;
								if (*((word32) ebp_10 + 0x001C) == 0x00)
								{
									*(fp - 0x14) = 0x00;
									*(fp - 0x18) = 0x00;
								}
								else
								{
									*(fp - 0x14) = (union Eq_143 *) *((word32) ebp_10 + 0x001C);
									*(fp - 0x18) = (union Eq_143 *) *((word32) ebp_10 + 0x0018);
								}
								*(fp - 0x1C) = (union Eq_143 *) eax_474;
								*(fp - 0x20) = *(ebp_10 - 0x20);
								*(fp - 0x24) = 0x00;
								*(fp - 0x28) = (union Eq_143 *) *((word32) ebp_10 + 0x0020);
								WideCharToMultiByte(*(fp - 0x28), *(fp - 0x24), *(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
							}
							goto l00407623;
						}
						*(fp - 0x0C) = eax_474 * 0x02;
						word32 edx_579;
						Eq_143 eax_580 = fn004046A2(dwArg00, out edx_579);
						*(ebp_10 - 0x20) = (union Eq_143 *) eax_580;
						if (eax_580 != 0x00)
						{
							*(ebp_10 - 0x34) = 0x01;
							goto l004075EA;
						}
					}
l00407623:
					if (*(ebp_10 - 0x34) != 0x00)
					{
						*(fp - 0x0C) = *(ebp_10 - 0x20);
						word32 edi_455;
						fn004032D3(ebp_10, dwArg00, out ebx_11, out ebp_10, out edi_455);
					}
					if (*(ebp_10 - 0x38) != ebx_11)
					{
						*(fp - 0x0C) = *(ebp_10 - 0x1C);
						word32 ebx_444;
						word32 edi_446;
						fn004032D3(ebp_10, dwArg00, out ebx_444, out ebp_10, out edi_446);
					}
					goto l004077A1;
				}
				*(fp - 0x0C) = eax_372 * 0x02;
				word32 edx_590;
				Eq_143 eax_591 = fn004046A2(dwArg00, out edx_590);
				*(ebp_10 - 0x1C) = (union Eq_143 *) eax_591;
				if (eax_591 != 0x00)
				{
					*(ebp_10 - 0x38) = 0x01;
					goto l00407520;
				}
			}
		}
		goto l00407679;
	}
	*(ebp_10 - 0x28) = 0x00;
	*(ebp_10 - 0x3C) = 0x00;
	if (*((word32) ebp_10 + 0x08) == 0x00)
		*((word32) ebp_10 + 0x08) = globals->t416BA4;
	if (*((word32) ebp_10 + 0x0020) == 0x00)
		*((word32) ebp_10 + 0x0020) = globals->t416BB4;
	Eq_143 esi_102;
	Eq_143 edi_103;
	Eq_143 ebx_101;
	Eq_143 eax_104 = fn00407A52(ecx, 0x00, esi, 0x00, *((word32) ebp_10 + 0x08), out ebx_101, out esi_102, out edi_103);
	*(ebp_10 - 0x40) = (union Eq_143 *) eax_104;
	if (eax_104 == ~0x00)
	{
l00407679:
		goto l004077A1;
	}
	if (eax_104 == *((word32) ebp_10 + 0x0020))
	{
		*(fp - 0x0C) = (union Eq_143 *) *((word32) ebp_10 + 0x001C);
		*(fp - 0x10) = (union Eq_143 *) *((word32) ebp_10 + 0x0018);
		*(fp - 0x14) = (union Eq_143 *) *((word32) ebp_10 + 0x0014);
		*(fp - 0x18) = (union Eq_143 *) *((word32) ebp_10 + 0x0010);
		*(fp - 0x1C) = (union Eq_143 *) *((word32) ebp_10 + 0x0C);
		*(fp - 0x20) = (union Eq_143 *) *((word32) ebp_10 + 0x08);
		LCMapStringA(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
		goto l00407791;
	}
	*(fp - 0x0C) = (union Eq_143 *) ebx_101;
	*(fp - 0x10) = (union Eq_143 *) ebx_101;
	*(fp - 0x14) = (word32) ebp_10 + 0x0014;
	*(fp - 0x18) = (union Eq_143 *) *((word32) ebp_10 + 0x0010);
	*(fp - 0x1C) = (union Eq_143 *) eax_104;
	*(fp - 0x20) = (union Eq_143 *) *((word32) ebp_10 + 0x0020);
	Eq_143 edi_159;
	Eq_143 eax_160 = fn00407A95(ebx_101, esi_102, edi_103, out ebx_101, out ebp_10, out edi_159);
	*(ebp_10 - 0x28) = (union Eq_143 *) eax_160;
	if (eax_160 == ebx_101)
		goto l00407679;
	*(fp - 0x0C) = (union Eq_143 *) ebx_101;
	*(fp - 0x10) = (union Eq_143 *) ebx_101;
	*(fp - 0x14) = (union Eq_143 *) *((word32) ebp_10 + 0x0014);
	*(fp - 0x18) = (union Eq_143 *) eax_160;
	*(fp - 0x1C) = (union Eq_143 *) *((word32) ebp_10 + 0x0C);
	*(fp - 0x20) = (union Eq_143 *) *((word32) ebp_10 + 0x08);
	Eq_143 eax_181 = LCMapStringA(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
	*(ebp_10 - 0x24) = (union Eq_143 *) eax_181;
	if (eax_181 != ebx_101)
	{
		*(ebp_10 - 0x04) = (union Eq_143 *) ebx_101;
		fn00404190((word32) eax_181 + 0x03 & ~0x03, 0x38);
		*(ebp_10 - 0x18) = fp - 0x08;
		*(ebp_10 - 0x44) = fp - 0x08;
		*(fp - 0x0C) = (union Eq_143 *) eax_181;
		*(fp - 0x10) = (union Eq_143 *) ebx_101;
		*(fp - 0x14) = fp - 0x08;
		fn00407970(dwArg00, bArg04, dwArg08);
		edi_159 = fp - 0x08;
		*(ebp_10 - 0x04) = *(ebp_10 - 0x04) | ~0x00;
		if (fp - 0x08 == ebx_101)
		{
			*(fp - 0x0C) = *(ebp_10 - 0x24);
			word32 edx_298;
			Eq_143 eax_299 = fn004046A2(dwArg00, out edx_298);
			edi_159 = eax_299;
			if (eax_299 == ebx_101)
			{
l0040773F:
				goto l00407769;
			}
			*(fp - 0x0C) = *(ebp_10 - 0x24);
			*(fp - 0x10) = (union Eq_143 *) ebx_101;
			*(fp - 0x14) = (union Eq_143 *) eax_299;
			fn00407970(dwArg00, bArg04, dwArg08);
			*(ebp_10 - 0x3C) = 0x01;
		}
		*(fp - 0x0C) = *(ebp_10 - 0x24);
		*(fp - 0x10) = (union Eq_143 *) edi_159;
		*(fp - 0x14) = (union Eq_143 *) *((word32) ebp_10 + 0x0014);
		*(fp - 0x18) = *(ebp_10 - 0x28);
		*(fp - 0x1C) = (union Eq_143 *) *((word32) ebp_10 + 0x0C);
		*(fp - 0x20) = (union Eq_143 *) *((word32) ebp_10 + 0x08);
		Eq_143 eax_261 = LCMapStringA(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
		*(ebp_10 - 0x24) = (union Eq_143 *) eax_261;
		if (eax_261 == ebx_101)
			goto l0040773F;
		*(fp - 0x0C) = (union Eq_143 *) *((word32) ebp_10 + 0x001C);
		*(fp - 0x10) = (union Eq_143 *) *((word32) ebp_10 + 0x0018);
		*(fp - 0x14) = ebp_10 - 0x24;
		*(fp - 0x18) = (union Eq_143 *) edi_159;
		*(fp - 0x1C) = (union Eq_143 *) *((word32) ebp_10 + 0x0020);
		*(fp - 0x20) = *(ebp_10 - 0x40);
		fn00407A95(ebx_101, eax_181, edi_159, out ebx_101, out ebp_10, out edi_159);
	}
l00407769:
	if (*(ebp_10 - 0x3C) != ebx_101)
	{
		*(fp - 0x0C) = (union Eq_143 *) edi_159;
		word32 edi_204;
		fn004032D3(ebp_10, dwArg00, out ebx_101, out ebp_10, out edi_204);
	}
l00407791:
	if (*(ebp_10 - 0x28) != ebx_101)
	{
		*(fp - 0x0C) = *(ebp_10 - 0x28);
		word32 ebx_136;
		word32 edi_138;
		fn004032D3(ebp_10, dwArg00, out ebx_136, out ebp_10, out edi_138);
	}
l004077A1:
	word32 ebx_62;
	word32 ebp_63;
	word32 esi_64;
	word32 edi_65;
	return fn0040406B(ebp_10, 0x38, dwArg00, dwArg04, dwArg08, out ebx_62, out ebp_63, out esi_64, out edi_65);
}

// 004077AA: Register Eq_143 fn004077AA(Register Eq_143 ecx, Register Eq_143 ebx, Register Eq_143 esi, Register Eq_143 edi, Register out ptr32 ecxOut, Register out ptr32 ebxOut, Register out (ptr32 Eq_8132) ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_143 fn004077AA(Eq_143 ecx, Eq_143 ebx, Eq_143 esi, Eq_143 edi, ptr32 & ecxOut, ptr32 & ebxOut, Eq_8132 * & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	Eq_143 ebp_10 = fn00404030(ebx, esi, edi, dwLoc0C, 0x00408E98, 0x1C);
	if (globals->dw416BC0 == 0x00)
	{
		if (GetStringTypeW(0x01, &globals->t408E6C, 0x01, ebp_10 - 0x1C) != 0x00)
			globals->dw416BC0 = 0x01;
		else if (GetLastError() == 0x78)
			globals->dw416BC0 = 0x02;
	}
	Eq_143 eax_132;
	word32 eax_28 = globals->dw416BC0;
	if (eax_28 != 0x02 && eax_28 != 0x00)
	{
		if (eax_28 == 0x01)
		{
			*(ebp_10 - 0x24) = 0x00;
			*(ebp_10 - 0x20) = 0x00;
			if (*((word32) ebp_10 + 0x0018) == 0x00)
				*((word32) ebp_10 + 0x0018) = globals->t416BB4;
			Eq_143 eax_197 = MultiByteToWideChar(*((word32) ebp_10 + 0x0018), (word32) (*((word32) ebp_10 + 0x0020) != 0x00) * 0x08 + 0x01, *((word32) ebp_10 + 0x0C), *((word32) ebp_10 + 0x0010), null, 0x00);
			*(ebp_10 - 0x28) = (union Eq_143 *) eax_197;
			if (eax_197 != 0x00)
			{
				*(ebp_10 - 0x04) = *(ebp_10 - 0x04) & 0x00;
				fn00404190(eax_197 * 0x02 + 0x03 & ~0x03, 0x00);
				*(ebp_10 - 0x18) = fp - 0x08;
				*(ebp_10 - 44) = fp - 0x08;
				*(fp - 0x0C) = eax_197 * 0x02;
				*(fp - 0x10) = 0x00;
				*(fp - 0x14) = fp - 0x08;
				fn00407970(dwArg00, bArg04, dwArg08);
				*(ebp_10 - 0x04) = *(ebp_10 - 0x04) | ~0x00;
				Eq_143 esi_214 = fp - 0x08;
				if (fp != 0x08)
				{
l004078B3:
					*(fp - 0x0C) = (union Eq_143 *) eax_197;
					*(fp - 0x10) = (union Eq_143 *) esi_214;
					*(fp - 0x14) = (union Eq_143 *) *((word32) ebp_10 + 0x0010);
					*(fp - 0x18) = (union Eq_143 *) *((word32) ebp_10 + 0x0C);
					*(fp - 0x1C) = 0x01;
					*(fp - 0x20) = (union Eq_143 *) *((word32) ebp_10 + 0x0018);
					Eq_143 eax_249 = MultiByteToWideChar(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
					if (eax_249 != 0x00)
					{
						*(fp - 0x0C) = (union Eq_143 *) *((word32) ebp_10 + 0x0014);
						*(fp - 0x10) = (union Eq_143 *) eax_249;
						*(fp - 0x14) = (union Eq_143 *) esi_214;
						*(fp - 0x18) = (union Eq_143 *) *((word32) ebp_10 + 0x08);
						*(ebp_10 - 0x24) = (union Eq_143 *) GetStringTypeW(*(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
					}
					if (*(ebp_10 - 0x20) != 0x00)
					{
						*(fp - 0x0C) = (union Eq_143 *) esi_214;
						word32 ebx_268;
						word32 edi_270;
						fn004032D3(ebp_10, dwArg00, out ebx_268, out ebp_10, out edi_270);
					}
					eax_132 = *(ebp_10 - 0x24);
					goto l0040795B;
				}
				*(fp - 0x0C) = (union Eq_143 *) eax_197;
				*(fp - 0x10) = 0x02;
				Eq_143 eax_291 = fn0040679F(dwArg00, dwArg04);
				esi_214 = eax_291;
				if (eax_291 != 0x00)
				{
					*(ebp_10 - 0x20) = 0x01;
					goto l004078B3;
				}
			}
		}
		goto l00407913;
	}
	Eq_143 ebx_167 = *((word32) ebp_10 + 0x001C);
	if (ebx_167 == 0x00)
		ebx_167 = globals->t416BA4;
	Eq_143 edi_166 = *((word32) ebp_10 + 0x0018);
	if (edi_166 == 0x00)
		edi_166 = globals->t416BB4;
	Eq_143 edi_91;
	Eq_143 ebx_103;
	Eq_143 esi_105;
	Eq_143 eax_92 = fn00407A52(ecx, ebx_167, 0x00, edi_166, ebx_167, out ebx_103, out esi_105, out edi_91);
	if (eax_92 != ~0x00)
	{
		if (eax_92 != edi_91)
		{
			*(fp - 0x0C) = 0x00;
			*(fp - 0x10) = 0x00;
			*(fp - 0x14) = (word32) ebp_10 + 0x0010;
			*(fp - 0x18) = (union Eq_143 *) *((word32) ebp_10 + 0x0C);
			*(fp - 0x1C) = (union Eq_143 *) eax_92;
			*(fp - 0x20) = (union Eq_143 *) edi_91;
			word32 edi_158;
			Eq_143 eax_159 = fn00407A95(ebx_103, esi_105, edi_91, out ebx_103, out ebp_10, out edi_158);
			esi_105 = eax_159;
			if (eax_159 == 0x00)
				goto l00407913;
			*((word32) ebp_10 + 0x0C) = eax_159;
		}
		*(fp - 0x0C) = (union Eq_143 *) *((word32) ebp_10 + 0x0014);
		*(fp - 0x10) = (union Eq_143 *) *((word32) ebp_10 + 0x0010);
		*(fp - 0x14) = (union Eq_143 *) *((word32) ebp_10 + 0x0C);
		*(fp - 0x18) = (union Eq_143 *) *((word32) ebp_10 + 0x08);
		*(fp - 0x1C) = (union Eq_143 *) ebx_103;
		Eq_143 edi_123 = GetStringTypeA(*(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
		if (esi_105 != 0x00)
		{
			*(fp - 0x0C) = (union Eq_143 *) esi_105;
			word32 ebx_136;
			fn004032D3(ebp_10, dwArg00, out ebx_136, out ebp_10, out edi_123);
		}
		eax_132 = edi_123;
l0040795B:
		word32 ebx_49;
		word32 ebp_50;
		word32 esi_51;
		word32 edi_52;
		word32 ecx_53;
		*ecxOut = fn0040406B(ebp_10, 0x1C, dwArg00, dwArg04, dwArg08, out ebx_49, out ebp_50, out esi_51, out edi_52);
		return eax_132;
	}
	else
	{
l00407913:
		eax_132.u0 = 0x00;
		goto l0040795B;
	}
}

// 00407970: void fn00407970(Stack Eq_143 dwArg04, Stack byte bArg08, Stack Eq_143 dwArg0C)
void fn00407970(Eq_143 dwArg04, byte bArg08, Eq_143 dwArg0C)
{
	Eq_143 edx_3 = dwArg0C;
	if (dwArg0C == 0x00)
		return;
	byte al_22 = bArg08;
	ui32 eax_23 = (word32) bArg08;
	Eq_143 edi_27 = dwArg04;
	if (dwArg0C >= 0x04)
	{
		ui32 ecx_52 = -dwArg04;
		ui32 ecx_53 = ecx_52 & 0x03;
		if ((ecx_52 & 0x03) != 0x00)
		{
			edx_3 = dwArg0C - (ecx_52 & 0x03);
			do
			{
				edi_27->u0 = bArg08;
				edi_27 = (word32) edi_27 + 0x01;
				ecx_53 = ecx_53 - 0x01;
			} while (ecx_53 != 0x00);
		}
		Eq_12430 eax_64 = eax_23 * 0x01010000 + eax_23 * 0x0101;
		al_22 = (byte) eax_64;
		edx_3 = edx_3 & 0x03;
		uint32 ecx_68 = edx_3 >> 0x02;
		if (ecx_68 != 0x00)
		{
			while (ecx_68 != 0x00)
			{
				*edi_27 = eax_64;
				edi_27 = (word32) edi_27 + 0x04;
				ecx_68 = ecx_68 - 0x01;
			}
			if (edx_3 == 0x00)
				return;
		}
	}
	do
	{
		edi_27->u0 = al_22;
		edi_27 = (word32) edi_27 + 0x01;
		edx_3 = edx_3 - 0x01;
	} while (edx_3 != 0x00);
}

// 004079D0: Register ui32 fn004079D0(Stack Eq_143 dwArg04, Stack Eq_143 dwArg08, Register out ptr32 edxOut)
ui32 fn004079D0(Eq_143 dwArg04, Eq_143 dwArg08, ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_143 eax_29 = dwArg04;
	if (dwArg04 < globals->t417E4C)
	{
		int32 eax_47 = (dwArg04 & 0x1F) << 0x03;
		struct Eq_12490 ** ecx_49 = (dwArg04 >> 0x05) * 0x04 + 4292192;
		eax_29 = (int32) ((char *) *ecx_49 + 0x04)[eax_47];
		int32 edx_50 = eax_47;
		*edxOut = edx_50;
		if (((byte) eax_29 & 0x01) != 0x00)
		{
			eax_29 = eax_29 & 0x80;
			if (dwArg08 != 0x8000)
			{
				if (dwArg08 != 0x4000)
				{
					globals->t4169B8.u0 = 22;
					return eax_29 | ~0x00;
				}
				else
				{
					byte * ecx_84 = (char *) *ecx_49 + 0x04 + eax_47;
					*ecx_84 = *ecx_84 | 0x80;
					return (0x00 - (-(eax_29 & 0x80) == 0x00) & ~0x3FFF) + 0x8000;
				}
			}
			else
			{
				byte * ecx_76 = (char *) *ecx_49 + 0x04 + eax_47;
				*ecx_76 = *ecx_76 & 0x7F;
				return (0x00 - (-(eax_29 & 0x80) == 0x00) & ~0x3FFF) + 0x8000;
			}
		}
	}
	globals->t4169B8.u0 = 0x09;
	return eax_29 | ~0x00;
}

// 00407A52: Register ui32 fn00407A52(Register Eq_143 ecx, Register Eq_143 ebx, Register Eq_143 esi, Register Eq_143 edi, Stack Eq_143 dwArg04, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
ui32 fn00407A52(Eq_143 ecx, Eq_143 ebx, Eq_143 esi, Eq_143 edi, Eq_143 dwArg04, ptr32 & ebxOut, ptr32 & esiOut, ptr32 & ediOut)
{
	*esiOut = esi;
	*ebxOut = ebx;
	*ediOut = edi;
	ui32 eax_30;
	ptr32 ebp_33 = fp - 0x04;
	int32 eax_22 = GetLocaleInfoA(dwArg04, 0x1004, fp - 0x10, 0x06);
	if (eax_22 == 0x00)
		eax_30 = eax_22 | ~0x00;
	else
		eax_30 = fn00407D41(ecx, ebx, esi, edi, fp - 0x10, out ebx, out ebp_33, out edi);
	fn00405F2C(*(ebp_33 - 0x04), ebx, esi, edi);
	return eax_30;
}

// 00407A95: Register word32 fn00407A95(Register Eq_143 ebx, Register Eq_143 esi, Register Eq_143 edi, Register out ptr32 ebxOut, Register out (ptr32 Eq_11255) ebpOut, Register out ptr32 ediOut)
word32 fn00407A95(Eq_143 ebx, Eq_143 esi, Eq_143 edi, ptr32 & ebxOut, Eq_11255 * & ebpOut, ptr32 & ediOut)
{
	word32 eax_126;
	Eq_143 ebp_10 = fn00404030(ebx, esi, edi, dwLoc0C, 0x00408EA8, 0x38);
	*(ebp_10 - 0x1C) = (union Eq_143 *) globals->t410FD0;
	*(ebp_10 - 0x34) = 0x00;
	*(ebp_10 - 0x44) = 0x00;
	Eq_143 ebx_123 = **((word32) ebp_10 + 0x0014);
	*(ebp_10 - 0x40) = (union Eq_143 *) ebx_123;
	*(ebp_10 - 0x3C) = 0x00;
	Eq_143 edi_14 = 0x00;
	Eq_143 eax_21 = *((word32) ebp_10 + 0x08);
	if (eax_21 == *((word32) ebp_10 + 0x0C))
	{
		ebx_123 = *(ebp_10 - 0x48);
		goto l00407C3E;
	}
	if (GetCPInfo(eax_21, ebp_10 - 0x30) != 0x00 && (*(ebp_10 - 0x30) == 0x01 && (GetCPInfo(*((word32) ebp_10 + 0x0C), ebp_10 - 0x30) != 0x00 && *(ebp_10 - 0x30) == 0x01)))
		*(ebp_10 - 0x3C) = 0x01;
	Eq_143 dwLoc0C_102 = ebp_10 - 0x30;
	if (*(ebp_10 - 0x3C) != 0x00)
	{
		if (ebx_123 != ~0x00)
			esi = ebx_123;
		else
		{
			Eq_143 v23_331 = *((word32) ebp_10 + 0x0010);
			dwLoc0C_102 = v23_331;
			esi = (word32) fn00405E70(v23_331) + 0x01;
		}
		*(ebp_10 - 0x38) = (union Eq_143 *) esi;
	}
	else
		esi = *(ebp_10 - 0x38);
	if (*(ebp_10 - 0x3C) == 0x00)
	{
		Eq_143 eax_315 = MultiByteToWideChar(*((word32) ebp_10 + 0x08), 0x01, *((word32) ebp_10 + 0x0010), ebx_123, null, 0x00);
		*(ebp_10 - 0x38) = (union Eq_143 *) eax_315;
		dwLoc0C_102.u0 = 0x00;
		esi = eax_315;
		if (eax_315 == 0x00)
			goto l00407B92;
	}
	*(ebp_10 - 0x04) = 0x00;
	fn00404190(esi * 0x02 + 0x03 & ~0x03, dwLoc0C_102);
	*(ebp_10 - 0x18) = fp - 0x08;
	*(ebp_10 - 0x48) = fp - 0x08;
	*(fp - 0x0C) = esi * 0x02;
	*(fp - 0x10) = 0x00;
	*(fp - 0x14) = fp - 0x08;
	fn00407970(dwArg00, bArg04, dwArg08);
	*(ebp_10 - 0x04) = *(ebp_10 - 0x04) | ~0x00;
	ebx_123 = fp - 0x08;
	if (fp == 0x08)
	{
		*(fp - 0x0C) = (union Eq_143 *) esi;
		*(fp - 0x10) = 0x02;
		Eq_143 eax_292 = fn0040679F(dwArg00, dwArg04);
		ebx_123 = eax_292;
		if (eax_292 == 0x00)
		{
l00407B92:
			eax_126 = 0x00;
			goto l00407C4D;
		}
		*(ebp_10 - 0x44) = 0x01;
	}
	*(fp - 0x0C) = (union Eq_143 *) esi;
	*(fp - 0x10) = (union Eq_143 *) ebx_123;
	*(fp - 0x14) = *(ebp_10 - 0x40);
	*(fp - 0x18) = (union Eq_143 *) *((word32) ebp_10 + 0x0010);
	*(fp - 0x1C) = 0x01;
	*(fp - 0x20) = (union Eq_143 *) *((word32) ebp_10 + 0x08);
	if (MultiByteToWideChar(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C)) != 0x00)
	{
		if (*((word32) ebp_10 + 0x0018) != 0x00)
		{
			*(fp - 0x0C) = 0x00;
			*(fp - 0x10) = 0x00;
			*(fp - 0x14) = (union Eq_143 *) *((word32) ebp_10 + 0x001C);
			*(fp - 0x18) = (union Eq_143 *) *((word32) ebp_10 + 0x0018);
			*(fp - 0x1C) = (union Eq_143 *) esi;
			*(fp - 0x20) = (union Eq_143 *) ebx_123;
			*(fp - 0x24) = 0x00;
			*(fp - 0x28) = (union Eq_143 *) *((word32) ebp_10 + 0x0C);
			if (WideCharToMultiByte(*(fp - 0x28), *(fp - 0x24), *(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C)) != 0x00)
				*(ebp_10 - 0x34) = (union Eq_143 *) *((word32) ebp_10 + 0x0018);
			goto l00407C3E;
		}
		if (*(ebp_10 - 0x3C) != 0x00)
		{
l00407BFB:
			*(fp - 0x0C) = (union Eq_143 *) esi;
			*(fp - 0x10) = 0x01;
			Eq_143 eax_223 = fn0040679F(dwArg00, dwArg04);
			*(ebp_10 - 0x34) = (union Eq_143 *) eax_223;
			if (eax_223 != 0x00)
			{
				*(fp - 0x0C) = 0x00;
				*(fp - 0x10) = 0x00;
				*(fp - 0x14) = (union Eq_143 *) esi;
				*(fp - 0x18) = (union Eq_143 *) eax_223;
				*(fp - 0x1C) = (union Eq_143 *) esi;
				*(fp - 0x20) = (union Eq_143 *) ebx_123;
				*(fp - 0x24) = 0x00;
				*(fp - 0x28) = (union Eq_143 *) *((word32) ebp_10 + 0x0C);
				Eq_143 eax_248 = WideCharToMultiByte(*(fp - 0x28), *(fp - 0x24), *(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
				if (eax_248 == 0x00)
				{
					*(fp - 0x0C) = *(ebp_10 - 0x34);
					fn004032D3(ebp_10, dwArg00, out ebx_123, out ebp_10, out edi_14);
					*(ebp_10 - 0x34) = (union Eq_143 *) edi_14;
				}
				else if (*(ebp_10 - 0x40) != ~0x00)
					**((word32) ebp_10 + 0x0014) = eax_248;
			}
			goto l00407C3E;
		}
		*(fp - 0x0C) = 0x00;
		*(fp - 0x10) = 0x00;
		*(fp - 0x14) = 0x00;
		*(fp - 0x18) = 0x00;
		*(fp - 0x1C) = (union Eq_143 *) esi;
		*(fp - 0x20) = (union Eq_143 *) ebx_123;
		*(fp - 0x24) = 0x00;
		*(fp - 0x28) = (union Eq_143 *) *((word32) ebp_10 + 0x0C);
		Eq_143 eax_283 = WideCharToMultiByte(*(fp - 0x28), *(fp - 0x24), *(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
		esi = eax_283;
		if (eax_283 != 0x00)
			goto l00407BFB;
	}
l00407C3E:
	if (*(ebp_10 - 0x44) != edi_14)
	{
		*(fp - 0x0C) = (union Eq_143 *) ebx_123;
		fn004032D3(ebp_10, dwArg00, out ebx_123, out ebp_10, out edi_14);
	}
	eax_126 = *(ebp_10 - 0x34);
l00407C4D:
	fn00405F2C(*(ebp_10 - 0x1C), ebx_123, esi, edi_14);
	word32 ebx_44;
	word32 ebp_45;
	word32 esi_46;
	word32 edi_47;
	fn0040406B(ebp_10, 0x38, dwArg00, dwArg04, dwArg08, out ebx_44, out ebp_45, out esi_46, out edi_47);
	return eax_126;
}

// 00407D41: Register int32 fn00407D41(Register Eq_143 ecx, Register Eq_143 ebx, Register Eq_143 esi, Register Eq_143 edi, Stack Eq_143 dwArg04, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 ediOut)
int32 fn00407D41(Eq_143 ecx, Eq_143 ebx, Eq_143 esi, Eq_143 edi, Eq_143 dwArg04, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & ediOut)
{
	*ediOut = edi;
	*ebpOut = ebp;
	Eq_143 esi_12 = dwArg04;
	while (true)
	{
		*(fp - 0x08) = (word32) *esi_12;
		struct Eq_13318 * esi_22;
		word32 eax_23 = fn00407E17(ecx, ebx, esi_12, edi, dwArg00, bArg02, bArg03, out ebx, out esi_22);
		ecx = *(fp - 0x08);
		if (eax_23 == 0x00)
			break;
		esi_12 = &esi_22->b0001;
	}
	int32 ecx_36;
	int32 ecx_29 = (word32) esi_22->b0000;
	byte * esi_30 = &esi_22->b0001;
	if (ecx_29 != 0x2D)
	{
		ecx_36 = ecx_29;
		if (ecx_29 != 0x2B)
		{
l00407D6B:
			int32 eax_38 = 0x00;
			while (true)
			{
				int32 ecx_50;
				if (ecx_36 >= 0x30 && ecx_36 <= 0x39)
					ecx_50 = ecx_36 - 0x30;
				else
					ecx_50 = ecx_36 | ~0x00;
				if (ecx_50 == ~0x00)
					break;
				eax_38 = ecx_50 + eax_38 * 0x0A;
				ecx_36 = (word32) *esi_30;
				esi_30 = esi_30 + 0x01;
			}
			if (ecx_29 == 0x2D)
				eax_38 = -eax_38;
			return eax_38;
		}
	}
	ecx_36 = (word32) esi_22->b0001;
	esi_30 = (byte *) (&esi_22->b0001 + 0x01);
	goto l00407D6B;
}

// 00407E17: Register ui32 fn00407E17(Register Eq_143 ecx, Register Eq_143 ebx, Register Eq_143 esi, Register Eq_143 edi, Stack Eq_143 dwArg04, Stack byte bArg06, Stack byte bArg07, Register out ptr32 ebxOut, Register out ptr32 esiOut)
ui32 fn00407E17(Eq_143 ecx, Eq_143 ebx, Eq_143 esi, Eq_143 edi, Eq_143 dwArg04, byte bArg06, byte bArg07, ptr32 & ebxOut, ptr32 & esiOut)
{
	*ebxOut = ebx;
	*esiOut = esi;
	if (dwArg04 <= 0xFF)
	{
		if (globals->dw4110F0 <= 0x01)
			return (word32) globals->ptr4110E0[dwArg04].t0000 & 0x08;
		word32 ebx_139;
		return fn00407EF7(ebx, esi, edi, dwArg04, out ebx_139);
	}
	else
	{
		if (globals->dw416BC8 == 0x00)
			return 0x00;
		word32 ecx_109;
		word32 ebx_110;
		ptr32 ebp_111;
		word32 esi_112;
		word32 edi_113;
		if (fn004077AA(dwArg04, ebx, esi, edi, out ecx_109, out ebx_110, out ebp_111, out esi_112, out edi_113) == 0x00 || (*(ebp_111 - 0x02) != 0x00 || (*(ebp_111 - 0x04) & 0x08) == 0x00))
			return 0x00;
		return 0x01;
	}
}

// 00407EF7: Register ui32 fn00407EF7(Register Eq_143 ebx, Register Eq_143 esi, Register Eq_143 edi, Stack Eq_143 dwArg04, Register out ptr32 ebxOut)
ui32 fn00407EF7(Eq_143 ebx, Eq_143 esi, Eq_143 edi, Eq_143 dwArg04, ptr32 & ebxOut)
{
	*ebxOut = ebx;
	ui32 eax_133;
	struct Eq_13454 * ebp_121 = fp - 0x04;
	if (dwArg04 > ~0xFE)
	{
		(globals->ptr4110E0[(word32) (byte) (dwArg04 >> 0x08)].b0001 & 0x80) == 0x00;
		word32 ecx_119;
		word32 ebx_120;
		word32 esi_122;
		word32 edi_123;
		ui32 eax_124 = fn004077AA(fp + 0x06, ebx, esi, edi, out ecx_119, out ebx_120, out ebp_121, out esi_122, out edi_123);
		if (eax_124 == 0x00)
			return eax_124;
		eax_133 = (word32) ebp_121->w000A;
		return eax_133 & ebp_121->dw000C;
	}
	else
	{
		eax_133 = (word32) globals->ptr4110E0[dwArg04].t0000;
		return eax_133 & ebp_121->dw000C;
	}
}

