// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00406250: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
}

// 00407AB1: FlagGroup byte fn00407AB1(Register word16 ax, Register word16 cx, Register word16 dx, Register word16 bx, Register word32 ebp, Register word32 esi, Register word16 di, Register out ptr32 alOut, Register out ptr32 ecxOut, Register out ptr32 ediOut)
byte fn00407AB1(word16 ax, word16 cx, word16 dx, word16 bx, word32 ebp, word32 esi, word16 di, ptr32 & alOut, ptr32 & ecxOut, ptr32 & ediOut)
{
	word16 di_11 = di << cl;
	word16 bx_17 = bx + 0x01 >> cl;
	word16 ax_6 = ax & dx | bx;
	word32 edi_13 = DPB(edi, di_11, 0);
	word32 esi_16 = __ror(esi, cl);
	byte bh_18 = SLICE(bx_17, byte, 8);
	byte bl_19 = (byte) bx_17;
	word32 ecx_24 = DPB(ecx, cx - di_11, 0);
	byte al_32;
	word32 ecx_33;
	word32 edi_34;
	return fn00407EBB(ax_6, ecx_24, dl | 0x60, dh, bh_18, bl_19, ebp, esi_16, edi_13, out al_32, out ecx_33, out edi_34);
}

// 00407AD2: FlagGroup byte fn00407AD2(Register byte dh, Register byte dl, Register word32 ebp, Register word32 esi, Register word32 edi, FpuStack real64 rArg0, Register out ptr32 alOut, Register out ptr32 ecxOut, Register out ptr32 ediOut, FpuStack out ptr32 rArg0Out)
byte fn00407AD2(byte dh, byte dl, word32 ebp, word32 esi, word32 edi, real64 rArg0, ptr32 & alOut, ptr32 & ecxOut, ptr32 & ediOut, ptr32 & rArg0Out)
{
	esp = fp;
	esp = fp - 0x04;
	dwLoc04 = 0x40;
	eax = 0x00407AD9;
	ah = SLICE(eax, byte, 8);
	al = (byte) eax;
	ax = (word16) eax;
	while (true)
	{
		SCZO = cond(Mem0[eax + 0x00:word32] - 0x00905A4D);
		Z = SCZO;
		SZO = SCZO;
		C = SCZO;
		S = SCZO;
		SCZDO = SCZO;
		if (Test(EQ,Z))
			break;
		eax = eax - 0x01;
		eax = eax & ~0x0FFF;
		ah = SLICE(eax, byte, 8);
		al = (byte) eax;
		ax = (word16) eax;
		SZO = cond(eax);
		Z = SZO;
		S = SZO;
		C = false;
		SCZO = C;
		SCZDO = C;
	}
	ecx = eax;
	eax = eax + Mem0[eax + 0x3C:word32];
	v9 = Mem0[eax + 0x50:word32];
	esp = fp - 0x08;
	dwLoc08 = v9;
	esp = fp - 0x0C;
	dwLoc0C = ecx;
	eax = eax + 0x80;
	eax = Mem0[eax + 0x00:word32];
	eax = eax + ecx;
	SCZO = cond(eax);
	eax = Mem0[eax + 0x10:word32];
	Mem0[ecx + eax:word32]();
	ecx = Mem0[esp + 0x00:word32];
	cl = (byte) ecx;
	ch = SLICE(ecx, byte, 8);
	cx = (word16) ecx;
	esp = esp + 0x04;
	ebx = Mem0[esp + 0x00:word32];
	esp = esp + 0x04;
	dh = dh >> cl;
	cl = cl >>u cl;
	edi = edi >>u 0x07;
	eax = eax << 0x0D;
	ch = ch + dh;
	SCZO = cond(ecx - 0x59459C47);
	if (Test(NE,Z))
	{
		dl = dl + 0x55 + C;
		v20 = (ah & 0x01 << cl) != 0x00;
		ah = __ror(ah, cl);
		C = v20;
		v22 = (ecx & 0x20) != 0x00;
		ecx = __rcr(ecx, 0x05, C);
		C = v22;
		dh = dh + 0x01;
		si = si - bx - C;
		C = false;
		v26 = (al & 0x01 << cl) != 0x00;
		al = __rcr(al, cl, C);
		eax = eax | ~0x5948E118;
		SZO = cond(eax);
		C = false;
		ecx = ecx + edx;
		SCZO = cond(ecx);
		v38 = (ch & 0x01 << 0x08 - cl) != 0x00;
		ch = __rcl(ch, cl, C);
		dl = dl | 0xB0;
		C = false;
		eax = eax - esi - C;
		ebx = ebx - ~0x0595;
		SCZO = cond(ebx);
		v39 = (cx & 0x01 << 0x10 - cl) != 0x00;
		cx = __rcl(cx, cl, C);
		ch = ch << cl;
		SCZO = cond(ch);
		eax = eax - 0xAD68A2AB - C;
		SCZO = cond(eax);
		al = al + 0x7D + C;
		SCZO = cond(al);
		ah = ah - bl - C;
		dl = dl + 0x87;
		v50 = (dl & 0x01 << cl) != 0x00;
		dl = __ror(dl, cl);
		C = v50;
		v51 = (dh & 0x00) != 0x00;
		dh = __rcr(dh, 0x1D, C);
		edx = edx ^ 2599557365;
		edi = edi ^ edx;
		SCZO = cond(eax - ~0x0EFD3301);
		if (Test(NE,Z))
			return SCZDO;
		if (Test(GT,SZO))
		{
			rArg0 = rArg0 + Mem0[ecx + ~0x00792B0D:real64];
			Mem0[~0x6329B646:word32] = eax;
			__bound(eax, Mem0[eax + 0x136697EC:word32]);
		}
		else
		{
			eax = eax + 0x01;
			SCZO = Mem0[esp + 0x00:word32];
			esp = esp + 0x04;
			return SCZDO;
		}
	}
	else
	{
		v15 = eax;
		eax = esp;
		esp = v15;
		SCZO = cond(Mem0[edx + 0xA7AA2A53:byte] - ~0x41);
		v17 = (cx & 0x01 << 0x10 - cl) != 0x00;
		cx = __rol(cx, cl);
		edi = 0x0ACA5ADD;
		ch = ch ^ 0x17;
		ecx = 3442930978;
		ch = ~0x02;
		SZO = cond(~0x02);
		C = false;
		cx = -cx;
		C = cx == 0x00;
		v27 = (cl & 0x00) != 0x00;
		cl = __rcl(cl, 0x11, C);
		edi = 0x0ACA5ADD << cl;
		edi = edx;
		cl = ~cl;
		ch = ch + 0x49;
		SCZO = cond(ch);
		v28 = (ch & 0x00) != 0x00;
		ch = __rcr(ch, 0x0C, C);
		C = v28;
		v29 = (esi & 0x08) != 0x00;
		esi = __rcl(esi, 0x1D, C);
		SCZO = cond(edi - 1763983128);
		if (Test(EQ,Z))
		{
			if (Test(SG,S))
			{
				ah = ah - al - C;
				ecx = ecx + ~0x08;
				SCZO = cond(ecx);
				SCZDO = fn00407EBB(ax, ecx, dl, dh, bh, bl, ebp, esi, edi, out al, out ecx, out edi);
				return SCZDO;
			}
			v44 = (eax & 0x02) != 0x00;
			eax = __rcr(eax, 0x01, C);
			bl = bl & (ecx + 0x52)[ebp * 0x08];
			SZO = cond(bl);
			C = false;
		}
		else
		{
			ecx = ecx | ~0x6F2820CA;
			ch = ch ^ bl;
			C = false;
			v41 = (ecx & 0x10) != 0x00;
			ecx = __rcl(ecx, 0x1C, C);
			ecx = ecx << cl;
			SCZO = cond(ecx);
			v42 = (esi & 0x01 << cl) != 0x00;
			esi = __rcr(esi, cl, C);
			ch = ch ^ cl;
			C = false;
			cl = ch;
			esi = esi + eax + C;
			SCZO = cond(esi);
			ch = ~ch;
			v43 = (cl & 0x01) != 0x00;
			cl = __rcl(cl, 0x08, C);
			C = v43;
			v52 = (esi & 0x08) != 0x00;
			esi = __rol(esi, 0x1D);
			ecx = ecx & 3420110148;
			ch = ch ^ 0x4E;
			cl = cl >>u 0x1B;
			edi = edi - 3273873649;
			si = si + ax;
			ecx = ecx >>u 0x0E;
			cl = cl + ch;
			SCZO = cond(cl);
			cx_cl = cx_cl + di_ch;
			SCZO = cond(ebx - 3929076008);
			if (Test(EQ,Z))
			{
				al = __inb(0xA9);
				eax = eax + 0x01;
				SZO = cond(eax);
			}
			v55 = (ecx & 0x00200000) != 0x00;
			ecx = __rcr(ecx, 0x15, C);
			esi = esi | 3309060055;
			cl = cl & ~0x52;
			si = si >> cl;
			ecx = ecx & edi;
			cl = cl + dl;
			ecx = ecx >> 0x12;
			SCZO = cond(edi - 0x3CDCA70F);
			if (Test(EQ,Z))
			{
				eax = eax + 0x01;
				dh = -dh;
				C = dh == 0x00;
				esi = esi - edx - C;
				ebx = 4223875738;
				esi = esi >> 0x0D;
				dh = dh << cl;
				SCZO = cond(dh);
				SCZDO = fn00407AB1(ax, cx, dx, bx, ebp, esi, di, out al, out ecx, out edi);
				return SCZDO;
			}
			eax = eax | 0x0064E70D;
			ecx = ecx + 3190461771;
			SCZO = cond(ecx);
			edi = edi >> cl;
			cl = cl - 0x01;
			cl = cl << 11;
			v56 = (ch & 0x00) != 0x00;
			ch = __ror(ch, 0x1D);
			di = di + 0x01;
			edi = edi >>u 0x03;
			v57 = (al & 0x01 << cl) != 0x00;
			al = __ror(al, cl);
			SCZO = cond(ebx - 2285218118);
			if (Test(EQ,Z))
			{
				dl = dl | Mem0[edx + 0x00:byte];
				SZO = cond(dl);
				C = false;
			}
			cx = cx - 0x01;
			cx = cx >>u cl;
			v58 = (eax & 0x4000) != 0x00;
			eax = __ror(eax, 0x0E);
			ch = ch ^ al;
			edi = edi - 0x5C22D8D1;
			SCZO = cond(edi);
		}
		D = true;
	}
}

// 00407B68: FlagGroup byte fn00407B68(Register byte al, Register word32 ecx, Register byte dh, Register byte dl, Register byte bl, Register byte bh, Register word32 ebp, Register word32 esi, Register word32 edi, Register out ptr32 alOut, Register out ptr32 ecxOut, Register out ptr32 ediOut)
byte fn00407B68(byte al, word32 ecx, byte dh, byte dl, byte bl, byte bh, word32 ebp, word32 esi, word32 edi, ptr32 & alOut, ptr32 & ecxOut, ptr32 & ediOut)
{
	ptr32 fp;
	byte bh;
	word32 esi;
	byte cl;
	word32 edi;
	byte dh;
	byte ch;
	word32 edx;
	word32 ebx;
	word32 ecx;
	ptr32 alOut;
	ptr32 ecxOut;
	ptr32 ediOut;
	byte al;
	<type-error> Mem0;
	real64 rArg0;
	byte bl;
	word16 cx;
	byte dl;
	word32 ebp;
	word32 dwLoc04;
	esp_1 = fp;
	bh_3 = bh - 44;
	esi_5 = esi & 2327194493;
	bh_7 = bh_3 >>u cl;
	edi_9 = edi - 0x17C23C59;
	di_10 = (word16) edi_9;
	dh_13 = dh + ch;
	edx_15 = DPB(edx, dh_13, 8);
	SCZO_16 = cond(dh_13);
	C_17 = SCZO_16;
	v13_18 = (bh_7 & 0x01 << 0x08 - cl) != 0x00;
	bh_19 = __rcl(bh_7, cl, C_17);
	ebx_21 = DPB(ebx, bh_19, 8);
	SCZO_23 = cond(ecx - 3616104628);
	SZO_24 = SCZO_23;
	Z_25 = SCZO_23;
	C_26 = SCZO_23;
	SCZDO_27 = SCZO_23;
	if (ecx != 3616104628)
	{
		v19_68 = (ebx_21 & 0x00400000) != 0x00;
		ebx_69 = __rcr(ebx_21, 22, C_26);
		bl_70 = (byte) ebx_69;
		di_72 = di_10 | cx;
		edi_73 = DPB(edi_9, di_72, 0);
		SZO_74 = cond(di_72);
		C_75 = false;
		SCZDO_81 = fn00407F26(al, ecx, dl, dh_13, bl_70, ebp, esi_5, edi_73, out al_78, out ecx_79, out edi_80);
		C_82 = SCZDO_81;
		SCZO_83 = SCZDO_81;
		SZO_84 = SCZDO_81;
		Z_85 = SCZDO_81;
		return SCZDO_81;
	}
	else
	{
		SCZO_50 = cond(al - Mem0[edi_9 + 0x00:byte]);
		C_51 = SCZO_50;
		edi_52 = edi_9 + 0x01;
		di_53 = (word16) edi_52;
		v17_54 = fp;
		esp_55 = fp - 0x04;
		dwLoc04_56 = fp;
		ecx_57 = ecx + Mem0[edx_15 + 0x32E2D2F5:word32] + (al <u Mem0[edi_9 + 0x00:byte]);
		cl_58 = (byte) ecx_57;
		ch_59 = SLICE(ecx_57, byte, 8);
		cx_60 = (word16) ecx_57;
		SCZO_61 = cond(ecx_57);
		SZO_62 = SCZO_61;
		Z_63 = SCZO_61;
		C_64 = SCZO_61;
		SCZDO_65 = SCZO_61;
		return SCZDO_65;
	}
}

// 00407EBB: FlagGroup byte fn00407EBB(Register word16 ax, Register word32 ecx, Register byte dl, Register byte dh, Register byte bh, Register byte bl, Register word32 ebp, Register word32 esi, Register word32 edi, Register out ptr32 alOut, Register out ptr32 ecxOut, Register out ptr32 ediOut)
byte fn00407EBB(word16 ax, word32 ecx, byte dl, byte dh, byte bh, byte bl, word32 ebp, word32 esi, word32 edi, ptr32 & alOut, ptr32 & ecxOut, ptr32 & ediOut)
{
	ptr32 fp;
	word32 edi;
	byte dh;
	word16 ax;
	byte cl;
	word32 eax;
	word32 ecx;
	byte bh;
	byte dl;
	word32 ebp;
	word32 esi;
	ptr32 alOut;
	ptr32 ecxOut;
	ptr32 ediOut;
	esp_1 = fp;
	edi_3 = edi << 0x06;
	SCZO_4 = cond(edi_3);
	C_5 = SCZO_4;
	v5_7 = (dh & 0x00) != 0x00;
	dh_8 = __rcl(dh, 0x17, C_5);
	v9_11 = (ax & 0x01 << cl) != 0x00;
	ax_12 = __ror(ax, cl);
	eax_14 = DPB(eax, ax_12, 0);
	ecx_16 = ecx | 1701437169;
	cl_17 = (byte) ecx_16;
	eax_18 = eax_14 + 0x01;
	ax_19 = (word16) eax_18;
	al_20 = (byte) eax_18;
	bh_22 = bh >>u 0x18;
	SCZO_23 = cond(bh_22);
	C_24 = SCZO_23;
	ebx_25 = 1883857784;
	v16_26 = false;
	ebx_27 = __rcl(1883857784, 0x0C, C_24);
	bh_28 = SLICE(ebx_27, byte, 8);
	bl_29 = (byte) ebx_27;
	SCZO_30 = cond(edi_3 - 3959344428);
	SZO_31 = SCZO_30;
	C_32 = SCZO_30;
	SCZDO_33 = SCZO_30;
	SCZDO_40 = fn00407EFF(al_20, cl_17, dl, dh_8, ebx_27, ebp, esi, edi_3, out al_37, out ecx_38, out edi_39);
	C_41 = SCZDO_40;
	SCZO_42 = SCZDO_40;
	SZO_43 = SCZDO_40;
	return SCZDO_40;
}

// 00407EFF: FlagGroup byte fn00407EFF(Register byte al, Register byte cl, Register byte dl, Register byte dh, Register word32 ebx, Register word32 ebp, Register word32 esi, Register word32 edi, Register out ptr32 alOut, Register out ptr32 ecxOut, Register out ptr32 ediOut)
byte fn00407EFF(byte al, byte cl, byte dl, byte dh, word32 ebx, word32 ebp, word32 esi, word32 edi, ptr32 & alOut, ptr32 & ecxOut, ptr32 & ediOut)
{
	byte al_7 = __rcr((byte) (eax - 0x01), 0x19, C);
	word32 edx_17 = DPB(edx, dh + 0x3D, 8);
	word16 ax_10 = DPB(ax, al_7, 0);
	word32 ebx_12 = ebx ^ DPB(eax - 0x01, al_7, 0);
	byte dh_19 = SLICE(edx_17 + 0x01, byte, 8);
	byte dl_20 = (byte) (edx_17 + 0x01);
	word32 edi_22;
	*ediOut = edi + 4138306898;
	word32 ecx_26 = DPB(ecx, cl >>u 22, 0);
	*ecxOut = ecx_26;
	if (edi != 0xFAD04506)
	{
		byte al_72;
		*alOut = (byte) (ax_10 & si);
		return false;
	}
	else
	{
		Mem57[ebx_12 + 1712774081:byte] = Mem0[ebx_12 + 1712774081:byte] + dh_19 + (edi <u 0xFAD04506);
		byte al_50 = (byte) ebx_12;
		byte al_61;
		word32 ecx_62;
		word32 edi_63;
		return fn00407F26(al_50, ecx_26, dl_20, dh_19, al_7, ebp, esi, edi + 4138306898, out al_61, out ecx_62, out edi_63);
	}
}

// 00407F26: FlagGroup byte fn00407F26(Register byte al, Register word32 ecx, Register byte dl, Register byte dh, Register byte bl, Register word32 ebp, Register word32 esi, Register word32 edi, Register out ptr32 alOut, Register out ptr32 ecxOut, Register out ptr32 ediOut)
byte fn00407F26(byte al, word32 ecx, byte dl, byte dh, byte bl, word32 ebp, word32 esi, word32 edi, ptr32 & alOut, ptr32 & ecxOut, ptr32 & ediOut)
{
}

