// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00412000: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	byte dl_9;
	word32 ebp_10;
	word32 esi_11;
	word32 edi_12;
	word32 eax_13 = fn0041201F(dh, ebp, 0x00411C2C, 0x00401000, es, rArg4, out dl_9, out ebp_10, out esi_11, out edi_12);
	byte dl_19;
	word32 ebp_20;
	word32 esi_21;
	word32 edi_22;
	return fn0041200F(dh, ebp_10, esi_11, edi_12, es, out dl_19, out ebp_20, out esi_21, out edi_22);
}

// 0041200F: Register word32 fn0041200F(Register byte dh, Register word32 ebp, Register word32 esi, Register word32 edi, Register selector es, Register out ptr32 dlOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn0041200F(byte dh, word32 ebp, word32 esi, word32 edi, selector es, ptr32 & dlOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	ptr32 fp;
	word32 ebx;
	byte dh;
	word32 ebp;
	word32 esi;
	word32 edi;
	selector es;
	real64 rArg4;
	ptr32 dlOut;
	ptr32 ebpOut;
	ptr32 esiOut;
	ptr32 ediOut;
	esp_1 = fp;
	esp_2 = fp - 0x04;
	dwLoc04_4 = ebx;
	eax_15 = fn0041201F(dh, ebp, esi, edi, es, rArg4, out dl_11, out ebp_12, out esi_13, out edi_14);
	dl_17 = fn00412015(dl_11, esi_13, out esi_16);
	return eax_15;
}

// 00412015: Register byte fn00412015(Register byte dl, Register word32 esi, Register out ptr32 esiOut)
byte fn00412015(byte dl, word32 esi, ptr32 & esiOut)
{
	ptr32 fp;
	byte dl;
	ptr32 esiOut;
	word32 esi;
	esp_1 = fp;
	dl_3 = dl + dl;
	SCZO_4 = cond(dl_3);
	Z_5 = SCZO_4;
	if (dl_3 != 0x00)
		return dl_3;
	dl_11 = fn00412019(esi, out esi_10);
	return dl_11;
}

// 00412019: Register byte fn00412019(Register word32 esi, Register out ptr32 esiOut)
byte fn00412019(word32 esi, ptr32 & esiOut)
{
	word32 esi_5;
	*esiOut = esi + 0x01;
	byte dl_7 = Mem0[esi + 0x00:byte] * 0x02 + C;
	return dl_7;
}

// 0041201F: Register word32 fn0041201F(Register byte dh, Register word32 ebp, Register word32 esi, Register word32 edi, Register selector es, FpuStack real64 rArg4, Register out ptr32 dlOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn0041201F(byte dh, word32 ebp, word32 esi, word32 edi, selector es, real64 rArg4, ptr32 & dlOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
}

// 00412090: Register word32 fn00412090()
word32 fn00412090()
{
	return fn00412092(0x00);
}

// 00412092: Register word32 fn00412092(Register word32 ecx)
word32 fn00412092(word32 ecx)
{
	do
	{
		word32 esp_7;
		word32 ecx_8;
		byte SZO_9;
		byte C_10;
		byte SCZO_11;
		Mem0[fp + 0x04:word32]();
		word32 esp_16;
		word32 ecx_17;
		byte SZO_18;
		byte C_19;
		byte SCZO_20;
		Mem0[esp_7 + 0x04:word32]();
	} while (C_19);
	return ecx_17;
}

