// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: Register word32 fn00401000()
word32 fn00401000()
{
	return 0x00;
}

// 004013BB: Register Eq_4 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	Eq_5 eax_15 = LoadLibraryA(globals->t404040);
	fn00401000();
	CloseHandle((void *) 0x0F);
	globals->ptr404660 = fn00401D92(eax_15, 653265351);
	fn00401000();
	GetFileType((void *) 0x5E);
	GetModuleHandleA(null);
	globals->ptr404664 = fn00401D92(eax_15, 4202576806);
	fn00401000();
	globals->ptr404668 = fn00401D92(eax_15, ~0x596F200A);
	fn00401000();
	globals->ptr40466C = fn00401D92(eax_15, 3403514095);
	fn00401000();
	globals->ptr404670 = fn00401D92(eax_15, 3403524335);
	fn00401000();
	globals->ptr404674 = fn00401D92(eax_15, 0x94493C3C);
	fn00401000();
	globals->ptr404678 = fn00401D92(eax_15, 1203605967);
	fn00401000();
	globals->ptr40467C = fn00401D92(eax_15, 2052040734);
	fn00401000();
	globals->ptr40425C = fn00401D92(eax_15, 661455649);
	GetModuleFileNameA(null, &globals->t404680, 0x0104);
	fn00401000();
	lstrcpyA(&globals->t404784, globals->t40404C);
	fn00401000();
	lstrcatA(&globals->t404784, globals->t404028);
	lstrcatA(&globals->t404784, globals->t404050);
	lstrcatA(&globals->t404784, &globals->t404680);
	fn00401000();
	globals->dw404888 = 0x44;
	fn00401000();
	globals->dw4048B4 = 0x01;
	word32 eax_548 = fn00401000();
	globals->w4048B8 = 0x02;
	ptr32 esp_571;
	word32 ebp_572;
	byte SCZO_573;
	word32 ebx_574;
	word32 eax_575;
	byte SZO_576;
	bool C_577;
	globals->ptr404660();
	*(esp_571 - 0x04) = 0x68;
	*(esp_571 - 0x08) = 0x68;
	*(esp_571 - 0x0C) = 0x68;
	*(esp_571 - 0x10) = 0x68;
	*(esp_571 - 0x14) = 0x68;
	*(esp_571 - 0x18) = 0x68;
	*(esp_571 - 0x1C) = 0x68;
	*(esp_571 - 0x20) = 0x68;
	*(esp_571 - 0x24) = 0x06;
	*(esp_571 - 0x28) = 0x08;
	*(esp_571 - 44) = 0x06;
	*(esp_571 - 0x30) = 0x08;
	*(esp_571 - 0x34) = 0x08;
	*(esp_571 - 0x38) = 0x06;
	fn00401000();
	*(esp_571 - 0x04) = globals->dw404000;
	*(esp_571 - 0x08) = fp - 0x24;
	lstrcpyA(*(esp_571 - 0x08), *(esp_571 - 0x04));
	*(esp_571 - 0x04) = globals->dw404038;
	*(esp_571 - 0x08) = fp - 0x24;
	lstrcatA(*(esp_571 - 0x08), *(esp_571 - 0x04));
	*(esp_571 - 0x04) = globals->dw40400C;
	*(esp_571 - 0x08) = fp - 0x24;
	lstrcatA(*(esp_571 - 0x08), *(esp_571 - 0x04));
	*(esp_571 - 0x04) = globals->dw40402C;
	*(esp_571 - 0x08) = fp - 0x24;
	lstrcatA(*(esp_571 - 0x08), *(esp_571 - 0x04));
	*(esp_571 - 0x04) = fp - 0x24;
	ptr32 esp_643;
	word32 ebp_644;
	byte SCZO_645;
	word32 ebx_646;
	word32 eax_647;
	byte SZO_648;
	bool C_649;
	globals->ptr40425C();
	*(esp_643 - 0x04) = 0x68;
	*(esp_643 - 0x08) = 0x68;
	*(esp_643 - 0x0C) = 0x68;
	*(esp_643 - 0x10) = 0x68;
	*(esp_643 - 0x14) = 0x68;
	*(esp_643 - 0x18) = 0x68;
	*(esp_643 - 0x1C) = 0x68;
	*(esp_643 - 0x20) = 0x68;
	*(esp_643 - 0x24) = 0x06;
	*(esp_643 - 0x28) = 0x08;
	*(esp_643 - 44) = 0x06;
	*(esp_643 - 0x30) = 0x08;
	*(esp_643 - 0x34) = 0x08;
	*(esp_643 - 0x38) = 0x06;
	fn00401000();
	*(esp_643 - 0x04) = ~0x4AA4E9C4;
	*(esp_643 - 0x08) = eax_647;
	globals->ptr4048DC = fn00401D92(dwArg00, dwArg04);
	*(esp_643 - 0x04) = 0x68;
	*(esp_643 - 0x08) = 0x68;
	*(esp_643 - 0x0C) = 0x68;
	*(esp_643 - 0x10) = 0x68;
	*(esp_643 - 0x14) = 0x68;
	*(esp_643 - 0x18) = 0x68;
	*(esp_643 - 0x1C) = 0x68;
	*(esp_643 - 0x20) = 0x68;
	*(esp_643 - 0x24) = 0x06;
	*(esp_643 - 0x28) = 0x08;
	*(esp_643 - 44) = 0x06;
	*(esp_643 - 0x30) = 0x08;
	*(esp_643 - 0x34) = 0x08;
	*(esp_643 - 0x38) = 0x06;
	fn00401000();
	*(esp_643 - 0x04) = 3902324432;
	*(esp_643 - 0x08) = eax_647;
	globals->ptr4048E0 = fn00401D92(dwArg00, dwArg04);
	*(esp_643 - 0x04) = 0x68;
	*(esp_643 - 0x08) = 0x68;
	*(esp_643 - 0x0C) = 0x68;
	*(esp_643 - 0x10) = 0x68;
	*(esp_643 - 0x14) = 0x68;
	*(esp_643 - 0x18) = 0x68;
	*(esp_643 - 0x1C) = 0x68;
	*(esp_643 - 0x20) = 0x68;
	*(esp_643 - 0x24) = 0x06;
	*(esp_643 - 0x28) = 0x08;
	*(esp_643 - 44) = 0x06;
	*(esp_643 - 0x30) = 0x08;
	*(esp_643 - 0x34) = 0x08;
	*(esp_643 - 0x38) = 0x06;
	fn00401000();
	*(esp_643 - 0x04) = ~0x27422259;
	*(esp_643 - 0x08) = eax_647;
	globals->ptr4048E4 = fn00401D92(dwArg00, dwArg04);
	*(esp_643 - 0x04) = 2061584802;
	*(esp_643 - 0x08) = eax_647;
	globals->ptr4048E8 = fn00401D92(dwArg00, dwArg04);
	*(esp_643 - 0x04) = 0x68;
	*(esp_643 - 0x08) = 0x68;
	*(esp_643 - 0x0C) = 0x68;
	*(esp_643 - 0x10) = 0x68;
	*(esp_643 - 0x14) = 0x68;
	*(esp_643 - 0x18) = 0x68;
	*(esp_643 - 0x1C) = 0x68;
	*(esp_643 - 0x20) = 0x68;
	*(esp_643 - 0x24) = 0x06;
	*(esp_643 - 0x28) = 0x08;
	*(esp_643 - 44) = 0x06;
	*(esp_643 - 0x30) = 0x08;
	*(esp_643 - 0x34) = 0x08;
	*(esp_643 - 0x38) = 0x06;
	fn00401000();
	*(esp_643 - 0x04) = 0x6B249BF0;
	*(esp_643 - 0x08) = eax_647;
	globals->ptr4048EC = fn00401D92(dwArg00, dwArg04);
	*(esp_643 - 0x04) = 0x68;
	*(esp_643 - 0x08) = 0x68;
	*(esp_643 - 0x0C) = 0x68;
	*(esp_643 - 0x10) = 0x68;
	*(esp_643 - 0x14) = 0x68;
	*(esp_643 - 0x18) = 0x68;
	*(esp_643 - 0x1C) = 0x68;
	*(esp_643 - 0x20) = 0x68;
	*(esp_643 - 0x24) = 0x06;
	*(esp_643 - 0x28) = 0x08;
	*(esp_643 - 44) = 0x06;
	*(esp_643 - 0x30) = 0x08;
	*(esp_643 - 0x34) = 0x08;
	*(esp_643 - 0x38) = 0x06;
	word32 eax_836 = fn00401000();
	*(esp_643 - 0x04) = globals->dw404058;
	ptr32 esp_841;
	word32 ebp_842;
	byte SCZO_843;
	word32 ebx_844;
	word32 eax_845;
	byte SZO_846;
	bool C_847;
	globals->ptr40425C();
	*(esp_841 - 0x04) = 0x68;
	*(esp_841 - 0x08) = 0x68;
	*(esp_841 - 0x0C) = 0x68;
	*(esp_841 - 0x10) = 0x68;
	*(esp_841 - 0x14) = 0x68;
	*(esp_841 - 0x18) = 0x68;
	*(esp_841 - 0x1C) = 0x68;
	*(esp_841 - 0x20) = 0x68;
	*(esp_841 - 0x24) = 0x06;
	*(esp_841 - 0x28) = 0x08;
	*(esp_841 - 44) = 0x06;
	*(esp_841 - 0x30) = 0x08;
	*(esp_841 - 0x34) = 0x08;
	*(esp_841 - 0x38) = 0x06;
	fn00401000();
	*(esp_841 - 0x04) = 3083488158;
	*(esp_841 - 0x08) = eax_845;
	globals->ptr4048F0 = fn00401D92(dwArg00, dwArg04);
	*(esp_841 - 0x04) = 0x68;
	*(esp_841 - 0x08) = 0x68;
	*(esp_841 - 0x0C) = 0x68;
	*(esp_841 - 0x10) = 0x68;
	*(esp_841 - 0x14) = 0x68;
	*(esp_841 - 0x18) = 0x68;
	*(esp_841 - 0x1C) = 0x68;
	*(esp_841 - 0x20) = 0x68;
	*(esp_841 - 0x24) = 0x06;
	*(esp_841 - 0x28) = 0x08;
	*(esp_841 - 44) = 0x06;
	*(esp_841 - 0x30) = 0x08;
	*(esp_841 - 0x34) = 0x08;
	*(esp_841 - 0x38) = 0x06;
	word32 eax_914 = fn00401000();
	fn004018D9();
	*(esp_841 - 0x04) = 0x00;
	word32 esp_918;
	word32 ebp_919;
	byte SCZO_920;
	word32 ebx_921;
	word32 eax_922;
	byte SZO_923;
	bool C_924;
	globals->ptr40467C();
	return 0x00;
}

// 004018D9: void fn004018D9()
void fn004018D9()
{
	fn00401000();
	GetModuleHandleA(null);
	fn00401000();
	ptr32 esp_101;
	word32 ebp_102;
	word32 eax_103;
	word32 ebx_104;
	struct Eq_1102 * esi_105;
	word32 edi_106;
	byte SCZO_107;
	globals->ptr404664();
	*(esp_101 - 0x04) = 0x68;
	*(esp_101 - 0x08) = 0x68;
	*(esp_101 - 0x0C) = 0x68;
	*(esp_101 - 0x10) = 0x68;
	*(esp_101 - 0x14) = 0x68;
	*(esp_101 - 0x18) = 0x68;
	*(esp_101 - 0x1C) = 0x68;
	*(esp_101 - 0x20) = 0x68;
	*(esp_101 - 0x24) = 0x06;
	*(esp_101 - 0x28) = 0x08;
	*(esp_101 - 44) = 0x06;
	*(esp_101 - 0x30) = 0x08;
	*(esp_101 - 0x34) = 0x08;
	*(esp_101 - 0x38) = 0x06;
	fn00401000();
	*(esp_101 - 0x04) = 0x68;
	*(esp_101 - 0x08) = 0x68;
	*(esp_101 - 0x0C) = 0x68;
	*(esp_101 - 0x10) = 0x68;
	*(esp_101 - 0x14) = 0x68;
	*(esp_101 - 0x18) = 0x68;
	*(esp_101 - 0x1C) = 0x68;
	*(esp_101 - 0x20) = 0x68;
	*(esp_101 - 0x24) = 0x06;
	*(esp_101 - 0x28) = 0x08;
	*(esp_101 - 44) = 0x06;
	*(esp_101 - 0x30) = 0x08;
	*(esp_101 - 0x34) = 0x08;
	*(esp_101 - 0x38) = 0x06;
	fn00401000();
	*(esp_101 - 0x04) = fp - 0x08;
	*(esp_101 - 0x08) = esi_105->dw0050;
	*(esp_101 - 0x0C) = ebx_104;
	*(esp_101 - 0x10) = eax_103;
	*(esp_101 - 0x14) = globals->dw4048CC;
	ptr32 esp_182;
	word32 ebp_183;
	word32 eax_184;
	word32 ebx_185;
	word32 esi_186;
	word32 edi_187;
	byte SCZO_188;
	globals->ptr404668();
	*(esp_182 - 0x04) = 0x68;
	*(esp_182 - 0x08) = 0x68;
	*(esp_182 - 0x0C) = 0x68;
	*(esp_182 - 0x10) = 0x68;
	*(esp_182 - 0x14) = 0x68;
	*(esp_182 - 0x18) = 0x68;
	*(esp_182 - 0x1C) = 0x68;
	*(esp_182 - 0x20) = 0x68;
	*(esp_182 - 0x24) = 0x06;
	*(esp_182 - 0x28) = 0x08;
	*(esp_182 - 44) = 0x06;
	*(esp_182 - 0x30) = 0x08;
	*(esp_182 - 0x34) = 0x08;
	*(esp_182 - 0x38) = 0x06;
	word32 eax_217 = fn00401000();
	globals->dw4048F4 = 0x00010007;
	*(esp_182 - 0x04) = 0x004048F4;
	*(esp_182 - 0x08) = globals->dw4048D0;
	ptr32 esp_225;
	word32 ebp_226;
	word32 eax_227;
	word32 ebx_228;
	word32 esi_229;
	word32 edi_230;
	byte SCZO_231;
	globals->ptr40466C();
	*(esp_225 - 0x04) = 0x68;
	*(esp_225 - 0x08) = 0x68;
	*(esp_225 - 0x0C) = 0x68;
	*(esp_225 - 0x10) = 0x68;
	*(esp_225 - 0x14) = 0x68;
	*(esp_225 - 0x18) = 0x68;
	*(esp_225 - 0x1C) = 0x68;
	*(esp_225 - 0x20) = 0x68;
	*(esp_225 - 0x24) = 0x06;
	*(esp_225 - 0x28) = 0x08;
	*(esp_225 - 44) = 0x06;
	*(esp_225 - 0x30) = 0x08;
	*(esp_225 - 0x34) = 0x08;
	*(esp_225 - 0x38) = 0x06;
	fn00401000();
	globals->dw4049AC = 0x0040100B;
	*(esp_225 - 0x04) = 0x68;
	*(esp_225 - 0x08) = 0x68;
	*(esp_225 - 0x0C) = 0x68;
	*(esp_225 - 0x10) = 0x68;
	*(esp_225 - 0x14) = 0x68;
	*(esp_225 - 0x18) = 0x68;
	*(esp_225 - 0x1C) = 0x68;
	*(esp_225 - 0x20) = 0x68;
	*(esp_225 - 0x24) = 0x06;
	*(esp_225 - 0x28) = 0x08;
	*(esp_225 - 44) = 0x06;
	*(esp_225 - 0x30) = 0x08;
	*(esp_225 - 0x34) = 0x08;
	*(esp_225 - 0x38) = 0x06;
	word32 eax_292 = fn00401000();
	*(esp_225 - 0x04) = 0x004048F4;
	*(esp_225 - 0x08) = globals->dw4048D0;
	ptr32 esp_299;
	word32 ebp_300;
	word32 eax_301;
	word32 ebx_302;
	word32 esi_303;
	word32 edi_304;
	byte SCZO_305;
	globals->ptr404670();
	*(esp_299 - 0x04) = 0x68;
	*(esp_299 - 0x08) = 0x68;
	*(esp_299 - 0x0C) = 0x68;
	*(esp_299 - 0x10) = 0x68;
	*(esp_299 - 0x14) = 0x68;
	*(esp_299 - 0x18) = 0x68;
	*(esp_299 - 0x1C) = 0x68;
	*(esp_299 - 0x20) = 0x68;
	*(esp_299 - 0x24) = 0x06;
	*(esp_299 - 0x28) = 0x08;
	*(esp_299 - 44) = 0x06;
	*(esp_299 - 0x30) = 0x08;
	*(esp_299 - 0x34) = 0x08;
	*(esp_299 - 0x38) = 0x06;
	word32 eax_334 = fn00401000();
	*(esp_299 - 0x04) = globals->dw4048D0;
	word32 esp_339;
	word32 ebp_340;
	word32 eax_341;
	word32 ebx_342;
	word32 esi_343;
	word32 edi_344;
	byte SCZO_345;
	globals->ptr404674();
}

// 00401D92: Register word32 fn00401D92(Stack Eq_5 dwArg04, Stack uint32 dwArg08)
word32 fn00401D92(HMODULE dwArg04, uint32 dwArg08)
{
	ptr32 v5_14 = fs->ptr0000;
	fs->ptr0000 = fp - 0x14;
	fn00401000();
	fn00401000();
	struct Eq_1748 * edx_94 = dwArg04 + (&dwArg04->unused)[0x0F] / 0x04;
	fn00401000();
	struct Eq_1755 * eax_129 = dwArg04 + edx_94->dw0078 / 0x04;
	word16 eax_133[] = dwArg04 + eax_129->dw0024 / 0x04;
	fn00401000();
	lstrcpyA(fp - 0x3C, &globals->t403010);
	lstrcpyA(fp - 0x3C, &globals->t40300E);
	if (SetFileSecurityA(null, 0x00, null) != 0x00)
		dwArg08 = dwArg08 + 909668;
	lstrcpyA(fp - 0x3C, &globals->t40300C);
	if (SetFileSecurityA((CHAR *) 0x0852, 0x00, null) == 0x00)
		dwArg08 = dwArg08 + 118653;
	word32 eax_223[] = dwArg04 + eax_129->dw0020 / 0x04;
	word32 eax_228[] = dwArg04 + eax_129->dw001C / 0x04;
	int32 edi_230 = 0x00;
	while (true)
	{
		word32 eax_283;
		if (edi_230 >= eax_129->dw0018)
			break;
		dwLoc48 = dwLoc48 & 0x00;
		Eq_1840 (* eax_304)[] = dwArg04 + eax_223[edi_230] / 0x04;
		dwLoc50 = dwLoc50 & 0x00;
		while (Mem17[dwLoc50 + eax_304:byte] != 0x00)
		{
			fn00401000();
			dwLoc48 = (int32) Mem17[dwLoc50 + eax_304:byte] ^ 0xF0 ^ (dwLoc48 << 0x07 | dwLoc48 >>u 0x19);
			dwLoc50 = dwLoc50 + 0x01;
		}
		if (dwLoc48 == dwArg08)
		{
			eax_283 = dwArg04 + eax_228[(word32) eax_133[edi_230]] / 0x04;
			goto l00401F83;
		}
		edi_230 = edi_230 + 0x01;
	}
	eax_283 = 0x00;
l00401F83:
	fs->ptr0000 = v5_14;
	return eax_283;
}

