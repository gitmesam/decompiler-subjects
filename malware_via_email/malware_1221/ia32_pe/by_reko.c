// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 004011C8: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	__ror(esi, 0x15);
	if (*((word32) dwArg00 + 0x07) != 0x9090)
		return DeleteFileA((word32) dwArg00 + 0x07);
	struct Eq_16 * eax_67 = DPB(1207175, (word16) fp, 0) + 0x00;
	ui32 esi_70 = 0x004010DA;
	word32 edx_73 = globals->dw4010DA;
	do
	{
		ui32 esi_85 = esi_70 ^ 1986777581;
		eax_67 = eax_67 - ~0x00;
		esi_70 = DPB(esi_85 + 0x5CCBD2C5, (word16) (esi_85 + 0x5CCBD2C5) | ~0x74, 0);
	} while (~eax_67->dw0000 + edx_73 != 0x01);
	__rol(-esi_70, 0x06);
	Eq_2 ecx_122 = dwArg00;
	word32 edx_126 = globals->dw40102D;
	do
	{
		word32 esi_134 = *ecx_122;
		__rol((word16) esi_134, 0x0E);
		ecx_122 = (word32) ecx_122 + 0x01;
	} while ((esi_134 ^ edx_126) != 0x00);
	fs->ptr0000 = fp - 0x08;
	return ecx_122;
}

