// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00422826: FlagGroup byte fn00422826(Stack (ptr32 word32) dwArg04, Stack uint32 dwArg08, Stack word32 dwArg0C, Register out ptr32 edxOut)
byte fn00422826(word32 * dwArg04, uint32 dwArg08, word32 dwArg0C, ptr32 & edxOut)
{
	word32 * esi_16 = dwArg04;
	uint32 edx_19 = dwArg08 >> 0x02;
	do
	{
		*esi_16 = *esi_16 ^ dwArg0C;
		*esi_16 = *esi_16 ^ dwArg0C;
		*esi_16 = *esi_16 - 1833774418;
		*esi_16 = __rol(*esi_16, 0x3D);
		*esi_16 = -*esi_16;
		*esi_16 = __rol(*esi_16, ~0x2A);
		*esi_16 = -*esi_16;
		*esi_16 = *esi_16 - dwArg0C;
		*esi_16 = *esi_16 + 4113546304;
		edx_19 = edx_19 - 0x01;
		*edxOut = edx_19;
		esi_16 = esi_16 + 0x01;
		byte SZO_50 = cond(edx_19);
	} while (edx_19 != 0x00);
	return SZO_50;
}

// 00422898: Register Eq_92 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	GetACP();
	Eq_96 eax_39 = CreateFileA(&globals->t42F00A, (struct <anonymous> *) 0x60000000, (struct <anonymous> *) 0x02, null, (struct <anonymous> *) 0x03, (struct <anonymous> *) 0x0101, 0x00);
	GetProcAddress(GetModuleHandleA(&globals->t42F000), &globals->t42F039)();
	GetACP();
	GetCurrentProcessId();
	CloseHandle(eax_39);
	GetFileType(eax_39);
	GetCurrentThreadId();
	word32 edx_105;
	byte SZO_106 = fn00422826(dwArg00, dwArg04, dwArg08, out edx_105);
	SizeofResource(null, eax_39);
	GetCommandLineW();
	GetOEMCP();
	CloseHandle(eax_39);
	SizeofResource(null, eax_39);
	VirtualProtect(&globals->v426000, 0x88A9, (struct <anonymous> *) 0x40, fp - 0x0C);
	word32 ecx_59 = <invalid>;
	bool Z_108 = (bool) SZO_106;
	Eq_134 eax_159 = CloseHandle(*(ebp - 0x04));
	Eq_197 esp_168;
	byte SCZO_170;
	Eq_92 eax_174;
	bool Z_176;
	byte al_178;
	Eq_202 SZO_179;
	byte SCZDOP_180;
	byte CZ_181;
	struct Eq_205 * ds_183;
	bool C_184;
	byte ah_186;
	real64 rArg0_187;
	bool O_189;
	struct Eq_210 * es_191;
	word16 di_192;
	struct Eq_212 * ss_193;
	word16 dx_194;
	bool S_195;
	bool D_196;
	byte cl_197;
	byte dh_198;
	struct Eq_218 * cs_177;
	struct Eq_219 * esi_173;
	byte dl_190;
	byte ch_185;
	word32 edi_172;
	struct Eq_223 * ebp_169;
	struct Eq_223 * edx_182;
	cu8 bh_188;
	struct Eq_226 * ebx_171;
	struct Eq_227 * ecx_175;
	fn00425FB3();
	return eax_174;
}

