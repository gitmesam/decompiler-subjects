// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0040104E: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	GetCurrentThreadId();
	GetCurrentThreadId();
	Eq_8 eax_11 = GetModuleHandleA(&globals->t4318DA);
	GetTickCount();
	GetCommandLineA();
	Eq_20 eax_33 = CreateFileA(&globals->t4318C0, 0xA0000000, 0x02, null, 0x03, 0x20, 0x00);
	ptr32 esp_34 = fp - 44;
	if (eax_33 == ~0x00)
	{
		GetCurrentProcessId();
		CloseHandle(eax_33);
		Eq_20 eax_83 = GetProcAddress(eax_11, &globals->t4318A9);
		GetFileType(eax_83);
		GetCurrentThreadId();
		esp_34 = fp - 0x30;
		dwLoc1C = eax_83();
	}
	union Eq_20 * esp_46 = esp_34 - 0x04;
	*esp_46 = (union Eq_20 *) 0x00;
	*(esp_46 - 0x04) = 0x02;
	*(esp_46 - 0x08) = 0x03;
	*(esp_46 - 0x0C) = 0x00;
	*(esp_46 - 0x10) = 0x04;
	*(esp_46 - 0x14) = 0x80000000;
	*(esp_46 - 0x18) = 4397255;
	CreateFileA(*(esp_46 - 0x18), *(esp_46 - 0x14), *(esp_46 - 0x10), *(esp_46 - 0x0C), *(esp_46 - 0x08), *(esp_46 - 0x04), *esp_46);
	word32 esp_67;
	word32 ebp_68;
	byte SCZO_69;
	Eq_2 eax_70;
	bool Z_71;
	byte SZO_72;
	bool C_73;
	((dwLoc1C ^ 0xC0000005) + 0x0040114D)();
	return eax_70;
}

