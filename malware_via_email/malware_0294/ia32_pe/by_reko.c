// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00403A23: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	fs->ptr0000 = fp - 0x14;
	__set_app_type(0x02);
	globals->dw403D58 = globals->dw403D58 | ~0x00;
	globals->dw403D5C = globals->dw403D5C | ~0x00;
	*__p__fmode() = globals->dw403C34;
	*__p__commode() = globals->dw403C30;
	globals->dw403D54 = *adjust_fdiv;
	fn00403BB5();
	if (globals->dw401230 == 0x00)
		__setusermatherr(&globals->t403BB2);
	fn00403BA0();
	_initterm(&globals->t401214, &globals->t401218);
	__getmainargs(fp - 100, fp - 116, fp - 0x68, globals->dw403C28);
	_initterm(&globals->t401204, &globals->t401210);
	cu8 * esi_135 = *acmdln;
	if (*esi_135 == 0x22)
	{
		do
		{
			esi_135 = esi_135 + 0x01;
			cu8 al_148 = *esi_135;
		} while (al_148 != 0x00 && al_148 != 0x22);
		if (*esi_135 == 0x22)
		{
l00403B12:
			esi_135 = esi_135 + 0x01;
		}
	}
	else
	{
		while (*esi_135 > 0x20)
			esi_135 = esi_135 + 0x01;
	}
	cu8 al_92 = *esi_135;
	if (al_92 == 0x00 || al_92 > 0x20)
	{
		word32 eax_108;
		GetStartupInfoA(fp - 0x60);
		if (0x00 != 0x00)
			eax_108 = (word32) wLoc30;
		else
			eax_108 = 0x0A;
		Eq_144 eax_117 = GetModuleHandleA(null);
		fn00403BBC(eax_117, 0x00, esi_135, eax_108);
		exit(eax_117);
	}
	goto l00403B12;
}

// 00403BA0: void fn00403BA0()
void fn00403BA0()
{
	_controlfp(0x00010000, 0x00030000);
}

// 00403BB5: void fn00403BB5()
void fn00403BB5()
{
}

// 00403BBC: void fn00403BBC(Stack Eq_144 dwArg04, Stack word32 dwArg08, Stack (ptr32 cu8) dwArg0C, Stack word32 dwArg10)
void fn00403BBC(HMODULE dwArg04, word32 dwArg08, cu8 * dwArg0C, word32 dwArg10)
{
	word32 esp_18;
	MFC42.DLL!Ordinal_1576();
}

