// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401040: void fn00401040(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00401040(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc08_16 = 0x00;
	while (dwLoc08_16 < dwArg0C)
	{
		Mem30[dwArg04 + dwLoc08_16:byte] = Mem0[dwArg08 + dwLoc08_16:byte];
		dwLoc08_16 = dwLoc08_16 + 0x01;
	}
}

// 004010D0: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	word32 eax_18 = GetModuleHandleA(0x00);
	if (RegOpenKeyA(0x80000002, 0x00409058, fp - 0x84) != 0x00)
		return 0x01;
	if ((dwArg04 & 0xFFFF) != 0x00)
		Mem186[0x004090E8:word32] = 0x00;
	else
		Mem187[0x004090E8:word32] = 0x01;
	if (Mem0[0x004090E8:word32] != 0x00)
		Mem185[0x004090D8:word32] = dwArg04;
	word32 ecx_85 = Mem0[0x00405000:word32];
	word32 eax_88 = Mem0[0x00405004:word32];
	word32 dwLoc08_108 = 0x00;
	while (dwLoc08_108 <u ecx_85)
	{
		Mem104[dwLoc08_108 + 0x00405008:word32] = Mem0[dwLoc08_108 + 0x00405008:word32] ^ 1222211;
		dwLoc08_108 = dwLoc08_108 + 0x08;
	}
	word32 ebp_138;
	Mem114[0x004090E4:word32] = fn004026C0(eax_88);
	fn00402870(0x00405008, Mem114[0x004090E4:word32], ecx_85);
	Mem127[0x004090D4:word32] = edi;
	Mem128[0x004090D0:word32] = esi;
	Mem129[0x004090E0:word32] = ebx;
	word32 ecx_132 = Mem129[fs:0x18:word32];
	Mem133[0x004090EC:word32] = ecx_132;
	Mem134[0x004090DC:word32] = fp - 0x04;
	if (Mem134[0x004090E8:word32] != 0x00)
		ebp_138 = fn004026F0(0x0040122C - dwArg04, dwArg04);
	else
		ebp_138 = fn004026F0(0x0040122C - eax_18, eax_18);
	word32 edx_139 = Mem134[0x004090E4:word32];
	word32 eax_142 = fn00401290(ebp_138, edx_139);
	word32 esp_149;
	word32 ebp_150;
	byte SCZO_151;
	word32 ebx_152;
	word32 esi_153;
	word32 edi_154;
	word32 eax_155;
	byte SZO_156;
	bool C_157;
	bool Z_158;
	word32 ecx_159;
	word32 edx_160;
	selector fs_161;
	Mem134[0x004090F0:word32]();
	return eax_155;
}

// 00401270: Register word32 fn00401270(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00401270(word32 dwArg04, word32 dwArg08)
{
	return GetProcAddress(dwArg04, dwArg08);
}

// 00401290: Register word32 fn00401290(Register word32 ebp, Stack word32 dwArg04)
word32 fn00401290(word32 ebp, word32 dwArg04)
{
	word32 eax_2159;
	word32 eax_18 = GetProcAddress(GetModuleHandleA(0x00409080), 0x00409070);
	word32 edx_27 = dwArg04 + Mem0[dwArg04 + 0x3C:word32];
	word32 dwLoc28_137 = edx_27 + 0x18 + (word32) Mem0[edx_27 + 0x14:word16];
	word32 eax_44 = VirtualAlloc(0x00, Mem0[edx_27 + 0x50:word32], 0x3000, 0x40);
	if (eax_44 != 0x00)
	{
		word32 eax_111 = GetProcAddress(GetModuleHandleA(0x0040909C), 0x00409090);
		fn00401040(eax_44, dwArg04, Mem0[dwArg04 + 0x3C:word32] + 0x0138 + (word32) Mem0[edx_27 + 0x06:word16] *s 0x28);
		word32 dwLoc0C_131 = 0x00;
		while (dwLoc0C_131 <u (word32) Mem0[edx_27 + 0x06:word16])
		{
			if (Mem0[dwLoc28_137 + 0x14:word32] != 0x00 && Mem0[dwLoc28_137 + 0x10:word32] != 0x00)
				fn00401040(eax_44 + Mem0[dwLoc28_137 + 0x0C:word32], dwArg04 + Mem0[dwLoc28_137 + 0x14:word32], (uint32) ((uint64) (uint32) (Mem0[dwLoc28_137 + 0x10:word32] - 0x01 + Mem0[edx_27 + 0x3C:word32]) /u Mem0[edx_27 + 0x3C:word32]) *s Mem0[edx_27 + 0x3C:word32]);
			dwLoc28_137 = dwLoc28_137 + 0x28;
			dwLoc0C_131 = dwLoc0C_131 + 0x01;
		}
		word32 ecx_200 = eax_44 + Mem0[eax_44 + 0x3C:word32];
		word32 eax_216 = CreateFileMappingA(~0x00, 0x00, 0x04, 0x00, Mem0[ecx_200 + 0x50:word32], 0x00);
		if (eax_216 != 0x00)
		{
			word32 dwLoc4C_229 = eax_44 + Mem0[ecx_200 + 0x80:word32];
			while (Mem0[dwLoc4C_229 + 0x10:word32] != 0x00)
			{
				word32 dwLoc34_258;
				word32 dwLoc24_257;
				word32 eax_251 = LoadLibraryA(eax_44 + Mem0[dwLoc4C_229 + 0x0C:word32]);
				if (Mem0[dwLoc4C_229 + 0x00:word32] != 0x00)
				{
					dwLoc24_257 = eax_44 + Mem0[dwLoc4C_229 + 0x00:word32];
					dwLoc34_258 = eax_44 + Mem0[dwLoc4C_229 + 0x10:word32];
				}
				else
				{
					dwLoc24_257 = eax_44 + Mem0[dwLoc4C_229 + 0x10:word32];
					dwLoc34_258 = eax_44 + Mem0[dwLoc4C_229 + 0x00:word32];
				}
				word32 dwLoc18_261 = 0x00;
				if (Mem0[dwLoc4C_229 + 0x10:word32] != 0x00 && Mem0[dwLoc4C_229 + 0x00:word32] != 0x00)
					dwLoc18_261 = 0x01;
				while (Mem0[dwLoc24_257 + 0x00:word32] != 0x00)
				{
					if ((Mem0[dwLoc24_257 + 0x00:word32] & 0x80000000) != 0x00)
						Mem326[dwLoc24_257 + 0x00:word32] = fn00401270(eax_251, Mem0[dwLoc24_257 + 0x00:word32] & 0x7FFFFFFF);
					else
						Mem340[dwLoc24_257 + 0x00:word32] = fn00401270(eax_251, Mem0[dwLoc24_257 + 0x00:word32] + 0x02 + eax_44);
					if (Mem0[dwLoc24_257 + 0x00:word32] == 0x00)
					{
						eax_2159 = 0x00;
						return eax_2159;
					}
					if (dwLoc18_261 != 0x00)
						Mem311[dwLoc34_258 + 0x00:word32] = Mem0[dwLoc24_257 + 0x00:word32];
					dwLoc24_257 = dwLoc24_257 + 0x04;
					dwLoc34_258 = dwLoc34_258 + 0x04;
				}
				dwLoc4C_229 = dwLoc4C_229 + 0x14;
			}
			if (Mem0[0x004090E8:word32] != 0x00)
			{
				word32 edx_2433 = Mem0[0x004090D8:word32] - Mem0[ecx_200 + 0x34:word32];
				if (Mem0[ecx_200 + 0xA4:word32] != 0x00)
				{
					word32 dwLoc20_2442 = eax_44 + Mem0[ecx_200 + 0xA0:word32];
					while (Mem0[dwLoc20_2442 + 0x04:word32] != 0x00)
					{
						word32 edx_2457 = Mem0[dwLoc20_2442 + 0x04:word32] - 0x08 >>u 0x01;
						word32 eax_2460 = dwLoc20_2442 + 0x08;
						word32 dwLoc0C_2463 = 0x00;
						while (dwLoc0C_2463 <u edx_2457)
						{
							if ((word32) eax_2460[dwLoc0C_2463 * 0x02] >> 0x0C == 0x03)
								Mem2504[eax_44 + Mem0[dwLoc20_2442 + 0x00:word32] + ((word32) eax_2460[dwLoc0C_2463 * 0x02] & 0x0FFF):word32] = Mem0[eax_44 + Mem0[dwLoc20_2442 + 0x00:word32] + ((word32) eax_2460[dwLoc0C_2463 * 0x02] & 0x0FFF):word32] + edx_2433;
							dwLoc0C_2463 = dwLoc0C_2463 + 0x01;
						}
						dwLoc20_2442 = dwLoc20_2442 + Mem0[dwLoc20_2442 + 0x04:word32];
					}
				}
			}
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			LoadIconA(0x00, 0x7F00);
			word32 eax_2102 = GetProcAddress(GetModuleHandleA(0x004090BC), 0x004090AC);
			if (Mem0[0x004090E8:word32] != 0x00)
				Mem2403[0x004090CC:word32] = eax_2102();
			else
				Mem2430[0x004090CC:word32] = eax_2102();
			word32 esp_2121 = fp - 0x68;
			if (Mem0[0x004090CC:word32] == 0x00)
			{
				word32 esp_2187;
				if (Mem0[0x004090E8:word32] != 0x00)
				{
					esp_2187 = fp - 0x6C;
					if (eax_18() == 0x00)
					{
						esp_2187 = fp - 0x78;
						if (eax_111() == 0x00)
						{
							eax_2159 = 0x00;
							return eax_2159;
						}
					}
				}
				else
				{
					esp_2187 = fp - 0x6C;
					if (eax_18() == 0x00)
					{
						esp_2187 = fp - 0x78;
						if (eax_111() == 0x00)
						{
							eax_2159 = 0x00;
							return eax_2159;
						}
					}
				}
				if (Mem0[0x004090E8:word32] != 0x00)
				{
					word32 esp_2232 = esp_2187 - 0x04;
					Mem2233[esp_2232 + 0x00:word32] = Mem0[0x004090D8:word32];
					Mem2235[esp_2232 - 0x04 + 0x00:word32] = 0x00;
					Mem2237[esp_2232 - 0x08 + 0x00:word32] = 0x00;
					Mem2239[esp_2232 - 0x0C + 0x00:word32] = 0x00;
					Mem2241[esp_2232 - 0x10 + 0x00:word32] = 0x22;
					Mem2244[esp_2232 - 0x14 + 0x00:word32] = eax_216;
					Mem2255[0x004090CC:word32] = eax_2102();
				}
				else
				{
					word32 esp_2258 = esp_2187 - 0x04;
					Mem2259[esp_2258 + 0x00:word32] = Mem0[ecx_200 + 0x34:word32];
					Mem2261[esp_2258 - 0x04 + 0x00:word32] = 0x00;
					Mem2263[esp_2258 - 0x08 + 0x00:word32] = 0x00;
					Mem2265[esp_2258 - 0x0C + 0x00:word32] = 0x00;
					Mem2267[esp_2258 - 0x10 + 0x00:word32] = 0x22;
					Mem2270[esp_2258 - 0x14 + 0x00:word32] = eax_216;
					Mem2281[0x004090CC:word32] = eax_2102();
				}
				esp_2121 = esp_2187 - 0x18;
				if (Mem0[0x004090CC:word32] == 0x00)
				{
					if (Mem0[0x004090E8:word32] == 0x00)
					{
						Mem2203[esp_2121 - 0x04 + 0x00:word32] = 0x40;
						Mem2205[esp_2121 - 0x08 + 0x00:word32] = 0x3000;
						Mem2209[esp_2121 - 0x0C + 0x00:word32] = Mem2205[ecx_200 + 0x50:word32];
						Mem2213[esp_2121 - 0x10 + 0x00:word32] = Mem2209[ecx_200 + 0x34:word32];
						Mem2216[0x004090CC:word32] = VirtualAlloc(Mem2213[esp_2121 - 0x10 + 0x00:LPVOID], Mem2213[esp_2121 - 0x0C + 0x00:SIZE_T], Mem2213[esp_2121 - 0x08 + 0x00:DWORD], Mem2213[esp_2121 - 0x04 + 0x00:DWORD]);
					}
					else
					{
						Mem2218[esp_2121 - 0x04 + 0x00:word32] = 0x40;
						Mem2220[esp_2121 - 0x08 + 0x00:word32] = 0x3000;
						Mem2224[esp_2121 - 0x0C + 0x00:word32] = Mem2220[ecx_200 + 0x50:word32];
						Mem2227[esp_2121 - 0x10 + 0x00:word32] = Mem2224[0x004090D8:word32];
						Mem2230[0x004090CC:word32] = VirtualAlloc(Mem2227[esp_2121 - 0x10 + 0x00:LPVOID], Mem2227[esp_2121 - 0x0C + 0x00:SIZE_T], Mem2227[esp_2121 - 0x08 + 0x00:DWORD], Mem2227[esp_2121 - 0x04 + 0x00:DWORD]);
					}
				}
			}
			word32 esp_2131 = esp_2121 - 0x04;
			Mem2132[esp_2131 + 0x00:word32] = eax_216;
			CloseHandle(Mem2132[esp_2131 + 0x00:HANDLE]);
			Mem2138[esp_2131 + 0x00:word32] = Mem2132[ecx_200 + 0x50:word32];
			Mem2141[esp_2131 - 0x04 + 0x00:word32] = eax_44;
			Mem2144[esp_2131 - 0x08 + 0x00:word32] = Mem2141[0x004090CC:word32];
			fn00401040(dwArg00, dwArg04, dwArg08);
			if (Mem2144[0x004090E8:word32] != 0x00)
			{
				Mem2166[esp_2131 + 0x00:word32] = Mem2144[0x004090CC:word32] + Mem2144[ecx_200 + 0x28:word32];
				Mem2169[esp_2131 - 0x04 + 0x00:word32] = Mem2166[0x004090D8:word32];
				fn00402650(dwArg00, dwArg04);
			}
			else
			{
				Mem2174[esp_2131 + 0x00:word32] = Mem2144[0x004090CC:word32];
				fn00402840(dwArg00);
			}
			Mem2155[0x004090F0:word32] = Mem2144[0x004090CC:word32] + Mem2144[ecx_200 + 0x28:word32];
			Mem2158[ecx_200 + 0x28:word32] = Mem2155[0x004090F0:word32];
			eax_2159 = 0x01;
			return eax_2159;
		}
		else
		{
			eax_2159 = 0x00;
			return eax_2159;
		}
	}
	else
	{
		eax_2159 = 0x00;
		return eax_2159;
	}
}

// 00402650: void fn00402650(Stack word32 dwArg04, Stack word32 dwArg08)
void fn00402650(word32 dwArg04, word32 dwArg08)
{
	word32 ecx_14 = Mem0[Mem0[Mem0[Mem0[0x004090EC:word32] + 0x30:word32] + 0x0C:word32] + 0x0C:word32];
	word32 dwLoc0C_15 = ecx_14;
	while (0x01 != 0x00 && dwLoc0C_15 != 0x00)
	{
		if (Mem0[dwLoc0C_15 + 0x18:word32] == dwArg04)
		{
			Mem50[dwLoc0C_15 + 0x1C:word32] = dwArg08;
			return;
		}
		word32 eax_53 = Mem0[dwLoc0C_15 + 0x00:word32];
		dwLoc0C_15 = eax_53;
		if (eax_53 == ecx_14)
			return;
	}
}

// 004026C0: Register word32 fn004026C0(Stack word32 dwArg04)
word32 fn004026C0(word32 dwArg04)
{
	return HeapAlloc(GetProcessHeap(), 0x00, dwArg04);
}

// 004026F0: Register word32 fn004026F0(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn004026F0(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc20_13;
	if (Mem0[0x004090E8:word32] != 0x00)
		dwLoc20_13 = Mem0[0x004090D8:word32];
	else
		dwLoc20_13 = dwArg08;
	word32 eax_16 = dwLoc20_13 + Mem0[dwLoc20_13 + 0x3C:word32];
	Mem30[0x004090CC:word32] = VirtualAlloc(0x00, Mem0[eax_16 + 0x50:word32], 0x3000, 0x40);
	if (Mem30[0x004090CC:word32] == 0x00)
		return ebp;
	word32 eax_70 = Mem30[0x004090CC:word32];
	fn00401040(eax_70, dwLoc20_13, Mem30[eax_16 + 0x50:word32]);
	word32 ecx_75 = Mem30[0x004090CC:word32] - dwLoc20_13;
	if (Mem30[eax_16 + 0xA4:word32] != 0x00)
	{
		word32 dwLoc0C_102 = dwLoc20_13 + Mem30[eax_16 + 0xA0:word32];
		while (Mem30[dwLoc0C_102 + 0x04:word32] != 0x00)
		{
			word32 ecx_117 = Mem30[dwLoc0C_102 + 0x04:word32] - 0x08 >>u 0x01;
			word32 edx_120 = dwLoc0C_102 + 0x08;
			word32 dwLoc08_123 = 0x00;
			while (dwLoc08_123 <u ecx_117)
			{
				if ((word32) edx_120[dwLoc08_123 * 0x02] >> 0x0C == 0x03)
					Mem164[Mem30[0x004090CC:word32] + Mem30[dwLoc0C_102 + 0x00:word32] + ((word32) edx_120[dwLoc08_123 * 0x02] & 0x0FFF):word32] = Mem30[Mem30[0x004090CC:word32] + Mem30[dwLoc0C_102 + 0x00:word32] + ((word32) edx_120[dwLoc08_123 * 0x02] & 0x0FFF):word32] + ecx_75;
				dwLoc08_123 = dwLoc08_123 + 0x01;
			}
			dwLoc0C_102 = dwLoc0C_102 + Mem30[dwLoc0C_102 + 0x04:word32];
		}
	}
	word32 edx_86 = dwArg04 + Mem30[0x004090CC:word32];
	word32 esp_88;
	word32 ebp_89;
	byte SCZO_90;
	word32 esi_91;
	bool Z_92;
	word32 eax_93;
	word32 ecx_94;
	word32 edx_95;
	bool C_96;
	byte SZO_97;
	edx_86();
	return ebp_89;
}

// 00402840: void fn00402840(Stack word32 dwArg04)
void fn00402840(word32 dwArg04)
{
	Mem13[Mem0[Mem0[0x004090EC:word32] + 0x30:word32] + 0x08:word32] = dwArg04;
}

// 00402870: void fn00402870(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00402870(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 dwLoc0C_112 = 0x01;
	byte cl_12 = Mem0[dwArg04 + 0x00:byte];
	word32 dwLoc18_118 = 0x00;
	do
	{
		word32 ecx_34 = dwLoc0C_112 + 0x01;
		byte al_31 = Mem0[dwArg04 + dwLoc0C_112:byte];
		dwLoc0C_112 = ecx_34;
		if ((word32) al_31 == (word32) cl_12)
		{
			if ((word32) Mem0[dwArg04 + ecx_34:byte] == 0x00)
			{
				Mem80[dwArg08 + dwLoc18_118:byte] = cl_12;
				dwLoc18_118 = dwLoc18_118 + 0x01;
				dwLoc0C_112 = ecx_34 + 0x01;
			}
			else
			{
				word32 eax_98 = fn00402970(fp - 0x10, dwArg04 + ecx_34) + ecx_34;
				dwLoc0C_112 = fn00402970(fp - 0x20, dwArg04 + eax_98) + eax_98;
				word32 dwLoc1C_113 = 0x00;
				while (dwLoc1C_113 <u dwLoc10)
				{
					Mem130[dwArg08 + dwLoc18_118:byte] = Mem0[dwArg08 + (dwLoc18_118 - dwLoc20):byte];
					dwLoc18_118 = dwLoc18_118 + 0x01;
					dwLoc1C_113 = dwLoc1C_113 + 0x01;
				}
			}
		}
		else
		{
			Mem142[dwArg08 + dwLoc18_118:byte] = al_31;
			dwLoc18_118 = dwLoc18_118 + 0x01;
		}
	} while (dwLoc0C_112 <u dwArg0C);
}

// 00402970: Register word32 fn00402970(Stack word32 dwArg04, Stack word32 dwArg08)
word32 fn00402970(word32 dwArg04, word32 dwArg08)
{
	word32 dwLoc08_12 = 0x00;
	word32 dwLoc10_13 = 0x00;
	do
	{
		word32 ecx_16 = (word32) Mem0[dwArg08 + 0x00:byte];
		word32 ecx_26 = ecx_16 & 0x7F | dwLoc08_12 << 0x07;
		word32 edx_29 = dwLoc10_13 + 0x01;
		dwArg08 = dwArg08 + 0x01;
		dwLoc08_12 = ecx_26;
		dwLoc10_13 = edx_29;
	} while ((ecx_16 & 0x80) != 0x00);
	Mem39[dwArg04 + 0x00:word32] = ecx_26;
	return edx_29;
}

