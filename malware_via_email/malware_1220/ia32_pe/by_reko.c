// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 004010DD: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	struct Eq_162 ** esp_1 = fp;
	byte * edi_23 = ~(edi + 0x01);
	ptr32 esi_5 = DPB(esi, si - 0x31, 0);
	struct Eq_16 * edx_14 = &dwArg00->b0007;
	Eq_20 ecx_22 = DPB(0xA5, 0xA5 - dwArg00->b0007, 0);
	word16 di_24 = (word16) edi_23;
	if (ecx_22 != (CHAR *) 0x15)
	{
		byte * eax_196 = RegOpenKeyA((struct HKEY__ *) 0x3A3DFDDF, ecx_22, (HKEY *) 803132291) ^ ebp;
		byte al_197 = (byte) eax_196;
		*eax_196 = *eax_196 + al_197;
		*eax_196 = *eax_196 + al_197;
		*eax_196 = *eax_196 + al_197;
		*eax_196 = *eax_196 + al_197;
		*eax_196 = *eax_196 + al_197;
		byte v25_215 = *edi_23 + bh;
		*edi_23 = v25_215;
		esp_1 = fp - 0x0C;
		edx_14 = (struct Eq_16 *) DPB(&dwArg00->b0007, 0x00, 0);
		edx_14->dwC1A1002C = edx_14->dwC1A1002C - ebx;
		*(esi_5 - 0x01) = *(esi_5 - 0x01) - 0x01;
	}
	__ror(di_24, 0x03);
	__ror((word16) (edx_14 ^ 0xD50254C5), 0x0A);
	struct Eq_126 * esi_45 = DPB(1223327, (word16) esp_1, 0) + 0x00;
	word32 edi_48 = 0x004010A8;
	word32 eax_50 = esp_1 + 0x01 & 0xE1316335;
	word32 edx_55 = globals->dw4010D4;
	do
	{
		esi_45 = esi_45 + 0x01;
		eax_50 = eax_50 >> 0x1B;
		edi_48 = edi_48 + ebx - esi_45 + eax_50;
		word16 di_74 = (word16) edi_48;
	} while (~esi_45->dw0000 + edx_55 != 0x01);
	ui32 edx_91 = DPB((char *) *esp_1 + edx_55, esi_45->wFFFFFFFE, 0);
	struct Eq_162 * esi_99 = *esp_1;
	__rol(di_74 + 0x62, 0x0C);
	word32 esi_108 = globals->dw401031;
	struct Eq_162 * eax_102 = esi_99;
	word16 si_109 = (word16) esi_108;
	do
	{
		eax_102 = (struct Eq_162 *) ((char *) &eax_230->ptr0000 + 0x01);
		struct Eq_162 * eax_230 = eax_102;
	} while ((eax_230->ptr0000 ^ esi_108) != 0x00);
	word32 eax_149 = (char *) *esp_1 + DPB(ebp, (word16) ebp + 88, 0);
	__ror(~DPB(esi_108, si_109 - 0x2F, 0), 0x15);
	uint32 edx_150 = edx_91 << 0x10 >> 0x10;
	struct Eq_162 ** esp_157 = esp_1 - (struct Eq_162 **) 0x04;
	*esp_157 = (struct Eq_162 **) (edx_150 + 4176979);
	*(esp_157 - (struct Eq_162 **) 0x04) = (struct Eq_162 **) fs->ptr0000;
	__rol((word16) (edx_150 + 4176979), 0x09);
	*(esp_157 - (struct Eq_162 **) 0x08) = (struct Eq_162 **) (esp_157 - (struct Eq_162 **) 0x04);
	fs->ptr0000 = (struct Eq_162 *) *(esp_157 - (struct Eq_162 **) 0x08);
	*(esp_157 - (struct Eq_162 **) 0x08) = (struct Eq_162 **) null;
	*(esp_157 - (struct Eq_162 **) 0x0C) = (struct Eq_162 **) eax_102;
	return eax_149 + 0x3A028404;
}

