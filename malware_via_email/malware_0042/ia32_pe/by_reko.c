// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	byte cl_15;
	byte dl_16;
	word32 eax_17 = fn00401078(globals->a401135, 0x062E, out cl_15, out dl_16);
	fn00401135(eax_17, cl_15, dl_16);
	*(fp - 0x18) = 0x062E;
	*(fp - 0x1C) = 0x00401135;
	byte cl_38;
	byte dl_39;
	fn00401078(dwArg00, dwArg04, out cl_38, out dl_39);
	if (false)
	{
		*(fp - 0x18) = 0x00405000;
		*(fp - 0x1C) = 0x00401000;
		lstrcpyA(*(fp - 0x1C), *(fp - 0x18));
	}
	return 0x00;
}

// 00401078: Register int32 fn00401078(Stack (arr Eq_95) dwArg04, Stack int32 dwArg08, Register out Eq_10 clOut, Register out Eq_11 dlOut)
int32 fn00401078(Eq_95 dwArg04[], int32 dwArg08, Eq_10 & clOut, Eq_11 & dlOut)
{
	*clOut = cl;
	*dlOut = dl;
	int32 dwLoc08_22 = 0x00;
	while (dwLoc08_22 < dwArg08)
	{
		if (dwLoc08_22 > 0x00 && (dwLoc08_22 & 0x01) == 0x00)
		{
			byte * eax_117 = (dwArg04 + dwLoc08_22)->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000;
			(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&dwArg04[dwLoc08_22].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] = (byte) (DPB(eax_117, *eax_117, 0) ^ 0x15);
		}
		if (dwLoc08_22 > 0x02 && (dwLoc08_22 - 0x02 & 0x01) == 0x00)
			(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&dwArg04[dwLoc08_22].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] = (Eq_95) ((&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&dwArg04[dwLoc08_22].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000 + 0x0093).a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000;
		if (dwLoc08_22 > 0x03)
		{
			Eq_128 edx_69 = dwLoc08_22 - 0x03;
			if ((int32) (SEQ(edx_69 >> 0x1F, edx_69) % 0x03) == 0x00)
			{
				byte * eax_85 = (dwArg04 + dwLoc08_22)->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000;
				(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&dwArg04[dwLoc08_22].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] = (byte) (DPB(eax_85, *eax_85, 0) - 115);
			}
		}
		byte * ecx_52 = (dwArg04 + dwLoc08_22)->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000;
		byte dl_57 = (byte) dwLoc08_22;
		*dlOut = dl_57;
		*ecx_52 = (&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&dwArg04[dwLoc08_22].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] - dl_57;
		byte cl_53;
		*clOut = (byte) ecx_52;
		dwLoc08_22 = dwLoc08_22 + 0x01;
	}
	return dwLoc08_22;
}

// 00401135: void fn00401135(Register word32 eax, Register byte cl, Register byte dl)
void fn00401135(word32 eax, byte cl, byte dl)
{
	word32 esp_38;
	word32 ebp_39;
	byte dh_40;
	byte dl_41;
	word32 eax_42;
	byte cl_43;
	byte SZO_44;
	byte C_45;
	struct Eq_159 * es_46;
	word32 ecx_47;
	word32 edx_48;
	word32 ebx_49;
	word32 esi_50;
	word32 edi_51;
	ecx();
}

