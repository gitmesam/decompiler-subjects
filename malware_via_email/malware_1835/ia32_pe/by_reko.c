// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00404A00: Register word32 fn00404A00()
word32 fn00404A00()
{
	fn00405BAE(fp - 0x08);
	return ecx;
}

// 00404A13: void fn00404A13(Register ptr32 ebp, Register up32 esi, Register word32 edi)
void fn00404A13(ptr32 ebp, up32 esi, word32 edi)
{
}

// 00405233: Register ui32 fn00405233(Register up32 ebx, Register up32 esi, Register up32 edi, Stack (ptr Eq_1389) dwArg04, Stack (ptr Eq_1389) dwArg08, Register out ptr32 edxOut)
ui32 fn00405233(up32 ebx, up32 esi, up32 edi, Eq_1389 * dwArg04, Eq_1389 * dwArg08, ptr32 & edxOut)
{
	*edxOut = edx;
	word32 * esp_13 = fp - 0x10;
	Eq_1332 eax_14 = ~0x100D;
	word32 dwLoc38_10 = 0x1A;
	while (dwLoc38_10 != 0x00)
	{
		if (dwLoc38_10 == 0x29)
		{
			esp_13 = esp_13 - 0x04;
			*esp_13 = dwLoc24;
			eax_14 = ImageList_Destroy(*esp_13);
		}
		dwLoc38_10 = dwLoc38_10 - 0x01;
	}
	Eq_1332 eax_105;
	globals->dw412D2B = globals->dw412D2B - *globals->ptr412EA8 - (edi < dwLoc40);
	ui32 ecx_53 = globals->dw4100E0;
	up32 * esp_54 = esp_13 - 0x04;
	*esp_54 = esi;
	globals->dw412DBB = globals->dw412DBB & dwLoc60;
	*(esp_54 - 0x04) = edi;
	int32 eax_65 = eax_14 ^ 13610;
	if (eax_65 + 0x2529 != ecx_53)
	{
		globals->t412D9B = globals->t412D9B ^ globals->dw412D7B;
		if (0x00 != *dwArg04->ptr0034)
		{
			struct Eq_281 * eax_127 = globals->ptr4102C4;
			struct Eq_1488 * edx_129 = *eax_127->ptr0008;
			*edxOut = edx_129;
			globals->dw412D27 = __ror(globals->dw412D27, 0x01);
			word32 ecx_136 = Mem133[Mem133[edx_129 + 0x3C:word32] + 0x28 + edx_129:word32] + edx_129;
			if (eax_127->dw003C != 0x00)
			{
				*(esp_54 - 0x08) = globals->dw4100E4;
				globals->dw412DCF = globals->dw412DCF - globals->dw412DD3 - (ebx < dwLoc48);
				*(esp_54 - 0x0C) = globals->dw4100E0;
				struct Eq_1488 ** eax_174 = globals->ptr4102C4->ptr0008;
				*(esp_54 - 0x10) = *eax_174;
				globals->dw412D7F = globals->dw412D7F + 4271451;
				globals->dw412D7F = globals->dw412D7F | 4271551;
				word32 esp_184;
				word32 ebp_185;
				byte SCZO_186;
				word32 eax_187;
				byte Z_188;
				byte SZO_189;
				word32 ecx_190;
				byte C_191;
				word32 edi_192;
				word32 esi_193;
				byte SO_194;
				word32 edx_195;
				word32 ebx_196;
				bcuisposr0 None_197;
				ecx_136();
				dwArg08->t0000 = (<anonymous>) eax_187;
			}
			globals->ptr4100F0 = null;
			globals->dw4100F4 = 0x00;
			eax_105 = eax_14;
			return (eax_105 ^ 13610) + 0x2529;
		}
	}
	globals->dw412D13 = globals->dw412D13 - globals->dw412DC3;
	eax_105 = ~0x1002;
	return (eax_105 ^ 13610) + 0x2529;
}

// 004053E1: Register uint32 fn004053E1(Register uint32 edx, Register word32 esi, Register word32 edi, Register out ptr32 esiOut, Register out ptr32 ediOut)
uint32 fn004053E1(uint32 edx, word32 esi, word32 edi, ptr32 & esiOut, ptr32 & ediOut)
{
}

// 004059B9: Register word32 fn004059B9(Register (ptr ui32) ecx, Register (ptr Eq_205) ebx, Register ptr32 ebp, Register up32 esi, Stack ptr32 dwArg00, Register out (ptr ui32) edxOut, Register out (ptr Eq_1148) ebxOut, Register out ptr32 esiOut, Register out Eq_1150 ediOut)
word32 fn004059B9(ui32 * ecx, Eq_205 * ebx, ptr32 ebp, up32 esi, ptr32 dwArg00, ui32 * & edxOut, Eq_1148 * & ebxOut, ptr32 & esiOut, Eq_1150 & ediOut)
{
	globals->dw412D13 = globals->dw412D13 | globals->dw412DC7;
	word32 * esp_117 = fp - 0x0C;
	if (false)
	{
		globals->dw4100DC = globals->dw4102FC;
		word32 dwLoc28_116 = 0x15;
		while (dwLoc28_116 != 0x00)
		{
			if (dwLoc28_116 == 0x1E)
			{
				esp_117 = esp_117 - 0x04;
				*esp_117 = dwLoc10;
				PageSetupDlgW(*esp_117);
			}
			dwLoc28_116 = dwLoc28_116 - 0x01;
		}
	}
	word32 dwLoc08_112;
	globals->dw4100E0 = globals->dw410300;
	globals->dw4100E4 = globals->dw410304;
	word32 * esp_36 = esp_117 - 0x04;
	*esp_36 = globals->dw4102E0;
	*(esp_36 - 0x04) = *globals->ptr4102F8;
	*(esp_36 - 0x08) = fp - 0x08;
	globals->dw412CEB = globals->dw412CEB - 4271431;
	word32 edx_56;
	word32 ebx_57;
	word32 esi_58;
	word32 edi_59;
	word32 eax_60 = fn00405C69(ebx, fp - 0x04, esi, fn00405DCA(ebx, dwArg00, dwArg04, dwArg08), out edx_56, out ebx_57, out esi_58, out edi_59);
	globals->dw412D5F = globals->dw412D5F + 4271555;
	globals->dw412D5F = globals->dw412D5F ^ 4271427;
	globals->dw412D5F = globals->dw412D5F + 4271535;
	if (eax_60 != 0x00)
	{
		globals->dw410088 = globals->dw410088 + 0x00677567;
		dwLoc08_112 = 0x00;
	}
	else
		dwLoc08_112 = *globals->ptr4102C4->ptr0038;
	globals->ptr4100FC = fp;
	*globals->ptr4100FC = globals->ptr4100F0 + dwArg00;
	return dwLoc08_112;
}

// 00405B8A: void fn00405B8A(Register (ptr Eq_2214) eax)
void fn00405B8A(Eq_2214 * eax)
{
	globals->ptr4104F4 = (word32 *) ((char *) eax + 0x04);
	globals->dw4104E8 = eax->dw0008;
	globals->dw4104EC = eax->dw000C;
	globals->dw4104F0 = eax->dw0010;
}

// 00405BAE: void fn00405BAE(Register (ptr word32) esi)
void fn00405BAE(word32 * esi)
{
	if (wcslen(&globals->w410510) != ~0x05)
		*esi = 0x03;
	else
	{
		LoadAcceleratorsA(*globals->ptr41004C, &globals->t410520);
		*esi = 0x01;
	}
}

// 00405C69: Register ui32 fn00405C69(Register (ptr Eq_205) ebx, Register (ptr Eq_1389) ebp, Register up32 esi, Register up32 edi, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
ui32 fn00405C69(Eq_205 * ebx, Eq_1389 * ebp, up32 esi, up32 edi, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & esiOut, ptr32 & ediOut)
{
	*edxOut = edx;
	ptr32 esp_16 = fp - 0x1C;
	ptr32 eax_9 = globals->ptr4102EC;
	word32 dwLoc60_14 = 0x18;
	while (dwLoc60_14 != 0x00)
	{
		if (dwLoc60_14 == 0x23)
		{
			SIZE_T * esp_30 = esp_16 - 0x04;
			*esp_30 = (uint32) ~0x100D;
			*(esp_30 - 0x04) = 12822;
			*(esp_30 - 0x08) = dwLoc18;
			*(esp_30 - 0x0C) = dwLoc28;
			HeapReAlloc(*(esp_30 - 0x0C), *(esp_30 - 0x08), *(esp_30 - 0x04), *esp_30);
			esp_16 = esp_30 - 0x0C;
		}
		dwLoc60_14 = dwLoc60_14 - 0x01;
	}
	word32 eax_114;
	word32 eax_43 = globals->dw4102F4;
	struct Eq_205 ** esp_138 = esp_16 - 0x04;
	*esp_138 = (struct Eq_205 **) ebx;
	if (true)
	{
		globals->dw412DAB = globals->dw412DAB + dwLocB8;
		up32 ebx_120 = globals->dw4102F0;
		*(esp_138 - 0x04) = esi;
		*(esp_138 - 0x08) = edi;
		*(esp_138 - 0x0C) = eax_9;
		*(esp_138 - 0x10) = (struct Eq_281 **) globals->ptr4102C4;
		uint32 edx_136;
		word32 eax_137 = fn00405233(ebx_120, esi, edi, dwArg00, dwArg04, out edx_136);
		globals->dw412D1B = globals->dw412D1B + 0x2427;
		esp_138 = esp_138 - 0x08;
		edi = 13610;
		esi = 0x2529;
		if (0x00 != eax_137)
		{
			eax_114 = ~0x100D;
l00405DB8:
			byte * ebx_67 = globals->ptr412E50;
			*ebx_67 = __ror(*ebx_67, 0x09);
			struct Eq_2462 * esp_72 = (char *) esp_138 + 0x04;
			word32 edi_71;
			*ediOut = (struct Eq_205 *) *esp_138;
			word32 esi_75;
			*esiOut = esp_72->dw0000;
			word32 ebx_77;
			*ebxOut = esp_72->dw0004;
			return (eax_114 ^ edi) + esi;
		}
		*(esp_138 - 0x0C) = 203270;
		*(esp_138 - 0x10) = eax_43;
		*(esp_138 - 0x14) = ebx_120;
		*(esp_138 - 0x18) = (struct Eq_281 **) globals->ptr4102C4;
		word32 edx_166;
		*edxOut = fn00407197(edx_136, fp - 0x04, 13610, ebp, dwArg00, dwArg04, dwArg08, dwArg0C, out esi, out edi);
		esp_138 = esp_138 - 0x08;
	}
	globals->ptr4102E8 = fp;
	word32 * eax_104 = globals->ptr4102E8;
	*eax_104 = globals->ptr4100F0 + *eax_104;
	eax_114 = ~0x1002;
	goto l00405DB8;
}

// 00405DCA: Register word32 fn00405DCA(Register (ptr Eq_205) ebx, Stack ptr32 dwArg04, Stack up32 dwArg08, Stack word32 dwArg0C)
word32 fn00405DCA(Eq_205 * ebx, ptr32 dwArg04, up32 dwArg08, word32 dwArg0C)
{
	Eq_2485 eax_167 = (struct HBITMAP__ *) ~0x1002;
	struct Eq_2487 * esp_13 = fp - 0x0C;
	do
	{
		dwLoc18 = dwLoc18 & 0x00;
		do
		{
			uint32 edi_46 = dwLoc18 + 0x01;
			dwLoc18 = edi_46;
			if (edi_46 == 0x1C)
			{
				DWORD * esp_153 = esp_13 - 0x04;
				*esp_153 = (uint32) 7117;
				*(esp_153 - 0x04) = dwLoc10;
				*(esp_153 - 0x08) = 0x00412D2B;
				*(esp_153 - 0x0C) = 7117;
				*(esp_153 - 0x10) = 6086;
				*(esp_153 - 0x14) = 9689;
				esp_13 = esp_153 - 0x14;
				eax_167 = CreateDIBSection(*(esp_153 - 0x14), *(esp_153 - 0x10), *(esp_153 - 0x0C), *(esp_153 - 0x08), *(esp_153 - 0x04), *esp_153);
			}
		} while (edi_46 < 22);
		int32 * edx_54 = (char *) &eax_167->unused + 0x01;
		if (true)
			globals->dw412D6B = globals->dw412D6B >> 0x05;
		globals->dw412D87 = globals->dw412D87 ^ 0x1C88;
		int32 * edx_64 = *((char *) globals->a4100C4 + (edx_54 & 0x03) * 0x04);
		*edx_64 = *edx_64 *s eax_167 *s ~0x200F;
		globals->dw412D57 = globals->dw412D57 - 4271523;
		globals->dw412D57 = globals->dw412D57 ^ 4271431;
		globals->dw412D57 = globals->dw412D57 - 0x00412D1B;
		ui32 * edx_83 = *((char *) globals->a4100C4 + (eax_167 - (struct HBITMAP__ *) 0x01 & 0x03) * 0x04);
		*edx_83 = *edx_83 ^ (eax_167 *s ~0x200C | eax_167);
		if (eax_167 == (struct HBITMAP__ *) ~0x1022)
			globals->ptr4102EC = dwArg04;
		else if (eax_167 == (struct HBITMAP__ *) ~0x11C2)
		{
			globals->ptr412D2F = 0x00412D8F;
			globals->dw4102F0 = dwArg08;
		}
		else if (eax_167 == (struct HBITMAP__ *) ~0x1182)
		{
			globals->dw412D83 = globals->dw412D83 - *globals->ptr412EB0;
			globals->dw4102F4 = dwArg0C;
		}
		eax_167 = (eax_167 ^ 13610) + 0x01 ^ 13610;
		word32 * edx_107 = *((char *) globals->a4100C4 + (eax_167 & 0x03) * 0x04);
		*edx_107 = *edx_107 + (eax_167 *s ~0x200D ^ eax_167);
		ui32 * edx_115 = *((char *) globals->a4100C4 + (eax_167 - (struct HBITMAP__ *) 0x02 & 0x03) * 0x04);
		*edx_115 = *edx_115 | eax_167 *s ~0x200E;
	} while (eax_167 != (struct HBITMAP__ *) ~0x1132);
	return esp_13->dw0000;
}

// 00405F99: void fn00405F99(Stack (ptr Eq_815) dwArg04)
void fn00405F99(Eq_815 * dwArg04)
{
}

// 00406097: Register Eq_2315 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	Eq_2315 eax_132;
	ptr32 esp_6 = fp - 0x10;
	if (fn00404A00() != 0x03)
	{
		fn00407324();
		globals->ptr4104F4 = fp;
		word32 dwLoc28_65 = 0x11;
		while (dwLoc28_65 != 0x00)
		{
			if (dwLoc28_65 == 0x15)
			{
				struct Eq_2931 * esp_80 = esp_6 - 0x04;
				esp_80->t0000 = (Eq_2934) &globals->t41304F;
				*(esp_80 - 0x04) = 0x00412F2C;
				wsprintfW(*(esp_80 - 0x04), esp_80->t0000, esp_80->t0004);
				esp_6 = esp_80 - 0x04;
			}
			dwLoc28_65 = dwLoc28_65 - 0x01;
		}
		fn00405B8A(fp - 0x04);
		if (false)
		{
			globals->t412D9B = __rol(globals->t412D9B, 0x0E);
			globals->dw412D47 = globals->dw412D47 - dwLoc40;
			globals->dw412DAB = globals->dw412DAB ^ *globals->ptr412ECC;
		}
		globals->dw410488 = globals->dw4104E8;
		globals->dw41048C = globals->dw4104EC;
		union Eq_694 * eax_94 = globals->ptr412EB4;
		*eax_94 = (union Eq_694 *) ((char *) *eax_94 + 0x0046);
		globals->dw410490 = globals->dw4104F0;
		globals->ptr410494 = fp - 0x08;
		Eq_2315 eax_101 = GetCurrentProcessId();
		if (eax_101 == 0x00)
		{
			DWORD * esp_134 = esp_6 - 0x04;
			*esp_134 = (uint32) 0x00;
			globals->dw412D7B = globals->dw412D7B ^ 4271459;
			globals->dw412D7B = globals->dw412D7B + 4271423;
			globals->dw412D7B = globals->dw412D7B | 0x00412D23;
			ExitThread(*esp_134);
			return DPB(eax_101, dKcbwEplR(wArg04, ptrArg08), 0);
		}
		else
		{
			fn00404A13(fp - 0x04, esi, edi);
			globals->dw412D03 = globals->dw412D03 - globals->dw412CFB - (*(fp - 0x68) < esi);
			**(fp - 0x10) = *globals->ptr410494;
			ui32 * eax_117 = globals->ptr412EFC;
			*eax_117 = *eax_117 & 26828;
			globals->ptr4100F0 = globals->dw4100F4 ^ globals->ptr4100F0;
			word32 * eax_126 = globals->ptr4104F4;
			*eax_126 = globals->ptr4100F0 + *eax_126;
			eax_132 = (Eq_2315) **(fp - 0x10);
			return eax_132;
		}
	}
	else
	{
		eax_132 = 0x00;
		return eax_132;
	}
}

// 00406230: Register uint16 dKcbwEplR(Stack uint16 wArg04, Stack (ptr real64) ptrArg08)
uint16 dKcbwEplR(uint16 wArg04, real64 * ptrArg08)
{
	globals->dw412DB3 = globals->dw412DB3 | *globals->ptr412F00;
	globals->dw412D63 = globals->dw412D63 & *globals->ptr412E8C;
	globals->dw412D97 = globals->dw412D97 + *globals->ptr412EF8;
	return ax;
}

// 00406276: void fn00406276(Register word32 edi)
void fn00406276(word32 edi)
{
	ptr32 esp_115 = fp - 0x10;
	if (false)
	{
		ui32 * edx_118 = globals->ptr412EE0;
		*edx_118 = *edx_118 ^ 0x4605;
		globals->dw412CFB = globals->dw412CFB + 20077;
	}
	uint32 dwLoc44_18 = dwLoc44 & 0x00;
	do
	{
		uint32 ecx_27 = dwLoc44_18 + 0x01;
		dwLoc44_18 = ecx_27;
		if (ecx_27 == 0x1B)
		{
			union Eq_220 * esp_107 = esp_115 - 0x04;
			*esp_107 = 0x4C52;
			*(esp_107 - 0x04) = dwLoc24;
			*(esp_107 - 0x08) = 4272233;
			*(esp_107 - 0x0C) = 0x229F;
			CreateStatusWindowW(*(esp_107 - 0x0C), *(esp_107 - 0x08), *(esp_107 - 0x04), *esp_107);
			esp_115 = esp_107 - 0x0C;
		}
	} while (ecx_27 < 22);
	globals->t412D17 = globals->t412D17 & 0x00412DDB;
	struct Eq_281 * edx_57 = globals->ptr4102C4;
	ptr32 * esp_60 = esp_115 - 0x04;
	*esp_60 = fp - 0x0C;
	*(esp_60 - 0x04) = 0x40;
	*(esp_60 - 0x08) = globals->dw4102D8;
	*(esp_60 - 0x0C) = (union Eq_220 *) globals->t4102D4;
	*(esp_60 - 0x10) = 0x04;
	*(esp_60 - 0x14) = (char *) &edx_57->dw003C + 0x00FE;
	ptr32 esp_105 = esp_60 - 0x14;
	if (true)
	{
		*(esp_60 - 0x18) = *edx_57->ptr000C;
		esp_105 = esp_60 - 0x18;
	}
	word32 * esp_84 = esp_105 - 0x04;
	*esp_84 = globals->dw410550;
	word32 esp_86;
	word32 ebp_87;
	byte SCZO_88;
	byte SO_89;
	word32 edx_90;
	word32 ecx_91;
	byte SZO_92;
	byte C_93;
	byte Z_94;
	word32 eax_95;
	word32 edi_96;
	globals->ptr41054C();
}

// 004063B0: Register ui32 fn004063B0(Register uint32 edx, Register word32 esi, Register out ptr32 edxOut, Register out ptr32 esiOut)
ui32 fn004063B0(uint32 edx, word32 esi, ptr32 & edxOut, ptr32 & esiOut)
{
	*edxOut = edx;
	word32 * esp_116 = fp - 0x18;
	Eq_220 eax_117 = *globals->ptr410070;
	uint32 dwLoc3C_15 = dwLoc3C & 0x00;
	while (dwLoc3C_15 < 0x1F)
	{
		if (dwLoc3C_15 == 0x28)
		{
			BOOL * esp_36 = esp_116 - 0x04;
			*esp_36 = (int32) 0x00;
			*(esp_36 - 0x04) = 4271487;
			*(esp_36 - 0x08) = 0x1262;
			*(esp_36 - 0x0C) = 0x4424;
			esp_116 = esp_36 - 0x0C;
			eax_117 = GetDlgItemInt(*(esp_36 - 0x0C), *(esp_36 - 0x08), *(esp_36 - 0x04), *esp_36);
		}
		edx = dwLoc3C_15 + 0x01;
		*edxOut = edx;
		dwLoc3C_15 = edx;
	}
	if (true)
	{
		word32 eax_86 = *globals->ptr410074;
		globals->ptr412D2F = globals->ptr412D2F - *globals->ptr412E5C;
		word32 * esp_97 = esp_116 - 0x04;
		*esp_97 = esi;
		globals->dw412D8F = globals->dw412D8F ^ dwLoc80;
		globals->t4102D4 = eax_117;
		*(esp_97 - 0x04) = 0x04;
		*edxOut = 13610;
		esi = eax_86;
		esp_116 = esp_97;
		eax_117 = *(esp_97 - 0x04) - globals->t4102D4;
	}
	globals->dw4102D8 = (word32) eax_117 + esi;
	word32 eax_67 = ~0x100D;
	word32 esi_69;
	*esiOut = *esp_116;
	if (globals->t4102D4 == 0x00)
		eax_67 = ~0x1002;
	return (eax_67 ^ edx) + 0x2529;
}

// 00406D1F: Register (ptr Eq_205) fn00406D1F(Register (ptr Eq_205) ebx, Register up32 esi, Register Eq_69 edi, Stack (ptr Eq_815) dwArg04, Stack (ptr Eq_921) dwArg08, Register out ptr32 esiOut, Register out Eq_923 ediOut)
Eq_205 * fn00406D1F(Eq_205 * ebx, up32 esi, Eq_69 edi, Eq_815 * dwArg04, Eq_921 * dwArg08, ptr32 & esiOut, Eq_923 & ediOut)
{
	Eq_3465 eax_10 = dwArg08->t410458;
	globals->dw412D87 = globals->dw412D87 + dwLoc01F8;
	ptr32 esp_21 = fp - 0x38;
	uint32 dwLoc8C_26 = dwLoc8C & 0x00;
	while (dwLoc8C_26 < 0x15)
	{
		if (dwLoc8C_26 == 0x25)
		{
			union Eq_220 * esp_48 = esp_21 - 0x04;
			*esp_48 = 28481;
			*(esp_48 - 0x04) = dwLoc14;
			*(esp_48 - 0x08) = 4271411;
			*(esp_48 - 0x0C) = dwLoc10;
			*(esp_48 - 0x10) = dwLoc10;
			esp_21 = esp_48 - 0x10;
			eax_10 = GetMenuStringA(*(esp_48 - 0x10), *(esp_48 - 0x0C), *(esp_48 - 0x08), *(esp_48 - 0x04), *esp_48);
		}
		dwLoc8C_26 = dwLoc8C_26 + 0x01;
	}
	union Eq_69 * esp_136 = esp_21 - 0x04;
	*esp_136 = (union Eq_69 *) edi;
	if (true)
	{
		ui32 eax_310 = eax_10 ^ 13610;
		word32 * edi_320 = globals->ptr412F10;
		*edi_320 = *edi_320 + globals->dw412D53;
		globals->dw412DA7 = globals->dw412DA7 & dwLoc01AC;
		globals->dw412DBB = globals->dw412DBB ^ *globals->ptr412EB0;
		globals->a410308[(eax_310 + 0x2529) * 0x02] = 0x00;
		ui32 * eax_348 = globals->ptr412ED4;
		*eax_348 = *eax_348 ^ dwLoc0164;
		globals->dw412CFB = globals->dw412CFB - 0x0D8B;
		byte SCZO_385 = cond(~0x044E);
		if (false)
			__rcr(dwLoc0248, 0x07, SCZO_385);
		word32 * edx_408 = globals->ptr412EF8;
		*edx_408 = *edx_408 - 5152 - (23543 < dwLoc0240);
		globals->dw412DB3 = globals->dw412DB3 | dwLoc01C8;
		*(esp_136 - 0x04) = dwArg04->dw410454;
		*(esp_136 - 0x08) = 0x00410308;
		*(esp_136 - 0x0C) = 0x03;
		union Eq_2028 * ecx_450 = globals->ptr412E40;
		*ecx_450 = (union Eq_2028 *) ((char *) *ecx_450 + 0x0015);
		esp_136 = esp_136 - 0x0C;
		eax_10 = fp - 0x30;
	}
	union Eq_3465 * esp_140 = esp_136 - 0x04;
	*esp_140 = (union Eq_3465 *) eax_10;
	ui32 * eax_159 = globals->ptr4102C4->ptr000C;
	*(esp_140 - 0x04) = *eax_159;
	*(esp_140 - 0x08) = globals->dw410550;
	struct Eq_3595 * esp_166;
	word32 ebp_167;
	byte SCZO_168;
	word32 eax_169;
	word32 ebx_170;
	byte SZO_171;
	byte C_172;
	word32 ecx_173;
	word32 edx_174;
	word32 esi_175;
	byte Z_176;
	word32 edi_177;
	byte O_178;
	word16 ax_179;
	byte CZ_180;
	word16 dx_181;
	word16 cx_182;
	byte P_183;
	globals->ptr41054C();
	<anonymous> * eax_184 = globals->ptr4104D8;
	esp_166->ptr0014 = 0x00410308;
	word32 ebp_190;
	byte SCZO_191;
	ui32 eax_192;
	word32 ebx_193;
	byte SZO_194;
	byte C_195;
	word32 ecx_196;
	word32 edx_197;
	word32 esi_198;
	byte Z_199;
	word32 edi_200;
	byte O_201;
	word16 ax_202;
	byte CZ_203;
	word16 dx_204;
	word16 cx_205;
	byte P_206;
	word32 * esp_189;
	eax_184();
	if (eax_192 != ((dwArg04->dw410458 ^ esi_198) + 0x4A52) + (dwArg08->t410458 ^ esi_198))
	{
		uint32 dwLocDC_241 = dwLocDC & 0x00;
		while (dwLocDC_241 < 0x12)
		{
			if (dwLocDC_241 == 33)
			{
				LPCSTR * esp_259 = esp_189 - 0x04;
				*esp_259 = (LPCSTR *) &globals->t412F9D;
				*(esp_259 - 0x04) = 0x00413023;
				lstrcmpA(*(esp_259 - 0x04), *esp_259);
				esp_189 = esp_259 - 0x04;
			}
			dwLocDC_241 = dwLocDC_241 + 0x01;
		}
		*globals->ptr410494 = (esi_198 ^ ~0x1002) + 0x2529;
		ui32 * ecx_279 = globals->ptr4102C4->ptr000C;
		globals->dw412D53 = globals->dw412D53 + globals->dw412D3F;
		*ecx_279 = (esi_198 ^ ~0x1002) + 0x2529;
	}
	struct Eq_3742 * esp_231 = esp_189 + 0x01;
	word32 edi_230;
	*ediOut = *esp_189;
	word32 esi_232;
	*esiOut = esp_231->dw0000;
	return esp_231->ptr0004;
}

// 00407197: Register uint32 fn00407197(Register uint32 edx, Register (ptr Eq_1389) ebp, Register word32 edi, Stack (ptr Eq_1389) dwArg00, Stack (ptr Eq_1389) dwArg04, Stack (ptr Eq_1389) dwArg08, Stack (ptr Eq_1389) dwArg0C, Stack (ptr Eq_1389) dwArg10, Register out ptr32 esiOut, Register out ptr32 ediOut)
uint32 fn00407197(uint32 edx, Eq_1389 * ebp, word32 edi, Eq_1389 * dwArg00, Eq_1389 * dwArg04, Eq_1389 * dwArg08, Eq_1389 * dwArg0C, Eq_1389 * dwArg10, ptr32 & esiOut, ptr32 & ediOut)
{
	*ediOut = edi;
	word32 * esp_109 = fp - 0x0C;
	word32 esi_12 = 550007;
	if (dwArg10 == (struct Eq_1389 *) 550007)
	{
		word32 ebp_110;
		word32 ecx_111;
		word32 esi_112;
		byte SCZO_113;
		byte Z_114;
		word32 eax_115;
		byte SZO_116;
		byte C_117;
		word32 edi_119;
		dwArg0C();
		goto l004072BF;
	}
	word32 * esp_136;
	if (dwArg10 == (struct Eq_1389 *) 0x00060421)
	{
		uint32 dwLoc48_158 = dwLoc48 & 0x00;
		while (dwLoc48_158 < 22)
		{
			if (dwLoc48_158 == 33)
			{
				HMENU * esp_177 = esp_109 - 0x04;
				*esp_177 = (HMENU *) dwLoc28;
				*(esp_177 - 0x04) = 14997;
				SetMenu(*(esp_177 - 0x04), *esp_177);
				esp_109 = esp_177 - 0x04;
			}
			dwLoc48_158 = dwLoc48_158 + 0x01;
		}
		if (0x00 != 0x00)
		{
			int8 * ecx_214 = globals->ptr412F04;
			*ecx_214 = *ecx_214 >> 0x01;
			globals->dw412DD7 = globals->dw412DD7 ^ dwLoc74;
		}
		if (0x00 != *(globals->ptr4102C4)->ptr000C && 0x00 == globals->dw410080)
			edx = fn004053E1(edx, 550007, edi, out esi_12, out edi);
		esp_136 = esp_109 - 0x04;
		*esp_136 = esi_12;
	}
	else
	{
		if (dwArg10 != (struct Eq_1389 *) 203270)
			goto l004072BF;
		esp_136 = fp - 0x10;
	}
	struct Eq_1389 ** esp_138 = esp_136 - 0x04;
	*esp_138 = (struct Eq_1389 **) dwArg0C;
	*(esp_138 - 0x04) = (struct Eq_1389 **) dwArg08;
	*(esp_138 - 0x08) = (struct Eq_1389 **) dwArg04;
	word32 esi_147;
	word32 edi_148;
	edx = fn00407197(edx, fp - 0x04, edi, ebp, dwArg00, dwArg04, dwArg08, dwArg0C, out esi_147, out edi_148);
	esp_109 = (word32 *) ((char *) esp_138 + 0x08);
l004072BF:
	ui32 * eax_40 = globals->ptr4100F0;
	globals->dw412D3B = globals->dw412D3B - dwLoc68;
	word32 esi_52;
	*esiOut = *esp_109;
	Mem65[0x00412DCB:word32] = Mem49[0x00412DCB:word32] + 0x00412DDF + (eax_40 + dwArg00 <u fp - 0x04);
	globals->dw412DCB = globals->dw412DCB | 4271523;
	return edx;
}

// 00407324: void fn00407324()
void fn00407324()
{
	globals->dw4104E8 = globals->dw4104E8 ^ globals->dw4104E8;
	globals->dw4104EC = globals->dw4104EC ^ globals->dw4104EC;
	globals->dw4104F0 = globals->dw4104F0 ^ globals->dw4104F0;
	globals->ptr4104F4 = globals->ptr4104F4;
}

