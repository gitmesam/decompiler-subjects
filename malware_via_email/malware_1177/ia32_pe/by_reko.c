// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00409268: FpuStack real64 fn00409268(Register int8 al, Register byte ah, Register Eq_5 ecx, Register Eq_5 edx, Register (arr Eq_18) ebx, Register Eq_8 ebp, Register Eq_8 esi, Register Eq_5 edi, Stack Eq_11 dwArg00, FpuStack real64 rArg0)
real64 fn00409268(int8 al, byte ah, Eq_5 ecx, Eq_5 edx, Eq_18 ebx[], Eq_8 ebp, Eq_8 esi, Eq_5 edi, Eq_11 dwArg00, real64 rArg0)
{
}

// 0040A196: FlagGroup bool fn0040A196(Stack (ptr byte) dwArg04, Stack word32 dwArg08, Stack (ptr Eq_1221) dwArg0C, Register out Eq_1222 alOut, Register out Eq_1223 ahOut, Register out ptr32 ecxOut, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
bool fn0040A196(byte * dwArg04, word32 dwArg08, Eq_1221 * dwArg0C, Eq_1222 & alOut, Eq_1223 & ahOut, ptr32 & ecxOut, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
}

// 0040A1FC: Register Eq_1303 fn0040A1FC(Stack Eq_1304 dwArg04, Stack Eq_1304 dwArg08)
FARPROC fn0040A1FC(LPCSTR dwArg04, LPCSTR dwArg08)
{
	return GetProcAddress(LoadLibraryA(dwArg04), dwArg08);
}

// 0040A214: FlagGroup bool fn0040A214(Register Eq_8 ebp, Register out Eq_1317 alOut, Register out Eq_1318 ahOut, Register out ptr32 ecxOut, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
bool fn0040A214(Eq_8 ebp, Eq_1317 & alOut, Eq_1318 & ahOut, ptr32 & ecxOut, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & esiOut, ptr32 & ediOut)
{
	globals->dw40C3B1 = 0x506C6175;
	globals->dw40C39C = 0x32336C65;
	globals->dw40C3B5 = 1702129522;
	globals->dw40C3AD = 1953655126;
	globals->dw40C398 = 0x6E72656B;
	ptr32 esp_40;
	word32 ebp_41;
	byte SCZO_42;
	word32 ecx_43;
	word32 eax_44;
	word32 ebx_45;
	word32 esi_46;
	bool C_47;
	byte al_48;
	byte ah_49;
	word32 edx_50;
	word32 edi_51;
	fn0040A1FC(globals->dw40C398, globals->dw40C3AD)();
	*(esp_40 - 0x04) = 0x0040C074;
	*(esp_40 - 0x08) = globals->dw40C070;
	*(esp_40 - 0x0C) = 0x00401008;
	byte al_65;
	byte ah_66;
	word32 ecx_67;
	word32 edx_68;
	word32 ebx_69;
	word32 ebp_70;
	word32 esi_71;
	word32 edi_72;
	return fn0040A196(dwArg00, dwArg04, dwArg08, out al_65, out ah_66, out ecx_67, out edx_68, out ebx_69, out ebp_70, out esi_71, out edi_72);
}

// 0040A299: Register Eq_1397 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	globals->t40C38A = VirtualAlloc(null, 400, 0x2000, 0x04);
	GetVersion();
	VirtualFree(edx, 0x00, 0x8000);
	globals->dw40C3D7 = 1818504809;
	globals->w40C3D0 = 0x7049;
	globals->dw40C3D3 = 0x7061706C;
	<anonymous> * eax_28 = fn0040A1FC(&globals->w40C3D0, &globals->t40C3ED);
	ptr32 esp_32;
	word32 eax_33;
	word32 edx_34;
	byte SCZO_35;
	byte Z_36;
	Eq_8 ebp_37;
	byte al_38;
	byte ah_39;
	word32 ecx_40;
	word32 ebx_41;
	word32 esi_42;
	word32 edi_43;
	bool C_44;
	real64 rArg0_45;
	eax_28();
	if (eax_33 == 0x57)
	{
		int8 al_60;
		byte ah_61;
		Eq_5 ecx_62;
		Eq_5 edx_63;
		Eq_18 (* ebx_64)[];
		Eq_8 esi_65;
		Eq_5 edi_66;
		fn0040A214(ebp_37, out al_60, out ah_61, out ecx_62, out edx_63, out ebx_64, out esi_65, out edi_66);
		fn00409268(al_60, ah_61, ecx_62, edx_63, ebx_64, ebp_37, esi_65, edi_66, 0x04, rArg0_45);
	}
	*(esp_32 - 0x04) = 0x00;
	ExitProcess(*(esp_32 - 0x04));
}

