// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 004011D3: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	if (*(dwArg00 - ~0x06) != 0x9090)
		return OpenFile((CHAR *) 0xAB65A304, dwArg00, tArg04);
	struct Eq_11 * edx_64 = DPB(1219242, (word16) fp, 0);
	struct Eq_16 * esi_67 = edx_64->dw0000;
	word32 edi_74 = globals->dw4010E6;
	do
	{
		esi_67 = esi_67 + 0x01;
		edx_64 = edx_64 - 0xDC41351D;
		word32 eax_88 = esi_67->dw0000 - edi_74;
	} while (eax_88 != 0x00);
	word32 edi_102 = __rol(edi_74 + 3417604837, 0x1E);
	ui32 eax_104 = DPB(eax_88, esi_67->wFFFFFFFE, 0);
	__rol((word16) ~edx_64, 0x0C);
	__ror(edi_102, 0x05);
	Eq_3 ecx_116 = dwArg00;
	word32 eax_118 = 0x0040102E;
	word32 esi_121 = globals->dw401036;
	do
	{
		ecx_116 = (word32) ecx_116 + 0x01;
		ui32 edi_129 = *ecx_116;
		word16 cx_132 = (word16) ecx_116;
		eax_118 = eax_118 - 0x01;
		cui16 di_139 = (word16) (edi_129 & ebp);
	} while ((edi_129 ^ esi_121) != 0x00);
	__rol(di_139, 0x03);
	__ror(cx_132, 0x03);
	ui32 eax_154 = __ror(eax_118, 0x1B);
	__rol((word16) ((eax_104 << 0x10 >> 0x10) + 4177183) | ~0x5D, 0x0D);
	fs->ptr0000 = fp - 0x08;
	return (word32) ecx_116 + (eax_154 & 0xE00AF4E5);
}

