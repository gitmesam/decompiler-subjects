// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: void fn00401000(Stack word32 dwArg04)
void fn00401000(word32 dwArg04)
{
	__align(fp - 0x04);
	Mem25[dwArg04 + 0x00:byte] = Mem0[0x00405350:byte];
	word32 esi_104 = dwLoc013C;
	word32 ebx_105 = 0x00;
	word32 edx_134 = dwArg04 + 0x01;
	word32 edi_102 = 0x00405351;
	word32 dwLoc0148_100 = 0x00;
	word32 dwLoc0134_275 = 0x00;
	word32 dwLoc0140_101 = dwArg04 + 0x01;
	word32 dwLoc0144_130 = 0x00405351;
	do
	{
		ebx_105 = ebx_105 - 0x01;
		if (ebx_105 == 0x00)
		{
			edi_102 = edi_102 + 0x01;
			esi_104 = (word32) Mem25[edi_102 + 0x00:byte];
			dwLoc0144_130 = edi_102;
			ebx_105 = ebx_105 + 0x07;
		}
		esi_104 = esi_104 * 0x02;
		if ((esi_104 >>u 0x07 & 0x01) != 0x00)
		{
			word32 ebx_153 = ebx_105 - 0x01;
			word32 dwLoc0138_157 = ebx_153;
			if (ebx_105 == 0x00)
			{
				edi_102 = edi_102 + 0x01;
				esi_104 = (word32) Mem25[edi_102 + 0x00:byte];
				ebx_153 = 0x07;
				dwLoc0144_130 = edi_102;
				dwLoc0138_157 = 0x07;
			}
			word32 esi_172 = esi_104 * 0x02;
			if ((esi_104 >>u 0x07 & 0x01) != 0x00)
			{
				ebx_105 = ebx_153 - 0x01;
				if (ebx_153 == 0x00)
				{
					esi_172 = (word32) Mem25[edi_102 + 0x00:byte];
					edi_102 = edi_102 + 0x01;
					ebx_105 = ebx_153 + 0x07;
				}
				esi_104 = esi_172 * 0x02;
				if ((esi_172 >>u 0x07 & 0x01) != 0x00)
				{
					word32 ecx_201 = 0x00;
					word32 dwLoc0148_205 = 0x04;
					do
					{
						ebx_105 = ebx_105 - 0x01;
						if (ebx_105 == 0x00)
						{
							esi_104 = (word32) Mem25[edi_102 + 0x00:byte];
							edi_102 = edi_102 + 0x01;
							ebx_105 = ebx_105 + 0x07;
						}
						word32 v26_236 = dwLoc0148_205 - 0x01;
						esi_104 = esi_104 * 0x02;
						dwLoc0148_205 = v26_236;
						ecx_201 = (esi_104 >>u 0x07 & 0x01) + ecx_201 * 0x02;
					} while (v26_236 != 0x00);
					dwLoc0144_130 = edi_102;
					if (ecx_201 != 0x00)
					{
						Mem251[edx_134 + 0x00:byte] = Mem25[edx_134 - ecx_201 + 0x00:byte];
						edx_134 = edx_134 + 0x01;
					}
					else
					{
						Mem255[edx_134 + 0x00:byte] = 0x00;
						edx_134 = edx_134 + 0x01;
					}
					goto l004012B0;
				}
				word32 ecx_263 = (word32) Mem25[edi_102 + 0x00:byte];
				edi_102 = edi_102 + 0x01;
				word32 eax_267 = (ecx_263 & 0x01) + 0x02;
				dwLoc0144_130 = edi_102;
				if (ecx_263 >>u 0x01 != 0x00)
				{
					if (eax_267 == 0x00)
						goto l004011C4;
					do
					{
						edx_134 = edx_134 + 0x01;
						Mem295[edx_134 - 0x01 + 0x00:byte] = Mem25[edx_134 - (ecx_263 >>u 0x01) + 0x00:byte];
						eax_267 = eax_267 - 0x01;
					} while (eax_267 != 0x00);
					dwLoc0140_101 = edx_134;
					dwLoc0130 = ecx_263 >>u 0x01;
					dwLoc0148_100 = 0x01;
				}
				else
				{
					dwLoc0134_275 = 0x01;
l004011C4:
					dwLoc0130 = ecx_263 >>u 0x01;
					dwLoc0148_100 = 0x01;
				}
				goto l004012B4;
			}
			word32 eax_332;
			word32 eax_307 = fn00401AC0(ebx_153, fp - 0x0144);
			if (dwLoc0148_100 == 0x00)
			{
				if (eax_307 == 0x02)
				{
					word32 eax_393 = fn00401AC0(ebx_153, fp - 0x0144);
					edx_134 = dwLoc0140_101;
					if (eax_393 != 0x00)
					{
						do
						{
							edx_134 = edx_134 + 0x01;
							Mem409[edx_134 - 0x01 + 0x00:byte] = Mem25[edx_134 - dwLoc0130 + 0x00:byte];
							eax_393 = eax_393 - 0x01;
						} while (eax_393 != 0x00);
						dwLoc0140_101 = edx_134;
					}
					goto l00401280;
				}
				eax_332 = eax_307 - 0x03;
			}
			else
				eax_332 = eax_307 - 0x02;
			word32 eax_336 = (eax_332 << 0x08) + (word32) Mem25[dwLoc0144_130 + 0x00:byte];
			dwLoc0144_130 = dwLoc0144_130 + 0x01;
			word32 eax_342 = fn00401AC0(ebx_153, fp - 0x0144);
			if (eax_336 >=u 0x7D00)
				eax_342 = eax_342 + 0x01;
			if (eax_336 >=u 0x0500)
				eax_342 = eax_342 + 0x01;
			if (eax_336 <u 0x80)
				eax_342 = eax_342 + 0x02;
			edx_134 = dwLoc0140_101;
			if (eax_342 != 0x00)
			{
				do
				{
					Mem375[edx_134 + 0x00:byte] = Mem25[edx_134 - eax_336 + 0x00:byte];
					edx_134 = edx_134 + 0x01;
					eax_342 = eax_342 - 0x01;
				} while (eax_342 != 0x00);
				dwLoc0140_101 = edx_134;
			}
			dwLoc0130 = eax_336;
l00401280:
			ebx_105 = dwLoc0138_157;
			esi_104 = esi_172;
			edi_102 = dwLoc0144_130;
			dwLoc0148_100 = 0x01;
		}
		else
		{
			Mem424[edx_134 + 0x00:byte] = Mem25[edi_102 + 0x00:byte];
			edi_102 = edi_102 + 0x01;
			edx_134 = edx_134 + 0x01;
			dwLoc0144_130 = edi_102;
l004012B0:
			dwLoc0148_100 = 0x00;
			dwLoc0140_101 = edx_134;
		}
l004012B4:
	} while (dwLoc0134_275 == 0x00);
}

// 00401380: Register word32 fn00401380(Register word32 ecx, Register word32 ebx, Register word32 ebp, Register word32 edi, Register out ptr32 ecxOut, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn00401380(word32 ecx, word32 ebx, word32 ebp, word32 edi, ptr32 & ecxOut, ptr32 & ebxOut, ptr32 & esiOut, ptr32 & ediOut)
{
	word32 edx_21 = 0x15;
	do
		edx_21 = edx_21 - 0x01;
	while (edx_21 != 0x00);
	CharNextA(fp - 0x05);
	fn004018B0(fp - 0x14, 0x0A, 0x00409780);
	word32 edi_332 = LoadLibraryA(fp - 0x14);
	word32 esp_327 = fp - 0xB4;
	word32 eax_62 = GetCurrentThread();
	if (eax_62 == 0x00)
	{
		word32 ebp_328;
		byte SCZO_329;
		word32 ebx_330;
		word32 esi_331;
		word32 ecx_333;
		word32 eax_334;
		word32 edx_335;
		byte SZO_336;
		bool C_337;
		bool Z_338;
		byte bl_339;
		byte SO_340;
		byte dl_341;
		0x00409780();
	}
	word32 esi_79 = 0x00;
	if (false)
		fn004017A0();
	do
		esi_79 = esi_79 + 0x01;
	while (esi_79 < 0x03);
	word32 esp_86 = esp_327 - 0x04;
	Mem87[esp_86 + 0x00:word32] = 0x021C0C0C;
	word32 ecx_91;
	word32 edx_92;
	word32 eax_93 = fn00401C20(edi_332, esi_79, edi_332, dwArg00, out ecx_91, out edx_92);
	word32 esp_104 = esp_86 + 0x04;
	do
	{
		word32 esp_98 = esp_104 - 0x04;
		Mem99[esp_98 + 0x00:word32] = 0x00;
		Mem101[esp_98 - 0x04 + 0x00:word32] = 0x00;
		Mem103[esp_98 - 0x08 + 0x00:word32] = 0x00;
		word32 ebp_105;
		byte SCZO_106;
		word32 ebx_107;
		word32 esi_108;
		word32 edi_109;
		word32 ecx_110;
		word32 eax_111;
		word32 edx_112;
		byte SZO_113;
		bool C_114;
		bool Z_115;
		byte bl_116;
		byte SO_117;
		byte dl_118;
		eax_93();
	} while (eax_111 != 0x00);
	Mem123[esp_104 - 0x04 + 0x00:word32] = ~0x00;
	Mem125[esp_104 - 0x08 + 0x00:word32] = ~0x00;
	Mem127[esp_104 - 0x0C + 0x00:word32] = ~0x00;
	word32 ebp_129;
	byte SCZO_130;
	word32 ecx_134;
	word32 eax_135;
	word32 edx_136;
	byte SZO_137;
	bool C_138;
	bool Z_139;
	byte bl_140;
	byte SO_141;
	byte dl_142;
	word32 edi_133;
	word32 esi_132;
	word32 ebx_131;
	word32 esp_128;
	esi_108();
	if (eax_135 != 0x00EFEF20)
	{
		word32 ebp_313;
		byte SCZO_314;
		word32 ecx_318;
		word32 eax_319;
		word32 edx_320;
		byte SZO_321;
		bool C_322;
		bool Z_323;
		byte bl_324;
		byte SO_325;
		byte dl_326;
		eax_135();
	}
	GetLastError();
	word32 esp_154 = esp_128 - 0x04;
	Mem155[esp_154 + 0x00:word32] = 3769334729;
	word32 ecx_156;
	word32 edx_157;
	word32 eax_158 = fn00401C20(ebx_131, esi_132, edi_133, dwArg00, out ecx_156, out edx_157);
	Mem169[esp_154 + 0x00:word32] = 0x00;
	Mem171[esp_154 - 0x04 + 0x00:word32] = 0x08;
	Mem173[esp_154 - 0x08 + 0x00:word32] = 2172712;
	word32 ebp_175;
	byte SCZO_176;
	word32 ecx_180;
	word32 eax_181;
	word32 edx_182;
	byte SZO_183;
	bool C_184;
	bool Z_185;
	byte bl_186;
	byte SO_187;
	byte dl_188;
	word32 edi_179;
	word32 esi_178;
	word32 ebx_177;
	word32 esp_174;
	eax_158();
	if (eax_181 != 0x00222728)
	{
		word32 ebp_298;
		byte SCZO_299;
		word32 ecx_303;
		word32 eax_304;
		word32 edx_305;
		byte SZO_306;
		bool C_307;
		bool Z_308;
		byte bl_309;
		byte SO_310;
		byte dl_311;
		eax_181();
	}
	word32 esp_195 = esp_174 - 0x04;
	Mem196[esp_195 + 0x00:word32] = 2921600904;
	word32 ecx_197;
	word32 edx_198;
	word32 eax_199 = fn00401C20(ebx_177, esi_178, edi_179, dwArg00, out ecx_197, out edx_198);
	Mem203[esp_195 + 0x00:word32] = 0x20;
	Mem206[esp_195 - 0x04 + 0x00:word32] = fp - 0x38;
	Mem208[esp_195 - 0x08 + 0x00:word32] = 11;
	word32 ebp_210;
	byte SCZO_211;
	word32 ebx_212;
	word32 esi_213;
	word32 edi_214;
	word32 ecx_215;
	word32 edx_217;
	byte SZO_218;
	bool C_219;
	bool Z_220;
	byte bl_221;
	byte SO_222;
	byte dl_223;
	word32 eax_216;
	word32 esp_209;
	eax_199();
	word32 ecx_224 = fp - 0x38;
	*ecxOut = ecx_224;
	if (eax_216 != fp - 0x38)
	{
		word32 ebp_283;
		byte SCZO_284;
		word32 ebx_285;
		word32 esi_286;
		word32 edi_287;
		word32 ecx_288;
		word32 edx_290;
		byte SZO_291;
		bool C_292;
		bool Z_293;
		byte bl_294;
		byte SO_295;
		byte dl_296;
		eax_216();
	}
	if (bLoc38 != bLoc37)
	{
		word32 ebp_268;
		byte SCZO_269;
		word32 ebx_270;
		word32 esi_271;
		word32 edi_272;
		word32 ecx_273;
		word32 edx_275;
		byte SZO_276;
		bool C_277;
		bool Z_278;
		byte bl_279;
		byte SO_280;
		byte dl_281;
		eax_216();
	}
	word32 esp_255 = esp_209 + 0x04;
	word32 edi_254;
	*ediOut = Mem208[esp_209 + 0x00:word32];
	word32 esi_256;
	*esiOut = Mem208[esp_255 + 0x00:word32];
	word32 ebx_258;
	*ebxOut = Mem208[esp_255 + 0x04:word32];
	return eax_216;
}

// 004014A0: Register word32 fn004014A0(Register word32 eax, Register word32 ecx, Register word32 ebx, Register word32 ebp, Register word32 edi)
word32 fn004014A0(word32 eax, word32 ecx, word32 ebx, word32 ebp, word32 edi)
{
	word32 esi_14 = Mem0[0x00405344:word32];
	word32 ebp_32 = fp - 0x04;
	word32 esp_15 = fp - 0x0274;
	word32 eax_24 = GetCurrentThread();
	if (eax_24 == 0x00)
	{
		byte SCZO_557;
		word32 esi_559;
		word32 eax_561;
		byte SZO_562;
		bool C_563;
		bool Z_564;
		word32 edx_566;
		byte al_567;
		word16 dx_568;
		bool S_569;
		selector fs_570;
		esi_14();
	}
	word32 ecx_37;
	word32 ebx_38;
	word32 esi_39;
	word32 edi_40;
	fn00401380(ecx, ebx, ebp_32, edi, out ecx_37, out ebx_38, out esi_39, out edi_40);
	word32 edx_53 = Mem0[Mem0[esi_39 + 0x3C:word32] + 0xC0 + esi_39:word32];
	fn004018B0(fp - 0x28, 0x18, fp - 0x38);
	word32 esp_81 = esp_15 - 0x04;
	Mem82[esp_81 + 0x00:word32] = fp - 0x28;
	word32 eax_83 = LoadLibraryA(Mem82[esp_81 + 0x00:LPCSTR]);
	Mem86[esp_81 + 0x00:word32] = 3321835334;
	word32 ecx_89;
	word32 edx_90;
	word32 eax_91 = fn00401C20(eax_83, esi_39, edi_40, dwArg00, out ecx_89, out edx_90);
	Mem96[esp_81 + 0x00:word32] = fp - 0x10;
	Mem98[esp_81 - 0x04 + 0x00:word32] = 0x40;
	Mem100[esp_81 - 0x08 + 0x00:word32] = 0x6200;
	Mem102[esp_81 - 0x0C + 0x00:word32] = esi_39;
	word32 esp_103;
	word32 ebp_104;
	byte SCZO_105;
	word32 ebx_106;
	word32 esi_107;
	word32 edi_108;
	word32 eax_109;
	byte SZO_110;
	bool C_111;
	bool Z_112;
	word32 ecx_113;
	word32 edx_114;
	byte al_115;
	word16 dx_116;
	bool S_117;
	selector fs_118;
	eax_91();
	Mem122[esp_103 - 0x04 + 0x00:word32] = 0x00;
	word32 edi_120 = GetModuleHandleA;
	word32 eax_123 = GetModuleHandleA(Mem122[esp_103 - 0x04 + 0x00:LPCSTR]);
	word32 esp_124 = esp_103;
	if (eax_123 == 0x00)
	{
		word32 ebp_517;
		byte SCZO_518;
		word32 ebx_519;
		word32 esi_520;
		word32 eax_522;
		byte SZO_523;
		bool C_524;
		bool Z_525;
		word32 ecx_526;
		word32 edx_527;
		byte al_528;
		word16 dx_529;
		bool S_530;
		selector fs_531;
		(fp - 0x04)();
	}
	word32 esp_146 = esp_124 - 0x04;
	Mem147[esp_146 + 0x00:word32] = esi_14;
	fn00401000(dwArg00);
	word32 eax_150 = esi_14;
	word32 ecx_152 = 0x187F;
	do
	{
		Mem156[eax_150 + 0x00:word32] = Mem147[eax_150 + 0x00:word32] + 0x4DF4;
		eax_150 = eax_150 + 0x04;
		ecx_152 = ecx_152 - 0x01;
	} while (ecx_152 != 0x00);
	Mem163[esp_146 + 0x00:word32] = ecx_152;
	word32 esp_164;
	word32 ebp_165;
	byte SCZO_166;
	word32 ebx_167;
	word32 esi_168;
	word32 edi_169;
	word32 eax_170;
	byte SZO_171;
	bool C_172;
	bool Z_173;
	word32 ecx_174;
	word32 edx_175;
	byte al_176;
	word16 dx_177;
	bool S_178;
	selector fs_179;
	edi_120();
	word32 edi_187 = Mem163[esi_168 + 0x3C:word32] + esi_168;
	Mem188[edi_187 + 0xC0:word32] = edx_53;
	word32 eax_189 = Mem188[edi_187 + 0xA0:word32];
	Mem195[edi_187 + 22:word16] = wLoc14;
	if (eax_189 != 0x00)
	{
		word32 esi_432 = eax_189 + Mem195[0x00405344:word32];
		Mem438[esp_164 - 0x04 + 0x00:word32] = fp - 0x14;
		CharNextA(Mem438[esp_164 - 0x04 + 0x00:LPCSTR]);
		word32 edx_444 = Mem438[0x00405344:word32] - Mem438[edi_187 + 0x34:word32];
		word32 ecx_447 = 0x0162;
		word32 ebx_448 = 0x0A;
		do
		{
			ecx_447 = ecx_447 - 0x03;
			if (ecx_447 != 0x00)
				ecx_447 = 0x03;
			ebx_448 = ebx_448 - 0x01;
		} while (ebx_448 != 0x00);
		if (Mem438[esi_432 + 0x00:word32] != ebx_448)
		{
			do
			{
				word32 eax_473 = Mem438[esi_432 + 0x04:word32];
				word32 ecx_479 = esi_432 + 0x08;
				if (eax_473 - 0x08 >>u 0x01 > 0x00)
				{
					word32 dwLoc18_488 = eax_473 - 0x08 >>u 0x01;
					do
					{
						word32 eax_491 = (word32) Mem438[ecx_479 + 0x00:word16];
						if ((eax_491 & 0xF000) == 0x3000)
						{
							word32 eax_507 = (eax_491 & 0x0FFF) + Mem438[esi_432 + 0x00:word32] + Mem438[0x00405344:word32];
							Mem509[eax_507 + 0x00:word32] = Mem438[eax_507 + 0x00:word32] + edx_444;
						}
						word32 v26_500 = dwLoc18_488 - 0x01;
						ecx_479 = ecx_479 + 0x02;
						dwLoc18_488 = v26_500;
					} while (v26_500 != 0x00);
				}
				esi_432 = esi_432 + Mem438[esi_432 + 0x04:word32];
			} while (Mem438[esi_432 + 0x00:word32] != 0x00);
		}
	}
	if (Mem195[edi_187 + 0x80:word32] != 0x00)
	{
		Mem301[esp_164 - 0x04 + 0x00:word32] = 0x00;
		CloseHandle(Mem301[esp_164 - 0x04 + 0x00:HANDLE]);
		word32 ebx_305 = Mem301[edi_187 + 0x80:word32] + Mem301[0x00405344:word32];
		word32 dwLoc14_308 = ebx_305;
		if (Mem301[ebx_305 + 0x10:word32] != 0x00)
		{
			do
			{
				Mem324[esp_164 - 0x04 + 0x00:word32] = Mem301[ebx_305 + 0x0C:word32] + Mem301[0x00405344:word32];
				word32 eax_325 = LoadLibraryA(Mem324[esp_164 - 0x04 + 0x00:LPCSTR]);
				if (eax_325 != 0x00)
				{
					word32 ebx_359;
					word32 eax_354 = Mem324[ebx_305 + 0x00:word32];
					if (eax_354 != 0x00)
						ebx_359 = eax_354;
					else
						ebx_359 = Mem324[ebx_305 + 0x10:word32];
					word32 eax_360 = Mem324[0x00405344:word32];
					word32 ebx_363 = ebx_359 + eax_360;
					word32 eax_365 = Mem324[ebx_363 + 0x00:word32];
					word32 esi_364 = Mem324[dwLoc14_308 + 0x10:word32] + eax_360;
					bool S_369 = (bool) cond(eax_365);
					if (eax_365 != 0x00)
					{
						do
						{
							word32 edx_402;
							if (!S_369)
								edx_402 = (word32) Mem324[ebx_363 + 0x00:word16];
							else
								edx_402 = eax_365 + 0x02 + Mem324[0x00405344:word32];
							Mem405[esp_164 - 0x04 + 0x00:word32] = edx_402;
							Mem407[esp_164 - 0x08 + 0x00:word32] = eax_325;
							Mem411[esi_364 + 0x00:word32] = GetProcAddress(Mem407[esp_164 - 0x08 + 0x00:HMODULE], Mem407[esp_164 - 0x04 + 0x00:LPCSTR]);
							ebx_363 = ebx_363 + 0x04;
							eax_365 = Mem411[ebx_363 + 0x00:word32];
							esi_364 = esi_364 + 0x04;
							S_369 = (bool) cond(eax_365);
						} while (eax_365 != 0x00);
					}
					ebx_305 = dwLoc14_308;
				}
				ebx_305 = ebx_305 + 0x14;
				dwLoc14_308 = ebx_305;
			} while (Mem324[ebx_305 + 0x10:word32] != 0x00);
		}
	}
	word32 eax_228 = Mem195[edi_187 + 0x28:word32] + Mem195[0x00405344:word32];
	Mem231[0x0040534C:word32] = eax_228;
	Mem233[esp_164 - 0x04 + 0x00:word32] = eax_228;
	word32 edi_240 = Mem233[Mem233[Mem233[fs_179:0x30:word32] + 0x0C:word32] + 0x0C:word32];
	word32 eax_241 = Mem233[0x00405344:word32];
	do
		edi_240 = Mem233[edi_240 + 0x00:word32];
	while (Mem233[edi_240 + 0x18:word32] != eax_241);
	Mem251[esp_164 - 0x04 + 0x00:word32] = fp - 0x08;
	CharNextA(Mem251[esp_164 - 0x04 + 0x00:LPCSTR]);
	Mem268[edi_240 + 0x1C:word32] = Mem251[0x0040534C:word32];
	word32 ecx_269 = 0x03B3;
	word32 edx_270 = 0x0A;
	do
	{
		ecx_269 = ecx_269 + 0x02;
		if (ecx_269 == 0x00)
			ecx_269 = 0x01;
		edx_270 = edx_270 - 0x01;
	} while (edx_270 != 0x00);
	return ecx_269;
}

// 004017A0: void fn004017A0()
void fn004017A0()
{
	if (GetMessageA(fp - 0x1C, 0x00, 0x00, 0x00) != 0x00)
	{
		do
		{
			TranslateMessage(fp - 0x1C);
			DispatchMessageA(fp - 0x1C);
		} while (GetMessageA(fp - 0x1C, 0x00, 0x00, 0x00) != 0x00);
	}
}

// 00401800: Register DWORD Win32CrtStartup()
DWORD Win32CrtStartup()
{
	word32 ebp_124 = fp - 0x04;
	word32 eax_11 = 0x035E;
	word32 edx_13 = 0x31;
	do
	{
		eax_11 = eax_11 - 0x0A;
		word32 dwLoc08_137 = eax_11;
		if (eax_11 == 0x00)
		{
			eax_11 = 0x08;
			dwLoc08_137 = 0x08;
		}
		word32 ecx_125 = dwLoc08_137;
		edx_13 = edx_13 - 0x01;
	} while (edx_13 != 0x00);
	word32 eax_126 = RegQueryValueA(edx_13, edx_13, edx_13, edx_13);
	word32 esp_123 = fp - 0x0C;
	if (eax_126 != 0x06)
	{
		word32 edx_127;
		byte SCZO_128;
		bool Z_129;
		byte SZO_130;
		bool C_131;
		word16 ax_132;
		(fp - 0x04)();
	}
	word32 ecx_53;
	word32 ebx_54;
	word32 edi_55;
	word32 eax_56 = fn00401920(eax_126, ecx_125, ebx, edi, out ecx_53, out ebx_54, out edi_55);
	if (eax_56 != 0x00)
	{
		word32 esp_96 = esp_123 - 0x04;
		Mem97[esp_96 + 0x00:word32] = 66;
		word32 eax_106 = DPB(eax_56, GetKeyState(Mem97[esp_96 + 0x00:int32]), 0);
		word32 ecx_101 = 0x033B;
		word32 edx_102 = 0x06;
		do
		{
			ecx_101 = ecx_101 >>u 0x08;
			word32 dwLoc08_110 = ecx_101;
			if (ecx_101 == 0x00)
			{
				ecx_101 = 0x08;
				dwLoc08_110 = 0x08;
			}
			eax_106 = eax_106 ^ dwLoc08_110;
			edx_102 = edx_102 - 0x01;
		} while (edx_102 != 0x00);
		fn004014A0(eax_106, ecx_101, ebx_54, ebp_124, edi_55);
	}
	word32 eax_65 = 0x02D6;
	word32 edx_67 = 0x4C;
	do
	{
		eax_65 = eax_65 - 0x07;
		if (eax_65 == 0x00)
			eax_65 = 0x09;
		edx_67 = edx_67 - 0x01;
	} while (edx_67 != 0x00);
	return Mem0[0x0040534C:word32];
}

// 004018B0: void fn004018B0(Register word32 eax, Register word32 ecx, Register word32 edx)
void fn004018B0(word32 eax, word32 ecx, word32 edx)
{
	word32 esi_58 = edx;
	word32 edi_11 = eax;
	byte al_13 = Mem0[edx + 0x00:byte];
	if (al_13 != 0x00)
	{
		byte cl_48 = (byte) ecx;
		do
		{
			byte al_111;
			if (al_13 <=u 0x5A && al_13 >=u 0x41)
				al_111 = (byte) (int32) ((int64) ((int32) al_13 - 0x41 + ecx) % 0x1A) + 0x41;
			else if (al_13 <=u 122 && al_13 >=u 0x61)
				al_111 = (byte) (int32) ((int64) ((int32) al_13 - 0x61 + ecx) % 0x1A) + 0x61;
			else
				al_111 = al_13 ^ 0x1A - cl_48;
			Mem73[edi_11 + 0x00:byte] = al_111;
			esi_58 = esi_58 + 0x01;
			al_13 = Mem73[esi_58 + 0x00:byte];
			edi_11 = edi_11 + 0x01;
		} while (al_13 != 0x00);
	}
}

// 00401920: Register word32 fn00401920(Register word32 eax, Register word32 ecx, Register word32 ebx, Register word32 edi, Register out ptr32 ecxOut, Register out ptr32 ebxOut, Register out ptr32 ediOut)
word32 fn00401920(word32 eax, word32 ecx, word32 ebx, word32 edi, ptr32 & ecxOut, ptr32 & ebxOut, ptr32 & ediOut)
{
	*ecxOut = ecx;
	word32 ebp_290 = fp - 0x04;
	word32 edi_21 = edi - dwLoc0138;
	word32 eax_30 = RegQueryValueA(0x00, 0x00, 0x00, 0x00);
	word32 esp_289 = fp - 0x0160;
	if (eax_30 != 0x06)
	{
		byte SCZO_291;
		word32 esi_293;
		word32 eax_295;
		byte SZO_296;
		bool C_297;
		bool Z_298;
		byte dl_301;
		word32 edx_302;
		ecx();
	}
	if (Mem0[0x00405340:word32] == 0x00)
	{
		Mem93[0x00405340:word32] = 0x01;
		word32 esp_95 = esp_289 - 0x04;
		Mem96[esp_95 + 0x00:word32] = 0x00401920;
		word32 ecx_97;
		word32 ebx_98;
		word32 esi_99;
		word32 edi_100;
		fn00401380(ecx, ebx, ebp_290, edi_21, out ecx_97, out ebx_98, out esi_99, out edi_100);
		Mem104[0x00405344:word32] = Mem96[esp_95 + 0x00:word32];
		Mem105[0x00405344:word16] = 0x00;
		word32 ecx_106 = Mem105[0x00405344:word32];
		word32 eax_107 = Mem105[ecx_106 + 0x3C:word32];
		word32 esi_108 = Mem105[eax_107 + 0x50 + ecx_106:word32];
		Mem110[esp_95 + 0x00:word32] = 0x40;
		Mem113[esp_95 - 0x04 + 0x00:word32] = 0x1000;
		Mem115[esp_95 - 0x08 + 0x00:word32] = esi_108;
		Mem117[esp_95 - 0x0C + 0x00:word32] = 0x00;
		word32 eax_120 = VirtualAlloc(Mem117[esp_95 - 0x0C + 0x00:LPVOID], Mem117[esp_95 - 0x08 + 0x00:SIZE_T], Mem117[esp_95 - 0x04 + 0x00:DWORD], Mem117[esp_95 + 0x00:DWORD]);
		Mem126[0x00405348:word32] = eax_120;
		word32 eax_111 = eax_107 + ecx_106;
		word32 ebx_119 = 0x00403000;
		byte CZ_124 = DPB(CZ, false, 0);
		if (!CZ_124)
		{
			word32 ecx_278 = eax_120;
			word32 eax_279 = Mem126[0x00405344:word32] - eax_120;
			do
			{
				Mem284[ecx_278 + 0x00:byte] = Mem126[eax_279 + ecx_278:byte];
				ecx_278 = ecx_278 + 0x01;
				esi_108 = esi_108 - 0x01;
			} while (esi_108 != 0x00);
		}
		word32 edi_131 = eax_120 - Mem126[0x00405344:word32];
		if (Mem126[0x00403000:word32] != 0x00)
		{
			do
			{
				word32 ecx_230 = 0x0D;
				do
					ecx_230 = ecx_230 - 0x01;
				while (ecx_230 != 0x00);
				word32 eax_239 = Mem126[ebx_119 + 0x04:word32] - 0x08 >>u 0x01;
				word32 ecx_242 = ebx_119 + 0x08;
				if (eax_239 != 0x00)
				{
					word32 edx_252 = eax_239;
					do
					{
						word32 eax_258 = (word32) Mem126[ecx_242 + 0x00:word16];
						if ((eax_258 & 0xF000) == 0x3000)
						{
							word32 eax_273 = (eax_258 & 0x0FFF) + Mem126[ebx_119 + 0x00:word32] + Mem126[0x00405348:word32];
							Mem275[eax_273 + 0x00:word32] = Mem126[eax_273 + 0x00:word32] + edi_131;
						}
						ecx_242 = ecx_242 + 0x02;
						edx_252 = edx_252 - 0x01;
					} while (edx_252 != 0x00);
				}
				ebx_119 = ebx_119 + Mem126[ebx_119 + 0x04:word32];
			} while (Mem126[ebx_119 + 0x00:word32] != 0x00);
		}
		word32 edx_142 = 0x0A;
		do
			edx_142 = edx_142 - 0x01;
		while (edx_142 != 0x00);
		word32 esp_159 = esp_289 - 0x04;
		Mem160[esp_159 + 0x00:word32] = edx_142;
		Mem162[esp_159 - 0x04 + 0x00:word32] = edx_142;
		Mem164[esp_159 - 0x08 + 0x00:word32] = edx_142;
		Mem166[esp_159 - 0x0C + 0x00:word32] = edx_142;
		word32 eax_167 = RegQueryValueA(Mem166[esp_159 - 0x0C + 0x00:HKEY], Mem166[esp_159 - 0x08 + 0x00:LPCSTR], Mem166[esp_159 - 0x04 + 0x00:LPSTR], Mem166[esp_159 + 0x00:PLONG]);
		word32 esp_168 = esp_159 + 0x04;
		if (eax_167 != 0x06)
		{
			word32 edi_203 = edi_131 - dwLoc3D;
			word32 ebp_208;
			byte SCZO_209;
			word32 ebx_210;
			word32 esi_211;
			word32 edi_212;
			word32 eax_213;
			byte SZO_214;
			bool C_215;
			bool Z_216;
			word32 ecx_217;
			byte CZ_218;
			byte dl_219;
			word32 edx_220;
			edi_203();
		}
		word32 ecx_187 = Mem166[eax_111 + 0x28:word32] + Mem166[0x00405348:word32];
		*ecxOut = ecx_187;
		Mem188[0x0040534C:word32] = ecx_187;
		word32 edi_191;
		*ediOut = Mem188[esp_168 + 0x00:word32];
		word32 ebx_198;
		*ebxOut = Mem188[esp_168 + 0x08:word32];
		return 0x00;
	}
	else
	{
		word32 edi_79;
		*ediOut = Mem0[esp_289 + 0x00:word32];
		word32 ebx_83;
		*ebxOut = Mem0[esp_289 + 0x08:word32];
		return 0x01;
	}
}

// 00401AC0: Register word32 fn00401AC0(Register word32 ebx, Register word32 esi)
word32 fn00401AC0(word32 ebx, word32 esi)
{
	word32 ecx_18 = Mem0[esi + 0x0C:word32];
	word32 eax_22 = Mem0[esi + 0x08:word32];
	word32 edi_14 = 0x01;
	do
	{
		word32 ecx_26 = ecx_18 - 0x01;
		if (ecx_18 == 0x00)
		{
			word32 ecx_81 = Mem0[esi + 0x00:word32];
			eax_22 = (word32) Mem0[ecx_81 + 0x00:byte];
			Mem85[esi + 0x00:word32] = ecx_81 + 0x01;
			ecx_26 = ecx_18 + 0x07;
		}
		edi_14 = (eax_22 >>u 0x07 & 0x01) + edi_14 * 0x02;
		word32 eax_43 = eax_22 * 0x02;
		ecx_18 = ecx_26 - 0x01;
		if (ecx_26 == 0x00)
		{
			word32 ecx_75 = Mem0[esi + 0x00:word32];
			eax_43 = (word32) Mem0[ecx_75 + 0x00:byte];
			Mem79[esi + 0x00:word32] = ecx_75 + 0x01;
			ecx_18 = ecx_26 + 0x07;
		}
		eax_22 = eax_43 * 0x02;
	} while ((eax_43 >>u 0x07 & 0x01) != 0x00);
	Mem63[esi + 0x0C:word32] = ecx_18;
	Mem64[esi + 0x08:word32] = eax_22;
	return edi_14;
}

// 00401C20: Register word32 fn00401C20(Register word32 ebx, Register word32 esi, Register word32 edi, Stack word32 dwArg04, Register out ptr32 ecxOut, Register out ptr32 edxOut)
word32 fn00401C20(word32 ebx, word32 esi, word32 edi, word32 dwArg04, ptr32 & ecxOut, ptr32 & edxOut)
{
	*edxOut = edx;
	word32 edi_24 = Mem0[Mem0[ebx + 0x3C:word32] + ebx + 0x78:word32];
	word32 eax_27 = Mem0[edi_24 + 0x24 + ebx:word32] + ebx;
	GetProcAddress(0x00, 0x00);
	word32 edi_26 = edi_24 + ebx;
	word32 eax_45 = Mem0[edi_26 + 0x20:word32] + ebx;
	word32 ecx_47 = Mem0[edi_26 + 0x1C:word32] + ebx;
	*ecxOut = ecx_47;
	word32 dwLoc08_143 = 0x00;
	if (Mem0[edi_26 + 0x18:word32] > 0x00)
	{
		do
		{
			word32 ecx_103 = eax_45[dwLoc08_143 * 0x04] + ebx;
			word32 edx_104 = 0x00;
			*edxOut = edx_104;
			byte al_109 = Mem0[ecx_103 + 0x00:byte];
			if (al_109 != 0x00)
			{
				do
				{
					ecx_103 = ecx_103 + 0x01;
					edx_104 = __rol(edx_104, 0x03) ^ (int32) al_109;
					*edxOut = edx_104;
					al_109 = Mem0[ecx_103 + 0x00:byte];
				} while (al_109 != 0x00);
			}
			word32 ecx_120 = 0x0312;
			word32 esi_121 = 0x52;
			do
			{
				word32 eax_125 = ecx_120 * 0x08 - ecx_120;
				*ecxOut = eax_125;
				if (eax_125 == 0x00)
					*ecxOut = 0x02;
				esi_121 = esi_121 - 0x01;
			} while (esi_121 != 0x00);
			if (edx_104 == dwArg04)
			{
				GetLastError();
				word32 edx_150;
				*edxOut = dwLoc08_143;
				word32 ecx_152;
				*ecxOut = ecx_47;
				return ecx_47[(word32) eax_27[dwLoc08_143 * 0x02] * 0x04] + ebx;
			}
			word32 eax_140 = dwLoc08_143 + 0x01;
			dwLoc08_143 = eax_140;
		} while (eax_140 < Mem0[edi_26 + 0x18:word32]);
	}
	return 0x00;
}

