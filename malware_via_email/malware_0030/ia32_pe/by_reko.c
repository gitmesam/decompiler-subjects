// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	fn00401128(fn00401078(globals->a401128, 0x062E), bl, bh, esi, edi);
	fn00401078(globals->a401128, 0x062E);
	if (false)
	{
		*(fp - 0x18) = 0x00405000;
		*(fp - 0x1C) = 0x00401000;
		lstrcpyA(*(fp - 0x1C), *(fp - 0x18));
	}
	return 0x00;
}

// 00401078: Register byte fn00401078(Stack (arr Eq_76) dwArg04, Stack int32 dwArg08)
byte fn00401078(Eq_76 dwArg04[], int32 dwArg08)
{
	int32 dwLoc08_26 = 0x00;
	while (dwLoc08_26 < dwArg08)
	{
		if (dwLoc08_26 > 0x01 && (dwLoc08_26 - 0x01 & 0x01) == 0x00)
		{
			byte * eax_112 = (dwArg04 + dwLoc08_26)->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000;
			(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&dwArg04[dwLoc08_26].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] = (byte) (DPB(eax_112, *eax_112, 0) ^ 0x43);
		}
		if (dwLoc08_26 > 0x01)
		{
			byte * eax_95 = (dwArg04 + dwLoc08_26)->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000;
			(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&dwArg04[dwLoc08_26].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] = (byte) (DPB(eax_95, *eax_95, 0) + 121);
		}
		if (dwLoc08_26 > 0x03)
		{
			Eq_104 edx_68 = dwLoc08_26 - 0x03;
			if ((int32) (SEQ(edx_68 >> 0x1F, edx_68) % 0x03) == 0x00)
			{
				byte * eax_84 = (dwArg04 + dwLoc08_26)->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000;
				(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&dwArg04[dwLoc08_26].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] = (byte) (DPB(eax_84, *eax_84, 0) - 0x04);
			}
		}
		byte * ecx_52 = (dwArg04 + dwLoc08_26)->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000->a0000;
		*ecx_52 = (&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&dwArg04[dwLoc08_26].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] - (byte) dwLoc08_26;
		cl = (byte) ecx_52;
		dwLoc08_26 = dwLoc08_26 + 0x01;
	}
	return cl;
}

// 00401128: void fn00401128(Register byte cl, Register byte bl, Register byte bh, Register (ptr word32) esi, Register (ptr word32) edi)
void fn00401128(byte cl, byte bl, byte bh, word32 * esi, word32 * edi)
{
	if (CZ)
	{
		*edi = *esi;
		__inb(166);
	}
}

