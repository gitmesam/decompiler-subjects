// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00402188: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	ptr32 esp_1 = fp;
	word32 eax_2 = 4422360;
l00402189:
	word32 * esp_55 = esp_1 - 0x04;
	*esp_55 = eax_2;
	*(esp_55 - 0x04) = fs->ptr0000;
	fs->ptr0000 = esp_55 - 0x04;
	null = ecx;
	ptr32 esp_157 = esp_55 - 0x04;
	Eq_2 eax_222 = null;
	byte al_409 = 0x00;
	do
	{
		eax_644->b0000 = eax_644->b0000 + al_641;
		eax_644->b0000 = eax_644->b0000 + al_641;
		eax_644->b0000 = eax_644->b0000 + al_641;
		eax_644->b0000 = eax_644->b0000 + al_641;
		eax_644->b0000 = eax_644->b0000 + al_641;
		*(ebx - 118) = *(ebx - 118) + bl_645;
		ecx = ecx - 0x01;
		if (ecx != 0x00)
		{
			esp_157 = esp_157 + 0x02;
			goto l00402179;
		}
		ui32 eax_209 = (word32) (int64) DPB(eax_644, esi_642->t0000, 0);
		word16 bx_214;
		__arpl(bx_640, bx_640, &bx_214);
		*((word32) ebp + 99) = *((word32) ebp + 99) | ecx;
		struct Eq_37 * esi_207 = (char *) &esi_642->t0000 + 0x01;
		esi = esi_207 + 0x04;
		struct Eq_43 * edi_218 = edi_643 + 0x02;
		eax_222 = eax_209 | 2825773386;
		Eq_15 al_224 = (byte) (eax_209 | 2825773386);
		word16 * esp_228 = esp_157 + 0x01;
		if (esp_228 <= null)
			return eax_222;
		edi = (Eq_2) (&edi_218->b82B6F0C7 + 2101940028);
		if (al_224 > 227)
		{
			esi_207->b0024 = 0x1E;
			__outb(0x8E, al_224);
			return eax_222;
		}
		Mem297[esi_207 + 0x7F:word32] = Mem220[esi_207 + 0x7F:word32] & esi_207 + 0x04;
		ebx = ebx + 0x01;
		esp_1 = esp_228 - 0x01;
		bl = (byte) ebx;
		bx = (word16) ebx;
		eax_2 = 0x60869F1E;
		cu8 * edx_291 = eax_209 | 2825773386;
		char dl_292 = (byte) (eax_209 | 2825773386);
		byte dh_294 = SLICE(eax_209 | 2825773386, byte, 8);
		word16 dx_295 = (word16) (eax_209 | 2825773386);
		if (true)
			goto l00402189;
		*(esp_228 - 0x05) = eax_209 | 2825773386;
		bl = (byte) (ebx - 0x01);
		ebx[0x79573303] = (struct Eq_71) (ebx[0x79573303] & bl);
		edi = edi_218 + 0x02;
		ebx = ebx - 0x01;
		bx = (word16) (ebx - 0x01);
		byte bh_309 = SLICE(ebx - 0x01, byte, 8);
		if (ecx == 0x01)
			return (struct <anonymous> *) 0x60869F1C;
		bool C_411;
		eax_222 = __indw(dx_295);
		*(ebx - 0x01) = *(ebx - 0x01) - (eax_209 | 2825773386);
		byte al_323 = (byte) eax_222;
		edi_218->b82B6F0C7 = al_323;
		*(esp_228 - 0x04) = (union Eq_28 *) ebp;
		ebp = *(esp_228 - 0x04);
		word16 * esp_338 = esp_228;
		ecx = ecx - 0x01;
		byte cl_340 = (byte) (ecx - 0x01);
		if (ecx <= 0x01)
		{
			Mem511[ebp + 403532204 + (edi_218 + 0x02):byte] = Mem334[ebp + 403532204 + (edi_218 + 0x02):byte] & bh_309;
			do
			{
				byte al_526 = __inb(dx_295);
				__bound(edx_291, (word32 *) 4008049066);
				__outb(dx_295, al_526);
				esp_338 = esp_338 - 0x02;
				*esp_338 = ss;
				__wait();
				al_409 = (byte) edi_646;
				cu8 v54_538 = (word32) *((word32) (ebp - 0x66) + edi_646 * 0x08) + al_409;
				*((word32) (ebp - 0x66) + edi_646 * 0x08) = v54_538;
				Eq_2 eax_527 = DPB(eax_222, al_526, 0);
				dl_292 = (char) ((bool) (v54_538 < 0x00) + (dl_292 + edi_646->b0000));
				eax_222 = edi_646;
				edi = eax_527;
				edx_291 = DPB(edx_291, dl_292, 0);
				dx_295 = DPB(dx_295, dl_292, 0);
				C_411 = (bool) cond(dl_292);
				ebp = *((word32) ebp + 0x004B);
				if (dl_292 < 0x00)
				{
					ecx = 1840049319;
					cl_340 = ~0x58;
					if (dl_292 != 0x00 || false)
					{
						*(esp_338 - 0x04) = (DWORD *) eax_527;
						esp_157 = esp_338 - 0x04;
						esi = esi_207 + 0x05;
						if (esi_207 >= (struct Eq_37 *) 0x04)
							goto l0040210F;
						if (esi_207 < (struct Eq_37 *) 0x05)
							goto l00402100;
						byte v56_579 = Mem570[edx_291 + 0x00:byte] + bl + (dl_292 <u 0x00);
						*edx_291 = v56_579;
						*(esp_338 - 0x08) = (DWORD *) edi_646;
						*(esp_338 - 0x0C) = 1840049319;
						*(esp_338 - 0x10) = (cu8 **) edx_291;
						*(esp_338 - 0x14) = (struct Eq_71 **) ebx;
						*(esp_338 - 0x18) = esp_338 - 0x04;
						*(esp_338 - 0x1C) = (union Eq_28 *) ebp;
						Mem603[esp_338 - 0x20 + 0x00:word32] = esi_207 + 0x05;
						*(esp_338 - 0x24) = (DWORD *) eax_527;
						int3();
						Mem608[220727289:word32] = Mem605[220727289:word32] + 1840049319 + (v56_579 <u 0x00);
						edi_646->b006B = edi_646->b006B - dh_294;
					}
					goto l004020BE;
				}
				bl = 0x8E;
				ebx = DPB(ebx, 0x8E, 0);
				bx = DPB(bx, 0x8E, 0);
				edi = (struct <anonymous> *) 560647424;
				Eq_2 edi_646 = edi;
			} while (dl_292 >= 0x00);
			*esp_338 = (word16) (esp_338 + 0x02);
			*(esp_338 - 0x02) = (struct Eq_517 **) es;
			*(esp_338 - 0x02) = *(esp_338 - 0x02) | 0xA8;
			return (char *) edi_646 - 533650067;
		}
		if (ecx != 0x01)
		{
			(byte *) 0xC26B7028 = (byte *) ((byte *) 0xC26B7028 - cl_340);
l004020BE:
		}
		ui32 eax_469 = DPB(eax_222, __aam(al_323), 0);
		C_411 = (bool) cond(ebx - 0x01 - *(ebp - 0x14));
		*(esp_228 - 0x04) = eax_469;
		*(esp_228 - 0x08) = ecx - 0x01;
		*(esp_228 - 0x0C) = eax_209 | 2825773386;
		*(esp_228 - 0x10) = ebx - 0x01;
		*(esp_228 - 0x14) = (word16 **) esp_228;
		*(esp_228 - 0x18) = (union Eq_28 *) ebp;
		Mem486[esp_228 - 0x1C + 0x00:word32] = esi_207 + 0x04;
		Mem488[esp_228 - 0x20 + 0x00:word32] = edi_218 + 0x02;
		eax_222 = __indw(dx_295);
		al_409 = (byte) eax_222;
		__outb(dx_295, al_409);
		*(esp_228 - 0x22) = (struct Eq_275 **) cs;
		(eax_209 | 2825773386)->dw4E6352 = (eax_209 | 2825773386)->dw4E6352 - 0x01;
		esi = esi_207 + 0x03 + 0x01;
		esp_157 = esp_228 - 0x22;
l00402100:
		if (!C_411)
		{
			word32 esi_423 = esi + 0x00;
			__outb(0x3C, esi_423->t0000);
			esp_157 = esp_157 + 0x01;
			esi = esi_423 - (struct Eq_323 *) 0x01;
l0040210F:
			ptr32 esp_381 = esp_157 + 0x02 + (DPB(ebx, bl ^ cl_340, 0) + 0x5B0FB2F0);
			*(esi->t0000 - 66) = cl_340;
			byte al_387;
			__das((byte) (esi - (struct Eq_373 *) 0x04), &al_387);
			*(esp_381 - 0x04) = ecx;
		}
		Eq_15 v66_427 = -(esi - (struct Eq_297 *) 100)->t0000;
		(esi - (struct Eq_303 *) 100)->t0000 = v66_427;
		word16 bx_640 = bx;
		byte al_641 = al_409;
		struct Eq_12 * esi_642 = esi;
		Eq_2 edi_643 = edi;
		Eq_2 eax_644 = eax_222;
		byte bl_645 = bl;
	} while (v66_427 <= 0x00);
	cu8 v67_432 = *(edx_291 - 0x56) + bh_309;
	*(edx_291 - 0x56) = v67_432;
	__frstor(*(ebp - 0x46));
	if (v67_432 < 0x00)
		return eax_222;
	__xorps(xmm2, edi->ow71A97C9);
l00402179:
	*(esp_157 - 0x04) = (struct Eq_71 **) ebx;
	word32 esp_167;
	Eq_2 eax_168;
	struct Eq_624 * fs_169;
	byte SZO_170;
	bool C_171;
	word32 ecx_172;
	byte al_173;
	byte SCZO_174;
	word32 ebx_175;
	byte bl_176;
	word32 esi_177;
	bool Z_178;
	word16 bx_179;
	word32 edi_180;
	word32 ebp_181;
	byte CZ_182;
	bool FPUF_183;
	real64 rArg0_184;
	byte dl_185;
	real64 rArg1_186;
	word32 edx_187;
	struct Eq_643 * es_188;
	byte dh_189;
	byte ah_190;
	byte SCZDOP_191;
	word16 dx_192;
	bool D_193;
	word16 ax_194;
	struct Eq_650 * cs_195;
	struct Eq_651 * ds_196;
	byte cl_197;
	byte bh_198;
	struct Eq_654 * ss_199;
	bool S_200;
	real64 rArg4_201;
	real64 rArg2_202;
	byte SO_203;
	word128 xmm2_204;
	fn9B36B1C7();
	return eax_168;
}

