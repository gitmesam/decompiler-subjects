// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401006: void fn00401006(Register (ptr32 Eq_2) eax, Register (ptr32 Eq_2) ecx, Register byte dl, Register byte dh, Register (ptr32 Eq_2) ebx, Register (ptr32 Eq_7) ebp, Register (ptr32 byte) esi, Register (ptr32 byte) edi, Register (ptr16 Eq_10) ds)
void fn00401006(Eq_2 * eax, Eq_2 * ecx, byte dl, byte dh, Eq_2 * ebx, Eq_7 * ebp, byte * esi, byte * edi, Eq_10 * ds)
{
	byte dl_6 = dl + al;
	word32 edx_18 = DPB(edx, dl_6 + bh, 0);
	byte * esi_10 = esi | DPB(edx, dl_6, 0);
	byte * edi_20 = edi - 0x01 - ecx | eax;
	ui32 edx_25 = DPB(edx_18 - 0x01, SLICE(edx_18 - 0x01, byte, 8) ^ al, 8);
	fn00401125(eax, ecx, edx_25, ebx, ebp, esi_10, edi_20, ds);
}

// 0040103E: void fn0040103E(Register (ptr32 Eq_2) eax, Register (ptr32 Eq_2) ecx, Register int32 edx, Register (ptr32 Eq_2) ebx, Register (ptr32 Eq_7) ebp, Register (ptr32 Eq_2) esi, Register int32 edi, Register (ptr16 Eq_10) ds)
void fn0040103E(Eq_2 * eax, Eq_2 * ecx, int32 edx, Eq_2 * ebx, Eq_7 * ebp, Eq_2 * esi, int32 edi, Eq_10 * ds)
{
	ui32 edx_6 = edx | ecx;
	struct Eq_55 * esi_8 = esi - eax;
	struct Eq_7 * ebp_17 = ebp->ptr0000;
	fn004010D9(eax, edx_6 + 0x01, ebx, ebp_17, esi_8, eax, ds);
}

// 00401052: FlagGroup bool fn00401052(Register (ptr32 Eq_2) eax, Register (ptr32 Eq_2) ecx, Register word16 dx, Register (ptr32 Eq_2) ebx, Register (ptr32 Eq_7) ebp, Register (ptr16 Eq_10) ds, FpuStack real64 rArg0, Register out Eq_81 edxOut, Register out ptr32 esiOut, Register out ptr32 ediOut, FpuStack out Eq_84 rArg0Out)
bool fn00401052(Eq_2 * eax, Eq_2 * ecx, word16 dx, Eq_2 * ebx, Eq_7 * ebp, Eq_10 * ds, real64 rArg0, Eq_81 & edxOut, ptr32 & esiOut, ptr32 & ediOut, Eq_84 & rArg0Out)
{
	ui32 edx_5 = edx | eax;
	ui8 dh_14 = SLICE(edx_5, byte, 8) ^ ah ^ al;
	ui32 edx_22 = DPB(edx_5, cl, 8);
	if (dh_14 == 0x00 || dh_14 != 0x00)
	{
		ui32 edx_49 = DPB(edx_5, cl + ch - ah, 8);
		ui32 edx_56 = DPB(edx_49 + 0x01, SLICE(edx_49 + 0x01, byte, 8) | bh, 8);
		ui32 esi_61 = (ecx ^ eax) - 0x01 + edx_56;
		ui32 edi_64 = edx_56 - esi_61;
		struct Eq_55 * esi_73;
		struct Eq_2 * edi_74;
		Eq_64 edx_75 = fn00401072(eax, ecx, ebx | edi_64, ebx, ebp, esi_61, edi_64, ds, out esi_73, out edi_74);
		*edxOut = edx_75;
		fp->ptr0002 = ds;
		byte v25_85 = *(edx_75 - 117) + ~0x07;
		*(edx_75 - 117) = v25_85;
		struct Eq_2 * eax_82 = DPB(eax, al ^ ~0x0A, 0);
		bool C_88 = (bool) cond(v25_85);
		fn004010D9(eax_82, edx_75, ebx, ebp, esi_73, edi_74, ds);
		return C_88;
	}
	else
	{
		int32 edx_98 = edx_22 - ecx;
		*edxOut = edx_98;
		word32 esi_105;
		*esiOut = eax;
		word32 edi_106;
		*ediOut = edx_98 + 0x01;
		if (edx_98 <= 0x01)
		{
			fn0040103E(eax, ecx, edx_98, ebx, ebp, eax, edx_98 + 0x01, ds);
			return false;
		}
		else
		{
			fn00401082(eax, ecx, edx_98, ebx, ebp, eax, edx_98 + 0x01, ds);
			return false;
		}
	}
}

// 00401072: Register int32 fn00401072(Register (ptr32 Eq_2) eax, Register (ptr32 Eq_2) ecx, Register int32 edx, Register (ptr32 Eq_2) ebx, Register (ptr32 Eq_7) ebp, Register ui32 esi, Register ui32 edi, Register (ptr16 Eq_10) ds, Register out ptr32 esiOut, Register out ptr32 ediOut)
int32 fn00401072(Eq_2 * eax, Eq_2 * ecx, int32 edx, Eq_2 * ebx, Eq_7 * ebp, ui32 esi, ui32 edi, Eq_10 * ds, ptr32 & esiOut, ptr32 & ediOut)
{
	int32 edx_7 = edx - ecx;
	word32 esi_13;
	*esiOut = eax;
	word32 edi_14;
	*ediOut = edx_7 + 0x01;
	if (edx_7 <= 0x01)
	{
		fn0040103E(eax, ecx, edx_7, ebx, ebp, eax, edx_7 + 0x01, ds);
		return edx_7;
	}
	else
	{
		fn00401082(eax, ecx, edx_7, ebx, ebp, eax, edx_7 + 0x01, ds);
		return edx_7;
	}
}

// 00401082: void fn00401082(Register (ptr32 Eq_2) eax, Register (ptr32 Eq_2) ecx, Register int32 edx, Register (ptr32 Eq_2) ebx, Register (ptr32 Eq_7) ebp, Register (ptr32 Eq_2) esi, Register int32 edi, Register (ptr16 Eq_10) ds)
void fn00401082(Eq_2 * eax, Eq_2 * ecx, int32 edx, Eq_2 * ebx, Eq_7 * ebp, Eq_2 * esi, int32 edi, Eq_10 * ds)
{
	if (SZO)
		fn0040103E(eax, ecx, edx, ebx, ebp, esi, edi, ds);
	else
	{
		fn004010A6(ecx, edx, ebx, esi, edi + 0x01, dwLoc04);
		fn004010A6((char *) ecx + 0x01, edx, ebx, esi, 1302111254, dwArg00);
	}
}

// 00401090: void fn00401090(Register word16 ax, Register (ptr32 Eq_2) ecx, Register int32 edx, Register (ptr32 Eq_2) ebx, Register (ptr32 Eq_2) esi, Register ui32 edi)
void fn00401090(word16 ax, Eq_2 * ecx, int32 edx, Eq_2 * ebx, Eq_2 * esi, ui32 edi)
{
	fn004010A6(ecx, edx, ebx, esi, edi + 0x01, dwArg00);
	fn004010A6((char *) ecx + 0x01, edx, ebx, esi, 1302111254, dwArg00);
}

// 004010A6: void fn004010A6(Register (ptr32 Eq_2) ecx, Register int32 edx, Register (ptr32 Eq_2) ebx, Register (ptr32 Eq_2) esi, Register ui32 edi, Stack word32 dwArg00)
void fn004010A6(Eq_2 * ecx, int32 edx, Eq_2 * ebx, Eq_2 * esi, ui32 edi, word32 dwArg00)
{
	fn0040115D(ecx - 0x02, edx, (ebx | edi) + edx, esi, edi, dwArg00);
}

// 004010D9: void fn004010D9(Register (ptr32 Eq_2) eax, Register Eq_64 edx, Register (ptr32 Eq_2) ebx, Register (ptr32 Eq_7) ebp, Register (ptr32 Eq_55) esi, Register (ptr32 Eq_2) edi, Register (ptr16 Eq_10) ds)
void fn004010D9(Eq_2 * eax, Eq_64 edx, Eq_2 * ebx, Eq_7 * ebp, Eq_55 * esi, Eq_2 * edi, Eq_10 * ds)
{
	fn00401090(ax, edi, (word32) edx + 0x01, edi, esi - 0x01, edi * 0x02);
	ui32 edx_27 = DPB((word32) edx + 0x01, SLICE((word32) edx + 0x01, byte, 8) + esi->b000A, 8);
	word32 edx_31;
	word32 esi_32;
	word32 edi_33;
	fn004010EF(eax | 1093593349, edi, edx_27, edi, ebp, esi - 0x01, edi * 0x02, ds, out edx_31, out esi_32, out edi_33);
}

// 004010EF: FlagGroup bool fn004010EF(Register (ptr32 Eq_2) eax, Register (ptr32 Eq_2) ecx, Register ui32 edx, Register (ptr32 Eq_2) ebx, Register (ptr32 Eq_7) ebp, Register (ptr32 byte) esi, Register (ptr32 byte) edi, Register (ptr16 Eq_10) ds, Register out Eq_294 edxOut, Register out Eq_295 esiOut, Register out Eq_296 ediOut)
bool fn004010EF(Eq_2 * eax, Eq_2 * ecx, ui32 edx, Eq_2 * ebx, Eq_7 * ebp, byte * esi, byte * edi, Eq_10 * ds, Eq_294 & edxOut, Eq_295 & esiOut, Eq_296 & ediOut)
{
	ptr32 fp;
	byte * edi;
	struct Eq_2 * ecx;
	byte * esi;
	ui32 edx;
	struct Eq_2 * ebx;
	Eq_294 edxOut;
	Eq_295 esiOut;
	Eq_296 ediOut;
	struct Eq_2 * eax;
	struct Eq_7 * ebp;
	struct Eq_10 * ds;
	esp_1 = fp;
	edi_4 = edi | ecx;
	esi_7 = esi + edx;
	esi_9 = esi_7 - ebx;
	edi_10 = edi_4 - ecx;
	edi_11 = edi_10 - 0x01;
	esi_12 = edi_11;
	edx_13 = edx | esi_12;
	dl_14 = (byte) edx_13;
	dh_15 = SLICE(edx_13, byte, 8);
	C_16 = false;
	edi_17 = edi_11 - 0x01;
	SZO_18 = cond(edi_17);
	SCZO_19 = SZO_18;
	S_20 = (bool) SZO_18;
	if (edi_17 < null)
	{
		fn00401006(eax, ecx, dl_14, dh_15, ebx, ebp, esi_12, edi_17, ds);
		return C_16;
	}
	else
	{
		fn00401103(eax, ecx, dl_14, dh_15, ebx, ebp, esi_12, edi_17, ds);
		return C_16;
	}
}

// 00401103: void fn00401103(Register (ptr32 Eq_2) eax, Register (ptr32 Eq_2) ecx, Register byte dl, Register byte dh, Register (ptr32 Eq_2) ebx, Register (ptr32 Eq_7) ebp, Register (ptr32 byte) esi, Register (ptr32 byte) edi, Register (ptr16 Eq_10) ds)
void fn00401103(Eq_2 * eax, Eq_2 * ecx, byte dl, byte dh, Eq_2 * ebx, Eq_7 * ebp, byte * esi, byte * edi, Eq_10 * ds)
{
	if (S)
		fn00401006(eax, ecx, dl, dh, ebx, ebp, esi, edi, ds);
	else
	{
		byte al_10;
		byte ah_11;
		__aaa(al, ah, &al_10, &ah_11);
		ecx->a001C[eax].ptr0000 = eax;
		fn00401112();
	}
}

// 00401112: void fn00401112()
void fn00401112()
{
	esp = fp;
}

// 00401125: void fn00401125(Register (ptr32 Eq_2) eax, Register (ptr32 Eq_2) ecx, Register ui32 edx, Register (ptr32 Eq_2) ebx, Register (ptr32 Eq_7) ebp, Register (ptr32 byte) esi, Register (ptr32 byte) edi, Register (ptr16 Eq_10) ds)
void fn00401125(Eq_2 * eax, Eq_2 * ecx, ui32 edx, Eq_2 * ebx, Eq_7 * ebp, byte * esi, byte * edi, Eq_10 * ds)
{
	word32 edx_26;
	byte * esi_27;
	word32 edi_28;
	real64 rArg0_29;
	fn00401052(eax, ecx, DPB(dx, ((byte) ebx ^ al) - bl, 0), ebx, ebp, ds, rArg0, out edx_26, out esi_27, out edi_28, out rArg0_29);
	fn00401136(esi_27);
}

// 00401136: void fn00401136(Register (ptr32 byte) esi)
void fn00401136(byte * esi)
{
	ptr32 fp;
	byte * esi;
	<type-error> Mem0;
	word32 eax;
	selector es;
	bool C;
	esp_1 = fp;
	al_4 = *esi;
	eax_6 = DPB(eax, al_4, 0);
	esi_7 = esi + 0x01;
	esp_8 = fp - 0x02;
	wLoc02_10 = es;
	eax_12 = eax_6 - 0x50E33534 - C;
	SCZO_13 = cond(eax_12);
}

// 0040113E: Register Eq_540 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	struct Eq_541 * edx_18 = (esi - 0x01 | (esi - ecx ^ ecx) + 0x01) - eax;
	if (P || P)
	{
		fn00401112();
		return eax;
	}
	else
	{
		edx_18->dw373A9963 = 0x24448FAA;
		Eq_540 eax_41 = DPB(eax, __aam(al), 0);
		fn00401181();
		return eax_41;
	}
}

// 0040115D: void fn0040115D(Register word32 ecx, Register int32 edx, Register ui32 ebx, Register (ptr32 Eq_2) esi, Register ui32 edi, Stack word32 dwArg00)
void fn0040115D(word32 ecx, int32 edx, ui32 ebx, Eq_2 * esi, ui32 edi, word32 dwArg00)
{
	fn00401181();
}

// 00401181: void fn00401181()
void fn00401181()
{
}

