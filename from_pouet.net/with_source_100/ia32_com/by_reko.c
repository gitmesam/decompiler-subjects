// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte ah, Register word16 cx, Register int16 bx, Register word16 bp, Register int16 si)
void fn0C00_0100(byte ah, word16 cx, int16 bx, word16 bp, int16 si)
{
	__syscall(0x10);
	word16 ax_14 = SEQ(ah, 0x13);
l0C00_0108:
	word16 ax_15 = ax_14 + 0x01;
	int16 si_13 = si *s 0x03 + cx;
	byte al_46 = (byte) ax_15;
	byte ah_78 = SLICE(ax_15, byte, 8);
	if (si_13 <= 0xC000)
	{
		++bp;
		++bx;
		goto l0C00_012C;
	}
	if (si_13 <= 0x00)
	{
		++cx;
		++bp;
	}
	else
	{
		if (si_13 <= 0x4000)
		{
			--bp;
			++bx;
l0C00_012C:
			Eq_22 di_43 = bx *s 0x0140 + bp;
			0xA000->*di_43 = al_46;
			0xA000->*((word16) di_43 + 1) = al_46;
			0xA000->*((word16) di_43 + 2) = 0x04;
			0xA000->*((word16) di_43 + 3) = 0x04;
			0xA000->*((word16) di_43 + 4) = 0x04;
			0xA000->*((word16) di_43 + 5) = 0x00;
			0xA000->*((word16) di_43 + 6) = 0x00;
			0xA000->*((word16) di_43 + 7) = 0x00;
			si = si_13;
			ax_14 = SEQ(ah_78, 0x00);
			goto l0C00_0108;
		}
		--bp;
	}
	--bx;
	goto l0C00_012C;
}

