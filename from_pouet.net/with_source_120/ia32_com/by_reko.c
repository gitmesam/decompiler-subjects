// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte al, Register byte cl, Register byte bh, Register byte bl, Register (ptr16 Eq_6) es, Register (ptr16 Eq_7) ds)
void fn0C00_0100(byte al, byte cl, byte bh, byte bl, struct Eq_6 * es, struct Eq_7 * ds)
{
	byte Eq_6::* di_5 = Eq_6::a0140;
	word16 cx_6 = SEQ(~0x05, cl);
	while (true)
	{
		byte cl_79 = (byte) cx_6;
		if (cx_6 == 0x00)
			break;
		es->*di_5 = al;
		++di_5;
		--cx_6;
	}
	__syscall(0x10);
	msdos_display_string(&ds->b013B);
	while (true)
	{
		struct Eq_36 Eq_7::* di_12 = Eq_7::a0140;
		word16 cx_37 = SEQ(200, cl_79);
		do
		{
			word16 ax_27 = (ds->*di_12).t0000 - di_12[320];
			(ds->*di_12).t0000 = (byte) ax_27 + SLICE(ax_27, byte, 8) + ~0x02 >> 0x02;
			--cx_37;
			++di_12;
			byte cl_83 = (byte) cx_37;
		} while (cx_37 != 0x00);
		word16 Eq_78::* di_45 = Eq_78::a0000;
		word16 Eq_7::* si_48 = Eq_7::a0140;
		word16 cx_51 = SEQ(100, cl_83);
		while (true)
		{
			cl_79 = (byte) cx_51;
			if (cx_51 == 0x00)
				break;
			0xA12C->*di_45 = ds->*si_48;
			++si_48;
			++di_45;
			--cx_51;
		}
		bios_video_set_CGA_palette(bh, bl);
	}
}

