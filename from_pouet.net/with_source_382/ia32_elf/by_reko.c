// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08048398: void fn08048398()
void fn08048398()
{
	word32 esp_3;
	globals->ptr804A0BC();
}

// 080483A8: void fn080483A8()
void fn080483A8()
{
	word32 esp_3;
	globals->ptr804A0C0();
}

// 080483B8: void fn080483B8()
void fn080483B8()
{
	word32 esp_3;
	globals->ptr804A0C4();
}

// 080483C8: void fn080483C8()
void fn080483C8()
{
	word32 esp_3;
	globals->ptr804A0C8();
}

// 080483D8: void fn080483D8()
void fn080483D8()
{
	word32 esp_3;
	globals->ptr804A0CC();
}

// 080483E8: void fn080483E8()
void fn080483E8()
{
	word32 esp_3;
	globals->ptr804A0D0();
}

// 080483F8: void fn080483F8()
void fn080483F8()
{
	word32 esp_3;
	globals->ptr804A0D4();
}

// 08048408: void fn08048408()
void fn08048408()
{
	word32 esp_3;
	globals->ptr804A0D8();
}

// 08048418: void fn08048418()
void fn08048418()
{
	word32 esp_3;
	globals->ptr804A0DC();
}

// 08048428: void fn08048428()
void fn08048428()
{
	word32 esp_3;
	globals->ptr804A0E0();
}

// 08048438: FpuStack real64 fn08048438(Register (ptr32 Eq_33) eax, Register (ptr32 Eq_33) edx)
real64 fn08048438(Eq_33 * eax, Eq_33 * edx)
{
	return (real64) eax->r0000 * edx->r0000 + (real64) eax->t0004 * edx->t0004 + (real64) eax->t0008 * edx->t0008;
}

// 0804844D: void fn0804844D(Register (ptr32 Eq_33) eax, Register (ptr32 Eq_62) ecx, Register (ptr32 Eq_63) edx)
void fn0804844D(Eq_33 * eax, Eq_62 * ecx, Eq_63 * edx)
{
	real64 rLoc2_7 = (real64) eax->t0008;
	ecx->r0000 = (real32) ((real64) eax->t0004 * edx->t0008 - (real64) edx->t0004 * rLoc2_7);
	real64 rLoc2_17 = (real64) eax->r0000;
	ecx->r0004 = (real32) (rLoc2_7 * edx->r0000 - (real64) edx->t0008 * rLoc2_17);
	ecx->r0008 = (real32) (rLoc2_17 * edx->t0004 - (real64) eax->t0004 * edx->r0000);
}

// 0804847F: void fn0804847F(Register (ptr32 Eq_33) eax, Register (ptr32 Eq_33) ecx, Register (ptr32 Eq_33) edx)
void fn0804847F(Eq_33 * eax, Eq_33 * ecx, Eq_33 * edx)
{
	ecx->r0000 = (real32) (real32) ((real64) eax->r0000 - edx->r0000);
	ecx->t0004 = (real32) ((real64) eax->t0004 - edx->t0004);
	ecx->t0008 = (real32) ((real64) eax->t0008 - edx->t0008);
}

// 08048498: FpuStack Eq_162 fn08048498(Register (ptr32 Eq_33) eax)
Eq_162 fn08048498(Eq_33 * eax)
{
	return sqrt(fn08048438(eax, eax));
}

// 080484A2: void fn080484A2(Register (ptr32 Eq_33) eax)
void fn080484A2(Eq_33 * eax)
{
	Eq_172 rLoc1_11 = globals->r8049A00 / sqrt(fn08048438(eax, eax));
	eax->r0000 = (real32) (real32) ((real64) eax->r0000 * rLoc1_11);
	eax->t0004 = (real32) ((real64) eax->t0004 * rLoc1_11);
	eax->t0008 = (real32) (rLoc1_11 * eax->t0008);
}

// 080484CA: void fn080484CA(Register (ptr32 Eq_206) eax, Register int32 edx)
void fn080484CA(Eq_206 * eax, int32 edx)
{
	fn08048398();
	ui32 edi_10 = 0x00;
	do
	{
		word32 ebx_44 = 100;
		int32 edx_46 = (int32) ((int64) edi_10 % 0x14);
		do
		{
			int32 eax_196;
			int32 eax_185;
			int32 * esi_65 = eax + (((edi_10 << 0x08) + ebx_44) * 0x04) / 0x0040;
			*esi_65 = 0x00FFFFFF;
			if ((byte) edx == 0x00)
			{
				eax_196 = ebx_44 + 0x00 ^ edi_10;
				goto l0804855E;
			}
			if ((byte) edx == 0x01)
			{
				if ((int32) ((int64) ebx_44 % 0x14) <= 0x09)
				{
					eax_185 = 0x00FF0000;
					if (edx_46 > 0x09)
						goto l0804852F;
				}
				else
				{
l0804852F:
					eax_185 = 0x00FF00FF;
				}
				goto l08048564;
			}
			if ((byte) (edx - 0x02) <= 0x01)
			{
				fn08048418();
				int32 edx_243 = (int32) ((int64) (edx - 0x02) % 0x40);
				eax_196 = edx_243 + 0xC0;
				if ((byte) edx == 0x02)
					eax_185 = edx_243 + 0xC0 << 0x08;
				else
				{
l0804855E:
					eax_185 = eax_196 *s 0x00010101;
				}
l08048564:
				*esi_65 = eax_185;
			}
			ebx_44 = ebx_44 + 0x01;
		} while (ebx_44 != 0x9C);
		edi_10 = edi_10 + 0x01;
	} while (edi_10 != 0x0100);
	if ((byte) edx == 0x04)
	{
		ui32 ebp_108 = 0x00;
		do
		{
			word32 edi_123 = 0x00;
			do
			{
				ui32 ebx_136 = ebp_108;
				word32 esi_137 = 0x00;
				do
				{
					word32 edx_147 = edi_123;
					word32 dwLoc20_150 = 0x00;
					do
					{
						eax[((ebx_136 << 0x08) + edx_147) * 0x04 / 0x0040] = (struct Eq_206) 0x00FF0000;
						eax->a0040[(ebx_136 << 0x08) + 0x1000 + edx_147] = 0x00FF0000;
						word32 v22_157 = dwLoc20_150 + 0x01;
						dwLoc20_150 = v22_157;
						edx_147 = edx_147 + 0x01;
					} while (v22_157 != 0x10);
					esi_137 = esi_137 + 0x01;
					ebx_136 = ebx_136 + 0x01;
				} while (esi_137 != 0x10);
				edi_123 = edi_123 + 0x20;
			} while (edi_123 != 0x0100);
			ebp_108 = ebp_108 + 0x20;
		} while (ebp_108 != 0x0100);
	}
}

// 08048613: Register word32 fn08048613(Register byte dl, Stack real32 rArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack word32 dwArg1C)
word32 fn08048613(byte dl, real32 rArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, word32 dwArg18, word32 dwArg1C)
{
	fn0804844D(fp - 0x00040044, fp - 0x00040050, fp - 0x0004008C);
	fn080484CA(fp - 0x0004000C, (int32) (byte) edx);
	fn080483E8();
	return eax;
}

// 080486BA: void fn080486BA(Register byte dl, Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack real32 rArg10, Stack word32 dwArg14, Stack word32 dwArg18)
void fn080486BA(byte dl, word32 dwArg04, word32 dwArg08, word32 dwArg0C, real32 rArg10, word32 dwArg14, word32 dwArg18)
{
	fn0804844D(fp - 0x00040044, fp - 0x00040050, fp - 0x00040074);
	fn080484CA(fp - 0x0004000C, (int32) (byte) edx);
	fn080483E8();
}

// 08048775: void fn08048775(Register byte dl, Stack real32 dwArg04, Stack Eq_396 dwArg08, Stack Eq_397 dwArg0C, Stack real32 dwArg10)
void fn08048775(byte dl, real32 dwArg04, Eq_396 dwArg08, Eq_397 dwArg0C, real32 dwArg10)
{
	fn080484CA(fp - 0x00040008, (int32) dl);
	fn080483E8();
}

// 0804881D: void fn0804881D(Register int32 eax, Register word32 ecx, Register int32 edx, Stack real32 dwArg04, Stack Eq_396 dwArg08, Stack Eq_397 dwArg0C, Stack word32 dwArg10)
void fn0804881D(int32 eax, word32 ecx, int32 edx, real32 dwArg04, Eq_396 dwArg08, Eq_397 dwArg0C, word32 dwArg10)
{
	fn08048775(0x04, dwArg04, dwArg08, dwArg0C, (real32) (real64) eax);
	fn080483E8();
	if (edx <= 0x00)
	{
l08048A84:
		fn080486BA(0x02, 0x00, 0x42200000, 0x00, 0x00, 0xBF800000, 0x00);
		fn080483E8();
		return;
	}
	word32 esi_215;
	word32 edi_131;
	if (ecx != 0x01)
	{
		Eq_475 rLoc400A0_265 = (real32) (real64) (int32) ((int64) (eax * 0x03) / 0x02);
		int32 eax_254 = (int32) ((int64) eax / 0x02);
		fn0804881D(eax_254, 0x02, edx - 0x01, (real32) ((real64) dwArg04 + rLoc400A0_265), dwArg08, dwArg0C, dwArg10 + 0x01);
		if (ecx == 0x02)
		{
			fn0804881D(eax_254, 0x04, edx - 0x01, dwArg04, (real32) ((real64) dwArg08 + rLoc400A0_265), dwArg0C, dwArg10 + 0x02);
			fn0804881D(eax_254, 0x03, edx - 0x01, dwArg04, (real32) ((real64) dwArg08 - rLoc400A0_265), dwArg0C, dwArg10 + 0x03);
			edi_131 = dwArg10 + 0x03;
			goto l080489DC;
		}
		fn0804881D(eax_254, 0x01, edx - 0x01, (real32) ((real64) dwArg04 - rLoc400A0_265), dwArg08, dwArg0C, dwArg10 + 0x02);
		if (ecx == 0x03)
		{
			fn0804881D(eax_254, 0x03, edx - 0x01, dwArg04, (real32) ((real64) dwArg08 - rLoc400A0_265), dwArg0C, dwArg10 + 0x03);
			fn0804881D(eax_254, 0x06, edx - 0x01, dwArg04, dwArg08, (real32) ((real64) dwArg0C + rLoc400A0_265), dwArg10 + 0x04);
			edi_131 = dwArg10 + 0x04;
			goto l08048A30;
		}
		fn0804881D(eax_254, 0x04, edx - 0x01, dwArg04, (real32) ((real64) dwArg08 + rLoc400A0_265), dwArg0C, dwArg10 + 0x03);
		esi_215 = dwArg10 + 0x03;
		if (ecx == 0x04)
		{
			fn0804881D(eax_254, 0x06, edx - 0x01, dwArg04, dwArg08, (real32) ((real64) dwArg0C + rLoc400A0_265), dwArg10 + 0x04);
			edi_131 = dwArg10 + 0x04;
			goto l08048A30;
		}
	}
	else
	{
		real64 rLoc1_447 = (real64) (int32) ((int64) (eax * 0x03) / 0x02);
		int32 eax_426 = (int32) ((int64) eax / 0x02);
		fn0804881D(eax_426, 0x01, edx - 0x01, (real32) ((real64) dwArg04 - rLoc1_447), dwArg08, dwArg0C, dwArg10 + 0x01);
		fn0804881D(eax_426, 0x04, edx - 0x01, dwArg04, (real32) ((real64) (real32) rLoc1_447 + dwArg08), dwArg0C, dwArg10 + 0x02);
		esi_215 = dwArg10 + 0x02;
	}
	edi_131 = esi_215 + 0x01;
	fn0804881D((int32) ((int64) eax / 0x02), 0x03, edx - 0x01, dwArg04, (real32) (dwArg08 - (real64) ((int32) ((int64) (eax * 0x03) / 0x02))), dwArg0C, edi_131);
	if (ecx == 0x05)
		goto l08048A30;
l080489DC:
	edi_131 = edi_131 + 0x01;
	fn0804881D((int32) ((int64) eax / 0x02), 0x06, edx - 0x01, dwArg04, dwArg08, (real32) ((real64) (int32) ((int64) (eax * 0x03) / 0x02) + dwArg0C), edi_131);
	if (ecx != 0x06)
	{
l08048A30:
		fn0804881D((int32) ((int64) eax / 0x02), 0x05, edx - 0x01, dwArg04, dwArg08, (real32) (dwArg0C - (real64) ((int32) ((int64) (eax * 0x03) / 0x02))), edi_131 + 0x01);
		goto l08048A84;
	}
	goto l08048A84;
}

// 08048C66: FlagGroup Eq_632 fn08048C66(Register (ptr32 Eq_33) eax, Register (ptr32 Eq_33) ecx, Register int32 edx, Stack (ptr32 Eq_33) dwArg04, Stack word32 dwArg08, FpuStack out Eq_638 rLoc1Out)
Eq_632 fn08048C66(Eq_33 * eax, Eq_33 * ecx, int32 edx, Eq_33 * dwArg04, word32 dwArg08, Eq_638 & rLoc1Out)
{
	struct Eq_33 * edi_19 = eax + edx;
	byte al_22 = edi_19->b007C;
	if (al_22 != 0x00)
	{
		Eq_162 rLoc1_199;
		if (al_22 == 0x01)
		{
			if (dwArg08 == 0x00)
				rLoc1_199 = edi_19->r006C / fn08048438(&edi_19->r0018, dwArg04);
			else
				rLoc1_199 = (real32) (edi_19->r0068 - fn08048438(&edi_19->r0018, ecx)) / fn08048438(&edi_19->r0018, dwArg04);
		}
		else
		{
			if (al_22 != 0x02)
				return FPUF;
			fn0804847F(ecx, fp - 0x34, edi_19);
			fn0804844D(dwArg04, fp - 0x40, &edi_19->r0054);
			real64 rLoc3_241 = (real64) rLoc40;
			real64 rLoc1_238 = (real64) rLoc3C;
			real64 rLoc2_240 = (real64) rLoc38;
			Eq_162 rLoc1_250 = sqrt(rLoc3_241 * rLoc3_241 + rLoc1_238 * rLoc1_238 + rLoc2_240 * rLoc2_240);
			Eq_741 rLoc50_251 = (real32) rLoc1_250;
			if (!FPUF && rLoc1_250 < globals->t8049A08)
			{
				Eq_166 rLoc1_312 = fn08048438(fp - 0x34, &edi_19->r0054);
				Eq_779 rLoc3_326 = rLoc2C - rLoc1_312 * edi_19->t005C;
				Eq_786 rLoc2_316 = rLoc34 - (real64) edi_19->r0054 * rLoc1_312;
				Eq_794 rLoc3_320 = rLoc30 - (real64) edi_19->r0058 * rLoc1_312;
				Eq_763 rLoc2_336 = rLoc3_326 * rLoc3_326;
				sqrt(rLoc2_316 * rLoc2_316 + rLoc3_320 * rLoc3_320 + rLoc2_336);
				FPUF = cond(rLoc2_336 - edi_19->r0060);
				if (rLoc2_336 <= edi_19->r0060)
					return FPUF;
				return FPUF;
			}
			fn080484A2(fp - 0x40);
			real32 rLoc58_260 = (real32) fn08048438(fp - 0x34, fp - 0x40);
			real32 rLoc58_264 = DPB(rLoc58_260, SLICE(rLoc58_260, byte, 24) & 0x7F, 24);
			Eq_763 rLoc1_266 = (real64) rLoc58_264;
			FPUF = cond(rLoc1_266 - edi_19->r0060);
			if (rLoc1_266 > edi_19->r0060)
				return FPUF;
			fn0804844D(fp - 0x34, fp - 0x4C, &edi_19->r0054);
			real32 rLoc54_281 = (real32) fn08048438(fp - 0x4C, fp - 0x40);
			fn0804844D(fp - 0x40, fp - 0x4C, &edi_19->r0054);
			fn080484A2(fp - 0x4C);
			real64 rLoc1_294 = (real64) edi_19->r0060;
			real64 rLoc2_296 = (real64) rLoc58_264;
			rLoc1_199 = (real64) (real32) ((real64) DPB(rLoc54_281, SLICE(rLoc54_281, byte, 24) ^ 0x80, 24) / rLoc50_251) - fabs((real64) ((real32) sqrt(rLoc1_294 * rLoc1_294 - rLoc2_296 * rLoc2_296)) / fn08048438(dwArg04, fp - 0x4C));
		}
		FPUF = cond(rLoc1_199 - globals->t8049A08);
		if (rLoc1_199 > globals->t8049A08)
			return FPUF;
		return FPUF;
	}
	else
	{
		Eq_166 rLoc1_125;
		real64 rLoc2_124;
		Eq_654 rLoc5C_120;
		if (dwArg08 == 0x00)
		{
			rLoc5C_120.u0 = edi_19->r0064;
			rLoc1_125 = fn08048438((char *) &edi_19->t002C + 0x04, dwArg04);
			rLoc2_124 = rLoc2;
			if (!((word16) FPUF << 0x08))
				return FPUF;
		}
		else
		{
			fn0804847F(edi_19, fp - 0x28, ecx);
			Eq_166 rLoc1_164 = fn08048438(fp - 0x28, dwArg04);
			if ((word16) FPUF << 0x08)
				return FPUF;
			real64 rLoc2_172 = (real64) edi_19->r0060;
			rLoc2_124 = rLoc2_172 * rLoc2_172;
			rLoc5C_120 = (real32) ((real32) rLoc2_124 - fn08048438(fp - 0x28, fp - 0x28));
			rLoc1_125 = (real64) (real32) rLoc1_164;
		}
		Eq_166 rLoc2_129 = rLoc2_124 * rLoc1_125 + rLoc5C_120;
		if (FPUF)
			return FPUF;
		sqrt(rLoc2_129);
		return FPUF;
	}
}

// 08048EBE: FlagGroup Eq_889 fn08048EBE(Register (ptr32 Eq_890) eax, Register int32 ecx, Register (ptr32 Eq_33) edx, Register (ptr32 Eq_33) esi, Stack (ptr32 Eq_33) dwArg04, Stack (ptr32 Eq_33) dwArg08, Stack int32 dwArg0C, Stack word32 dwArg10, FpuStack Eq_898 rArg0, FpuStack Eq_898 rArg1, FpuStack out Eq_900 rArg0Out)
Eq_889 fn08048EBE(Eq_890 * eax, int32 ecx, Eq_33 * edx, Eq_33 * esi, Eq_33 * dwArg04, Eq_33 * dwArg08, int32 dwArg0C, word32 dwArg10, Eq_898 rArg0, Eq_898 rArg1, Eq_900 & rArg0Out)
{
	int32 esi_11 = esi | ~0x00;
	int32 ebx_15 = 0x00;
	Eq_906 rLoc1_23 = (real64) globals->r8049A0C;
	while (ebx_15 < ecx)
	{
		Eq_906 rLoc1_620;
		FPUF = fn08048C66(edx, dwArg04, ebx_15, dwArg08, dwArg10, out rLoc1_620);
		rLoc1_23 = (real64) (real32) rLoc1_23;
		if (!FPUF)
		{
			FPUF = cond(rLoc1_620 - rLoc1_620);
			if (rLoc1_620 >= rLoc1_620)
				goto l08048F27;
			rLoc1_23 = rLoc1_620;
			esi_11 = ebx_15;
		}
		else
		{
l08048F27:
		}
		rLoc2 = rLoc1_620;
		ebx_15 = ebx_15 + 0x01;
	}
	if (esi_11 == ~0x00)
	{
		eax->r0000 = 0.0F;
		eax->r0004 = 0.0F;
		eax->r0008 = 0.0F;
	}
	else
	{
		struct Eq_33 * edi_145 = edx + esi_11;
		real64 rLoc2_151 = rLoc2 * dwArg08->r0000 + dwArg04->r0000;
		edi_145->r000C = (real32) rLoc2_151;
		real64 rLoc3_155 = (real64) dwArg08->t0004 * rLoc1_23 + dwArg04->t0004;
		edi_145->r0010 = (real32) rLoc3_155;
		real64 rLoc3_161 = rLoc1_23 * dwArg08->t0008 + dwArg04->t0008;
		edi_145->r0014 = (real32) rLoc3_161;
		if (edi_145->b007C == 0x00)
		{
			edi_145->r0018 = (real32) ((rLoc2_151 - edi_145->r0000) / edi_145->r0060);
			edi_145->r001C = (real32) ((rLoc3_155 - edi_145->t0004) / edi_145->r0060);
			edi_145->r0020 = (real32) ((rLoc3_161 - edi_145->t0008) / edi_145->r0060);
		}
		if (edi_145->b007C == 0x02)
		{
			fn0804847F(&edi_145->r000C, &edi_145->r0018, edi_145);
			fn080484A2(&edi_145->r0018);
		}
		Eq_166 rLoc1_203;
		fn0804847F(&globals->r824A500, fp - 0x40, &edi_145->r000C);
		Eq_1037 rLoc70_177 = (real32) fn08048498(fp - 0x40);
		fn080484A2(fp - 0x40);
		int32 ebx_180 = fp - 0x40 ^ fp - 0x40;
		real32 rLoc6C_184 = (real32) fn08048438(&edi_145->r0018, fp - 0x40);
		if (!((word16) FPUF << 0x08))
		{
l0804904A:
			rLoc1_203.u2 = 0.0;
		}
		else
		{
			while (ebx_180 < ecx)
			{
				Eq_1037 rLoc1_568;
				fn08048C66(edx, &edi_145->r000C, ebx_180, fp - 0x40, 0x01, out rLoc1_568);
				FPUF = cond(rLoc1_568 - globals->t8049A10);
				if (rLoc1_568 > globals->t8049A10)
				{
					FPUF = cond(rLoc1_568 - rLoc70_177);
					if (rLoc1_568 < rLoc70_177)
						goto l0804904A;
				}
				ebx_180 = ebx_180 + 0x01;
			}
			fn0804847F(dwArg08, fp - 0x4C, fp - 0x40);
			fn08048498(fp - 0x4C);
			Eq_1094 rLoc68_543 = (real32) ((real64) rLoc6C_184 * edi_145->t0070);
			rLoc1_203 = fn08048438(&edi_145->r0018, fp - 0x40);
			fn08048428();
			rArg0 = rArg0 * edi_145->t0074 + rLoc68_543;
		}
		struct Eq_33 * esi_228;
		int32 ebx_227;
		real32 rLoc68_210 = (real32) rLoc1_203;
		if (edi_145->b007C == 0x00)
		{
			real64 rLoc1_373 = -fn08048438(&edi_145->r0018, (char *) &edi_145->t002C + 0x0010);
			uint16 wLoc4E_377 = __fstcw();
			real64 rLoc2_394 = atan(sqrt(1.0 - rLoc1_373 * 1.0), rLoc1_373);
			real64 rLoc3_396 = (real64) globals->r8049A14 * rLoc2_394;
			__fldcw(DPB(wLoc4E_377, SLICE(wLoc4E_377, byte, 8) | 0x0C, 8));
			__fldcw(wLoc4E_377);
			Eq_166 rLoc1_404 = fn08048438((char *) &edi_145->t002C + 0x001C, &edi_145->r0018);
			real64 rLoc2_407 = sin((real64) (real32) rLoc2_394);
			uint16 wLoc4E_408 = __fstcw();
			real64 rLoc1_417 = rLoc1_404 / rLoc2_407;
			real64 rLoc1_427 = atan(sqrt(1.0 - rLoc2_407 * rLoc1_417), rLoc1_417) * globals->t8049A18;
			__fldcw(DPB(wLoc4E_408, SLICE(wLoc4E_408, byte, 8) | 0x0C, 8));
			__fldcw(wLoc4E_408);
			fn08048438(edi_145, &edi_145->r0018);
			struct Eq_33 * dwLoc54_428 = (int32) rLoc1_427;
			ebx_227 = (int32) rLoc3_396;
			esi_228 = dwLoc54_428;
			if (!((word16) FPUF << 0x08))
				esi_228 = 0x0100 - dwLoc54_428;
		}
		else
		{
			Eq_166 rLoc1_441 = fn08048438(&edi_145->r000C, (char *) &edi_145->t002C + 0x0010);
			Eq_1119 rLoc1_445 = (real64) globals->r8049A1C;
			do
				rLoc1_445 = rLoc1_441 % rLoc1_445;
			while (P);
			uint16 wLoc4E_451 = __fstcw();
			__fldcw(DPB(wLoc4E_451, SLICE(wLoc4E_451, byte, 8) | 0x0C, 8));
			__fldcw(wLoc4E_451);
			int64 edx_eax_459 = (int64) (int32) rLoc1_445;
			ui32 edx_461 = SLICE(edx_eax_459, word32, 32);
			Eq_166 rArg0_468 = fn08048438(&edi_145->r000C, (char *) &edi_145->t002C + 0x001C);
			esi_228 = (edx_461 ^ (word32) edx_eax_459) - edx_461;
			rArg0 = (real64) globals->r8049A1C;
			do
				rArg0 = rArg0_468 % rArg0;
			while (P);
			uint16 wLoc4E_477 = __fstcw();
			__fldcw(DPB(wLoc4E_477, SLICE(wLoc4E_477, byte, 8) | 0x0C, 8));
			__fldcw(wLoc4E_477);
			int64 edx_eax_485 = (int64) (int32) rArg0;
			ui32 edx_487 = SLICE(edx_eax_485, word32, 32);
			rArg1 = rArg0;
			ebx_227 = (edx_487 ^ (word32) edx_eax_485) - edx_487;
		}
		ui32 edx_230 = esi_228 + (ebx_227 << 0x08) / 262272;
		real64 rLoc1_235 = (real64) (word32) edi_145->a0080[edx_230].b0002;
		real64 rLoc2_238 = (real64) (word32) edi_145->a0080[edx_230].b0001;
		edi_145->t002C = (real32) (real64) (word32) edi_145->a0080[edx_230].b0000;
		real64 rLoc3_248 = ((real64) rLoc68_210 + globals->t8049A20) * rLoc1_235;
		edi_145->r0024 = (real32) rLoc1_235;
		real64 rLoc3_256 = rLoc2_238 * rLoc3_248;
		edi_145->r0028 = (real32) rLoc3_256;
		real64 rLoc3_261 = rLoc3_248 * edi_145->t002C;
		edi_145->t002C = (real32) rLoc3_261;
		Eq_1265 rLoc5C_262 = (real32) rLoc3_261;
		Eq_1267 rLoc60_264 = (real32) rLoc1_235;
		Eq_1269 rLoc58_265 = (real32) rLoc3_256;
		if (dwArg0C > 0x00 && edi_145->b007D == 0x01)
		{
			fn08048438(&edi_145->r0018, dwArg08);
			fn080484A2(fp - 0x34);
			real64 rArg0_351;
			fn08048EBE(fp - 0x28, ecx, edx, esi_228, &edi_145->r000C, fp - 0x34, dwArg0C - 0x01, 0x01, rArg0, rArg1, out rArg0_351);
			real64 rLoc1_353 = (real64) globals->r8049A24;
			rLoc60_264 = (real32) ((real64) rLoc28 * rLoc1_353 + rLoc60_264);
			rLoc58_265 = (real32) ((real64) rLoc24 * rLoc1_353 + rLoc58_265);
			rLoc5C_262 = (real32) (rLoc1_353 * rLoc20 + rLoc5C_262);
		}
		Eq_1281 rLoc1_286 = (real64) rLoc60_264;
		if (rLoc1_286 > globals->t8049A28)
			rLoc1_286 = (real64) globals->t8049A28;
		eax->r0000 = (real32) rLoc1_286;
		Eq_1281 rLoc1_293 = (real64) rLoc58_265;
		if (rLoc1_293 > globals->t8049A28)
			rLoc1_293 = (real64) globals->t8049A28;
		eax->r0004 = (real32) rLoc1_293;
		Eq_1281 rLoc1_300 = (real64) rLoc5C_262;
		FPUF = cond(rLoc1_300 - globals->t8049A28);
		if (rLoc1_300 > globals->t8049A28)
			rLoc1_300 = (real64) globals->t8049A28;
		eax->r0008 = (real32) rLoc1_300;
	}
	return FPUF;
}

// 0804938F: void fn0804938F(Register (ptr32 Eq_33) eax, Register (ptr32 Eq_1418) ecx, Register int32 edx)
void fn0804938F(Eq_33 * eax, Eq_1418 * ecx, int32 edx)
{
	int32 ebp_122 = 0x00;
	struct Eq_33 * esi_123 = eax;
	while (ebp_122 < edx)
	{
		struct Eq_33 * edi_104 = (char *) &esi_123->t002C + 0x04;
		fn0804847F(esi_123, edi_104, &globals->t824A50C);
		if (esi_123->b007C == 0x00)
		{
			real64 rLoc1_134 = (real64) esi_123->r0060;
			esi_123->r0064 = (real32) ((real64) (real32) (rLoc1_134 * rLoc1_134) - fn08048438(edi_104, edi_104));
		}
		if (esi_123->b007C == 0x01)
		{
			struct Eq_33 * ebx_125 = &esi_123->r0018;
			esi_123->r006C = (real32) fn08048438(edi_104, ebx_125);
			esi_123->r0068 = (real32) fn08048438(ebx_125, esi_123);
		}
		ebp_122 = ebp_122 + 0x01;
		esi_123 = esi_123 + 0x01;
	}
	ui32 ebx_41 = 0x00;
	struct Eq_33 * esi_44 = &globals->t964CD20;
	do
	{
		esi_44 = &esi_44->r0018;
		fn08048EBE(fp - 0x28, edx, eax, esi_44, &globals->t824A50C, esi_44, 0x02, 0x00, rArg0, rArg1, out rArg0);
		uint16 wLoc2E_65 = __fstcw();
		uint16 ax_71 = DPB(wLoc2E_65, SLICE(wLoc2E_65, byte, 8) | 0x0C, 8);
		__fldcw(ax_71);
		__fldcw(wLoc2E_65);
		__fldcw(ax_71);
		__fldcw(wLoc2E_65);
		__fldcw(ax_71);
		__fldcw(wLoc2E_65);
		ui32 ecx_86 = ((int32) (real64) rLoc24 << 0x08) + (((int32) ((real64) rLoc28) << 0x10) + (int32) ((real64) rLoc20));
		ecx->a0004[ebx_41] = ecx_86;
		ecx[ebx_41] = (struct Eq_1418) ecx_86;
		ebx_41 = ebx_41 + 0x02;
	} while (ebx_41 != 0x00030000);
}

// 080494A7: void fn080494A7(Register (ptr32 Eq_1539) eax)
void fn080494A7(Eq_1539 * eax)
{
	fn080483D8();
	struct Eq_1418 * eax_28 = eax->ptr0014;
	fn080483A8();
	globals->dw824A514 = 0xC2F00000;
	int32 ebp_43 = 0x00;
	struct Eq_33 * dwLoc400C4_31 = &globals->t964CD20;
	word32 dwLoc400C0_32 = ~0xBF;
	do
	{
		struct Eq_33 * edi_47 = dwLoc400C4_31;
		word32 esi_48 = ~0xFF;
		struct Eq_1562 * ebx_49 = ebp_43 *s 0x0C + 157601056;
		do
		{
			ebx_49->r0000 = (real32) (real64) esi_48;
			ebx_49->r0004 = (real32) (real64) dwLoc400C0_32;
			ebx_49->dw0008 = 0x44000000;
			fn080484A2(edi_47);
			esi_48 = esi_48 + 0x01;
			edi_47 = &edi_47->r000C;
			ebx_49 = ebx_49 + 0x01;
		} while (esi_48 != 0x0100);
		ebp_43 = ebp_43 + 0x0200;
		dwLoc400C4_31 = &(dwLoc400C4_31->a0080 + 0x05E0)->b0000;
		dwLoc400C0_32 = dwLoc400C0_32 + 0x01;
	} while (ebp_43 != 0x00030000);
	ui32 dwLoc400D4_101 = 0x00;
	word32 ebp_134 = ~0x09;
	word32 dwLoc400C8_136 = 0x08049A40;
	do
	{
		word32 edi_112 = ~0x2C;
		Eq_396 rLoc400D0_97 = (real32) (real64) ebp_134;
		byte * dwLoc400CC_100 = dwLoc400C8_136 + 0x00;
		do
		{
			if (*dwLoc400CC_100 == 0x01)
			{
				fn08048775(0x01, (real32) (real64) edi_112, rLoc400D0_97, 0xC1C80000, 2.0F);
				fn080483E8();
				globals->a824A59D[dwLoc400D4_101] = (struct Eq_1978) 0x00;
				dwLoc400D4_101 = dwLoc400D4_101 + 0x01;
			}
			edi_112 = edi_112 + 0x04;
			dwLoc400CC_100 = dwLoc400CC_100 + 0x01;
		} while (edi_112 != 0x2F);
		ebp_134 = ebp_134 + 0x04;
		dwLoc400C8_136 = dwLoc400C8_136 + 0x17;
	} while (ebp_134 != 0x0E);
	fn080486BA(0x00, 0x00, 0x00, 0xC1200000, 0x00, 0x00, 0xBF800000);
	fn080483E8();
	fn08048775(0x00, 0.0F, 0x41F00000, 0xC20C0000, 15.0F);
	fn080483E8();
	fn0804881D(0x0F, 0x00, 0x01, 0.0F, 0xC2C80000, 0xC1F00000, 0x00);
	fn080486BA(0x00, 0x00, 0x41F00000, 0x00, 0x00, 0xBF800000, 0x00);
	fn080483E8();
	fn080486BA(0x00, 0x00, 0xC1A00000, 0x00, 0x00, 0x3F800000, 0x00);
	fn080483E8();
	fn080486BA((byte) (fp - 262332 ^ fp - 262332), 0xC2480000, 0x00, 0x00, 0x3F800000, 0x00, 0x00);
	fn080483E8();
	fn080486BA(0x00, 0x42480000, 0x00, 0x00, 0xBF800000, 0x00, 0x00);
	fn080483E8();
	fn080486BA((byte) (fp - 262332 ^ fp - 262332), 0x00, 0x00, 0x42200000, 0x00, 0x00, 0xBF800000);
	fn080483E8();
	fn08048775(0x04, 0.0F, 0x41800000, 0xC1A00000, 15.0F);
	fn080483E8();
	fn08048613(0x03, 0xC1F00000, 0x41F00000, 0xC1A00000, 0x41200000, 0x00, 0xBF800000, 0x00);
	fn080483E8();
	ptr32 eax_417 = fn08048613(0x03, 0x41F00000, 0x41F00000, 0xC1A00000, 0x41200000, 0x00, 0xBF800000, 0x00);
	fn080483E8();
	globals->r824A508 = -120.0F;
	fn080483B8();
	word32 ebx_406 = 0x00;
	int32 esi_423 = fp - 262332 ^ fp - 262332;
	eax_444 = eax_417;
	while (true)
	{
		ptr32 eax_444;
		fn080483B8();
		ptr32 eax_448 = eax_444 - eax_417;
		if (eax_448 > 13999 || bLoc30 == 0x02)
			break;
		real64 rLoc1_583 = (real64) ebx_406 * globals->t8049A34;
		real64 rLoc1_585 = cos(rLoc1_583);
		real64 rLoc2_586 = sin(rLoc1_583);
		real64 rLoc3_588 = (real64) globals->r8049A30 * rLoc2_586;
		globals->r824A500 = (real32) rLoc2_586;
		globals->r824A504 = (real32) (rLoc1_585 * rLoc3_588);
		if (esi_423 <= 0x31)
		{
			struct Eq_1851 * eax_618 = null;
			real64 rLoc1_621 = (real64) globals->r8049A2C;
			do
			{
				eax_618->r940C8A4 = (real32) ((real64) eax_618->r940C8A4 + rLoc1_621);
				eax_618 = eax_618 + 0x01;
			} while (eax_618 != (struct Eq_1851 *) 0x001C0380);
		}
		fn0804938F(&globals->t940C8A0, eax_28, 0x09);
		fn080483F8();
		fn080483C8();
		esi_423 = esi_423 + 0x01;
		ebx_406 = ebx_406 + 0x04;
		eax_444 = fp - 0x30;
	}
	fn080483B8();
	ui32 ebx_453 = esi_423 * 0x02;
	eax_463 = eax_448;
	while (true)
	{
		ptr32 eax_463;
		fn080483B8();
		ptr32 eax_467 = eax_463 - eax_448;
		if (eax_467 > 13999 || bLoc30 == 0x02)
			break;
		real64 rLoc1_546 = (real64) ebx_453 * globals->t8049A34;
		globals->r824A504 = -10.0F;
		real64 rLoc1_553 = cos(rLoc1_546);
		real64 rLoc2_554 = sin(rLoc1_546);
		real64 rLoc3_556 = (real64) globals->r8049A38 * rLoc2_554;
		globals->r824A500 = (real32) rLoc2_554;
		globals->r824A508 = (real32) (rLoc1_553 * rLoc3_556);
		fn0804938F(&globals->t804A100, eax_28, 0x08);
		fn080483F8();
		fn080483C8();
		esi_423 = esi_423 + 0x01;
		ebx_453 = ebx_453 + 0x02;
		eax_463 = fp - 0x30;
	}
	fn080483B8();
	globals->r824A508 = -120.0F;
	ui32 ebx_472 = esi_423 * 0x04;
	eax_483 = eax_467;
	while (true)
	{
		ptr32 eax_483;
		fn080483B8();
		if (eax_483 - eax_467 > 13999 || bLoc30 == 0x02)
			break;
		real64 rLoc1_511 = (real64) ebx_472 * globals->t8049A34;
		real64 rLoc1_516 = cos(rLoc1_511);
		real64 rLoc2_517 = sin(rLoc1_511);
		real64 rLoc3_519 = (real64) globals->r8049A30 * rLoc2_517;
		globals->r824A500 = (real32) rLoc2_517;
		globals->r824A504 = (real32) (rLoc1_516 * rLoc3_519);
		fn0804938F(&globals->t824A520, eax_28, 0x47);
		fn080483F8();
		fn080483C8();
		ebx_472 = ebx_472 + 0x04;
		eax_483 = fp - 0x30;
	}
	fn08048408();
	__syscall(0x80);
}

