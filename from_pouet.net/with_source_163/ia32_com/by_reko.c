// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register word16 bp, Register (memptr (ptr16 Eq_76) byte) di, Register (ptr16 Eq_4) ds, FpuStack real64 rArg0)
void fn0C00_0100(word16 bp, byte Eq_76::* di, struct Eq_4 * ds, real64 rArg0)
{
	__syscall(0x10);
	word16 cx_19;
	for (cx_19 = 0x0300; cx_19 != 0x00; --cx_19)
	{
		real64 rLoc1_113 = sin((real64) cx_19 * (real64) 21167);
		__outb(969, (byte) (int16) (rLoc1_113 * rLoc1_113 * (real64) 0x3F));
	}
	do
	{
		do
		{
			uint32 dx_ax_48 = (uint32) (uint16) di;
			real64 rLoc2_123 = (real64) ((uint16) (dx_ax_48 % 0x0140) - 0xA0);
			real64 rLoc3_125 = rLoc2_123 * rLoc2_123;
			0xA000->*di = (byte) ((int16) (atan(rArg0, (real64) ((uint16) (dx_ax_48 /u 0x0140) - 100)) * (real64) 0x29 + (real64) ((int16) sqrt(rLoc3_125 + rLoc3_125 * rLoc3_125))) + bp);
			++di;
			--cx_19;
		} while (cx_19 != 0x00);
		--bp;
	} while (__inb(0x60) != 0x01);
	bios_video_set_mode(0x03);
	msdos_display_string(&ds->b017B);
	msdos_terminate_program20();
}

