// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100()
void fn0C00_0100()
{
	__syscall(0x10);
	__outw(0x03D4, 8211);
	cui16 cx_347 = 0x40;
	do
	{
		byte cl_253 = (byte) cx_354;
		cui16 bx_344 = 0x30;
		do
		{
			bi8 al_14 = __rol((byte) bx_355, 0x01);
			ci8 al_20 = ((byte) (al_14 *s al_14) & 0x1F) + 0x20 - cl_253;
			if (al_20 < 0x00)
				al_20 = 0x00;
			__outb(969, al_20);
			Eq_23 bx_33 = bx_355 - 0x01;
			bx_344 = bx_355 - 0x01;
			bx_355 = bx_344;
		} while (bx_355 != 0x01);
		cx_347 = cx_354 - 0x04;
		cx_354 = cx_347;
	} while (cx_354 != 0x04);
	do
	{
		bi8 al_65 = (byte) bx_33;
		int16 ax_66 = al_65 *s al_65;
		0x8000->*bx_33 = (SEQ(SLICE(ax_66, byte, 8) - 0x40, (byte) ax_66) ^ SLICE((int32) ((int16) ((byte) ((bx_33 >> 0x01) + 0x40))), word16, 16)) >> 0x08;
		Eq_80 bx_77 = (word16) bx_33 + 1;
		bx_33 = (word16) bx_77 + 1;
	} while (bx_77 != 0x01);
	Eq_87 bx_350 = (word16) bx_77 + 1;
	do
	{
		bi8 bl_87 = (byte) bx_353;
		bi8 bh_94 = SLICE(bx_353, byte, 8);
		int16 bp_103 = bl_87 *s bl_87 + bh_94 *s bh_94;
		word16 ax_101 = 0x00;
		do
		{
			++ax_101;
			byte al_108 = (byte) ax_101;
			bp_103 = bp_103 - ax_101 - ax_101;
		} while (bp_103 >= 0x00);
		0x7000->*bx_353 = SLICE((al_108 << 0x02) *s (al_108 << 0x02), byte, 8) << 0x01;
		struct Eq_111 Eq_106::* bx_119 = (word16) bx_353 + 1;
		bx_350 = (word16) bx_353 + 1;
		bx_353 = bx_350;
	} while (bx_353 != 0x01);
	struct Eq_125 Eq_76::* si_134 = Eq_76::a0000;
	do
	{
		int16 ax_142 = SEQ((0x8000->*si_134).t0000, si_134[64]);
		Eq_138 si_148 = (0x8000->*si_134).t0000;
		<type-error> Eq_106::* bp_149 = &Eq_106::tFFFF9CC0;
		do
		{
			do
			{
				bx_294 = SEQ(bh_174, bl_167 + 0x02);
				byte al_156 = Mem153[0x7000:bp_149 + ax_142:byte] + Mem153[0x7000:bp_149 + si_148:byte];
				byte ah_159 = SLICE(al_156 *s al_156, byte, 8);
				word16 ax_161 = SEQ(ah_159, ah_159);
				(0x6000->*bx_119).t0000 = ax_161;
				bx_119[0x0100] = ax_161;
				byte bl_167 = (byte) bx_119;
				byte bh_174 = SLICE(bx_119, byte, 8);
				bp_149 = (<type-error> Eq_106::*) ((char *) bp_149 + 1);
				bx_119 = bx_294;
			} while (bl_167 != 0x02);
			bp_149 = (<type-error> Eq_106::*) ((char *) bp_149 + 0x0080);
			bx_119 = SEQ(bh_174 + 0x01, bl_167 + 0x02);
		} while (bh_174 != 0x01);
		do
			;
		while ((__inb(0x03DA) & 0x08) == 0x00);
		do
			;
		while ((__inb(0x03DA) & 0x08) != 0x00);
		do
		{
			byte cl_198 = (0x6000->*bx_119).t0000;
			word16 cx_201 = bx_119 + SEQ(cl_198, cl_198);
			bi8 ch_203 = SLICE(cx_201, byte, 8);
			bi8 cl_204 = (byte) cx_201 + ch_203;
			int16 ax_221 = ((int16) ((0x6000->*bx_119).bFFFFFBFC - bx_119[0x0404]) << 0x01) + 0x80;
			byte cl_216 = SLICE(cl_204 *s cl_204 + ch_203 *s ch_203, byte, 8) >> 0x02 & 0x0F;
			byte al_227 = (byte) ax_221;
			if (ax_221 < 0x00)
				al_227 = 0x00;
			bx_119[32] = (al_227 & 0xF0) + cl_216;
			++bx_119;
		} while (bx_119 != &Eq_106::t0000);
		++si_134;
	} while (__inb(0x60) != 0x01);
}

