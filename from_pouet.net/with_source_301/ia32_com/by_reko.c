// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_2) ds)
void fn0C00_0100(struct Eq_2 * ds)
{
	__syscall(0x10);
	do
	{
		word16 Eq_28::* di_12 = Eq_28::a0000;
		word16 cx_15;
		for (cx_15 = 0x7D00; cx_15 != 0x00; --cx_15)
		{
			0x9000->*di_12 = 0x00;
			++di_12;
		}
		ds->r01ED = ds->r01F1;
		ds->w0205 = 0x0A;
		ds->r01F9 = (real32) ((real64) ds->r01F9 + (real64) ds->r01F5);
		word16 cx_122 = 0x06;
		do
		{
			ds->w020B = 0x00;
			ui16 ax_40 = ds->w0209 - ds->w0205;
			int16 cx_210 = ds->w0205 *s 0x02;
			do
			{
				word16 bx_47 = ds->w0207 - ds->w020B;
				byte cl_52 = (byte) cx_217;
				SEQ(0x9000, bx_47)[ax_40].b0000 = cl_52;
				SEQ(0x9000, bx_47 + ds->w020B + ds->w020B)[ax_40].b0000 = cl_52;
				++ds->w020B;
				++ax_40;
				cx_210 = cx_217 - 0x01;
				cx_217 = cx_210;
			} while (cx_217 != 0x01);
			word16 bx_71 = ds->w0207 + ds->w020B;
			int16 cx_213 = ds->w020B *s 0x02 + 0x01;
			do
			{
				SEQ(0x9000, bx_71)[ax_40].b0000 = (byte) cx_215;
				--bx_71;
				cx_213 = cx_215 - 0x01;
				cx_215 = cx_213;
			} while (cx_215 != 0x01);
			ds->r01ED = (real32) ((real64) ds->r01ED + (real64) ds->r01F1);
			ds->w0205 += 0x04;
			real64 rLoc1_190 = (real64) ds->r01F9;
			real64 rLoc1_191 = cos(rLoc1_190);
			ds->w0209 = (int16) (sin(rLoc1_190) * (real64) ds->r01ED + (real64) ds->r01FD);
			ds->w0207 = (int16) (rLoc1_191 * (real64) ds->r01ED + (real64) ds->r0201);
			cx_122 = cx_216 - 0x01;
			cx_216 = cx_122;
		} while (cx_216 != 0x01);
		word16 Eq_190::* di_135 = Eq_190::a0000;
		word16 Eq_186::* si_136 = Eq_186::a0000;
		word16 cx_139;
		for (cx_139 = 0x7D00; cx_139 != 0x00; --cx_139)
		{
			0xA000->*di_135 = 0x9000->*si_136;
			++si_136;
			++di_135;
		}
		byte al_147;
		byte ah_148;
	} while (bios_kbd_check_keystroke(out al_147, out ah_148));
}

