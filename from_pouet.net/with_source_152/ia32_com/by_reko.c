// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (memptr (ptr16 Eq_3) Eq_2) bx, Register (ptr16 Eq_3) ds)
void fn0C00_0100(struct Eq_2 Eq_3::* bx, struct Eq_3 * ds)
{
	struct Eq_4 * es_77 = (ds->*bx).ptr0002;
	__syscall(0x10);
	real32 dwLoc06_79 = -0.1F;
	word16 cx_17;
	for (cx_17 = 0x0300; cx_17 != 0x00; --cx_17)
	{
		real64 rLoc1_83 = sin((real64) cx_17 * ds->r0174);
		__outb(969, (byte) (int16) (rLoc1_83 * rLoc1_83 * (real64) ds->w0178));
	}
	do
	{
		real64 rLoc1_95 = (real64) ds->r017A - rLoc0E + fabs((real64) dwLoc06_79);
		real64 rLoc1_98 = (real64) (real32) (real64) dwLoc06_79;
		Eq_59 di_65 = (int16) rLoc1_95 + ((int16) rLoc1_98 + 0x3C) *s 0x0140;
		++es_77->*((word16) di_65 + 0x0082);
		dwLoc06_79 = (real32) rLoc1_95;
		rLoc0E = (real32) rLoc1_98;
	} while (__inb(0x60) != 0x01);
}

