// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_2) ds_di, Register int16 cx, Register byte dh, Register (memptr (ptr16 Eq_21) Eq_5) bx, Register word16 bp, Register int16 si)
void fn0C00_0100(struct Eq_2 * ds_di, int16 cx, byte dh, struct Eq_5 Eq_21::* bx, word16 bp, int16 si)
{
	int16 di = (word16) ds_di;
	__syscall(0x10);
	Eq_15 ds_ax_8 = ds_di->t0002;
	word16 ax_46 = (word16) ds_ax_8;
	struct Eq_21 * ds_49 = SLICE(ds_ax_8, selector, 16);
	do
	{
		ax_48 = SEQ(ah_47, al_44);
		word16 ax_10 = ax_46 + 0x01;
		cu8 al_11 = (byte) ax_10;
		byte ah_12 = SLICE(ax_10, byte, 8);
		cu8 Eq_21::* bx_20 = bx - 0x01;
		cu8 v14_25 = ds_49->*bx_20 - dh - (ds_49->*bx_20 >= ((bool) __aas(al_11, ah_12, &al_11, &ah_12) + (al_11 + (ds_49->*bx).bFFFFFEBF)) + bx[di]);
		ds_49->*bx_20 = v14_25;
		int32 dx_ax_39 = si *s cx;
		bx = bx_20 - bp - (v14_25 < 0x00);
		word16 ax_35 = SEQ(SLICE(ax_10, byte, 8), __inb(0x60));
		byte ah_47 = SLICE(dx_ax_39, byte, 8);
		dh = SLICE(dx_ax_39, byte, 24);
		byte al_44 = bx[(uint16) (byte) dx_ax_39];
		cx = ax_35 - 0x01;
		ax_46 = ax_48;
	} while (ax_35 != 0x01);
}

