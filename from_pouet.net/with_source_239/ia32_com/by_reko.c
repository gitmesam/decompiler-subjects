// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_2) ds)
void fn0C00_0100(struct Eq_2 * ds)
{
	__syscall(0x10);
	do
	{
		byte Eq_25::* di_14 = Eq_25::a020D;
		word16 cx_15;
		for (cx_15 = 0xFA00; cx_15 != 0x00; --cx_15)
		{
			cs->*di_14 = 0x00;
			++di_14;
		}
		real64 rLoc1_207 = (real64) ds->r01FB + (real64) ds->r01F3;
		ds->r01FB = (real32) rLoc1_207;
		ds->r01FF = (real32) rLoc1_207;
		int16 cx_117;
		for (cx_117 = 0x015E; cx_117 != 0x00; --cx_117)
		{
			ds->w0207 = cx_117;
			real64 rLoc1_210 = (real64) ds->r01FB - (real64) ds->r01FF - (real64) ds->r01FF;
			real64 rLoc1_211 = cos(rLoc1_210);
			ds->r0203 = (real32) sin(rLoc1_210);
			real64 rLoc2_214 = (real64) ds->r01FF - (real64) ds->r01F7;
			ds->r01FF = (real32) rLoc2_214;
			real64 rLoc2_215 = rLoc2_214 * (real64) ds->w01EF;
			real64 rLoc2_216 = cos(rLoc2_215);
			ds->w020B = (int16) ((sin(rLoc2_215) * (real64) ds->w01ED - (real64) ds->w0207 / (real64) ds->w01EF) * (real64) ds->r0203 + (real64) ds->w01EB);
			ds->w0209 = (int16) (rLoc1_211 * (rLoc2_216 * (real64) ds->w01ED - (real64) ds->w0207 / (real64) ds->w01F1) + (real64) ds->w01E9);
			Eq_37 di_100 = ds->w020B *s 0x0140 + ds->w0209 + 525;
			byte Eq_2::* si_192 = &Eq_2::b01D0;
			byte dh_110;
			for (dh_110 = 0x05; dh_110 != 0x00; --dh_110)
			{
				byte dl_102;
				for (dl_102 = 0x05; dl_102 != 0x00; --dl_102)
				{
					byte al_91 = ds->*si_192;
					++si_192;
					if (al_91 != 0x00)
						ds->*di_100 = al_91;
					di_100 = (word16) di_100 + 1;
				}
				di_100 = (word16) di_100 + 315;
			}
		}
		do
			;
		while ((__inb(0x03DA) & 0x08) == 0x00);
		byte Eq_195::* di_126 = Eq_195::a0000;
		byte Eq_2::* si_133 = Eq_2::a020D;
		word16 cx_134;
		for (cx_134 = 0xFA00; cx_134 != 0x00; --cx_134)
		{
			0xA000->*di_126 = ds->*si_133;
			++si_133;
			++di_126;
		}
	} while (__inb(0x60) != 0x01);
	bios_video_set_mode(0x03);
}

