// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register word16 cx, Register (memptr (ptr16 Eq_5) Eq_3) bx, Register word16 bp, Register (ptr16 Eq_5) ds)
void fn0C00_0100(word16 cx, struct Eq_3 Eq_5::* bx, word16 bp, struct Eq_5 * ds)
{
	int8 Top_149 = 0;
	__syscall(0x10);
	word16 cx_274 = cx + 0x01;
	do
	{
		uint8 cl_8 = (byte) cx_279;
		__outb(0x03C8, cl_8);
		__outb(969, cl_8 >> 0x02);
		__outb(969, cl_8 >> 0x02);
		__outb(969, (cl_8 >> 0x02) + 0x0E);
		cx_274 = cx_279 - 0x01;
		cx_279 = cx_274;
	} while (cx_279 != 0x01);
	struct Eq_44 * es_219 = (ds->*bx).ptr0002;
	do
	{
		word16 cx_161 = 0xFA00;
		byte Eq_44::* di_33 = Eq_44::a0000;
		struct Eq_48 Eq_5::* si_36 = Eq_5::a0206;
		do
		{
			es_219->*di_33 = (ds->*si_36).b0000;
			word16 ax_49 = cx_161 + bp;
			++si_36;
			(ds->*si_36).bFFFFFFFF = ((byte) ax_49 ^ SLICE(ax_49, byte, 8)) & 0x1F;
			++di_33;
			cx_161 = cx_161 - 0x01 + 0x01;
		} while (cx_161 != 0x00);
		__fninit();
		struct Eq_6 * Top_62 = Top_149 - 1;
		Top_62->r0000 = 0.0;
		bp += 0x40;
		do
		{
			Top_62->rFFFFFFFF = Top_62->rFFFFFFFF;
			Top_62->rFFFFFFFF *= ds->r01F3;
			real64 v23_71 = Top_62->rFFFFFFFF;
			Top_62->rFFFFFFFF = cos(v23_71);
			Top_62->rFFFFFFFE = sin(v23_71);
			Top_62->rFFFFFFFE /= ds->r01F3;
			Top_62->rFFFFFFFD = 1.0;
			Top_62->rFFFFFFFE += Top_62->rFFFFFFFD;
			Top_62->rFFFFFFFD = Top_62->rFFFFFFFF;
			real64 v24_82 = Top_62->rFFFFFFFD;
			Top_62->rFFFFFFFD = cos(v24_82);
			Top_62->rFFFFFFFC = sin(v24_82);
			real64 v25_86 = Top_62->rFFFFFFFC;
			Top_62->rFFFFFFFC = Top_62->rFFFFFFFE;
			Top_62->rFFFFFFFE = v25_86;
			Top_62->rFFFFFFFC *= Top_62->rFFFFFFFE;
			Top_62->rFFFFFFFD *= Top_62->rFFFFFFFC;
			real64 v26_92 = Top_62->rFFFFFFFD;
			Top_62->rFFFFFFFD = Top_62->rFFFFFFFF;
			Top_62->rFFFFFFFF = v26_92;
			Top_62->rFFFFFFFD /= ds->r01F3;
			Top_62->rFFFFFFFC = (real64) 0040:006C;
			Top_62->rFFFFFFFC *= ds->r01EF;
			real64 v27_100 = Top_62->rFFFFFFFC;
			Top_62->rFFFFFFFC = cos(v27_100);
			Top_62->rFFFFFFFB = sin(v27_100);
			Top_62->rFFFFFFFA = Top_62->rFFFFFFFD;
			Top_62->rFFFFFFFA *= Top_62->rFFFFFFFB;
			Top_62->rFFFFFFF9 = Top_62->rFFFFFFFC;
			Top_62->rFFFFFFF9 *= Top_62->rFFFFFFFC;
			Top_62->rFFFFFFFA += Top_62->rFFFFFFF9;
			real64 v28_112 = Top_62->rFFFFFFFA;
			Top_62->rFFFFFFFA = Top_62->rFFFFFFFD;
			Top_62->rFFFFFFFD = v28_112;
			Top_62->rFFFFFFFB *= Top_62->rFFFFFFFA;
			real64 v29_117 = Top_62->rFFFFFFFB;
			Top_62->rFFFFFFFB = Top_62->rFFFFFFFE;
			Top_62->rFFFFFFFE = v29_117;
			Top_62->rFFFFFFFC *= Top_62->rFFFFFFFB;
			Top_62->rFFFFFFFE -= Top_62->rFFFFFFFC;
			real64 v30_124 = Top_62->rFFFFFFFD;
			Top_62->rFFFFFFFD = Top_62->rFFFFFFFE;
			Top_62->rFFFFFFFE = v30_124;
			real64 v31_127 = Top_62->rFFFFFFFD;
			Top_62->rFFFFFFFD = Top_62->rFFFFFFFF;
			Top_62->rFFFFFFFF = v31_127;
			real64 v32_130 = Top_62->rFFFFFFFD;
			Top_62->rFFFFFFFD = Top_62->rFFFFFFFE;
			Top_62->rFFFFFFFE = v32_130;
			Top_62->rFFFFFFFC = Top_62->rFFFFFFFE;
			Top_62->rFFFFFFFC += (real64) ds->w01F7;
			Top_62->rFFFFFFFC = (real64) ds->w01F9 / Top_62->rFFFFFFFC;
			Top_62->rFFFFFFFC *= Top_62->rFFFFFFFE;
			Top_62->rFFFFFFFD *= Top_62->rFFFFFFFC;
			Top_62->rFFFFFFFD += (real64) ds->w01F7;
			ds->t0202.u0 = (int16) Top_62->rFFFFFFFD;
			Top_62->rFFFFFFFE += (real64) ds->w01FD;
			ds->w0200 = (int16) Top_62->rFFFFFFFE;
			Top_62->rFFFFFFFF *= (real64) ds->w01FB;
			Top_62->rFFFFFFFF += (real64) ds->w01F7;
			ds->t0204.u0 = (int16) Top_62->rFFFFFFFF;
			Top_149 = Top_62;
			struct Eq_89 Eq_5::* si_156 = (word16) (ds->t0202 * 0x0140) + 0x0206 + ds->w0200;
			Eq_97 al_158 = ds->t0204;
			word16 cx_164 = 0x0A;
			do
			{
				word16 cx_182;
				do
				{
					if ((ds->*si_156).b0000 <= al_158)
						(ds->*si_156).b0000 = al_158;
					si_156 = &si_156->b0000 + 1;
					--cx_182;
				} while (cx_182 != 0x00);
				++si_156;
				cx_164 = cx_278 - 0x01;
				cx_278 = cx_164;
			} while (cx_278 != 0x01);
			Top_62->r0000 += ds->r01EF;
			cx_161 = cx_277 + 0x01;
			cx_277 = cx_161;
		} while ((SLICE(cx_277 + 0x00, byte, 8) & 0x02) == 0x00);
	} while (__inb(0x60) != 0x01);
}

