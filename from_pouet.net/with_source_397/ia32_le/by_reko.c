// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0800:0008: Register word16 fn0800_0008(Register Eq_3 ds)
word16 fn0800_0008(Eq_3 ds)
{
}

// 0800:0064: void fn0800_0064(Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds)
void fn0800_0064(Eq_3 di, Eq_3 es, Eq_3 ds)
{
	Eq_3 ax_15 = fn0800_0008(ds);
	fn0800_031E(fp - 0x8C, ds);
	Eq_3 ds_27;
	struct Eq_93 Eq_110::* bp_28 = fn0800_032D(ax_15, di, es, ds, out ds_27);
	fn0800_0337(0x41, ds_27);
	fn0800_0337((ss->*bp_28).t0078, ds_27);
	fn0800_035A();
	fn0800_0337(fn0800_0362(*((word32) ds_27 + 0x043C), ds_27), ds_27);
	fn0800_037C(0x01);
}

// 0800:00BA: Register Eq_10 fn0800_00BA(Register Eq_10 ax, Register Eq_3 ds)
Eq_10 fn0800_00BA(Eq_10 ax, Eq_3 ds)
{
}

// 0800:011B: void fn0800_011B(Register (memptr Eq_3 byte) ax, Register Eq_3 ds)
void fn0800_011B(byte Eq_3::*ax, Eq_3 ds)
{
	byte Eq_3::* bx_13 = ax;
	while (true)
	{
		byte al_25 = ds->*bx_13;
		if (al_25 == 0x00)
			break;
		dx = DPB(dx, 0x00, 8);
		if (dx <= 0x19)
			ds->*bx_13 = al_25 + 0x20;
		bx_13 = bx_13 + 0x01;
	}
}

// 0800:0140: void fn0800_0140(Register (memptr Eq_3 byte) ax, Register (memptr Eq_3 Eq_43) dx, Register Eq_3 ds)
void fn0800_0140(byte Eq_3::*ax, Eq_43 Eq_3::*dx, Eq_3 ds)
{
}

// 0800:01EC: void fn0800_01EC(Register Eq_3 ax, Register Eq_10 dx, Register Eq_3 bx, Register Eq_3 ds)
void fn0800_01EC(Eq_3 ax, Eq_10 dx, Eq_3 bx, Eq_3 ds)
{
}

// 0800:02D0: void fn0800_02D0(Register (memptr Eq_3 byte) ax, Register ci16 dx, Register Eq_3 ds)
void fn0800_02D0(byte Eq_3::*ax, ci16 dx, Eq_3 ds)
{
	ci16 dx_27 = DPB(dx, 0x00, 8);
	Eq_3 es_24 = *((word32) ds + 0x0226);
	word16 si_28 = 0x81;
	ci16 ax_29 = dx_27;
	if (ax != 0x00)
	{
		if (dx < 0x02)
			ds->*ax = 0x00;
		else
		{
			byte Eq_3::* bx_60 = ax;
			if (dx_27 >= dx)
				ax_29 = dx - 0x01;
			while (true)
			{
				ax_29 = ax_29 - 0x01;
				if (ax_29 == ~0x00)
					break;
				ds->*bx_60 = es_24->*si_28;
				si_28 = si_28 + 0x01;
				bx_60 = bx_60 + 0x01;
			}
			ds->*bx_60 = 0x00;
		}
	}
}

// 0800:031E: void fn0800_031E(Register (memptr Eq_3 byte) ax, Register Eq_3 ds)
void fn0800_031E(byte Eq_3::*ax, Eq_3 ds)
{
	fn0800_02D0(ax, 0x7FFF, ds);
}

// 0800:032D: Register word16 fn0800_032D(Register Eq_3 ax, Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds, Register out (ptr Eq_100) dsOut)
word16 fn0800_032D(Eq_3 ax, Eq_3 di, Eq_3 es, Eq_3 ds, Eq_100 * & dsOut)
{
	struct Eq_554 * ds_11;
	*dsOut = fn0800_07A6(ax, *((word32) ds + 0x0220), di, es, ds);
	return bp;
}

// 0800:0337: FlagGroup byte fn0800_0337(Register Eq_3 ax, Register Eq_3 ds)
byte fn0800_0337(Eq_3 ax, Eq_3 ds)
{
	word16 ax_11 = fn0800_08B4(ax, 0x025C, ds);
	byte Z_14 = cond(ax_11 - ~0x00);
	if (ax_11 != ~0x00)
	{
		word16 cx_30;
		word16 bx_31;
		word16 si_32;
		word16 ax_33 = fn0800_0924(0x0A, 0x025C, ds, out cx_30, out bx_31, out si_32);
		Z_14 = cond(ax_33 - 0x0A);
	}
	return Z_14;
}

// 0800:035A: Register word16 fn0800_035A()
word16 fn0800_035A()
{
	return 0x043C;
}

// 0800:035E: Register word16 fn0800_035E()
word16 fn0800_035E()
{
	return 0x043E;
}

// 0800:0362: Register int16 fn0800_0362(Register int16 ax, Register Eq_3 ds)
int16 fn0800_0362(int16 ax, Eq_3 ds)
{
	if (ax < 0x00 || ax > 0x0F)
		return 0x0183;
	return SEQ(ds, 500)[ax * 0x02];
}

// 0800:037C: void fn0800_037C(Register word16 ax)
void fn0800_037C(word16 ax)
{
	word16 sp_10;
	word16 dx_11;
	struct Eq_618 * ss_12;
	word16 ax_13;
	struct Eq_620 * ds_14;
	struct Eq_621 * cs_15;
	(cs->*ds->ptr0214)();
	word16 sp_16;
	word16 dx_17;
	struct Eq_629 * ss_18;
	word16 ax_19;
	struct Eq_631 * ds_20;
	struct Eq_632 * cs_21;
	(cs_15->*ds_14->ptr0216)();
	fn0800_038E(dx_17);
}

// 0800:038E: void fn0800_038E(Register word16 ax)
void fn0800_038E(word16 ax)
{
	word16 sp_10;
	word16 dx_11;
	struct Eq_642 * ss_12;
	word16 ax_13;
	struct Eq_644 * ds_14;
	struct Eq_645 * cs_15;
	(cs->*ds->ptr0216)();
	word16 sp_16;
	word16 dx_17;
	struct Eq_653 * ss_18;
	word16 ax_19;
	struct Eq_655 * ds_20;
	struct Eq_656 * cs_21;
	(cs_15->*ds_14->ptr0218)();
	fn0800_059C(dx_17);
}

// 0800:039E: void fn0800_039E(Register word16 bp, Register Eq_3 ds)
void fn0800_039E(word16 bp, Eq_3 ds)
{
}

// 0800:059C: void fn0800_059C(Register word16 ax)
void fn0800_059C(word16 ax)
{
}

// 0800:05BB: void fn0800_05BB(Register (memptr (ptr Eq_687) byte) ax, Register (ptr Eq_687) dx, Register word16 bx)
void fn0800_05BB(byte Eq_687::*ax, Eq_687 * dx, word16 bx)
{
	ss->w04CC = bx;
	ss->ptr04CA = ax;
	ss->ptr04C8 = dx;
	word16 ax_17;
	msdos_open_file(0800:0441, 0x01, out ax_17);
	struct Eq_687 * ds_20 = ss->ptr04C8;
	byte Eq_687::* dx_22 = ss->ptr04CA;
	word32 ds_dx_23 = &(ds_20->*dx_22);
	byte Eq_687::* si_25 = dx_22;
	do
	{
		si_25 = si_48 + 0x01;
		byte Eq_687::* si_48 = si_25;
	} while (ds_20->*si_48 != 0x00);
	word16 ax_41;
	msdos_write_file(0x3D01, si_25 - dx_22 - 0x01, ds_dx_23, out ax_41);
	fn0800_05E5();
}

// 0800:05E5: void fn0800_05E5()
void fn0800_05E5()
{
	mp16 fp;
	word16 ax;
	selector ss;
	<type-error> Mem0;
	sp_1 = fp;
	sp_2 = fp - 0x02;
	wLoc02_4 = ax;
	ax_5 = 0x00;
	al_6 = (byte) ax_5;
	dx_7 = 0xFF;
	dl_8 = (byte) dx_7;
	fn0800_0A36(al_6, dl_8);
	ax_11 = ss->*sp_2;
	al_12 = (byte) ax_11;
	sp_13 = sp_2 + 0x01;
	ah_14 = 0x4C;
	msdos_terminate(al_12);
}

// 0800:05F4: Register Eq_3 fn0800_05F4()
Eq_3 fn0800_05F4()
{
	return 0x0A91;
}

// 0800:05FE: Register Eq_158 fn0800_05FE(Register Eq_158 ax, Register Eq_10 dx, Register word16 bx, Register Eq_3 ds)
Eq_158 fn0800_05FE(Eq_158 ax, Eq_10 dx, word16 bx, Eq_3 ds)
{
}

// 0800:0651: Register word16 fn0800_0651(Register byte cl, Register byte dl, Register Eq_3 ds, Register out Eq_358 clOut, Register out ptr16 dxOut)
word16 fn0800_0651(byte cl, byte dl, Eq_3 ds, Eq_358 & clOut, ptr16 & dxOut)
{
	msdos_unknown_2143();
	byte bl_10 = (byte) dx;
	if (!C)
	{
		C.u0 = false;
		if ((bl_10 & 0x02) != 0x00)
		{
			C.u0 = false;
			if ((cl & 0x01) != 0x00)
				C.u0 = true;
		}
	}
	word16 dx_26;
	word16 ax_27 = fn0800_0CD5(0x00, 0x00 - C, ds, out dx_26);
	byte cl_32;
	*clOut = (byte) (ss->*(fp - 0x04));
	return ax_27;
}

// 0800:0674: void fn0800_0674(Register Eq_3 ax, Register Eq_3 dx, Register Eq_3 ds)
void fn0800_0674(Eq_3 ax, Eq_3 dx, Eq_3 ds)
{
}

// 0800:06F2: Register Eq_3 fn0800_06F2(Register Eq_3 ax, Register Eq_3 ds)
Eq_3 fn0800_06F2(Eq_3 ax, Eq_3 ds)
{
}

// 0800:070B: void fn0800_070B(Register Eq_3 ax, Register Eq_3 dx, Register Eq_3 ds)
void fn0800_070B(Eq_3 ax, Eq_3 dx, Eq_3 ds)
{
}

// 0800:074A: void fn0800_074A(Register Eq_3 ax, Register Eq_3 dx, Register Eq_3 ds)
void fn0800_074A(Eq_3 ax, Eq_3 dx, Eq_3 ds)
{
}

// 0800:0780: Register Eq_3 fn0800_0780(Register int16 ax, Register Eq_3 dx, Register Eq_3 ds, Register out ptr16 bxOut)
Eq_3 fn0800_0780(int16 ax, Eq_3 dx, Eq_3 ds, ptr16 & bxOut)
{
	int16 Eq_3::* ax_10 = fn0800_035A();
	word16 bx_13;
	return fn0800_0787(ax_10, ax, ds, wLoc06, dx, out bx_13);
}

// 0800:0787: Register int16 fn0800_0787(Register (memptr Eq_3 int16) ax, Register int16 dx, Register Eq_3 ds, Stack int16 wArg00, Stack Eq_3 wArg02, Register out ptr16 bxOut)
int16 fn0800_0787(int16 Eq_3::*ax, int16 dx, Eq_3 ds, int16 wArg00, Eq_3 wArg02, ptr16 & bxOut)
{
	ds->*ax = dx;
	word16 bx_11;
	*bxOut = wArg02;
	return wArg00;
}

// 0800:079D: Register Eq_3 fn0800_079D(Register int16 ax, Register Eq_3 dx, Register Eq_3 ds, Register out ptr16 bxOut)
Eq_3 fn0800_079D(int16 ax, Eq_3 dx, Eq_3 ds, ptr16 & bxOut)
{
	int16 Eq_3::* ax_10 = fn0800_035E();
	word16 bx_13;
	return fn0800_0787(ax_10, ax, ds, wLoc06, dx, out bx_13);
}

// 0800:07A6: Register Eq_3 fn0800_07A6(Register Eq_3 ax, Register Eq_3 bx, Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds)
Eq_3 fn0800_07A6(Eq_3 ax, Eq_3 bx, Eq_3 di, Eq_3 es, Eq_3 ds)
{
}

// 0800:08B4: Register Eq_3 fn0800_08B4(Register Eq_3 ax, Register Eq_3 dx, Register Eq_3 ds)
Eq_3 fn0800_08B4(Eq_3 ax, Eq_3 dx, Eq_3 ds)
{
}

// 0800:0924: Register (memptr Eq_3 Eq_586) fn0800_0924(Register (memptr Eq_3 Eq_586) ax, Register Eq_3 dx, Register Eq_3 ds, Register out ptr16 cxOut, Register out ptr16 bxOut, Register out ptr16 siOut)
Eq_586 Eq_3::*fn0800_0924(Eq_586 Eq_3::*ax, Eq_3 dx, Eq_3 ds, ptr16 & cxOut, ptr16 & bxOut, ptr16 & siOut)
{
	struct Eq_586 Eq_3::* ax_24;
	word16 Eq_1717::* sp_29 = fp - 0x06;
	struct Eq_586 Eq_3::* cx_12 = ax;
	byte cl_125 = (byte) ax;
	if ((ds->*((word32) dx + 0x06) & 0x02) == 0x00)
	{
		struct Eq_1697 Eq_3::* bx_42;
		fn0800_0780(0x04, dx, ds, out bx_42);
		(ds->*bx_42).b0006 = (ds->*bx_42).b0006 | 0x20;
		sp_29 = fp - 0x08;
		ax_24 = ~0x00;
		goto l0800_09A8;
	}
	if (ds->*((word32) dx + 0x04) == 0x00)
	{
		cx_12 = fn0800_12BE(dx, ds);
		cl_125 = (byte) cx_12;
	}
	cui16 dx_102 = 0x0400;
	if (cx_12 == 0x0A)
	{
		dx_102 = 0x0600;
		if ((ds->*((word32) dx + 0x06) & 0x40) == 0x00)
		{
			byte Eq_3::* si_106 = ds->*dx;
			ds->*((word32) dx + 0x07) = ds->*((word32) dx + 0x07) | 0x10;
			ds->*si_106 = 0x0D;
			ds->*dx = ds->*dx + 0x01;
			ds->*((word32) dx + 0x02) = (word32) (ds->*((word32) dx + 0x02)) + 0x01;
			if (ds->*((word32) dx + 0x02) == ds->*((word32) dx + 0x0A) && fn0800_131B(dx, ds) != 0x00)
				goto l0800_097C;
		}
	}
	Eq_3 ax_87;
	byte Eq_3::* si_73 = ds->*dx;
	ds->*((word32) dx + 0x07) = ds->*((word32) dx + 0x07) | 0x10;
	ds->*si_73 = cl_125;
	ds->*dx = ds->*dx + 0x01;
	ds->*((word32) dx + 0x02) = (word32) (ds->*((word32) dx + 0x02)) + 0x01;
	if ((ds->*((word32) dx + 0x06) & dx_102) == 0x00)
	{
		ax_87 = ds->*((word32) dx + 0x02);
		if (ax_87 != ds->*((word32) dx + 0x0A))
		{
l0800_09A4:
			ax_24 = (struct Eq_586 Eq_3::*) DPB(ax_87, 0x00, 8);
l0800_09A8:
			struct Eq_1713 Eq_1717::* sp_32 = sp_29 + 0x01;
			word16 si_31;
			*siOut = ss->*sp_29;
			word16 cx_33;
			*cxOut = (ss->*sp_32).w0000;
			word16 bx_36;
			*bxOut = (ss->*sp_32).w0002;
			return ax_24;
		}
	}
	ax_87 = fn0800_131B(dx, ds);
	if (ax_87 != 0x00)
	{
l0800_097C:
		ax_24 = ~0x00;
		goto l0800_09A8;
	}
	goto l0800_09A4;
}

// 0800:09AC: void fn0800_09AC(Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds)
void fn0800_09AC(Eq_3 di, Eq_3 es, Eq_3 ds)
{
	word16 ax_8 = *((word32) ds + 0x0444);
	*((word32) ds + 0x0386) = 0x2000;
	fn0800_0064(di, es, ds);
	fn0800_037C(ax_8);
}

// 0800:09C2: FlagGroup byte fn0800_09C2(Register word16 dx, Register Eq_1855 si, Register Eq_1855 di, Register out ptr16 axOut)
byte fn0800_09C2(word16 dx, Eq_1855 si, Eq_1855 di, ptr16 & axOut)
{
	union Eq_1855 Eq_1916::* sp_122 = fp - 0x04;
	Eq_1855 ds_123 = fn0800_05F4();
	while (true)
	{
		ss->*(sp_122 - 0x02) = si;
		Eq_1855 bx_111 = di;
		word16 ax_45;
		*axOut = DPB(ax, dl, 0);
		while (si < di)
		{
			if (ds_123->*si != 0x02)
			{
				word16 sp_92;
				struct Eq_1879 * ss_94;
				byte al_98;
				byte dl_99;
				byte SCZO_100;
				byte C_101;
				byte Z_102;
				byte ah_103;
				bool CZ_106;
				byte dh_107;
				word16 ax_108;
				word16 dx_109;
				byte SZO_110;
				(cs->*cx)();
				if (!CZ_106)
				{
					bx_111 = si;
					word16 ax_113;
					*axOut = DPB(ax_108, ah_103, 0);
				}
			}
			si = (word32) si + 0x06;
		}
		byte SCZO_116 = cond(bx_111 - di);
		if (bx_111 == di)
			break;
		byte al_128;
		byte SCZO_130;
		byte C_131;
		byte Z_132;
		byte ah_133;
		bool CZ_136;
		byte dh_137;
		Eq_1855 dx_139;
		byte SZO_140;
		struct Eq_1906 Eq_1855::* bx_125;
		(cs->*cx)();
		if (!CZ_136)
		{
			Eq_1912 ax_161 = (ds_123->*bx_125).t0002;
			ss->*(sp_122 - 0x02) = dx_139;
			ss->*(sp_122 - 0x04) = ds_123;
			union Eq_1855 Eq_1916::* sp_166 = sp_122 - 0x04;
			if ((ds_123->*bx_125).b0000 == 0x01)
			{
				ax = ax_161 | (ds_123->*bx_125).w0004;
				if (ax != 0x00)
				{
					struct Eq_1943 * ds_215;
					byte al_220;
					byte dl_221;
					byte SCZO_222;
					byte C_223;
					byte Z_224;
					byte ah_225;
					byte CZ_228;
					byte dh_229;
					word16 dx_231;
					byte SZO_232;
					(ds_123->*bx_125).t0002();
				}
			}
			else
			{
				ax = ax_161;
				if (ax_161 != 0x00)
				{
					struct Eq_1970 * ds_238;
					byte al_243;
					byte dl_244;
					byte SCZO_245;
					byte C_246;
					byte Z_247;
					byte ah_248;
					byte CZ_251;
					byte dh_252;
					word16 dx_254;
					byte SZO_255;
					(cs->*(ds_123->*bx_125).t0002)();
				}
			}
			union Eq_1855 Eq_1916::* sp_186 = (char *) sp_166 + 0x02;
			ds_123 = ss->*sp_166;
			dl = (byte) (ss->*sp_186);
			sp_122 = (union Eq_1855 Eq_1916::*) ((char *) sp_186 + 0x02);
		}
		(ds_123->*bx_125).b0000 = 0x02;
	}
	return SCZO_116;
}

// 0800:0A18: FlagGroup bool fn0800_0A18(Register byte al, Register byte dl, Register out ptr16 axOut, Register out (ptr Eq_908) dsOut)
bool fn0800_0A18(byte al, byte dl, ptr16 & axOut, Eq_908 * & dsOut)
{
	*dsOut = ds;
	word16 ax_21;
	return fn0800_09C2(DPB(dx, al, 0), 0x03C8, 998, out ax_21);
}

// 0800:0A36: void fn0800_0A36(Register byte al, Register byte dl)
void fn0800_0A36(byte al, byte dl)
{
	word16 ax_20;
	fn0800_09C2(DPB(dx, al, 0), 998, 1004, out ax_20);
}

// 0800:0A5A: FlagGroup bool fn0800_0A5A(Register (memptr (ptr Eq_687) byte) ax, Register (ptr Eq_687) dx, Register word16 bx, Register Eq_3 ds, Register out ptr16 axOut)
bool fn0800_0A5A(byte Eq_687::*ax, Eq_687 * dx, word16 bx, Eq_3 ds, ptr16 & axOut)
{
	word16 ax_13 = fn0800_13DB(ds);
	*axOut = ax_13;
	if (ax_13 == 0x00)
	{
		fn0800_05BB(ax, dx, bx);
		word16 ax_25;
		*axOut = ax;
	}
	return false;
}

// 0800:0CD5: Register Eq_3 fn0800_0CD5(Register byte al, Register word16 dx, Register Eq_3 ds, Register out ptr16 dxOut)
Eq_3 fn0800_0CD5(byte al, word16 dx, Eq_3 ds, ptr16 & dxOut)
{
	*dxOut = dx;
	if (dx != 0x00)
	{
		if (dx == 0x00)
			return ax;
		word16 dx_32;
		return fn0800_0CE0(al, ds, out dx_32);
	}
	else
	{
		ax.u0 = 0x00;
		return ax;
	}
}

// 0800:0CE0: Register word16 fn0800_0CE0(Register byte al, Register Eq_3 ds, Register out ptr16 dxOut)
word16 fn0800_0CE0(byte al, Eq_3 ds, ptr16 & dxOut)
{
	int16 ax_33;
	wchar_t bx_20;
	Eq_3 dx_21 = fn0800_079D(DPB(ax, 0x00, 8), DPB(dx, al, 0), ds, out bx_20);
	if (bx_20 < 0x0100)
	{
		if (DPB(ax, 0x00, 8) >= 0x03)
		{
			bx_20 = DPB(bx_20, 0x00, 8);
			if (bx_20 == 0x50)
				dx_21 = DPB(dx_21, 0x0E, 0);
			else if (bx_20 >= 0x22)
				dx_21 = DPB(dx_21, 0x13, 0);
			else if (bx_20 >= 0x20)
				dx_21 = DPB(dx_21, 0x05, 0);
		}
		if (DPB(ax, 0x00, 8) > 0x13)
			dx_21 = DPB(dx_21, 0x13, 0);
		ax_33 = (int16) (DPB(bx_20, 0x00, 8) + 0x036C);
	}
	else
		ax_33 = DPB(ax, 0x00, 8);
	word16 bx_35;
	fn0800_0780(ax_33, dx_21, ds, out bx_35);
	word16 dx_43;
	*dxOut = ss->*(fp - 0x08);
	return ~0x00;
}

// 0800:0D39: Register Eq_3 fn0800_0D39(Register Eq_3 ax, Register Eq_3 ds, Register out Eq_1232 clOut)
Eq_3 fn0800_0D39(Eq_3 ax, Eq_3 ds, Eq_1232 & clOut)
{
}

// 0800:0DE6: void fn0800_0DE6(Register Eq_3 ax, Register Eq_3 dx, Register Eq_3 bx, Register Eq_3 ds)
void fn0800_0DE6(Eq_3 ax, Eq_3 dx, Eq_3 bx, Eq_3 ds)
{
	Eq_3 si_15 = dx;
	if (bx != 0x00)
	{
		Eq_3 cx_42 = bx;
		Eq_3 di_43 = ax;
		do
		{
			byte al_51 = ds->*si_15;
			ds->*di_43 = al_51;
			si_15 = (word32) si_15 + 0x01;
			di_43 = (word32) di_43 + 0x01;
			cx_42 = cx_42 - 0x01;
		} while (al_51 != 0x00 && cx_42 != 0x00);
		uint16 cx_60 = cx_42 >> 0x01;
		while (cx_60 != 0x00)
		{
			ds->*di_43 = 0x00;
			di_43 = (word32) di_43 + 0x02;
			cx_60 = cx_60 - 0x01;
		}
		ui16 cx_70 = cx_60 * 0x02 + (cx_42 >> 0x01 < 0x00);
		while (cx_70 != 0x00)
		{
			ds->*di_43 = 0x00;
			di_43 = (word32) di_43 + 0x01;
			cx_70 = cx_70 - 0x01;
		}
	}
}

// 0800:0E0F: Register Eq_3 fn0800_0E0F(Register Eq_3 ax, Register Eq_3 cx, Register (memptr Eq_3 Eq_1401) bp, Register Eq_3 si, Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds)
Eq_3 fn0800_0E0F(Eq_3 ax, Eq_3 cx, Eq_1401 Eq_3::*bp, Eq_3 si, Eq_3 di, Eq_3 es, Eq_3 ds)
{
	Eq_3 cx_12;
	Eq_3 dx_13;
	Eq_3 bx_14;
	Eq_3 bp_15;
	Eq_3 si_16;
	Eq_3 di_17;
	Eq_3 es_18;
	fn0800_17A3(0x0116, cx, bp, si, di, es, ds, out cx_12, out dx_13, out bx_14, out bp_15, out si_16, out di_17, out es_18);
	Eq_3 ax_22 = ss->*(fp - 0x02);
	ss->*(fp - 0x02) = cx_12;
	ss->*(fp - 0x04) = si_16;
	ss->*(fp - 0x06) = di_17;
	ss->*(fp - 0x08) = es_18;
	ss->*(fp - 0x0A) = bp_15;
	ss->*(fp - 0x0102) = ax_22;
	ss->*(fp - 0x0104) = dx_13;
	ss->*(fp - 262) = bx_14;
	fn0800_0DE6(fp - 0x80, ax_22, 0x4B, ds);
	Eq_3 es_108;
	Eq_3 di_284;
	Eq_3 ax_363 = fn0800_17D7(fp - 0x80, 0x5C, ds, out di_284, out es_108);
	if (ax_363 == 0x00)
		ax_363 = fp - 0x80;
	union Eq_3 Eq_3::* sp_111;
	Eq_3 si_110;
	fn0800_1285(ax_363, 0x2E, ds);
	if (ax_363 != 0x00)
	{
		(ss->*(fp - 0x0108)).u0 = 0x00;
		(ss->*(fp - 266)).u0 = 0x0200;
		ss->*(fp - 0x010C) = fp - 0x80;
	}
	else
	{
		fn0800_074A(fp - 0x80, 0x0198, ds);
		(ss->*(fp - 0x0108)).u0 = 0x00;
		(ss->*(fp - 266)).u0 = 0x0200;
		ss->*(fp - 0x010C) = fp - 0x80;
		word16 dx_322;
		Eq_3 ax_323 = fn0800_17FB(di_284, ds, wArg00, wArg02, wArg04, out dx_322);
		sp_111 = fp - 262;
		si_110 = ax_323;
		if (ax_323 != ~0x00)
			goto l0800_0EAF;
		word16 di_331;
		struct Eq_2447 * es_332;
		Eq_3 ax_333 = fn0800_17D7(fp - 0x80, 0x2E, ds, out di_331, out es_332);
		(ss->*(fp - 0x0108)).u0 = 0x00;
		ss->*(fp - 266) = ds;
		es_108 = ss->*(fp - 266);
		(ss->*(fp - 266)).u0 = 0x0200;
		ss->*(fp - 0x010C) = fp - 0x80;
		es_108->*ax_333 = *((word32) ds + 0x019D);
		es_108->*((word32) ax_333 + 0x02) = *((word32) ds + 0x019F);
		es_108->*((word32) ax_333 + 0x04) = *((word32) ds + 0x01A1);
		di_284 = (word32) ax_333 + 0x05;
	}
	Eq_3 dx_286;
	Eq_3 ax_287 = fn0800_17FB(di_284, ds, wArg00, wArg02, wArg04, out dx_286);
	word16 bx_293;
	fn0800_0780(0x01, dx_286, ds, out bx_293);
	si_110 = ax_287;
	sp_111 = fp - 0x0108;
	if (ax_287 == ~0x00)
		return ds;
l0800_0EAF:
	Eq_3 dx_116;
	if (fn0800_19D8(si_110, fp - 0x30, 0x1C, ds, out dx_116) != ~0x00)
	{
		Eq_3 ax_137;
		if (ss->*(fp - 0x30) != 23117 && ss->*(fp - 0x30) != 0x4D5A)
			ax_137.u0 = 0x00;
		else
			ax_137.u0 = 0x01;
		uint16 di_148;
		Eq_3 dx_147;
		ss->*(fp - 0x0C) = ax_137;
		if (ax_137 != 0x00)
		{
			dx_147 = (ss->*(fp - 44) << 0x05) - 0x20;
			di_148 = (word16) (ss->*(fp - 0x26)) + ((word32) dx_147 + ((word16) (ss->*(fp - 0x2E)) + 0x0F >> 0x04)) - ss->*(fp - 0x28);
		}
		else
		{
			ui16 dx_253;
			cui16 ax_254 = fn0800_1ABD(si_110, 0x00, 0x02, 0x00, ds, out dx_253);
			ui32 dx_ax_257 = SEQ(dx_253, ax_254 + 0x8F);
			di_148 = fn0800_1AFA((word16) (dx_ax_257 + 0x8F), 0x00, SLICE(dx_ax_257 + 0x8F, word16, 16), 0x10, out dx_147);
		}
		word16 dx_151;
		union Eq_3 Eq_3::* Eq_3::* bx_152;
		fn0800_1AA6(si_110, dx_147, ds, out dx_151, out bx_152);
		ds->*bx_152 = fp - 0x80;
		union Eq_3 Eq_3::* sp_158 = sp_111 - 0x02;
		(ss->*sp_158).u0 = 0x01;
		Eq_3 dx_161 = ss->*(fp - 262);
		ss->*(sp_158 - 0x02) = fp - 0x10;
		ss->*(sp_158 - 0x04) = fp - 0x14;
		Eq_3 ax_172 = fn0800_1BEC(ss->*(fp - 0x0104), fp - 0x12, dx_161, fp - 0x0E, ds, wArg00, wArg02, wArg04);
		if (ax_172 != ~0x00)
		{
			Eq_3 di_189 = di_148 + ((fn0800_06F2(ss->*(fp - 0x0102), ds) + 0x0F >> 0x04) + (*((word32) ds + 0x038E) + 0x10));
			fn0800_1D16(0x00, ss->*(fp - 0x0104), fp - 0x0100, ds);
			Eq_3 ds_195;
			if (fn0800_1087(di_189, 0x00, fp - 0x8A, ax_172, di_189, es_108, ds, out ds_195) != 0x00)
				fn0800_11F1(0x00, fp - 0x8A, ax_172, di_189, es_108, ds_195);
			ss->*sp_158 = ss->*(fp - 0x1C);
			ss->*(sp_158 - 0x02) = ss->*(fp - 0x1A);
			ss->*(sp_158 - 0x04) = ss->*(fp - 0x20);
			ss->*(sp_158 - 0x06) = ss->*(fp - 0x22);
			ss->*(sp_158 - 0x08) = ss->*(fp - 0x0C);
			ss->*(sp_158 - 0x0A) = fp - 0x0100;
			ss->*(sp_158 - 0x0C) = fp - 0x80;
			Eq_674 ax_231 = (ss->*fn0800_1E9E(wArg02, wArg04, wArg06, wArg08, wArg0A, wArg0C, wArg0E, out ds)).t007C;
			fn0800_13F7(ax_231, ds);
		}
		return ds;
	}
	else
	{
		Eq_3 dx_122;
		word16 bx_123;
		fn0800_1AA6(si_110, dx_116, ds, out dx_122, out bx_123);
		word16 bx_126;
		word16 bx_130;
		fn0800_079D(11, fn0800_0780(0x03, dx_122, ds, out bx_126), ds, out bx_130);
		return ds;
	}
}

// 0800:0FC1: Register word16 fn0800_0FC1(Register Eq_3 cx, Register (memptr Eq_3 Eq_1401) bp, Register Eq_3 si, Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds, Register out ptr16 siOut, Register out ptr16 diOut, Register out (ptr Eq_2835) dsOut)
word16 fn0800_0FC1(Eq_3 cx, Eq_1401 Eq_3::*bp, Eq_3 si, Eq_3 di, Eq_3 es, Eq_3 ds, ptr16 & siOut, ptr16 & diOut, Eq_2835 * & dsOut)
{
	Eq_2836 cx_9;
	Eq_2836 dx_10;
	Eq_2836 bx_11;
	Eq_2836 bp_12;
	word16 si_13;
	word16 di_14;
	Eq_2836 es_15;
	fn0800_17A3(0x22, cx, bp, si, di, es, ds, out cx_9, out dx_10, out bx_11, out bp_12, out si_13, out di_14, out es_15);
	ss->*(fp - 0x02) = bx_11;
	ss->*(fp - 0x04) = cx_9;
	ss->*(fp - 0x06) = dx_10;
	ss->*(fp - 0x08) = es_15;
	ss->*(fp - 0x0A) = bp_12;
	(ss->*(fp - 0x1F)).u0 = 0x52;
	struct Eq_2886 * ds_37;
	*dsOut = fn0800_1FA2(33, fp - 0x12, fp - 0x20, ds);
	ui32 ax_bp_43 = SEQ(ss->*(fp - 0x12), fp - 0x0A);
	word16 ax_51 = SLICE(ax_bp_43 - 22, word16, 16)->*(word16) (ax_bp_43 - 22);
	return ax_51 + 0x01;
}

// 0800:1000: Register Eq_3 fn0800_1000(Register Eq_3 cx, Register (memptr Eq_3 Eq_1401) bp, Register Eq_3 si, Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds, Register out ptr16 bpOut, Register out ptr16 siOut, Register out ptr16 diOut)
Eq_3 fn0800_1000(Eq_3 cx, Eq_1401 Eq_3::*bp, Eq_3 si, Eq_3 di, Eq_3 es, Eq_3 ds, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut)
{
	Eq_3 cx_12;
	struct Eq_2929 * dx_13;
	struct Eq_2929 * bx_14;
	word16 bp_15;
	word16 si_16;
	word16 di_17;
	struct Eq_2929 * es_18;
	fn0800_17A3(0x08, cx, bp, si, di, es, ds, out cx_12, out dx_13, out bx_14, out bp_15, out si_16, out di_17, out es_18);
	struct Eq_2929 * ax_22 = ss->*(fp - 0x02);
	ss->*(fp - 0x02) = bx_14;
	ss->*(fp - 0x04) = dx_13;
	ss->*(fp - 0x06) = es_18;
	word16 bx_34;
	msdos_resize_memory_block(ax_22, ~0x00, out bx_34);
	word16 bx_38;
	msdos_resize_memory_block(ax_22, bx_34, out bx_38);
	return cx_12;
}

// 0800:1022: Register word16 fn0800_1022(Register Eq_3 cx, Register (memptr Eq_3 Eq_1401) bp, Register Eq_3 si, Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds, Register out ptr16 cxOut, Register out Eq_2993 bpOut, Register out ptr16 siOut, Register out ptr16 diOut, Register out (ptr Eq_2996) esOut)
word16 fn0800_1022(Eq_3 cx, Eq_1401 Eq_3::*bp, Eq_3 si, Eq_3 di, Eq_3 es, Eq_3 ds, ptr16 & cxOut, Eq_2993 & bpOut, ptr16 & siOut, ptr16 & diOut, Eq_2996 * & esOut)
{
	Eq_3 cx_12;
	word16 dx_13;
	word16 bx_14;
	struct Eq_1401 Eq_3::* bp_15;
	Eq_3 si_16;
	Eq_3 di_17;
	Eq_3 es_18;
	fn0800_17A3(0x06, cx, bp, si, di, es, ds, out cx_12, out dx_13, out bx_14, out bp_15, out si_16, out di_17, out es_18);
	word16 ax_22 = ss->*(fp - 0x02);
	ss->*(fp - 0x02) = bx_14;
	ss->*(fp - 0x04) = dx_13;
	word16 dx_33 = DPB(ax_22, 0x48, 8);
	if (0x00 - msdos_allocate_memory_block(ax_22) < 0x00)
		dx_33 = 0x00;
	else
	{
		word16 bp_58;
		word16 si_59;
		word16 di_60;
		word16 cx_61;
		*cxOut = fn0800_1000(cx_12, bp_15, si_16, di_17, es_18, ds, out bp_58, out si_59, out di_60);
	}
	return dx_33;
}

// 0800:1046: Register Eq_3 fn0800_1046(Register Eq_3 cx, Register (memptr Eq_3 Eq_1401) bp, Register Eq_3 si, Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds, Register out Eq_3062 bpOut, Register out ptr16 siOut, Register out ptr16 diOut)
Eq_3 fn0800_1046(Eq_3 cx, Eq_1401 Eq_3::*bp, Eq_3 si, Eq_3 di, Eq_3 es, Eq_3 ds, Eq_3062 & bpOut, ptr16 & siOut, ptr16 & diOut)
{
	Eq_3 ax_44;
	Eq_3 cx_12;
	cup16 dx_13;
	Eq_3 bx_14;
	struct Eq_1401 Eq_3::* bp_15;
	Eq_3 si_16;
	Eq_3 di_17;
	Eq_3 es_18;
	fn0800_17A3(0x08, cx, bp, si, di, es, ds, out cx_12, out dx_13, out bx_14, out bp_15, out si_16, out di_17, out es_18);
	Eq_3 ax_22 = ss->*(fp - 0x02);
	ss->*(fp - 0x02) = bx_14;
	ss->*(fp - 0x04) = cx_12;
	ss->*(fp - 0x06) = es_18;
	cup16 cx_35 = (ax_22 - 0x01)->w0003;
	if (cx_35 < dx_13 + 0x01)
		ax_44.u0 = 0x00;
	else
	{
		Eq_3 cx_61 = cx_35 - (dx_13 + 0x01);
		word16 bx_65;
		msdos_resize_memory_block(ax_22, cx_61, out bx_65);
		word16 cx_70;
		word16 bp_71;
		word16 si_72;
		word16 di_73;
		struct Eq_3129 * es_74;
		ax_44 = fn0800_1022(cx_61, bp_15, si_16, di_17, ax_22, ds, out cx_70, out bp_71, out si_72, out di_73, out es_74);
	}
	return ax_44;
}

// 0800:107C: Register Eq_3 fn0800_107C(Register Eq_3 cx, Register (memptr Eq_3 Eq_1401) bp, Register Eq_3 si, Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds, Register out ptr16 bpOut, Register out ptr16 siOut, Register out ptr16 diOut, Register out (ptr Eq_3148) esOut)
Eq_3 fn0800_107C(Eq_3 cx, Eq_1401 Eq_3::*bp, Eq_3 si, Eq_3 di, Eq_3 es, Eq_3 ds, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut, Eq_3148 * & esOut)
{
	word16 cx_9;
	word16 dx_10;
	word16 bx_11;
	word16 bp_12;
	word16 si_13;
	word16 di_14;
	struct Eq_3155 * es_15;
	Eq_3 ax_16 = fn0800_17A3(0x02, cx, bp, si, di, es, ds, out cx_9, out dx_10, out bx_11, out bp_12, out si_13, out di_14, out es_15);
	word16 sp_19;
	word16 ax_20;
	struct Eq_3169 * ds_21;
	struct Eq_3170 * cs_22;
	Eq_3 cx_23;
	word16 bp_24;
	word16 si_25;
	word16 di_26;
	struct Eq_3175 * es_27;
	word16 dx_28;
	word16 bx_29;
	(cs->**((word32) ds + 0x0216))();
	return cx_23;
}

// 0800:1087: Register Eq_3 fn0800_1087(Register Eq_3 ax, Register Eq_3 cx, Register (memptr Eq_3 Eq_1401) bp, Register Eq_3 si, Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds, Register out (ptr Eq_2719) dsOut)
Eq_3 fn0800_1087(Eq_3 ax, Eq_3 cx, Eq_1401 Eq_3::*bp, Eq_3 si, Eq_3 di, Eq_3 es, Eq_3 ds, Eq_2719 * & dsOut)
{
}

// 0800:11F1: void fn0800_11F1(Register Eq_3 cx, Register (memptr Eq_3 Eq_1401) bp, Register Eq_3 si, Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds)
void fn0800_11F1(Eq_3 cx, Eq_1401 Eq_3::*bp, Eq_3 si, Eq_3 di, Eq_3 es, Eq_3 ds)
{
	Eq_3 cx_9;
	Eq_3 dx_10;
	Eq_3 bx_11;
	Eq_3 bp_12;
	Eq_3 si_13;
	Eq_3 di_14;
	Eq_3 es_15;
	Eq_3 ax_16 = fn0800_17A3(0x12, cx, bp, si, di, es, ds, out cx_9, out dx_10, out bx_11, out bp_12, out si_13, out di_14, out es_15);
	ss->*(fp - 0x02) = bx_11;
	ss->*(fp - 0x04) = cx_9;
	ss->*(fp - 0x06) = dx_10;
	ss->*(fp - 0x08) = si_13;
	ss->*(fp - 0x0A) = di_14;
	ss->*(fp - 0x0C) = es_15;
	ss->*(fp - 0x0E) = bp_12;
	ss->*(fp - 0x10) = ax_16;
	Eq_3 dx_35 = *((word32) ds + 0x0226);
	Eq_3535 bx_36 = 0x00;
	Eq_3 cx_38 = *((word32) dx_35 + 0x0036);
	byte Eq_3::* ax_39 = *((word32) dx_35 + 0x0034);
	if (cx_38 != dx_35 || ax_39 != 0x18)
	{
		ss->*(fp - 0x10) = cx_38;
		byte Eq_3::* si_73 = ax_39;
		do
		{
			bx_36 = (word32) bx_36 + 0x01;
			*((word32) ds + 0x0226)->*((word32) bx_36 + 0x0017) = (fp - 0x10)->*si_73;
			si_73 = si_73 + 0x01;
		} while (bx_36 < 0x14);
		Eq_3 dx_115 = 0x14;
		while (true)
		{
			Eq_3 ax_98 = *((word32) ds + 0x0226);
			if (dx_115 >= *((word32) ax_98 + 0x0032))
				break;
			if (DPB(ax_98, 0x00, 8) != 0xFF)
			{
				word16 bx_124;
				fn0800_1AA6(dx_115, dx_115, ds, out dx_115, out bx_124);
			}
			dx_115 = (word32) dx_115 + 0x01;
		}
		((word32) ax_98 + 0x0032)->u0 = 0x14;
		Mem106[ax_98:0x34:word16] = 0x18;
		*((word32) ax_98 + 0x0036) = ax_98;
	}
}

// 0800:1285: void fn0800_1285(Register Eq_3 ax, Register byte dl, Register Eq_3 ds)
void fn0800_1285(Eq_3 ax, byte dl, Eq_3 ds)
{
}

// 0800:129E: void fn0800_129E(Register Eq_3 ax, Register Eq_3 dx, Register Eq_3 bx, Register Eq_3 ds)
void fn0800_129E(Eq_3 ax, Eq_3 dx, Eq_3 bx, Eq_3 ds)
{
	Eq_3 si_17 = dx;
	Eq_3 di_19 = ax;
	uint16 cx_25 = bx >> 0x01;
	while (cx_25 != 0x00)
	{
		ds->*di_19 = ds->*si_17;
		si_17 = (word32) si_17 + 0x02;
		di_19 = (word32) di_19 + 0x02;
		cx_25 = cx_25 - 0x01;
	}
	ui16 cx_37 = cx_25 * 0x02 + (bx >> 0x01 < 0x00);
	while (cx_37 != 0x00)
	{
		ds->*di_19 = ds->*si_17;
		si_17 = (word32) si_17 + 0x01;
		di_19 = (word32) di_19 + 0x01;
		cx_37 = cx_37 - 0x01;
	}
}

// 0800:12BE: Register word16 fn0800_12BE(Register Eq_3 ax, Register Eq_3 ds)
word16 fn0800_12BE(Eq_3 ax, Eq_3 ds)
{
	fn0800_211E(ax, ds);
	if (ds->*((word32) ax + 0x0A) == 0x00)
	{
		if ((ds->*((word32) ax + 0x07) & 0x02) != 0x00)
			(ds->*((word32) ax + 0x0A)).u0 = 0x86;
		else if ((ds->*((word32) ax + 0x07) & 0x04) != 0x00)
			(ds->*((word32) ax + 0x0A)).u0 = 0x01;
		else
			(ds->*((word32) ax + 0x0A)).u0 = 0x0200;
	}
	byte cl_12;
	Eq_3 ax_13 = fn0800_0D39(ds->*((word32) ax + 0x0A), ds, out cl_12);
	ds->*((word32) ax + 0x04) = ax_13;
	if (ax_13 == 0x00)
	{
		(ds->*((word32) ax + 0x0A)).u0 = 0x01;
		ds->*((word32) ax + 0x07) = ds->*((word32) ax + 0x07) & ~0x07;
		ds->*((word32) ax + 0x04) = (word32) ax + 0x0C;
		ds->*((word32) ax + 0x07) = ds->*((word32) ax + 0x07) | 0x04;
	}
	else
		ds->*((word32) ax + 0x06) = ds->*((word32) ax + 0x06) | 0x08;
	Eq_3 ax_20 = ds->*((word32) ax + 0x04);
	ds->*((word32) ax + 0x02) = 0x00;
	ds->*ax = ax_20;
	return cx;
}

// 0800:131B: Register Eq_3 fn0800_131B(Register Eq_3 ax, Register Eq_3 ds)
Eq_3 fn0800_131B(Eq_3 ax, Eq_3 ds)
{
}

// 0800:13DB: Register word16 fn0800_13DB(Register Eq_3 ds)
word16 fn0800_13DB(Eq_3 ds)
{
	if (*((word32) ds + 0x0388) == 0x00)
		return 0x00;
	cpu_debug_break();
	return 0x01;
}

// 0800:13F7: void fn0800_13F7(Register Eq_674 ax, Register Eq_3 ds)
void fn0800_13F7(Eq_674 ax, Eq_3 ds)
{
	if (ax != 0x00)
	{
		Eq_674 si_31 = *((word32) ds + 0x044A);
		if (si_31 == 0x00 || (si_31 > ax || ax >= ds->*((word32) si_31 + 0x04)))
		{
			si_31 = *((word32) ds + 0x0380);
			while (ds->*((word32) si_31 + 0x04) != 0x00 && (si_31 > ax || ax >= ds->*((word32) si_31 + 0x04)))
				si_31 = ds->*((word32) si_31 + 0x04);
		}
		fn0800_14F2(ax, ds, si_31);
		*((word32) ds + 0x044A) = si_31;
		if (si_31 < *((word32) ds + 898))
		{
			Eq_674 ax_47 = ds->*((word32) si_31 + 0x0A);
			if (ax_47 > *((word32) ds + 900))
				*((word32) ds + 900) = ax_47;
		}
		*((word32) ds + 0x044C) = 0x00;
	}
}

// 0800:144E: Register Eq_3 fn0800_144E(Register Eq_3 ax, Register Eq_3 dx, Register Eq_674 bx)
Eq_3 fn0800_144E(Eq_3 ax, Eq_3 dx, Eq_674 bx)
{
}

// 0800:14F2: void fn0800_14F2(Register Eq_674 ax, Register Eq_3 dx, Register Eq_674 bx)
void fn0800_14F2(Eq_674 ax, Eq_3 dx, Eq_674 bx)
{
}

// 0800:15FB: Register Eq_674 fn0800_15FB(Register Eq_674 ax, Register Eq_3 ds)
Eq_674 fn0800_15FB(Eq_674 ax, Eq_3 ds)
{
	Eq_674 bx_15 = *((word32) ds + 0x0380);
	Eq_674 di_16 = 0x00;
	while (bx_15 != 0x00 && ax >= bx_15)
	{
		di_16 = bx_15;
		bx_15 = ds->*((word32) bx_15 + 0x04);
	}
	ds->*((word32) ax + 0x02) = di_16;
	ds->*((word32) ax + 0x04) = bx_15;
	if (di_16 != 0x00)
		ds->*((word32) di_16 + 0x04) = ax;
	else
		*((word32) ds + 0x0380) = ax;
	if (bx_15 != 0x00)
		ds->*((word32) bx_15 + 0x02) = ax;
	word16 Eq_3::* bx_36 = ds->*ax;
	ds->*((word32) ax + 0x0010) = 0x00;
	ds->*((word32) ax + 0x08) = 0x00;
	ds->*((word32) ax + 0x0C) = 0x00;
	ds->*((word32) ax + 0x0E) = 0x00;
	ds->*((word32) ax + 0x0012) = (word32) ax + 0x0010;
	ds->*((word32) ax + 0x0014) = (word32) ax + 0x0010;
	ds->*((word32) ax + 0x06) = (word32) ax + 0x0010;
	ds->*((word32) ax + 22) = bx_36 - 22;
	(bx_36 - 22)[(word32) ax + 22] = ~0x00;
	return (word32) ax + 22;
}

// 0800:1665: Register word16 fn0800_1665(Register Eq_3 ds)
word16 fn0800_1665(Eq_3 ds)
{
	if (*((word32) ds + 0x0380) == 0x00)
		return 0x00;
	word16 Eq_3::* bx_24 = ds->*((word32) (*((word32) ds + 0x0380)) + 0x0012);
	if (bx_24 + ds->*bx_24 + 0x01 != *((word32) ds + 0x0224))
		return 0x00;
	return ds->*bx_24;
}

// 0800:1689: Register Eq_3 fn0800_1689(Register Eq_3 ax, Register Eq_3 ds, Register out ptr16 cxOut, Register out ptr16 dxOut)
Eq_3 fn0800_1689(Eq_3 ax, Eq_3 ds, ptr16 & cxOut, ptr16 & dxOut)
{
	*cxOut = cx;
	*dxOut = dx;
	Eq_3 ax_117;
	if (*((word32) ds + 0x0398) == 0x00 || *((word32) ds + 0x0224) == ~0x01)
	{
l0800_1697:
		ax_117.u0 = 0x00;
		return ax_117;
	}
	ax_117 = fn0800_175F(fp - 0x0A, ds);
	if (ax_117 == 0x00)
		return ax_117;
	word16 bx_158 = ax + Mem0[ds:0x0224:word16];
	if (bx_158 < *((word32) ds + 0x0224))
		bx_158.u0 = ~0x01;
	Eq_674 ax_72 = fn0800_21A7(bx_158, ds);
	if (ax_72 == ~0x00 || (ax_72 > ~0x07 || bx_158 <= ax_72))
		goto l0800_1697;
	Eq_4484 bx_81 = bx_158 - ax_72;
	if (bx_81 - 0x02 > bx_81)
		goto l0800_1697;
	Eq_674 bx_105 = *((word32) ds + 0x0380);
	while (bx_105 != 0x00 && (ds->*((word32) bx_105 + 0x04) != 0x00 && (bx_105 > ax_72 || ax_72 >= ds->*((word32) bx_105 + 0x04))))
		bx_105 = ds->*((word32) bx_105 + 0x04);
	Eq_4499 si_104;
	Eq_4484 wLoc0A_101;
	if (bx_105 != 0x00)
	{
		word16 ax_136 = Mem0[ds:bx_105 + 0x00:word16] + bx_105;
		if (ax_72 - 0x02 == ax_136)
		{
			Mem145[ds:bx_105 + 0x00:word16] = Mem0[ds:bx_105 + 0x00:word16] + bx_81;
			Mem148[ds:ax_72 - 0x02 + bx_81:word16] = ~0x00;
			wLoc0A_101 = bx_81;
			si_104 = ax_136;
			goto l0800_1741;
		}
	}
	if (bx_81 < 0x1E)
		goto l0800_1697;
	ds->*ax_72 = bx_81 - 0x02;
	Eq_4499 ax_129 = fn0800_15FB(ax_72, ds);
	bx_105 = ax_72;
	si_104 = ax_129;
	wLoc0A_101 = ds->*ax_129;
l0800_1741:
	ds->*si_104 = DPB(wLoc0A_101, (byte) wLoc0A_101 | 0x01, 0);
	ds->*((word32) bx_105 + 0x0A) = ~0x00;
	ds->*((word32) bx_105 + 0x0C) = ds->*((word32) bx_105 + 0x0C) + 0x01;
	fn0800_13F7((word32) si_104 + 0x02, ds);
	ax_117.u0 = 0x01;
	return ax_117;
}

// 0800:175F: Register (memptr Eq_3 cup16) fn0800_175F(Register (memptr Eq_3 cup16) ax, Register Eq_3 ds)
cup16 Eq_3::*fn0800_175F(cup16 Eq_3::*ax, Eq_3 ds)
{
	cup16 dx_12 = ds->*ax;
	word16 dx_16 = DPB(dx_12 + 0x03, (byte) (dx_12 + 0x03) & ~0x01, 0);
	if (dx_16 == 0x00)
		return 0x00;
	cup16 dx_41 = dx_16 - fn0800_1665(ds);
	ds->*ax = dx_41;
	cup16 dx_43 = dx_41 + 0x1E;
	if (dx_41 + 0x1E < ds->*ax)
		return 0x00;
	if (dx_41 + 0x1E < *((word32) ds + 0x0386))
	{
		cup16 dx_60 = *((word32) ds + 0x0386);
		dx_43 = DPB(dx_60, (byte) dx_60 & ~0x01, 0);
	}
	ds->*ax = dx_43;
	if (dx_43 == 0x00)
		return 0x00;
	return 0x01;
}

// 0800:179B: void fn0800_179B()
void fn0800_179B()
{
}

// 0800:17A3: Register Eq_3 fn0800_17A3(Register Eq_3 ax, Register Eq_3 cx, Register (memptr Eq_3 Eq_1401) bp, Register Eq_3 si, Register Eq_3 di, Register Eq_3 es, Register Eq_3 ds, Register out ptr16 cxOut, Register out ptr16 dxOut, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 siOut, Register out ptr16 diOut, Register out (ptr Eq_2265) esOut)
Eq_3 fn0800_17A3(Eq_3 ax, Eq_3 cx, Eq_1401 Eq_3::*bp, Eq_3 si, Eq_3 di, Eq_3 es, Eq_3 ds, ptr16 & cxOut, ptr16 & dxOut, ptr16 & bxOut, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut, Eq_2265 * & esOut)
{
	*bpOut = bp;
	*diOut = di;
	*esOut = es;
	*siOut = si;
	*cxOut = cx;
	*dxOut = dx;
	*bxOut = bx;
	if (ax < fp)
	{
		Eq_3 ax_132 = fp - ax;
		if (ax_132 > *((word32) ds + 0x022C))
			return ax_132;
		ax_132 = ss;
		if (ss != *((word32) ds + 0x038A))
			return ax_132;
	}
	word16 dx_40;
	*dxOut = cs;
	byte dl_41 = (byte) cs;
	byte dh_42 = SLICE(cs, byte, 8);
	word16 bx_49;
	*bxOut = 0x01;
	cui16 ax_50;
	bool CZ_51 = fn0800_0A5A(&Eq_687::b17C5, cs, 0x01, ds, out ax_50);
	if (CZ_51)
	{
		word16 cx_121;
		word16 dx_122;
		word16 bx_123;
		word16 bp_124;
		word16 si_125;
		word16 di_126;
		return fn0800_1828(0x01, bp, si, di, ds, out cx_121, out dx_122, out bx_123, out bp_124, out si_125, out di_126);
	}
	else
	{
		__arpl(Mem0[ss:bp + 0x20 + di:word16], 0x01, &Mem0[ss:bp + 0x20 + di:word16]);
		if (di <= 0x01)
			__hlt();
		else if (CZ_51)
		{
			ds->*((word32) si + 0x01) = ds->*((word32) si + 0x01) + dh_42 + CZ_51;
			word16 cx_110;
			word16 dx_111;
			word16 bx_112;
			word16 bp_113;
			word16 si_114;
			word16 di_115;
			return fn0800_1828(0x01, bp, si, di - 0x01, ds, out cx_110, out dx_111, out bx_112, out bp_113, out si_114, out di_115);
		}
		else
		{
			es->*(di - 0x01) = __in(cs);
			__outw(cs, ax_50);
			word16 si_73;
			*siOut = (struct Eq_4697 Eq_3::*) ((word32) si + 0x02);
			if (di > 0x01)
			{
				word16 cx_97;
				word16 di_98;
				struct Eq_4724 * es_99;
				return fn0800_17E5(0xC5, cx, dl_41, di, es, out cx_97, out di_98, out es_99);
			}
			else
			{
				word16 cx_91;
				word16 di_92;
				struct Eq_4703 * es_93;
				return fn0800_17E5(0x00, ~0x00, dl_41, ax_50 | 0x0A, ds, out cx_91, out di_92, out es_93);
			}
		}
	}
}

// 0800:17D7: Register Eq_3 fn0800_17D7(Register Eq_3 ax, Register byte dl, Register Eq_3 ds, Register out ptr16 diOut, Register out (ptr Eq_2337) esOut)
Eq_3 fn0800_17D7(Eq_3 ax, byte dl, Eq_3 ds, ptr16 & diOut, Eq_2337 * & esOut)
{
	word16 cx_22;
	word16 di_23;
	struct Eq_4776 * es_24;
	return fn0800_17E5(0x00, ~0x00, dl, ax, ds, out cx_22, out di_23, out es_24);
}

// 0800:17E5: Register (memptr Eq_3 byte) fn0800_17E5(Register byte al, Register Eq_3 cx, Register byte dl, Register Eq_3 di, Register Eq_3 es, Register out ptr16 cxOut, Register out ptr16 diOut, Register out (ptr Eq_4713) esOut)
byte Eq_3::*fn0800_17E5(byte al, Eq_3 cx, byte dl, Eq_3 di, Eq_3 es, ptr16 & cxOut, ptr16 & diOut, Eq_4713 * & esOut)
{
}

// 0800:17FB: Register word16 fn0800_17FB(Register Eq_3 di, Register Eq_3 ds, Stack Eq_3 wArg02, Stack (memptr Eq_3 byte) wArg04, Stack (memptr Eq_3 byte) wArg06, Register out ptr16 dxOut)
word16 fn0800_17FB(Eq_3 di, Eq_3 ds, Eq_3 wArg02, byte Eq_3::*wArg04, byte Eq_3::*wArg06, ptr16 & dxOut)
{
	word16 dx_29;
	return fn0800_181A(fp + 0x08, di, ds, wArg02, out dx_29);
}

// 0800:181A: Register Eq_3 fn0800_181A(Register (memptr Eq_3 Eq_4876) bx, Register Eq_3 di, Register Eq_3 ds, Stack Eq_3 wArg02, Register out ptr16 dxOut)
Eq_3 fn0800_181A(Eq_4876 Eq_3::*bx, Eq_3 di, Eq_3 ds, Eq_3 wArg02, ptr16 & dxOut)
{
	word16 cx_26;
	word16 dx_27;
	word16 bx_28;
	word16 bp_29;
	word16 si_30;
	word16 di_31;
	return fn0800_1828(bx, fp - 0x0C, wArg02, di, ds, out cx_26, out dx_27, out bx_28, out bp_29, out si_30, out di_31);
}

// 0800:1828: Register Eq_3 fn0800_1828(Register (memptr Eq_3 Eq_4876) bx, Register (memptr Eq_3 Eq_1401) bp, Register Eq_3 si, Register Eq_3 di, Register Eq_3 ds, Register out ptr16 cxOut, Register out ptr16 dxOut, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 siOut, Register out ptr16 diOut)
Eq_3 fn0800_1828(Eq_4876 Eq_3::*bx, Eq_1401 Eq_3::*bp, Eq_3 si, Eq_3 di, Eq_3 ds, ptr16 & cxOut, ptr16 & dxOut, ptr16 & bxOut, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut)
{
	while (true)
	{
		Mem16[ds:bx + si:byte] = Mem0[ds:bx + si:byte] & __inb(0x3D);
		if (Mem16[ds:bx + si:byte] != 0x00)
			break;
		si = (word32) si + 0x01;
	}
	byte al_25 = __inb(0x24);
	Mem28[ds:bx - 0x03BA + di:word16] = Mem16[ds:bx - 0x03BA + di:word16] | ~0x75;
	int16 si_30 = (word32) si + 0x01;
	Eq_3 di_121 = ~0x00;
	Eq_3 ax_38;
	ci16 dx_40 = 0x00 - msdos_open_file(SEQ(ds, si_30), al_25 | (ss->*bp).t0012, out ax_38);
	Eq_3 dx_109 = ax_38;
	if (dx_40 > 0x00 || dx_40 == 0x00)
		di_121 = ax_38;
	byte al_237;
	Eq_3 ax_100;
	if (((ss->*bp).b0010 & 0x03) != 0x00 && (di_121 != ~0x00 && fn0800_21FD(di_121) == 0x00))
	{
		if (((ss->*bp).b0011 & 0x04) != 0x00 && ((ss->*bp).b0010 & 0x20) != 0x00)
		{
			word16 bx_350;
			fn0800_0780(0x07, 0x00 - msdos_close_file(di_121), ds, out bx_350);
			ax_100.u0 = ~0x00;
			goto l0800_1988;
		}
		if (((ss->*bp).b0010 & 0x40) != 0x00)
		{
			dx_109 = ax_320;
			Eq_3 ax_320;
			if (0x00 - msdos_write_file(di_121, 0x00, SEQ(ds, bp - 0x02), out ax_320) < 0x00)
			{
				msdos_close_file(di_121);
				al_237 = (byte) ax_320;
				goto l0800_18B6;
			}
		}
	}
	if (di_121 != ~0x00)
	{
l0800_1928:
		word16 ax_126 = fn0800_2219(di_121, ds);
		byte al_127 = (byte) ax_126;
		word16 ax_129 = DPB(ax_126, al_127 & 0x3C, 0);
		word16 dx_132 = ax_129;
		byte dh_134 = SLICE(ax_129, byte, 8);
		byte dl_135 = al_127 & 0x3C;
		if (fn0800_21FD(di_121) != 0x00)
		{
			dh_134 = dh_134 | 0x20;
			dx_132 = DPB(ax_129, dh_134 | 0x20, 8);
		}
		(ss->*(bp - 0x04)).t0000 = (ss->*(bp - 0x04)).t0000 & 0x7F;
		if ((ss->*(bp - 0x04)).t0000 == 0x02)
		{
			dl_135 = al_127 & 0x3C | 0x03;
			dx_132 = DPB(dx_132, dl_135, 0);
		}
		if ((ss->*(bp - 0x04)).t0000 == 0x00)
		{
			dl_135 = dl_135 | 0x01;
			dx_132 = DPB(dx_132, dl_135, 0);
		}
		if ((ss->*(bp - 0x04)).t0000 == 0x01)
		{
			dl_135 = dl_135 | 0x02;
			dx_132 = DPB(dx_132, dl_135, 0);
		}
		if (((ss->*bp).b0010 & 0x10) != 0x00)
		{
			dl_135 = dl_135 | 0x80;
			dx_132 = DPB(dx_132, dl_135, 0);
		}
		byte al_174 = (byte) dx_132;
		word16 ax_177 = DPB(dx_132, al_174 | 0x40, 0);
		if (((ss->*bp).b0011 & 0x03) != 0x00)
		{
			if (((ss->*bp).b0011 & 0x02) == 0x00)
				goto l0800_1981;
		}
		else if (*((word32) ds + 0x0367) != 0x0200)
		{
l0800_1981:
			fn0800_2260(di_121, dl_135, dh_134, ds);
			ax_100 = di_121;
l0800_1988:
			word16 bp_64;
			*bpOut = (ss->*bp).t0000;
			word16 di_66;
			*diOut = (ss->*bp).w0002;
			word16 si_68;
			*siOut = (ss->*bp).w0004;
			word16 dx_70;
			*dxOut = (ss->*bp).w0006;
			word16 cx_75;
			*cxOut = (ss->*bp).w0008;
			word16 bx_78;
			*bxOut = (ss->*bp).w000A;
			return ax_100;
		}
		dh_134 = SLICE(ax_177, byte, 8);
		dl_135 = al_174 | 0x40;
		goto l0800_1981;
	}
	else
	{
		if (((ss->*bp).b0010 & 0x20) != 0x00 && dx_109 == 0x02)
		{
			word16 ax_243 = Mem28[ds:bp + 0x14 + dx_109 - 0x02 + 0x00:word16];
			if (ax_243 == 0x00)
				ax_243.u0 = 0x0180;
			al_237 = (byte) (ax_243 & ~(*((word32) ds + 922)));
			word16 cx_254 = 0x00;
			if ((al_237 & 0x80) == 0x00)
				cx_254 = 0x01;
			Eq_3 ax_264;
			if (0x00 - msdos_create_truncate_file(DPB(cx_254, 0x00, 8), ds, si_30, out ax_264) >= 0x00)
			{
				di_121 = ax_264;
				if ((ss->*bp).t0012 == 0x00)
					goto l0800_1928;
				if (0x00 - msdos_close_file(ax_264) >= 0x00)
				{
					al_237 = (ss->*(bp - 0x04)).t0000 | (ss->*bp).t0012;
					Eq_3 ax_289;
					if (0x00 - msdos_open_file(SEQ(ds, si_30), al_237, out ax_289) >= 0x00)
					{
						di_121 = ax_289;
						goto l0800_1928;
					}
				}
			}
		}
		else
			al_237 = (byte) dx_109;
l0800_18B6:
		word16 dx_99;
		ax_100 = fn0800_0CE0(al_237, ds, out dx_99);
		goto l0800_1988;
	}
}

// 0800:19D8: Register Eq_3 fn0800_19D8(Register Eq_3 ax, Register Eq_3 dx, Register word16 bx, Register Eq_3 ds, Register out ptr16 dxOut)
Eq_3 fn0800_19D8(Eq_3 ax, Eq_3 dx, word16 bx, Eq_3 ds, ptr16 & dxOut)
{
}

// 0800:1AA6: Register word16 fn0800_1AA6(Register Eq_3 ax, Register Eq_3 dx, Register Eq_3 ds, Register out ptr16 dxOut, Register out ptr16 bxOut)
word16 fn0800_1AA6(Eq_3 ax, Eq_3 dx, Eq_3 ds, ptr16 & dxOut, ptr16 & bxOut)
{
	if (ax < 0x00 || ax > *((word32) ds + 0x039C))
	{
		word16 bx_32;
		word16 dx_33;
		*dxOut = fn0800_0780(0x04, dx, ds, out bx_32);
		return cx;
	}
	else
	{
		word16 Eq_5403::* sp_52 = fp - 0x06;
		Eq_3 dx_58 = 0x00 - msdos_close_file(ax);
		if (dx_58 <= 0x00 && dx_58 != 0x00)
		{
			word16 bx_90;
			fn0800_0780(0x04, dx_58, ds, out bx_90);
			sp_52 = fp - 0x08;
		}
		else
			fn0800_2260(ax, 0x00, 0x00, ds);
		struct Eq_5399 Eq_5403::* sp_75 = sp_52 + 0x01;
		word16 dx_72;
		*dxOut = ss->*sp_52;
		word16 bx_78;
		*bxOut = (ss->*sp_75).w0002;
		return (ss->*sp_75).w0000;
	}
}

// 0800:1ABD: Register Eq_3 fn0800_1ABD(Register Eq_3 ax, Register cui16 cx, Register byte dl, Register cui16 bx, Register Eq_3 ds, Register out Eq_2558 dxOut)
Eq_3 fn0800_1ABD(Eq_3 ax, cui16 cx, byte dl, cui16 bx, Eq_3 ds, Eq_2558 & dxOut)
{
	Eq_3 ax_38;
	Eq_3 ax_24 = DPB(ax, 66, 8);
	if (__ror(__rcl(bx, 0x01, msdos_set_file_position(ax, SEQ(cx, bx), dl, DPB(dx_ax, 66, 8))), 0x01) < 0x00)
	{
		word16 dx_54;
		fn0800_0CE0(dl, ds, out dx_54);
		ax_38.u0 = ~0x00;
		word16 dx_60;
		*dxOut = ~0x00;
	}
	else
	{
		ax_38 = ax_24;
		word16 dx_67;
		*dxOut = bx;
	}
	return ax_38;
}

// 0800:1AFA: Register Eq_2570 fn0800_1AFA(Register Eq_2570 ax, Register Eq_2570 cx, Register Eq_2570 dx, Register Eq_2570 bx, Register out ptr16 dxOut)
Eq_2570 fn0800_1AFA(Eq_2570 ax, Eq_2570 cx, Eq_2570 dx, Eq_2570 bx, ptr16 & dxOut)
{
	if (dx < 0x00)
	{
		Eq_2570 ax_41 = -ax;
		Eq_2570 dx_43 = -dx - (ax_41 == 0x00);
		if (cx >= 0x00)
		{
			word16 dx_61;
			word16 bx_62;
			Eq_2570 ax_69 = -fn0800_1B47(ax_41, cx, dx_43, bx, out dx_61, out bx_62);
			word16 dx_71;
			*dxOut = -dx_61 - (ax_69 == 0x00);
			return ax_69;
		}
		else
		{
			Eq_2570 bx_49 = -bx;
			word16 dx_53;
			word16 bx_54;
			return fn0800_1B47(ax_41, -cx - (bx_49 == 0x00), dx_43, bx_49, out dx_53, out bx_54);
		}
	}
	else if (cx < 0x00)
	{
		Eq_2570 bx_28 = -bx;
		word16 dx_32;
		word16 bx_33;
		Eq_2570 ax_36 = -fn0800_1B47(ax, -cx - (bx_28 == 0x00), dx, bx_28, out dx_32, out bx_33);
		word16 dx_38;
		*dxOut = -dx_32 - (ax_36 == 0x00);
		return ax_36;
	}
	else
	{
		word16 dx_23;
		word16 bx_24;
		return fn0800_1B47(ax, cx, dx, bx, out dx_23, out bx_24);
	}
}

// 0800:1B47: Register Eq_2570 fn0800_1B47(Register Eq_2570 ax, Register Eq_2570 cx, Register Eq_2570 dx, Register Eq_2570 bx, Register out ptr16 dxOut, Register out ptr16 bxOut)
Eq_2570 fn0800_1B47(Eq_2570 ax, Eq_2570 cx, Eq_2570 dx, Eq_2570 bx, ptr16 & dxOut, ptr16 & bxOut)
{
}

// 0800:1BD5: void fn0800_1BD5(Register Eq_3 ax, Register (memptr Eq_3 byte) dx, Register Eq_3 ds)
void fn0800_1BD5(Eq_3 ax, byte Eq_3::*dx, Eq_3 ds)
{
	Eq_3 bx_12 = ax;
	byte Eq_3::* si_11 = dx;
	while (true)
	{
		byte al_16 = ds->*si_11;
		ds->*bx_12 = al_16;
		if (al_16 == 0x00)
			break;
		bx_12 = (word32) bx_12 + 0x01;
		si_11 = si_11 + 0x01;
	}
}

// 0800:1BEC: Register Eq_3 fn0800_1BEC(Register Eq_3 ax, Register (memptr Eq_3 Eq_3) cx, Register Eq_3 dx, Register (memptr Eq_3 Eq_3) bx, Register Eq_3 ds, Stack Eq_3 wArg02, Stack (memptr Eq_3 byte) wArg04, Stack (memptr Eq_3 byte) wArg06)
Eq_3 fn0800_1BEC(Eq_3 ax, Eq_3 Eq_3::*cx, Eq_3 dx, Eq_3 Eq_3::*bx, Eq_3 ds, Eq_3 wArg02, byte Eq_3::*wArg04, byte Eq_3::*wArg06)
{
	if (dx == 0x00)
		dx = *((word32) ds + 0x0220);
	word16 wLoc08_217 = 0x00;
	if (dx != 0x00)
	{
		Eq_3 bx_215 = dx;
		while (ds->*bx_215 != 0x00)
		{
			bx_215 = (word32) bx_215 + 0x02;
			wLoc08_217 = wLoc08_217 + (fn0800_06F2(ds->*bx_215, ds) + 0x01);
		}
	}
	word16 v16_33 = wLoc08_217 + 0x01;
	word16 wLoc08_213 = v16_33;
	if (wArg06 != 0x00)
		wLoc08_213 = v16_33 + (fn0800_06F2(ds->*ax, ds) + 0x03);
	Eq_3 bx_191;
	Eq_3 ax_145;
	cup16 ax_41 = *((word32) ds + 0x0386);
	*((word32) ds + 0x0386) = 0x10;
	Eq_3 v19_42 = wLoc08_213 + 0x0F;
	byte cl_48;
	Eq_3 ax_49 = fn0800_0D39(v19_42, ds, out cl_48);
	if (ax_49 == 0x00)
	{
		byte cl_189;
		Eq_3 ax_190 = fn0800_0D39(v19_42, ds, out cl_189);
		bx_191 = ax_190;
		if (ax_190 == 0x00)
		{
			word16 bx_197;
			word16 bx_201;
			fn0800_079D(0x08, fn0800_0780(0x05, dx, ds, out bx_197), ds, out bx_201);
			*((word32) ds + 0x0386) = ax_41;
			goto l0800_1C6D;
		}
	}
	else
		bx_191 = ax_49;
	*((word32) ds + 0x0386) = ax_41;
	ds->*bx = bx_191;
	word16 bx_90 = (word32) bx_191 + 0x0F;
	Eq_3 bx_109 = DPB(bx_90, (byte) bx_90 & 0xF0, 0);
	ds->*wArg02 = (word32) ds + (bx_109 >> 0x04);
	ds->*cx = bx_109;
	if (dx != 0x00)
	{
		Eq_3 di_171 = dx;
		while (ds->*di_171 != 0x00)
		{
			fn0800_1BD5(bx_109, ds->*di_171, ds);
			di_171 = (word32) di_171 + 0x02;
			bx_109 = (word32) bx_109 + 0x01;
		}
	}
	ds->*bx_109 = 0x00;
	Eq_5800 bx_114 = (word32) bx_109 + 0x01;
	if (wArg06 != 0x00)
		fn0800_070B((word32) bx_114 + 0x02, ds->*ax, ds);
	Eq_3 dx_119 = 0x00;
	if (ds->*ax != 0x00)
	{
		word16 Eq_3::* si_148 = (word32) ax + 0x02;
		while (true)
		{
			Eq_3 ax_153 = ds->*si_148;
			if (ax_153 == 0x00)
				break;
			if (dx_119 != 0x00)
				dx_119 = (word32) dx_119 + 0x01;
			si_148 = si_148 + 0x01;
			dx_119 = (word32) dx_119 + fn0800_06F2(ax_153, ds);
		}
	}
	if (dx_119 <= 0x7E)
	{
		(ds->*wArg04).u1 = 0x90;
		ax_145 = v19_42 >> 0x04;
		return ax_145;
	}
	word16 bx_131;
	union Eq_674 Eq_3::* bx_136;
	fn0800_079D(0x0A, fn0800_0780(0x02, dx_119, ds, out bx_131), ds, out bx_136);
	fn0800_13F7(ds->*bx_136, ds);
l0800_1C6D:
	ax_145.u0 = ~0x00;
	return ax_145;
}

// 0800:1D16: void fn0800_1D16(Register word16 cx, Register Eq_3 dx, Register Eq_3 bx, Register Eq_3 ds)
void fn0800_1D16(word16 cx, Eq_3 dx, Eq_3 bx, Eq_3 ds)
{
	Eq_3 bx_25;
	bx_25 = bx;
	if (cx == 0x00)
	{
		bx_25 = (word32) bx + 0x01;
		bl = (byte) ((word32) bx + 0x01);
	}
	if (ds->*dx != 0x00)
	{
		struct Eq_5892 Eq_3::* si_64 = (word32) dx + 0x02;
		if (ds->*((word32) dx + 0x02) != 0x00)
		{
			while (true)
			{
				fn0800_1BD5(bx_25, (ds->*si_64).w0000, ds);
				struct Eq_5904 Eq_3::* si_72 = si_64 + 0x01;
				si_64 = (struct Eq_5892 Eq_3::*) (si_72 + 0x01);
				bl = (byte) bx_25;
				if (si_72[0x01] == 0x00)
					break;
				ds->*bx_25 = 0x20;
				bx_25 = (word32) bx_25 + 0x01;
			}
		}
	}
	if (cx != 0x00)
		ds->*bx_25 = 0x00;
	else
	{
		ds->*bx_25 = 0x0D;
		ds->*bx = bl - bLoc08 - 0x01;
	}
}

// 0800:1E9E: Register word16 fn0800_1E9E(Stack (memptr Eq_3 byte) wArg04, Stack (memptr Eq_3 byte) wArg06, Stack word16 wArg08, Stack word16 wArg0A, Stack word16 wArg0C, Stack word16 wArg0E, Stack word16 wArg10, Register out (ptr Eq_2799) dsOut)
word16 fn0800_1E9E(byte Eq_3::*wArg04, byte Eq_3::*wArg06, word16 wArg08, word16 wArg0A, word16 wArg0C, word16 wArg0E, word16 wArg10, Eq_2799 * & dsOut)
{
}

// 0800:1FA2: Register Eq_3 fn0800_1FA2(Register byte al, Register (memptr Eq_3 Eq_2890) cx, Register (memptr Eq_3 Eq_2836) dx, Register Eq_3 ds)
Eq_3 fn0800_1FA2(byte al, Eq_2890 Eq_3::*cx, Eq_2836 Eq_3::*dx, Eq_3 ds)
{
	Eq_3 ds_42;
	union Eq_2836 Eq_6185::* bp_43 = fn0800_229B((byte) ax, fp - 0x1A, ds, out ds_42);
	(ds_42->*bx).t0000 = ss->*(bp_43 - 0x14);
	(ds_42->*bx).t0002 = ss->*(bp_43 - 0x12);
	(ds_42->*bx).t0004 = ss->*(bp_43 - 0x10);
	(ds_42->*bx).t0006 = ss->*(bp_43 - 0x0E);
	(ds_42->*bx).t0008 = ss->*(bp_43 - 0x0A);
	(ds_42->*bx).t000A = ss->*(bp_43 - 0x08);
	Eq_2836 ax_58 = ss->*(bp_43 - 0x02);
	(ds_42->*bx).w000C = (word16) DPB(ax_58, (byte) ax_58 & 0x01, 0);
	(ds_42->*cx).t0006 = ss->*(bp_43 - 0x06);
	(ds_42->*cx).t0000 = ss->*(bp_43 - 0x04);
	return ds_42;
}

// 0800:2045: Register Eq_3338 fn0800_2045(Register Eq_3 ax, Register Eq_3338 cx, Register (memptr Eq_3 Eq_3339) dx, Register Eq_3 bx, Stack cu16 wArg02)
Eq_3338 fn0800_2045(Eq_3 ax, Eq_3338 cx, Eq_3339 Eq_3::*dx, Eq_3 bx, cu16 wArg02)
{
	Eq_3338 di_16 = cx;
	struct Eq_3339 Eq_3::* si_22 = dx;
	uint16 cx_28 = wArg02 >> 0x01;
	while (cx_28 != 0x00)
	{
		bx->*di_16 = (ax->*si_22).t0000;
		si_22 = si_22 + 0x02;
		di_16 = (word32) di_16 + 0x02;
		cx_28 = cx_28 - 0x01;
	}
	Eq_3338 cx_40 = cx_28 * 0x02 + (wArg02 >> 0x01 < 0x00);
	while (cx_40 != 0x00)
	{
		bx->*di_16 = (ax->*si_22).t0000;
		si_22 = si_22 + 0x01;
		di_16 = (word32) di_16 + 0x01;
		cx_40 = cx_40 - 0x01;
	}
	return cx_40;
}

// 0800:211E: void fn0800_211E(Register Eq_3 ax, Register Eq_3 ds)
void fn0800_211E(Eq_3 ax, Eq_3 ds)
{
	if ((ds->*((word32) ax + 0x07) & 0x20) == 0x00 && fn0800_21FD(ds->*((word32) ax + 0x08)) != 0x00)
	{
		ds->*((word32) ax + 0x07) = ds->*((word32) ax + 0x07) | 0x20;
		if ((ds->*((word32) ax + 0x07) & 0x07) == 0x00)
			ds->*((word32) ax + 0x07) = ds->*((word32) ax + 0x07) | 0x02;
	}
}

// 0800:2141: Register Eq_3 fn0800_2141(Register Eq_3 ax, Register word16 dx, Register Eq_3 bx, Register Eq_3 ds)
Eq_3 fn0800_2141(Eq_3 ax, word16 dx, Eq_3 bx, Eq_3 ds)
{
	Eq_3 ax_39;
	word16 ax_24 = fn0800_2219(ax, ds);
	word32 dx_ax_25 = SEQ(dx, ax_24);
	byte al_100 = (byte) ax_24;
	if ((al_100 & 0x80) != 0x00)
	{
		al_100 = 0x02;
		if (__ror(__rcl(0x00, 0x01, msdos_set_file_position(ax, 0x00, 0x02, DPB(dx_ax_25, 66, 8))), 0x01) < 0x00)
		{
l0800_216C:
			word16 dx_61;
			ax_39 = fn0800_0CE0(al_100, ds, out dx_61);
			return ax_39;
		}
	}
	Eq_3 ax_75;
	Eq_3 dx_77 = 0x00 - msdos_write_file(ax, bx, SEQ(ds, dx), out ax_75);
	if (dx_77 >= 0x00)
	{
		if (ax_75 != bx)
		{
			word16 bx_96;
			fn0800_0780(0x0C, dx_77, ds, out bx_96);
		}
		ax_39 = ax_75;
		return ax_39;
	}
	goto l0800_216C;
}

// 0800:21A7: Register Eq_674 fn0800_21A7(Register Eq_674 ax, Register Eq_3 ds)
Eq_674 fn0800_21A7(Eq_674 ax, Eq_3 ds)
{
	Eq_674 ax_28;
	if (ax >= *((word32) ds + 0x022E))
	{
		uint16 bx_52 = (word32) ax + 0x0F >> 0x04;
		if (bx_52 == 0x00)
			bx_52 = 0x1000;
		Eq_3 ax_57 = ds;
		if (*((word32) ds + 0x022A) == 0x00)
		{
			bx_52 = bx_52 + (ss - *((word32) ds + 0x0226));
			ax_57 = *((word32) ds + 0x0226);
		}
		word16 bx_66;
		if (0x00 - msdos_resize_memory_block(ax_57, bx_52, out bx_66) == 0x00)
		{
			ax_28 = *((word32) ds + 0x0224);
			*((word32) ds + 0x0224) = ax;
			return ax_28;
		}
	}
	fn0800_035A();
	*((word32) ds + 0x043C) = 0x05;
	ax_28.u0 = ~0x00;
	return ax_28;
}

// 0800:21FD: Register Eq_3 fn0800_21FD(Register Eq_3 ax)
Eq_3 fn0800_21FD(Eq_3 ax)
{
	Eq_3 ax_23;
	word16 dx_14;
	msdos_ioctl_get_device_info(ax, out dx_14);
	if ((dl & 0x80) != 0x00)
		ax_23.u0 = 0x01;
	else
		ax_23.u0 = 0x00;
	return ax_23;
}

// 0800:2219: Register Eq_3 fn0800_2219(Register Eq_3 ax, Register Eq_3 ds)
Eq_3 fn0800_2219(Eq_3 ax, Eq_3 ds)
{
	Eq_3 ax_19;
	if (ax >= *((word32) ds + 0x039C))
		ax_19.u0 = 0x00;
	else
	{
		if (ax <= 0x05)
		{
			struct Eq_6477 Eq_3::* bx_46 = *((word32) ds + 966) + (ax << 0x01);
			if (((ds->*bx_46).b0001 & 0x40) == 0x00)
			{
				(ds->*bx_46).b0001 = (ds->*bx_46).b0001 | 0x40;
				if (fn0800_21FD(ax) != 0x00)
				{
					struct Eq_6502 Eq_3::* bx_59 = *((word32) ds + 966) + (ax << 0x01);
					(ds->*bx_59).b0001 = (ds->*bx_59).b0001 | 0x20;
				}
			}
		}
		ax_19 = SEQ(ds, *((word32) ds + 966))[ax].t0000;
	}
	return ax_19;
}

// 0800:2260: void fn0800_2260(Register Eq_3 ax, Register byte dl, Register byte dh, Register Eq_3 ds)
void fn0800_2260(Eq_3 ax, byte dl, byte dh, Eq_3 ds)
{
	SEQ(ds, *((word32) ds + 966))[ax].t0000 = DPB(dx, dh | 0x40, 8);
}

// 0800:229B: Register word16 fn0800_229B(Register byte al, Register (memptr Eq_3 Eq_6175) dx, Register Eq_3 ds, Register out (ptr Eq_6177) dsOut)
word16 fn0800_229B(byte al, Eq_6175 Eq_3::*dx, Eq_3 ds, Eq_6177 * & dsOut)
{
	*dsOut = ds;
	fn0800_24D4(dx, ds, (byte) ax);
	return bp;
}

// 0800:24D4: void fn0800_24D4(Register (memptr Eq_3 Eq_6175) ax, Register Eq_3 dx, Register byte bl)
void fn0800_24D4(Eq_6175 Eq_3::*ax, Eq_3 dx, byte bl)
{
	word16 cx_26;
	word16 dx_27;
	Eq_6537 bx_28;
	Eq_6537 bp_29;
	word16 si_30;
	word16 di_31;
	struct Eq_6541 * es_32;
	Eq_6537 ds_33;
	word16 ax_34 = fn0800_2517(ax, dx, out cx_26, out dx_27, out bx_28, out bp_29, out si_30, out di_31, out es_32, out ds_33);
	ss->*(fp - 0x0A) = bx_28;
	ss->*(fp - 0x0C) = ds_33;
	ss->*(fp - 0x0E) = bp_29;
	Eq_6537 ds_bx_43 = ss->*(fp - 0x08);
	ss->*(fp - 0x10) = cond(DPB(bx, 0x00, 8) * 0x03 + 9529);
	*((word32) ds_bx_43 + 0x0012) = ss->*(fp - 0x10);
	ds_bx_43->u1 = ax_34;
	((word32) ds_bx_43 + 0x04)->u1 = cx_26;
	((word32) ds_bx_43 + 0x06)->u1 = dx_27;
	((word32) ds_bx_43 + 0x0A)->u1 = si_30;
	((word32) ds_bx_43 + 0x0C)->u1 = di_31;
	*((word32) ds_bx_43 + 0x08) = ss->*(fp - 0x0E);
	*((word32) ds_bx_43 + 0x0E) = ss->*(fp - 0x0C);
	*((word32) ds_bx_43 + 0x02) = ss->*(fp - 0x0A);
	*((word32) ds_bx_43 + 0x0010) = es_32;
}

// 0800:2517: Register (memptr Eq_3 Eq_6175) fn0800_2517(Register (memptr Eq_3 Eq_6175) ax, Register Eq_3 dx, Register out ptr16 cxOut, Register out ptr16 dxOut, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 siOut, Register out ptr16 diOut, Register out (ptr Eq_6554) esOut, Register out (ptr Eq_6555) dsOut)
Eq_6175 Eq_3::*fn0800_2517(Eq_6175 Eq_3::*ax, Eq_3 dx, ptr16 & cxOut, ptr16 & dxOut, ptr16 & bxOut, ptr16 & bpOut, ptr16 & siOut, ptr16 & diOut, Eq_6554 * & esOut, Eq_6555 * & dsOut)
{
	word16 cx_17;
	*cxOut = (dx->*ax).w0004;
	word16 dx_18;
	*dxOut = (dx->*ax).w0006;
	word16 si_19;
	*siOut = (dx->*ax).w000A;
	word16 di_20;
	*diOut = (dx->*ax).w000C;
	word16 bp_21;
	*bpOut = (dx->*ax).w0008;
	struct Eq_6675 * es_22;
	*esOut = (dx->*ax).ptr0010;
	word16 bx_23;
	*bxOut = (dx->*ax).w0002;
	struct Eq_6685 * ds_24;
	*dsOut = (dx->*ax).w000E;
	return (dx->*ax).ptr0000;
}

