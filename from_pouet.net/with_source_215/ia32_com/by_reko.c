// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_2) ds)
void fn0C00_0100(struct Eq_2 * ds)
{
	bios_video_set_mode(0x13);
	do
	{
		cui16 ax_17 = (word16) (ds->w01BE * ds->w01BC);
		ds->w01BC = ax_17 + 0x6D & 0x7FFF;
		struct Eq_8 Eq_12::* bp_23 = &Eq_12::t01C0;
		do
		{
			bp_23 = bp_108 + 1;
			bp_108 = bp_23;
		} while ((ss->*bp_108).w0000 - (ax_17 + 0x6D & 0x7FFF) < 0x00);
		int32 ebx_48 = (word32) (ds->dw01F0 *s (int32) (ss->*bp_23).wFFFFFFF6 + ds->dw01F4 *s (int32) (ss->*bp_23).wFFFFFFF8);
		int32 ecx_62 = ((word32) (ds->dw01F0 *s (int32) (ss->*bp_23).wFFFFFFFA + ds->dw01F4 *s (int32) (ss->*bp_23).wFFFFFFFC) >> 0x0D) + (int32) (ss->*bp_23).wFFFFFFFE;
		ds->dw01F0 = ebx_48 >> 0x0D;
		ds->dw01F4 = ecx_62;
		(0xA000->*(word16) (((word32) ((ebx_48 >> 0x0D) *s ds->dw01F8) >> 0x0D) + (word16) ((word32) (ecx_62 *s ds->dw01F8) >> 0x0D) *s ~0x013F)).bF960 = 0x02;
		do
			;
		while ((__inb(0x03DA) & 0x08) == 0x00);
	} while (__inb(0x60) != 0x01);
	bios_video_set_mode(0x03);
	msdos_terminate_program20();
}

