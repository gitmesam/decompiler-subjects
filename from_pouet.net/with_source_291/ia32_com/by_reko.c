// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_2) ds)
void fn0C00_0100(struct Eq_2 * ds)
{
	__syscall(0x10);
	word16 cx_20 = 0x00;
	do
	{
		uint8 al_11 = (byte) cx_20;
		__outb(0x03C8, al_11);
		__outb(969, al_11 >> 0x02);
		uint16 ax_14 = (al_11 >> 0x02) * (al_11 >> 0x02);
		__outb(969, (byte) (ax_14 >> 0x06));
		__outb(969, (byte) (ax_14 >> 0x07));
		--cx_20;
	} while (cx_20 != 0x00);
	do
	{
		word16 dx_114;
		byte Eq_2::* di_102 = Eq_2::a0200;
		for (dx_114 = 0x52; dx_114 != 0x78; --dx_114)
		{
			word16 cx_113;
			for (cx_113 = 0x0140; cx_113 != 0x00; --cx_113)
			{
				ds->t01F8 = 0xA0 - cx_113;
				real64 rLoc1_207 = (real64) ds->t01F8;
				ds->t01F8 = dx_114 + 0x00;
				real64 rLoc2_208 = (real64) ds->t01F8;
				real64 rLoc3_217 = sqrt(sqrt(rLoc2_208 * rLoc2_208 + rLoc1_207 * rLoc1_207));
				ds->t01F8.u0 = (int16) (cos(rLoc3_217 * 3.14159265358979 + sin(atan(rLoc3_217 * 3.14159265358979, rLoc2_208) * __rndint((real64) ds->t01F6 / (real64) ds->w01FA) + (real64) ds->t01F6 / (real64) ds->w01FD) * __rndint((real64) ds->t01F6 / (real64) ds->w01FB) + -((real64) ds->t01F6)) * (real64) ds->w0188);
				cu16 bx_103 = (word16) (ds->*di_102);
				uint16 ax_106 = ((word16) ds->t01F8.u1 + 0x007F + bx_103 >> 0x01) + bx_103;
				byte al_109 = (byte) (ax_106 >> 0x01);
				ds->*di_102 = al_109;
				++di_102;
			}
		}
		ds->t01F6 = (word16) ds->t01F6 + 1;
		__outb(0x61, al_109);
		__outb(0x43, ~0x49);
		byte al_129 = (byte) ds->t01F6.u1 + (byte) (ax_106 >> 0x01);
		__outb(66, al_129);
		__outb(66, al_129);
		struct Eq_193 Eq_2::* di_131 = Eq_2::a0200;
		word16 cx_132;
		for (cx_132 = 64640; cx_132 != 0x00; --cx_132)
		{
			(ds->*di_131).b0000 = (byte) (((word16) (ds->*di_131).b0000 << 0x02) + (word16) di_131[1] + (word16) (ds->*di_131).bFFFFFFFF + (word16) (ds->*di_131).bFFFFFEC0 + (word16) di_131[320] >> 0x03);
			++di_131;
		}
		do
			;
		while ((__inb(0x03DA) & 0x08) == 0x00);
		word16 Eq_2::* si_168 = Eq_2::a0340;
		word16 Eq_262::* di_169 = Eq_262::a0000;
		word16 cx_172;
		for (cx_172 = 0x7D00; cx_172 != 0x00; --cx_172)
		{
			0xA000->*di_169 = ds->*si_168;
			++si_168;
			++di_169;
		}
		byte al_175;
		byte ah_176;
	} while (bios_kbd_check_keystroke(out al_175, out ah_176));
}

