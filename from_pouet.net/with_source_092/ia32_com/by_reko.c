// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (memptr (ptr16 Eq_18) Eq_2) bx, Register cu16 si)
void fn0C00_0100(struct Eq_2 Eq_18::* bx, cu16 si)
{
	__syscall(0x10);
	__outw(0x03D4, 8211);
	struct Eq_2 Eq_18::* bx_75 = bx;
	while (true)
	{
		bi8 al_16 = (byte) (si >> 0x01);
		int16 ax_18 = ~(al_16 *s al_16);
		uint16 cx_28 = (uint16) SLICE(bx_80, byte, 8);
		Eq_38 ax_33 = (uint16) ((int32) SEQ(SLICE(ax_18, byte, 8) - 0x8C, (byte) ax_18) /u (cx_28 + 0x01));
		uint16 ax_43 = (word16) ax_33 + si;
		ci8 al_53 = (byte) (SEQ(SLICE(ax_43, byte, 8), ((byte) ax_43 ^ SLICE(ax_33 *s SEQ((byte) bx_80, (byte) (cx_28 + 0x01)), byte, 16)) & 0x20) - 0x01) - SLICE(ax_33, byte, 8);
		if (al_53 < 0x10)
			al_53 = 0x10;
		(0xA000->*bx_80).bFFFFFFA0 = al_53;
		bx_75 = &bx_80->bFFFFFFA0 + 97;
		bx_80 = bx_75;
		if (bx_80 == &Eq_18::t0001)
		{
			++si;
			bx_75 = &bx_80->bFFFFFFA0 + 97;
		}
	}
}

