// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register bu8 ch, Register (memptr (ptr16 Eq_80) byte) bx)
void fn0C00_0100(bu8 ch, byte Eq_80::* bx)
{
	bios_video_set_mode(0x13);
	__outb(0x03D4, 0x11);
	__outb(0x03D5, __inb(0x03D5) & 0x7F);
	byte Eq_34::* si_13 = Eq_34::a016E;
	while (true)
	{
		byte al_23 = cs->*si_13;
		byte Eq_34::* si_24 = si_13 + 1;
		if (al_23 == 0x00)
			break;
		__outb(SEQ(0x03, al_23), cs->*si_24);
		si_13 = si_24 + 1;
	}
	ci8 cl_30;
	for (cl_30 = 0x3F; cl_30 >= 0x00; --cl_30)
	{
		__outb(0x03C8, cl_30);
		__outb(969, cl_30);
		__outb(969, 0x00);
		__outb(969, cl_30);
	}
	byte Eq_80::* bx_127 = bx;
	do
	{
		do
		{
			0xA000->*bx_132 = (byte) (ch * SLICE(bx_132, byte, 8) >> 0x04 ^ ch * (byte) bx_132 >> 0x04) & 0x3F;
			bx_127 = bx_132 + 1;
			bx_132 = bx_127;
		} while (bx_132 != &Eq_80::b0001);
		++ch;
		do
			;
		while ((__inb(0x03DA) & 0x08) != 0x00);
		bx_127 = bx_132 + 1;
	} while (__inb(0x60) != 0x01);
}

