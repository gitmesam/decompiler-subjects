// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_2) ds)
void fn0C00_0100(struct Eq_2 * ds)
{
	__syscall(0x10);
	cui16 cx_256 = 0x00;
	do
	{
		Eq_10 cl_9 = (byte) cx_263;
		__outb(0x03C8, cl_9);
		Eq_10 al_12 = cl_9;
		if (cl_9 < 0x00)
			al_12 = ~cl_9;
		Eq_10 al_18 = al_12 >> 0x01;
		__outb(969, al_18);
		__outb(969, al_18);
		__outb(969, SLICE(cl_9 * al_18, byte, 8) + 0x13);
		cx_256 = cx_263 - 0x01;
		cx_263 = cx_256;
	} while (cx_263 != 0x01);
	do
	{
		++ds->w0100;
		__fninit();
		word16 di_167 = 0x00;
		int16 ax_171 = ~0x63;
		do
		{
			int16 bx_168 = ~0x9F;
			do
			{
				ds->wA000 = ax_262;
				real64 rLoc1_230 = (real64) ds->wA000;
				ds->wA000 = bx_261;
				real64 rLoc2_231 = (real64) ds->wA000;
				real64 rLoc3_233 = (real64) ds->w0100 / (real64) ds->w0130;
				real64 rLoc3_234 = cos(rLoc3_233);
				real64 rLoc4_235 = sin(rLoc3_233);
				real64 rLoc1_240 = rLoc1_230 * (((real64) ds->w0126 * rLoc3_234 + rLoc2_231) * rLoc2_231);
				ds->wA000 = (int16) (rLoc3_234 * rLoc4_235 + rLoc2_231 * rLoc3_234);
				int16 bx_105 = ds->wA000;
				ds->wA000 = (int16) (rLoc1_240 * rLoc4_235 - rLoc2_231 * rLoc3_234);
				int16 ax_114 = ds->wA000;
				byte bl_259;
				byte bl_260;
				fn0C00_019F(0xA000 + (ax_114 - bx_105), fn0C00_019F(ax_114, cx_263 - 0x01, 969, bx_105 >> 0x02, 0xA000, ds, out bl_259), 969, bx_105, 0xA000, ds, out bl_260);
				Eq_116 bx_140 = <invalid>;
				0xA000->*di_167 = SLICE((byte) bx_140 * 181 + 969, byte, 8);
				++di_167;
				bx_168 = bx_261 + 0x01;
				bx_261 = bx_168;
			} while (bx_261 != 0x9F);
			ax_171 = ax_262 + 0x01;
			byte ah_176 = SLICE(ax_262 + 0x01, byte, 8);
			ax_262 = ax_171;
		} while ((byte) (ax_262 + 0x01) != 100);
	} while (SEQ(ah_176, __inb(0x60)) != 0x01);
	__syscall(0x10);
}

// 0C00:019F: Register int16 fn0C00_019F(Register int16 ax, Register int16 cx, Register word16 dx, Register int16 bx, Register Eq_56 si, Register (ptr16 Eq_2) ds, Register out Eq_116 blOut)
// Called from:
//      fn0C00_0100
int16 fn0C00_019F(int16 ax, int16 cx, word16 dx, int16 bx, Eq_56 si, struct Eq_2 * ds, union Eq_116 & blOut)
{
	word16 dx_35;
	word16 ax_36;
	word16 cx_37;
	word16 bx_38;
	0C00:01E1();
	word16 dx_45;
	word16 ax_46;
	word16 cx_47;
	word16 bx_48;
	0C00:01E1();
	word16 dx_55;
	word16 ax_56;
	word16 cx_57;
	word16 bx_58;
	0C00:01E1();
	0C00:01E1();
	blOut.u0 = <invalid>;
	return ax;
}

