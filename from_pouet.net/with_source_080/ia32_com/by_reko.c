// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100()
void fn0C00_0100()
{
	bios_video_set_mode(0x13);
	word16 di_21;
	word16 Eq_24::* si_22;
	word16 cx_20 = fn0C00_0133(A000:2D9F, 0x00, out si_22, out di_21);
	do
	{
		word16 Eq_24::* di_36 = di_21 + 0x02;
		cx_50 = cx_20;
		do
		{
			word16 cx_50;
			++si_22;
			0xA000->*di_36 = 0xA000->*si_22 ^ 0xA000->*si_22;
			++di_36;
			--cx_50;
		} while (cx_50 != 0x00);
		cx_20 = fn0C00_0133(di_21, cx_20, out si_22, out di_21);
	} while ((byte) cx_20 != 0x80);
	byte al_72;
	bios_kbd_get_keystroke(out al_72);
	bios_video_set_mode(0x03);
}

// 0C00:0133: Register word16 fn0C00_0133(Sequence (ptr32 word16) ds_di, Register word16 cx, Register out Eq_14 siOut, Register out ptr16 diOut)
// Called from:
//      fn0C00_0100
word16 fn0C00_0133(word16 * ds_di, word16 cx, union Eq_14 & siOut, ptr16 & diOut)
{
	Eq_14 di = (word16) ds_di;
	*ds_di = 0x0F0F;
	siOut = di;
	diOut = (word16) di + 319;
	return cx + 0x01;
}

