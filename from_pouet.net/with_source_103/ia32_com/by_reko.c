// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte ah, Register word16 cx, Register byte bh)
void fn0C00_0100(byte ah, word16 cx, byte bh)
{
	__syscall(0x10);
	__outb(0x03C8, 0x03);
	struct Eq_17 * ax_6 = SEQ(ah, 0x13);
	byte Eq_17::* dx_10 = &Eq_17::b03C9;
	word16 cx_84 = cx;
	do
	{
		__outb(969, 0x00);
		__outb(969, 0x00);
		__outb(969, (byte) cx_88 >> 0x02);
		cx_84 = cx_88 - 0x01;
		cx_88 = cx_84;
	} while (cx_88 != 0x01);
	ui16 bx_40 = SEQ(bh, 100);
	while (true)
	{
		byte Eq_57::* di_29 = Eq_57::a0000;
		byte Eq_17::* si_33 = dx_10;
		word16 cx_34;
		for (cx_34 = 0xFA00; cx_34 != 0x00; --cx_34)
		{
			0xA000->*di_29 = ax_6->*si_33;
			++si_33;
			++di_29;
		}
		byte al_36 = __inb(0x60);
		if (al_36 == 0x48)
			--bx_40;
		if (al_36 == 0x50)
			++bx_40;
		(&0xA000->a0050->b0000)[bx_40 * 0x0140] = 0x02;
		++dx_10;
	}
}

