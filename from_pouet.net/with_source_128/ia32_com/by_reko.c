// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register word16 bp, Register (memptr (ptr16 Eq_65) byte) di, Register (ptr16 Eq_4) ds)
void fn0C00_0100(word16 bp, byte Eq_65::* di, struct Eq_4 * ds)
{
	bios_video_set_mode(0x13);
	cui16 cx_89 = 0x00;
	do
	{
		byte cl_10 = (byte) cx_92;
		__outb(0x03C8, cl_10);
		__outb(969, cl_10);
		__outb(969, cl_10);
		__outb(969, cl_10 & 0x88);
		cx_89 = cx_92 - 0x01;
		cx_92 = cx_89;
	} while (cx_92 != 0x01);
	__wait();
	__fninit();
	word16 dx_26 = 0x00;
	real64 rLoc1_78 = (real64) ds->t03C7;
	do
	{
		rLoc1_78 = cos(rLoc1_78) * (real64) ds->r03C8;
		ds->t03C7.u1 = (real32) rLoc1_78;
		0xA000->*di = (byte) (bp + dx_26 ^ dx_26 ^ ds->t03C7);
		ds->t03C7.u2 = (word16) ds->t03C7.u2 + bp;
		++di;
		dx_26 = SEQ((byte) dx_26, SLICE(dx_26, byte, 8)) - 0x01;
		++bp;
	} while (__inb(0x60) != 0x01);
}

