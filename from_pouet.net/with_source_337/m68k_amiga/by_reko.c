// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00001000: void fn00001000()
void fn00001000()
{
	globals->ptr114E = fp;
	fn000010BE();
	word32 d0_5 = fn000010DA();
	SumKickData();
	globals->dw1152 = d0_5;
	if (d0_5 == 0x00)
		fn00001092();
	else
	{
		ptr32 a6_38 = globals->ptr114A;
		word32 a7_41;
		byte CVZN_42;
		word32 a0_43;
		byte CVZNX_44;
		word32 a1_45;
		word32 a6_46;
		word32 d0_47;
		byte ZN_48;
		byte C_49;
		byte V_50;
		byte Z_51;
		byte N_55;
		byte CZ_56;
		word32 d1_52;
		word32 d2_53;
		word32 d3_54;
		(a6_38 + -0x0396)();
		globals->dw1158 = d0_47;
		if (d0_47 == 0x00)
			fn00001092();
		else
		{
			word32 d0_64 = AllocMem(d0_47, 0x01);
			globals->dw1160 = globals->dw1158;
			globals->w1156 = 0x00;
			do
			{
				d0_64 = fn00001316(fn000012F4(d0_64, d1_52, d2_53), d3_54, out d1_52, out d2_53, out d3_54);
				globals->w1156 = globals->w1156 + 0x01;
			} while (globals->w1156 < 0x0A);
			fn00001092();
		}
	}
}

// 00001092: Register int32 fn00001092()
int32 fn00001092()
{
	if (globals->dw1152 != 0x00)
		execPrivate6();
	word32 a0_9 = globals->dw1158;
	if (a0_9 != 0x00)
	{
		ptr32 a6_19 = globals->ptr114A;
		word32 a7_20;
		word32 a0_21;
		word32 d0_22;
		byte CVZN_23;
		byte Z_24;
		word32 a6_25;
		(a6_19 + -0x039C)();
	}
	return 0x00;
}

// 000010BE: void fn000010BE()
void fn000010BE()
{
	word32 d0_6 = OpenLibrary(0x1135, 0x00);
	globals->ptr114A = d0_6;
	if (d0_6 != 0x00)
		return;
	fn00001092();
}

// 000010DA: Register word32 fn000010DA()
word32 fn000010DA()
{
	word32 d0_6 = OpenLibrary(0x1123, 0x0027);
	globals->dw1146 = d0_6;
	if (d0_6 == 0x00)
		return fn00001092();
	return d0_6;
}

// 000012F4: Register word32 fn000012F4(Register word32 d0, Register word32 d1, Register word32 d2)
word32 fn000012F4(word32 d0, word32 d1, word32 d2)
{
	cui16 v5_4 = globals->w1156;
	byte * a0_16 = DPB(0x1340, (word16) 0x1340 + (v5_4 + 0x01 << 0x05), 0);
	word32 d2_18 = DPB(d2, 0x01DF, 0);
	do
	{
		*a0_16 = (byte) (v5_4 + 0x01);
		a0_16 = DPB(a0_16, (word16) a0_16 + 0x0280, 0);
		d2_18 = d2_18 - 0x01;
	} while (d2_18 != ~0x00);
	return d2_18;
}

// 00001316: Register int32 fn00001316(Register word32 d2, Register word32 d3, Register out ptr32 d1Out, Register out ptr32 d2Out, Register out ptr32 d3Out)
int32 fn00001316(word32 d2, word32 d3, ptr32 & d1Out, ptr32 & d2Out, ptr32 & d3Out)
{
	execPrivate12();
	word32 d1_8;
	*d1Out = 0x00;
	word32 d2_10;
	*d2Out = DPB(d2, 0x027F, 0);
	word32 d3_12;
	*d3Out = DPB(d3, 0x01DF, 0);
	return 0x00;
}

