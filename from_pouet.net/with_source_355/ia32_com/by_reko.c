// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_2) ds)
void fn0C00_0100(struct Eq_2 * ds)
{
	fn0C00_060B(fn0C00_035B());
	Eq_10 bx_31;
	word16 bp_46 = fn0C00_0371(fn0C00_0334(cs, out bx_31), 0x1000, bx_31, &Eq_18::w2B26, cs);
	bios_video_set_mode(0x13);
	fn0C00_0715(ds);
	fn0C00_0840(0x00, cs);
	word16 bx_147 = 0x00;
	struct Eq_46 Eq_18::* si_77 = Eq_18::a0000;
	word16 Eq_74::* di_1008 = &Eq_74::w0000;
	word16 dx_81 = 199;
	do
	{
		word16 cx_82;
		for (cx_82 = 0xA0; cx_82 != 0x00; --cx_82)
		{
			0xA000->*di_1008 = (cs->*si_77).w0000;
			si_77 = &si_77->w0000 + 1;
			++di_1008;
		}
		--dx_81;
		si_77 -= 0x40;
		word32 ebp_1360 = SEQ(ebp_16_16, bp_46);
		word32 ecx_1363 = SEQ(ecx_16_16, cx_82);
		word32 edi_1366 = SEQ(edi_16_16, di_1008);
		word64 rdx_1369 = SEQ(rdx_48_16, dx_81);
	} while (dx_81 != 0x00);
	while (true)
	{
		cs->w0147 = 2335;
		word48 rdx_48_16_1211 = SLICE(rdx_1369, word48, 16);
		word16 ebp_16_16_1068 = SLICE(ebp_1360, word16, 16);
		word16 di_157 = (word16) edi_1366;
		word16 bp_152 = (word16) ebp_1360;
		word16 cx_142 = (word16) ecx_1363;
		word16 dx_103 = (word16) rdx_1369;
		uint16 ax_111 = (uint16) (uint8) cs->b091F;
		if (ax_111 << 0x02 <= cs->w0870)
			break;
		if (((byte) dx_103 & 0x02) != 0x00)
			fn0C00_0395(cs, cs);
		byte dl_972 = (byte) dx_103;
		Eq_134 di_396 = 0xBE00;
		word16 cx_401;
		for (cx_401 = 0x0500; cx_401 != 0x00; --cx_401)
		{
			cs->*di_396 = 0x00;
			di_396 = (word16) di_396 + 1;
		}
		if ((dl_972 & 0x01) != 0x00)
		{
			word32 Eq_18::* di_1004 = Eq_18::a0000;
			word16 cx_438;
			for (cx_438 = 0x4000; cx_438 != 0x00; --cx_438)
			{
				cs->*di_1004 = 0x00;
				++di_1004;
			}
		}
		if (((byte) dx_103 & 0x20) != 0x00)
			fn0C00_0695();
		word16 dx_1374 = dx_103;
		Eq_134 di_545 = di_396;
		Eq_134 si_542 = 0x0920;
		word16 bp_539 = bp_152;
		word16 bx_534 = bx_147;
		word16 cx_526 = cx_401;
		Eq_134 ax_522 = 0x8000;
		struct Eq_227 Eq_270::* sp_519 = fp + 4;
		if (((byte) dx_103 & 0x08) != 0x00)
		{
			fn0C00_0402(cs, cs);
			Eq_268 sp_564 = <invalid>;
			di_545 = ss->*sp_564;
			si_542 = ss->*((word64) sp_564 + 2);
			bp_539 = ss->*((word64) sp_564 + 4);
			bx_534 = ss->*((word64) sp_564 + 8);
			dx_1374 = ss->*((word64) sp_564 + 0x0A);
			cx_526 = ss->*((word64) sp_564 + 0x0C);
			ax_522 = ss->*((word64) sp_564 + 0x0E);
			sp_519 = (struct Eq_227 Eq_270::*) ((word64) sp_564 + 16);
		}
		word16 dx_601 = dx_1374;
		if (((byte) dx_1374 & 0x04) != 0x00)
		{
			struct Eq_349 Eq_270::* sp_591 = sp_519 - 2;
			(ss->*sp_591).t0000 = ax_522;
			(ss->*sp_591).wFFFFFFFE = cx_526;
			(ss->*sp_591).wFFFFFFFC = dx_1374;
			(ss->*sp_591).wFFFFFFFA = bx_534;
			(ss->*sp_591).ptrFFFFFFF8 = sp_519;
			(ss->*sp_591).wFFFFFFF6 = bp_539;
			(ss->*sp_591).tFFFFFFF4 = si_542;
			(ss->*sp_591).tFFFFFFF2 = di_545;
			fn0C00_0539(cs->w0870 << 0x01, &Eq_18::tFFFF8000, cs, cs, cs);
			Eq_268 rdx_639 = <invalid>;
			dx_601 = (ss->*sp_591).wFFFFFFFC;
			ebp_16_16_1068 = SLICE(ebp_636, word16, 16);
			rdx_48_16_1211 = SLICE(rdx_639, word48, 16);
			di_545 = (ss->*sp_591).tFFFFFFF2;
			si_542 = (ss->*sp_591).tFFFFFFF4;
			bp_539 = (ss->*sp_591).wFFFFFFF6;
			bx_534 = (ss->*sp_591).wFFFFFFFA;
			cx_526 = (ss->*sp_591).wFFFFFFFE;
			ax_522 = (ss->*sp_591).t0000;
		}
		struct Eq_317 Eq_270::* sp_665 = sp_519 - 2;
		(ss->*sp_665).t0000 = ax_522;
		(ss->*sp_665).wFFFFFFFE = cx_526;
		(ss->*sp_665).wFFFFFFFC = dx_601;
		(ss->*sp_665).wFFFFFFFA = bx_534;
		(ss->*sp_665).ptrFFFFFFF8 = sp_519;
		(ss->*sp_665).wFFFFFFF6 = bp_539;
		(ss->*sp_665).tFFFFFFF4 = si_542;
		(ss->*sp_665).tFFFFFFF2 = di_545;
		cui16 cx_698 = 0x00;
		if (0x00 != 0x00)
		{
			word16 Eq_18::* di_699 = Eq_18::a0000;
			for (; cx_698 != 0x00; --cx_698)
			{
				cs->*di_699 = 0x00;
				++di_699;
			}
		}
		Eq_134 di_710 = (ss->*sp_665).tFFFFFFF2;
		Eq_134 si_712 = (ss->*sp_665).tFFFFFFF4;
		word16 bp_714 = (ss->*sp_665).wFFFFFFF6;
		word16 bx_717 = (ss->*sp_665).wFFFFFFFA;
		word16 dx_719 = (ss->*sp_665).wFFFFFFFC;
		word16 cx_721 = (ss->*sp_665).wFFFFFFFE;
		(ss->*sp_665).t0000 = (ss->*sp_665).t0000;
		(ss->*sp_665).wFFFFFFFE = cx_721;
		(ss->*sp_665).wFFFFFFFC = dx_719;
		(ss->*sp_665).wFFFFFFFA = bx_717;
		(ss->*sp_665).ptrFFFFFFF8 = (struct Eq_227 Eq_270::*) &sp_665->t0002;
		(ss->*sp_665).wFFFFFFF6 = bp_714;
		(ss->*sp_665).tFFFFFFF4 = si_712;
		(ss->*sp_665).tFFFFFFF2 = di_710;
		(ss->*sp_665).ptrFFFFFFF0 = cs;
		(ss->*sp_665).ptrFFFFFFEE = cs;
		(ss->*sp_665).ptrFFFFFFEC = cs;
		struct Eq_18 * ds_753 = (ss->*sp_665).ptrFFFFFFEC;
		__syscall(0x10);
		struct Eq_490 Eq_18::* di_1000 = Eq_18::a0000;
		byte Eq_18::* si_758 = &Eq_18::b091F;
		while (true)
		{
			int16 ax_766 = (int16) (ds_753->*si_758);
			struct Eq_506 Eq_270::* sp_772 = sp_519 - 20;
			++si_758;
			ci8 al_767 = (byte) ax_766;
			if (al_767 == 0x00)
				break;
			if (al_767 < 0x00)
				di_1000 += -ax_766 << 0x04;
			else
			{
				(ss->*sp_772).ptrFFFFFFFE = si_758;
				(ss->*sp_772).ptrFFFFFFFC = di_1000;
				Eq_561 si_837 = (ax_766 << 0x04) + bp_714;
				cu8 dl_842;
				for (dl_842 = 0x10; dl_842 != 0x00; --dl_842)
				{
					(ss->*sp_772).ptrFFFFFFFA = di_1000;
					byte al_1003 = ds_753->*si_837;
					si_837 = (word16) si_837 + 1;
					do
					{
						int16 ax_853 = (int16) al_1003;
						byte ah_854 = SLICE(ax_853, byte, 8);
						(ds_753->*di_1000).b0000 |= ah_854 & 191;
						struct Eq_597 Eq_18::* di_862 = di_1000 + 1;
						(ds_753->*di_862).b0000 |= ah_854 & 191;
						di_862[1] |= ah_854 & 191;
						byte bl_871 = ah_854 & 191 & ~0x50;
						di_862[0x00FF] |= SEQ(bl_871, bl_871);
						di_1000 = (struct Eq_490 Eq_18::*) (di_862 + 1);
						al_1003 = (byte) (ax_853 << 0x01);
					} while (ax_853 << 0x01 != 0x00);
					struct Eq_490 Eq_18::* di_882 = (ss->*sp_772).ptrFFFFFFFA;
					di_1000 = di_882 + 0x0101;
					if (dl_842 >= 0x09)
						di_1000 = di_882 + 0x00FF;
				}
				si_758 = (ss->*sp_772).ptrFFFFFFFE;
				di_1000 = (ss->*sp_772).ptrFFFFFFFC + 16;
			}
		}
		(ss->*sp_772).t0002 = (ss->*sp_772).t0000;
		fn0C00_030F((ss->*sp_772).t0002);
		word16 di_789 = (ss->*sp_772).w0004;
		word16 bp_793 = (ss->*sp_772).w0008;
		bx_147 = (ss->*sp_772).w000C;
		Eq_134 dx_798 = (ss->*sp_772).t000E;
		word16 cx_800 = (ss->*sp_772).w0010;
		word16 ecx_16_16_1108 = SLICE(ecx_781, word16, 16);
		word16 edi_16_16_1130 = SLICE(edi_782, word16, 16);
		if ((int16) __inb(0x60) == 0x01)
			goto l0C00_02DE;
		ebp_1360 = SEQ(ebp_16_16_1068, bp_793);
		ecx_1363 = SEQ(ecx_16_16_1108, cx_800);
		edi_1366 = SEQ(edi_16_16_1130, di_789);
		rdx_1369 = SEQ(rdx_48_16_1211, dx_798);
	}
	cs->w0154 = ax_111 << 0x02;
	cu8 al_119 = cs->b0920;
	byte Eq_18::* si_120 = &Eq_18::t0921;
	if (al_119 >= 0x01)
	{
		if (al_119 != 0x01)
		{
			if (al_119 >= 0x03)
			{
				if (al_119 != 0x03)
				{
					if (al_119 >= 0x05)
					{
						if (al_119 != 0x05)
						{
							if (al_119 >= 0x07)
							{
l0C00_02DE:
								struct Eq_2 * ds_813 = fn0C00_090C();
								bios_video_set_mode(0x03);
								fn0C00_0715(ds_813);
							}
							else
							{
								struct Eq_694 Eq_18::* si_165 = Eq_18::a0000;
								do
								{
									(cs->*si_165).w0000 = ~(cs->*si_165).w0000;
									struct Eq_703 Eq_18::* si_173 = si_165 + 1;
									si_165 = (struct Eq_694 Eq_18::*) (si_173 + 1);
								} while (si_173 != &Eq_18::t0001);
							}
						}
						else
						{
							uint16 ax_200 = (uint16) (uint8) cs->t0921;
							0C00:0922();
						}
					}
					else
					{
						word16 ax_255 = SEQ(SLICE(dx_103, byte, 8), cs->t0921);
						0x0149();
					}
				}
				else
				{
					struct Eq_214 Eq_18::* di_264 = &Eq_18::t0F60;
					word16 cx_268;
					for (cx_268 = 0x0300; cx_268 != 0x00; --cx_268)
					{
						(cs->*di_264).t0000 = 0x00;
						di_264 += 2;
					}
					while (true)
					{
						uint16 cx_275 = (uint16) (uint8) (cs->*si_120);
						if (cx_275 == 0x00)
							break;
						do
						{
							int16 bx_276;
							for (bx_276 = 0x03; bx_276 != 0x00; --bx_276)
							{
								(cs->*di_264).t0000 = (cs->*di_264).bFFFFFFFD + si_120[bx_276];
								++di_264;
							}
							--cx_275;
						} while (cx_275 != 0x00);
						si_120 += 4;
					}
				}
			}
			else
			{
				byte Eq_18::* di_302 = Eq_18::a1260;
				word16 cx_306;
				for (cx_306 = 0x0300; cx_306 != 0x00; --cx_306)
				{
					cs->*di_302 = 0x00;
					++di_302;
				}
				cs->b08F1 = cs->b08F1 ^ 0x08;
				cs->w08D1 = 0x40;
			}
		}
		else
		{
			cs->w0269 = 2337;
			do
			{
				si_120 = si_1376 + 1;
				si_1376 = si_120;
			} while (cs->*si_1376 != 0x00);
		}
	}
	else
		cs->t0254 = cs->t0921;
}

// 0C00:030F: void fn0C00_030F(Register Eq_134 ds)
// Called from:
//      fn0C00_0100
void fn0C00_030F(Eq_134 ds)
{
	word16 si_14 = 0x1C00;
	word16 cx_15 = 199;
	struct Eq_714 Eq_74::* di_16 = &Eq_74::t0020;
	do
	{
		word16 cx_22;
		for (cx_22 = 0x40; cx_22 != 0x00; --cx_22)
		{
			(0xA000->*di_16).dw0000 = ds->*si_14;
			++si_14;
			di_16 = &di_16->dw0000 + 1;
		}
		++di_16;
		cx_15 = cx_67 - 0x01;
		cx_67 = cx_15;
	} while (cx_67 != 0x01);
}

// 0C00:0334: Register word16 fn0C00_0334(Register (ptr16 Eq_18) es, Register out Eq_10 bxOut)
// Called from:
//      fn0C00_0100
word16 fn0C00_0334(struct Eq_18 * es, union Eq_10 & bxOut)
{
	ui16 cx_4;
	byte Eq_18::* di_46 = Eq_18::a0000;
	do
	{
		ui16 dx_16 = (SEQ(SLICE(cx_4, byte, 8), (byte) cx_4 + SLICE(cx_4, byte, 8)) << 0x01) - cx_4;
		bi8 dh_17 = SLICE(dx_16, byte, 8);
		bi8 dl_21 = (byte) dx_16;
		Eq_10 bx_24 = dh_17 *s dh_17 + dl_21 *s dl_21;
		int16 ax_35 = (int16) ((byte) fn0C00_037B(bx_24) ^ dl_21);
		word16 ax_41 = SEQ(SLICE(ax_35, byte, 8), (byte) ax_35 ^ SLICE(ax_35, byte, 8));
		es->*di_46 = (byte) (ax_41 + 0x01);
		++di_46;
		--cx_4;
	} while (cx_4 != 0x00);
	bxOut = bx_24;
	return ax_41 + 0x01;
}

// 0C00:035B: Register word16 fn0C00_035B()
// Called from:
//      fn0C00_0100
word16 fn0C00_035B()
{
	word16 cx_10;
	Eq_791 si_11 = 0x00;
	Eq_791 bx_14 = 0x7FFF;
	word16 Eq_797::* di_15 = Eq_797::a0B26;
	for (cx_10 = 0x0200; cx_10 != 0x00; --cx_10)
	{
		cs->*di_15 = si_11;
		++di_15;
		word16 bp_24;
		bx_14 = fn0C00_03E0(bx_14, si_11, out bp_24, out si_11);
	}
	return bp_24;
}

// 0C00:0371: Register Eq_5 fn0C00_0371(Register word16 ax, Register word16 cx, Register Eq_10 bx, Register (memptr (ptr16 Eq_18) word16) di, Register (ptr16 Eq_18) es)
// Called from:
//      fn0C00_0100
Eq_5 fn0C00_0371(word16 ax, word16 cx, Eq_10 bx, word16 Eq_18::* di, struct Eq_18 * es)
{
	do
	{
		ax = __ror(ax - cx, 0x03);
		es->*di = ax;
		++di;
		--cx;
	} while (cx != 0x00);
	return fn0C00_037B(bx);
}

// 0C00:037B: Register Eq_836 fn0C00_037B(Register Eq_10 bx)
// Called from:
//      fn0C00_0334
//      fn0C00_0371
//      fn0C00_060B
Eq_836 fn0C00_037B(Eq_10 bx)
{
	word16 cx_39;
	Eq_836 bp_18 = 0x01;
	for (cx_39 = 0x07; cx_39 != 0x00; --cx_39)
	{
		Eq_849 dx_ax_17 = (int32) bx;
		Eq_841 ax_23 = (word16) dx_ax_17;
		if (bp_18 != 0x00)
			ax_23.u1 = (uint16) (dx_ax_17 /u bp_18);
		bp_18 = bp_18 + ax_23 >> 0x01;
	}
	return bp_18;
}

// 0C00:0395: void fn0C00_0395(Register (ptr16 Eq_18) es, Register (ptr16 Eq_18) ds)
// Called from:
//      fn0C00_0100
void fn0C00_0395(struct Eq_18 * es, struct Eq_18 * ds)
{
	union Eq_791 Eq_18::* si_12 = &Eq_18::t0B14;
	do
	{
		struct Eq_858 Eq_18::* si_14 = (char *) si_12 + 2;
		Eq_861 di_31;
		Eq_791 si_33;
		Eq_861 di_45;
		word16 si_47;
		word16 si_61;
		word16 di_106;
		fn0C00_03CA(fn0C00_03CA(si_33, fn0C00_03CA(ds->*si_12, (ds->*si_14).t0002, 0x8408, ds, out si_33, out di_31), di_31, ds, out si_47, out di_45), (ds->*si_14).t0000, di_45, ds, out si_61, out di_106);
		(es->*wLoc06).w0000 = si_47;
		(es->*wLoc06).w0002 = si_61;
		(es->*wLoc06).w0004 = si_61;
		si_12 = wLoc04;
	} while (wLoc02 != 0x01);
}

// 0C00:03CA: Register Eq_791 fn0C00_03CA(Register Eq_791 bx, Register Eq_791 si, Register Eq_861 di, Register (ptr16 Eq_18) ds, Register out ptr16 siOut, Register out Eq_874 diOut)
// Called from:
//      fn0C00_0395
//      fn0C00_0402
Eq_791 fn0C00_03CA(Eq_791 bx, Eq_791 si, Eq_861 di, struct Eq_18 * ds, ptr16 & siOut, union Eq_874 & diOut)
{
	ui16 bx_10 = (word16) (ds->*di);
	ds->w03F0 = ds->a0BA6[bx_10];
	ds->w03F7 = ds->a0B26[bx_10];
	ptr16 si_26;
	word16 bp_34;
	Eq_791 bx_24 = fn0C00_03E0(bx, si, out bp_34, out si_26);
	siOut = si_26;
	diOut = (word16) di + 1;
	return bx_24;
}

// 0C00:03E0: Register Eq_791 fn0C00_03E0(Register Eq_791 bx, Register Eq_791 si, Register out Eq_791 bpOut, Register out ptr16 siOut)
// Called from:
//      fn0C00_035B
//      fn0C00_03CA
Eq_791 fn0C00_03E0(Eq_791 bx, Eq_791 si, union Eq_791 & bpOut, ptr16 & siOut)
{
	word16 bp_7;
	Eq_791 bx_8;
	Eq_791 si_10;
	ptr16 bp_15 = bp_7 + fn0C00_03EF(bx, si, out bx_8, out bp_7, out si_10);
	word16 bp_21;
	word16 bx_41;
	word16 si_42;
	Eq_791 bp_29 = bp_21 - fn0C00_03EF(bx_8, si_10, out bx_41, out bp_21, out si_42);
	bpOut = bp_29;
	siOut = bp_15;
	return bp_29;
}

// 0C00:03EF: Register ui16 fn0C00_03EF(Register Eq_791 bx, Register Eq_791 si, Register out Eq_791 bxOut, Register out Eq_947 bpOut, Register out Eq_791 siOut)
// Called from:
//      fn0C00_03E0
ui16 fn0C00_03EF(Eq_791 bx, Eq_791 si, union Eq_791 & bxOut, union Eq_947 & bpOut, union Eq_791 & siOut)
{
	bxOut = si;
	bpOut = SLICE(si *s 0x7FF5, word16, 16) * 0x02;
	siOut = bx;
	return SLICE(bx *s 0x0324, word16, 16) * 0x02;
}

// 0C00:0402: void fn0C00_0402(Register (ptr16 Eq_18) es, Register (ptr16 Eq_18) ds)
// Called from:
//      fn0C00_0100
void fn0C00_0402(struct Eq_18 * es, struct Eq_18 * ds)
{
	struct Eq_975 Eq_1022::* sp_2 = fp;
	word16 Eq_18::* si_20 = Eq_18::a2F26;
	word16 Eq_18::* di_12 = Eq_18::a0459;
	word16 cx_23;
	for (cx_23 = 0x04; cx_23 != 0x00; --cx_23)
	{
		es->*di_12 = ds->*si_20;
		word16 Eq_18::* si_14 = si_20 + 1;
		word16 Eq_18::* di_15 = di_12 + 1;
		es->*di_15 = ds->*si_14;
		si_20 = si_14 + 3;
		di_12 = di_15 + 3;
	}
	ci16 bx_25 = ds->a0459[0];
	word16 si_26 = ds->w045B;
	cui16 Eq_18::* di_27 = &Eq_18::w2B26;
	word16 cx_28;
	for (cx_28 = 2000; cx_28 != 0x00; --cx_28)
	{
		struct Eq_975 Eq_1022::* sp_30 = sp_2 - 2;
		(ss->*sp_30).ptr0000 = di_27;
		Eq_861 di_37 = (ds->*di_27 & 0x18) + 1111;
		(ss->*sp_30).wFFFFFFFE = si_26;
		ci16 si_41 = si_26 - ds->*((word16) di_37 + 2);
		(ss->*sp_30).wFFFFFFFC = bx_25;
		word16 di_101;
		word16 si_54;
		bx_25 = (word16) fn0C00_03CA(bx_25 - ds->*((word16) di_37 + 4) >> 0x01, si_41 >> 0x01, di_37, ds, out si_54, out di_101) + (ss->*sp_30).wFFFFFFFA;
		si_26 = si_54 + (ss->*sp_30).wFFFFFFFC;
		struct Eq_1067 Eq_18::* ax_71 = SEQ(SLICE(si_26, byte, 8), SLICE(bx_25, byte, 8));
		(es->*ax_71).b0000 = 0x7F;
		(es->*ax_71).b0001 = 0x7F;
		(es->*ax_71).b0002 = 0x70;
		sp_2 = sp_30;
		di_27 = (ss->*sp_30).wFFFFFFFE + 0x01;
	}
}

// 0C00:0477: void fn0C00_0477(Register word16 ax, Register cup16 di, Register (ptr16 Eq_1094) es, Stack Eq_5 wArg02, Stack Eq_5 wArg04, Stack Eq_5 wArg06)
// Called from:
//      fn0C00_060B
void fn0C00_0477(word16 ax, cup16 di, struct Eq_1094 * es, Eq_5 wArg02, Eq_5 wArg04, Eq_5 wArg06)
{
	if (di == 0x00)
		fn0C00_04A6(ax, wArg04, wArg02, wArg06, es);
	else
		fn0C00_0480(wArg04, wArg02, wArg06, di);
}

// 0C00:047C: void fn0C00_047C(Register word16 ax, Register Eq_5 cx, Register Eq_5 dx, Register Eq_5 bx, Register cup16 di, Register (ptr16 Eq_1094) es)
// Called from:
//      fn0C00_0480
void fn0C00_047C(word16 ax, Eq_5 cx, Eq_5 dx, Eq_5 bx, cup16 di, struct Eq_1094 * es)
{
	if (di == 0x00)
		fn0C00_04A6(ax, cx, dx, bx, es);
	else
		fn0C00_0480(cx, dx, bx, di);
}

// 0C00:0480: void fn0C00_0480(Register Eq_5 cx, Register Eq_5 dx, Register Eq_5 bx, Register cup16 di)
// Called from:
//      fn0C00_0477
//      fn0C00_047C
void fn0C00_0480(Eq_5 cx, Eq_5 dx, Eq_5 bx, cup16 di)
{
	if (di >= 0x03)
	{
		dx = bx;
		bx = dx;
	}
	word16 bp_12 = 0x02;
	do
	{
		word16 ax_103 = SEQ(al_94, ah_92);
		byte dl_45 = SLICE(dx + cx, byte, 0);
		byte dh_52 = SLICE(dx + cx, byte, 8);
		fn0C00_047C(ax_103, bx, SEQ(__rcr(dh_52, 0x01, SLICE(cond(dh_52), bool, 1)), __rcr(dl_45, 0x01, SLICE(cond(dl_45), bool, 1))), dx, di - 0x01, es);
		dx = cx;
		cx = dx;
		byte ah_92 = SLICE(ax + 0x01, byte, 8);
		byte al_94 = (byte) (ax + 0x01);
		bp_12 = bp_130 - 0x01;
		ax = ax_103;
		bp_130 = bp_12;
	} while (bp_130 != 0x01);
}

// 0C00:04A6: void fn0C00_04A6(Register word16 ax, Register Eq_5 cx, Register Eq_5 dx, Register Eq_5 bx, Register (ptr16 Eq_1094) es)
// Called from:
//      fn0C00_0477
//      fn0C00_047C
void fn0C00_04A6(word16 ax, Eq_5 cx, Eq_5 dx, Eq_5 bx, struct Eq_1094 * es)
{
	if (bx >= cx)
	{
		cx = bx;
		bx = cx;
	}
	byte ch_33 = SLICE(cx, byte, 8);
	byte cl_79 = (byte) cx;
	byte bl_54 = (byte) bx;
	byte bh_48 = SLICE(bx, byte, 8);
	byte dh_37 = SLICE(bx, byte, 8);
	byte dl_41 = (byte) bx;
	if (cx >= bx)
	{
		dh_37 = SLICE(cx, byte, 8);
		dl_41 = (byte) cx;
		ch_33 = SLICE(bx, byte, 8);
		cl_79 = (byte) bx;
	}
	byte dh_40 = dh_37 + 0x01;
	byte ch_36 = ch_33 + 0x01;
	word16 ax_59 = fn0C00_0527(dh_40 - bh_48, dl_41 - bl_54);
	word16 dx_97 = SEQ(bl_54, 0x00);
	fn0C00_04FE(ch_36, (byte) ax, dx_97, bx, fn0C00_0527(ch_36 - bh_48, cl_79 - bl_54), dx_97, ax_59, es);
	Eq_5 cx_82 = SEQ(ch_36, cl_79);
	word16 ax_125 = fn0C00_0527(dh_40 - ch_36, dl_41 - cl_79);
	byte ah_134 = SLICE(ax, byte, 8);
	byte al_135 = (byte) ax;
	fn0C00_04FE(ah_134, al_135, dx_97, cx_82, ax_125, dx_97, ax_59, es);
}

// 0C00:04FE: void fn0C00_04FE(Register byte ah, Register byte al, Register word16 dx, Register Eq_5 bh, Register word16 bp, Register word16 si, Register word16 di, Register (ptr16 Eq_1094) es)
// Called from:
//      fn0C00_04A6
void fn0C00_04FE(byte ah, byte al, word16 dx, Eq_5 bh, word16 bp, word16 si, word16 di, struct Eq_1094 * es)
{
	word16 bx_107 = bx;
	while (true)
	{
		byte bh_8 = SLICE(bx_107, byte, 8);
		if (bh_8 == ah)
			break;
		word16 dx_19 = dx + di;
		si += bp;
		byte dh_23 = SLICE(dx_19, byte, 8);
		cu8 ch_27 = SLICE(si, byte, 8) - dh_23;
		if (ch_27 < 0x00)
			ch_27 = SLICE(-si, byte, 8);
		byte Eq_1094::* di_43 = SEQ(bh_8, dh_23);
		uint16 cx_49;
		dx = dx_19;
		for (cx_49 = (uint16) (uint8) ch_27 + 0x01; cx_49 != 0x00; --cx_49)
		{
			es->*di_43 = al;
			++di_43;
		}
		bx_107 = SEQ(bh_8 + 0x01, dh_23);
	}
}

// 0C00:0527: Register int16 fn0C00_0527(Register byte ah, Register byte al)
// Called from:
//      fn0C00_04A6
int16 fn0C00_0527(byte ah, byte al)
{
	int32 dx_ax_18 = (int32) SEQ(al, 0x00);
	Eq_1278 cx_19 = (uint16) (uint8) ah;
	int16 ax_21 = (word16) dx_ax_18;
	if (cx_19 != 0x00)
		ax_21 = (int16) (dx_ax_18 / cx_19);
	return ax_21;
}

// 0C00:0539: void fn0C00_0539(Register ui16 bx, Register (memptr (ptr16 Eq_18) Eq_379) di, Register (ptr16 Eq_18) es, Register (ptr16 Eq_18) ds, Register (ptr16 Eq_18) fs)
// Called from:
//      fn0C00_0100
void fn0C00_0539(ui16 bx, struct Eq_379 Eq_18::* di, struct Eq_18 * es, struct Eq_18 * ds, struct Eq_18 * fs)
{
	ds->w058B = ds->*((word16) (bx & 0x01FE) + 0x0B26);
	cui16 bx_11 = (bx & 0x01FE) + 0x80;
	ds->w05A2 = ds->*((word16) (bx_11 & 0x01FE) + 0x0B26);
	cui16 bx_15 = (bx_11 & 0x01FE) + 0x30;
	ds->w05BA = ds->*((word16) (bx_15 & 0x01FE) + 0x0B26);
	ds->w05D1 = ds->*((word16) ((bx_15 & 0x01FE) + 0x80 & 0x01FE) + 0x0B26);
	word16 cx_138 = 0x0180;
	while (true)
	{
		Eq_1338 ch_145 = SLICE(cx_138, byte, 8);
		if (cx_138 == 0x00)
			break;
		(es->*di).t0000 = 0x00;
		di += 2;
		--cx_138;
	}
	word16 si_129 = 0x08;
	do
	{
		word16 si_30 = si_129 + 0x01;
		int32 eax_41 = (int32) (500000000 / (uint32) ((uint16) si_30));
		word16 ax_49 = (word16) __shrd((word32) (eax_41 *s 0), SLICE(eax_41 *s 0, word32, 32), 0x18);
		word16 ax_64 = (word16) __shrd((word32) (eax_41 *s 0), SLICE(eax_41 *s 0, word32, 32), 0x18);
		uint32 eax_80 = __shrd((word32) (eax_41 *s 0), SLICE(eax_41 *s 0, word32, 32), 0x18);
		ds->w05ED = (word16) eax_80;
		ds->b05F1 = (byte) (eax_80 >> 0x10);
		uint32 eax_92 = __shrd((word32) (eax_41 *s 0), SLICE(eax_41 *s 0, word32, 32), 0x18);
		ds->w05F4 = (word16) eax_92;
		ds->b05F8 = (byte) (eax_92 >> 0x10);
		byte bl_105 = SLICE(ax_49, byte, 8);
		Eq_1338 cx_56 = SEQ(ch_145, (byte) ax_49);
		byte bh_111 = SLICE(ax_64, byte, 8);
		cui16 dx_71 = SEQ(SLICE(eax_41 *s 0, byte, 40), (byte) ax_64);
		word16 bp_101;
		for (bp_101 = 0x0100; bp_101 != 0x00; --bp_101)
		{
			bl_105 = (bool) (cx_56 << 0x08 < 0x00) + bl_105;
			bh_111 = (bool) (dx_71 << 0x08 < 0x00) + bh_111;
			(es->*di).t0000 = fs->*SEQ(bh_111, bl_105);
			ch_145 = cx_56;
			++di;
		}
		si_129 = si_30;
	} while (si_30 != 0x84);
}

// 0C00:060B: void fn0C00_060B(Register Eq_5 bp)
// Called from:
//      fn0C00_0100
void fn0C00_060B(Eq_5 bp)
{
	word16 cx_126 = 0x0100;
	Eq_5 bx_118 = ~0x0188;
	struct Eq_1452 Eq_1094::* si_113 = Eq_1094::a0B27;
	do
	{
		struct Eq_1452 Eq_1094::* si_59 = si_113 + 1;
		byte cl_87 = (byte) cx_351;
		word16 bx_63 = SEQ((cs->*si_59).b007F, (cs->*si_113).b0000);
		fn0C00_0477(SEQ(cl_87, cl_87), 0x01, cs, 0x8080, bp, bx_63 + 0x8080);
		struct Eq_1477 Eq_1094::* di_111 = &Eq_1094::t0000;
		si_113 = si_59;
		bp = bx_118;
		bx_118 = bx_63 + 0x8080;
		cx_126 = cx_351 - 0x01;
		byte cl_138 = (byte) (cx_351 - 0x01);
		byte ch_143 = SLICE(cx_351 - 0x01, byte, 8);
		cx_351 = cx_126;
	} while (cx_351 != 0x01);
	struct Eq_1490 Eq_1094::* si_137 = &Eq_1094::t4040;
	do
	{
		bi8 al_140 = cl_138 - 0x80;
		bi8 al_145 = ch_143 - 0x80;
		Eq_10 bx_147 = al_140 *s al_140 + al_145 *s al_145;
		if (bx_147 != 0x00 && bx_147 >= 0x00)
			bp = fn0C00_037B(bx_147);
		(cs->*di_111).t0000 = (cs->*si_137).b0000;
		byte Eq_1094::* di_173 = di_111 + 1;
		cs->*di_173 = (byte) bp;
		si_137 = &si_137->b0000 + 1;
		di_111 = (struct Eq_1477 Eq_1094::*) (di_173 + 1);
		--ch_143;
		if (ch_143 != 0x00)
		{
			--ch_143;
			if (ch_143 != 0x01)
				continue;
		}
		++si_137;
		word16 cx_195 = SEQ(ch_143, cl_138);
		if ((cl_138 & 0x01) != 0x00)
			si_137 -= 0x80;
		cl_138 = (byte) (cx_195 - 0x01);
		ch_143 = SLICE(cx_195 - 0x01, byte, 8);
	} while (cx_195 != 0x01);
	word16 cx_208;
	for (cx_208 = 0x8000; cx_208 != 0x00; --cx_208)
	{
		(cs->*di_111).t0000 = 0x00;
		di_111 += 2;
	}
}

// 0C00:0695: void fn0C00_0695()
// Called from:
//      fn0C00_0100
void fn0C00_0695()
{
	word16 Eq_1570::* di_170 = Eq_1570::a0000;
	word16 cx_192;
	for (cx_192 = 0x0300; cx_192 != 0x00; --cx_192)
	{
		cs->*di_170 = 0x00;
		++di_170;
	}
	int16 bx_49 = 0x7FFF;
	word16 bp_199;
	for (bp_199 = 0x01; bp_199 != 0x00; --bp_199)
	{
		int16 bx_54 = bx_49 - (bx_49 >> 0x05);
		Eq_1582 bx_65 = SEQ(SLICE(bx_54 * 0x02, byte, 8), 0x00);
		Eq_1582 si_179 = bx_65;
		if (bx_65 >= ~0x0100)
			si_179 = bx_65 - 0xFF00;
		word16 cx_186 = 0x80;
		while (true)
		{
			byte ch_84 = SLICE(cx_186, byte, 8);
			byte cl_200 = (byte) cx_186;
			if (cx_186 == 0x00)
				break;
			cs->*di_170 = cs->*si_179;
			si_179 = (word16) si_179 + 2;
			++di_170;
			--cx_186;
		}
		bx_49 = bx_54;
		word16 Eq_1570::* si_126 = Eq_1570::a0000;
	}
	word16 cx_177;
	for (cx_177 = SEQ(ch_84 + 0x01, cl_200); cx_177 != 0x00; --cx_177)
	{
		cs->*di_170 = 0xC0C0;
		++di_170;
	}
	cu16 cx_91 = 0xF800 - di_170;
	if (cx_91 >= 0x00)
	{
		uint16 cx_173;
		for (cx_173 = cx_91 >> 0x01; cx_173 != 0x00; --cx_173)
		{
			cs->*di_170 = 0x00;
			++di_170;
		}
	}
	word32 Eq_1570::* bx_121;
	word16 Eq_1570::* di_124 = Eq_1570::aFFFFFFFE;
	do
	{
		cs->*di_124 = cs->*si_126;
		word32 esi_136 = cs->*bx_121;
		Eq_1667 si_137 = (word16) esi_136;
		word16 Eq_1570::* di_133 = di_124 + 1;
		cs->*di_133 = cs->*si_137;
		di_124 = di_133 + 1;
		si_126 = (word16) (SEQ(SLICE(esi_136, word16, 16), (word16) si_137 + 2) >> 0x10);
		++bx_121;
	} while (bx_121 != Eq_1570::a0000);
}

// 0C00:0715: void fn0C00_0715(Register (ptr16 Eq_2) ds)
// Called from:
//      fn0C00_0100
void fn0C00_0715(struct Eq_2 * ds)
{
	do
	{
		word16 ax_10;
		0C00:07CD();
	} while (ax_10 != 0x01);
	0C00:07CD();
	word16 si_23 = 0x07F0;
	do
	{
		word16 ax_34;
		0C00:07CD();
		word16 ax_41;
		0C00:07CD();
		word16 cx_49;
		0C00:07CD();
		si_23 += 2;
	} while (cx_49 != 0x01);
}

// 0C00:0840: void fn0C00_0840(Register word16 bx, Register (ptr16 Eq_18) es)
// Called from:
//      fn0C00_0100
void fn0C00_0840(word16 bx, struct Eq_18 * es)
{
	__syscall(33);
	byte ah_22 = cs->b090A;
	cs->w0907 = bx;
	cs->ptr0909 = es;
	__cli();
	__outb(0x43, 0x36);
	__outb(0x40, 0x00);
	__outb(0x40, ah_22);
	msdos_set_interrupt_vector(0x08, &cs->t0866);
	__sti();
}

// 0C00:0852: void fn0C00_0852(Sequence (ptr32 code) ds_dx, Register byte ah)
// Called from:
//      fn0C00_090C
void fn0C00_0852(<anonymous> * ds_dx, byte ah)
{
	__cli();
	__outb(0x43, 0x36);
	__outb(0x40, 0x00);
	__outb(0x40, ah);
	msdos_set_interrupt_vector(0x08, ds_dx);
	__sti();
}

// 0C00:090C: Register (ptr16 Eq_1770) fn0C00_090C()
// Called from:
//      fn0C00_0100
struct Eq_1770 * fn0C00_090C()
{
	<anonymous> * ds_dx_10 = cs->ptr0907;
	fn0C00_0852(ds_dx_10, 0x00);
	bios_video_set_mode(0x03);
	return SLICE(ds_dx_10, selector, 16);
}

