// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte ah, FpuStack real64 rLoc2)
void fn0C00_0100(byte ah, real64 rLoc2)
{
	__syscall(0x10);
	ci16 dx_44;
	do
	{
		real64 rLoc2_102 = rLoc2 / (real64) 0x20;
		cos(rLoc2_102);
		sin(rLoc2_102);
		fn0C00_0160((byte) ((uint16) (uint8) fn0C00_0160(0x01, dx_44) + 0x01), dx_44);
		fn0C00_0160(0x04, dx_44);
		rLoc2 = 1.0;
		if (__inb(0x60) == 0x01)
			goto l0C00_015E;
		++dx_44;
	} while (dx_44 < 200);
	byte al_91;
	bios_kbd_get_keystroke(out al_91);
l0C00_015E:
	msdos_terminate_program20();
}

// 0C00:0160: Register ui8 fn0C00_0160(Register ui8 al, Register ci16 dx)
// Called from:
//      fn0C00_0100
ui8 fn0C00_0160(ui8 al, ci16 dx)
{
	do
	{
		__syscall(0x10);
		__syscall(0x10);
		__syscall(0x10);
		__syscall(0x10);
		al = al ^ 0x08 ^ 0x08;
		++dx;
	} while (dx < 200);
	return al;
}

