// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100()
void fn0C00_0100()
{
	bios_video_set_mode(0x13);
	Eq_7 ptrLoc06_218 = 0xA0000000;
	while (true)
	{
		int16 di_20;
		for (di_20 = 199; di_20 > 0x00; --di_20)
		{
			Eq_15 ax_37 = (int16) (10000 / di_20);
			uint16 ax_41 = ((word16) ax_37 + wLoc14 & 0x1F) + ~0x0F;
			Eq_25 si_153 = 0x00;
			while (si_153 < 0x0140)
			{
				if (di_20 == 199)
					Mem56[ss:fp - 0x0154 + si_153:byte] = 199;
				cui16 ax_67 = (word16) (ax_37 * ((word16) si_153 + 0x0000FF60)) >> 0x08 & 0x1F;
				ci16 dx_82 = (word16) (ax_41 * ax_41 + (ax_67 + ~0x0F) * (ax_67 + ~0x0F));
				Eq_51 ax_94 = (int16) ((int32) (dx_82 >> 0x01 << 0x04) / ax_37) + di_20;
				byte bLoc0A_198 = (byte) ax_94;
				if (CONVERT(Mem95[ss:fp - 0x0154 + si_153:byte], byte, uint16) > ax_94)
				{
					int16 dx_104 = (dx_82 >> 0x01) - (ax_37 >> 0x02);
					int16 wLoc0C_186 = dx_104;
					if (dx_104 < 0x00)
						wLoc0C_186 = 0x00;
					byte bLoc0C_212 = (byte) ((wLoc0C_186 >> 0x04) + 0x10);
					Eq_51 wLoc08_191 = ax_94;
					while (CONVERT(Mem124[ss:fp - 0x0154 + si_153:byte], byte, uint16) > wLoc08_191)
					{
						SEQ(SLICE(ptrLoc06_218, selector, 16), SLICE(ptrLoc06_218, word16, 0) + si_153)[wLoc08_191 * 0x0140] = SLICE(CONVERT(bLoc0C_212, byte, uint16), byte, 0);
						wLoc08_191 = (word16) wLoc08_191.u0 + 1;
					}
					Mem151[ss:fp - 0x0154 + si_153:byte] = bLoc0A_198;
				}
				si_153 = (word16) si_153 + 1;
			}
		}
		++wLoc14;
	}
}

