// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_2) ds_bx)
void fn0C00_0100(struct Eq_2 * ds_bx)
{
	ci8 bl_21 = (byte) (word16) ds_bx;
	__syscall(0x10);
	struct Eq_11 * es_86 = ds_bx->ptr0002;
	byte al_15 = 0x00;
	byte ah_41 = 0x00;
	word16 cx_13;
	for (cx_13 = 0x0100; cx_13 != 0x00; --cx_13)
	{
		__outb(969, al_15);
		__outb(969, al_15);
		__outb(969, al_15);
		al_15 += 0x04;
	}
	while (true)
	{
		byte Eq_11::* di_20 = &Eq_11::b0010;
		bl_21 += 0x02;
		byte bh_23 = 0x00;
		do
			;
		while ((__inb(0x03DA) & 0x08) == 0x00);
		if (__inb(0x60) == 0x01)
			break;
		while (true)
		{
			if (bl_21 > 0x00)
				ah_41 += bh_23;
			else
				ah_41 -= bl_21;
			++bh_23;
			if (bh_23 == 200)
				break;
			word16 cx_51;
			for (cx_51 = 0x0140; cx_51 != 0x00; --cx_51)
			{
				es_86->*di_20 = ah_41;
				++di_20;
				ah_41 += bh_23;
			}
		}
	}
	bios_video_set_mode(0x03);
}

