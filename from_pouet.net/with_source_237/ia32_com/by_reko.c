// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Sequence word32 ds_si, Sequence word32 es_di, Register byte ah, Register byte dh, Register byte dl, Register (memptr (ptr16 Eq_22) real32) bx, Register word16 bp, Stack Eq_9 wArg00)
void fn0C00_0100(word32 ds_si, word32 es_di, byte ah, byte dh, byte dl, real32 Eq_22::* bx, word16 bp, Eq_9 wArg00)
{
	struct Eq_10 Eq_22::* si = (word16) ds_si;
	word16 di = (word16) es_di;
	__syscall(0x10);
	Eq_19 ax_23 = SEQ(ah, 0x13);
	selector fs_26 = Mem7[ss:ax_23 + (si + 2):selector];
	__fninit();
	byte dh_344 = dh + 0x13;
	Eq_34 si_129 = &si->t0002;
	Eq_36 di_121 = di + 2;
	struct Eq_22 * dx_18 = SEQ(dh + 0x13, dl);
	byte al_335 = (byte) bp;
	byte ah_337 = SLICE(bp, byte, 8);
	Eq_46 bp_160 = (word16) ax_23 + 1;
	do
	{
		(dx_18->*si).t0002 = di_121;
		fs_26->*bx = (real32) cos((real64) (dx_18->*si).t0002 / ss->*((char *) (&(ss->*si).t0002) + ((word16) ax_23 + 5)));
		struct Eq_68 * Top_126 = null;
		di_121 = (word16) di_121 + 1;
		bx -= fp - 2;
	} while (bx != &Eq_22::r0000);
	do
	{
		word16 ax_341 = SEQ(ah_337, al_335 + 0x0F);
		do
		{
			ss->*((word16) bp_160 - 24) += ax_341;
			struct Eq_68 * Top_67 = Top_126 - 1;
			ST69[Top_67 + 0x00:real64] = (real64) Mem64[ss:bp_160 + si_129:int32];
			Top_67->r0000 /= (real64) (ss->*((word16) bp_160 - 24));
			Eq_106 sp_78;
			word16 dx_80;
			Eq_108 bx_82;
			word16 cx_83;
			byte SCZOP_84;
			real64 rRet0;
			(0x0C00->*si_129)();
			Top_67->rFFFFFFFF = rRet0;
			dx_18->*di_121 = (real32) Top_67->rFFFFFFFF;
			dh_344 = SLICE(dx_80, byte, 8);
			dl = (byte) dx_80;
			byte ch_377 = SLICE(cx_83, byte, 8);
			bool P_224 = SLICE(SCZOP_84, bool, 5);
			Top_126 = Top_67;
			di_121 -= sp_78;
		} while (di_121 != 0x00);
		do
			;
		while ((__inb(0x03DA) & 0x08) == 0x00);
		Eq_36 ax_101 = ss->*((word16) sp_78 + 2);
		__outb(0x03C8, (byte) ax_101);
		Eq_153 sp_102 = (word16) sp_78 + 4;
		di_520 = di_121;
		do
		{
			ui32 ax_di_413 = SEQ(ax_110, di_121) + SEQ((word16) sp_78 + 4, 0x5558);
			di_121 = (word16) ax_di_413;
			Eq_36 ax_134 = SLICE(ax_di_413, word16, 16);
			Eq_158 ax_110 = ax_101 | 0xE1E1;
			dx_18->*si_129 = ax_110;
			Top_67->rFFFFFFFF = (real64) (dx_18->*si_129);
			Eq_179 si_117 = si_129 - 0x01;
			Top_67->rFFFFFFFF -= (real64) (dx_18->*si_117);
			ST122[Top_67 + -1:real64] = ST118[Top_67 + -1:real64] * Mem113[fs_26:bx_82 + di_520:real32];
			Top_67->rFFFFFFFF += (real64) (dx_18->*si_117);
			Top_67->rFFFFFFFF += (real64) (dx_18->*((word16) si_117 + 1));
			dx_18->*((word16) si_117 - 1) = (int16) Top_67->rFFFFFFFF;
			__outb(969, (byte) ax_110);
			Top_126 = Top_67;
			si_129 = (word16) si_117 + 1;
			ax_101 = ax_134;
			di_521 = di_121;
		} while (ax_134 != 0x00);
		di_121 = ax_134;
		Eq_36 ax_139 = di_121;
		Eq_46 cx_149 = SEQ(ch_377, 0xCC);
		bx_155 = bx_82;
		do
		{
			Eq_108 bx_155;
			cup16 dx_141 = 0x0140;
			do
			{
				Eq_544 sp_144 = sp_102 - 2;
				ss->*sp_144 = ax_139;
				ss->*((word16) sp_144 - 2) = cx_149;
				ss->*((word16) sp_144 - 4) = dx_141;
				ss->*((word16) sp_144 - 6) = bx_155;
				ss->*((word16) sp_144 - 8) = sp_102;
				ss->*((word16) sp_144 - 0x0A) = bp_160;
				ss->*((word16) sp_144 - 0x0C) = si_129;
				ss->*((word16) sp_144 - 0x0E) = di_121;
				byte dh_195 = SLICE(dx_141, byte, 8);
				byte dl_196 = (byte) dx_141;
				do
				{
					--Top_126;
					Top_126->r0000 = (real64) (ss->*((word16) bp_160 - 26));
					bp_160 = bp_160 ^ 0x02;
					ST178[Top_126 + 0x00:real64] = ST173[Top_126 + 0x00:real64] - (real64) Mem167[ss:(bp_160 - 0x06) + si_129:word16];
					Top_126->r0000 /= ss->*((word16) si_129 + 112);
				} while (P_224);
				Top_126->rFFFFFFFF = 3.32192809488736;
				--Top_126;
				byte ah_201 = SLICE(__aam(dx_18->*di_121), byte, 8);
				do
				{
					Top_126->r0000 -= Top_126[2];
					Top_126->r0000 = Top_126[1] - Top_126->r0000;
					real64 rRet0;
					word16 ax_204;
					word16 dx_205;
					word16 bx_207;
					byte SCZOP_209;
					Eq_313 sp_203;
					(0x0C00->*si_129)();
					Top_126->rFFFFFFFF = rRet0;
					Eq_434 Top_206 = Top_126 - 1;
					*((word32) Top_206 + 3) = *Top_206;
					P_224 = SLICE(SCZOP_209, bool, 5);
					dh_195 = SLICE(dx_205, byte, 8);
					dl_196 = (byte) dx_205;
					byte ah_237 = SLICE(ax_204, byte, 8);
					Eq_293 Top_211 = (word32) Top_206 + 1;
					struct Eq_305 Eq_22::* di_212 = &Eq_22::tFFFFFF34;
					do
					{
						do
						{
							--Top_211;
							*Top_211 = *((byte) Top_211 + 2);
							*Top_211 *= (dx_18->*di_212).r0000;
							di_212 += sp_203;
						} while (P_224);
						*((byte) Top_211 + 1) += *Top_211;
						*((byte) Top_211 + 2) = *((byte) Top_211 + 1) - *((byte) Top_211 + 2);
						*((byte) Top_211 + 1) = *((byte) Top_211 + 1);
						word16 ax_239;
						word16 dx_240;
						word16 bx_242;
						word16 cx_243;
						byte SCZOP_244;
						real64 rRet0;
						(0x0C00->*si_129)();
						*Top_211 = rRet0;
						*Top_211 *= (real64) (ss->*((word16) si_129 + ((word16) bp_160 + 0x007C)));
						(dx_18->*si_129).u0 = (int16) *Top_211;
						byte al_249 = (byte) ax_239 - dx_18->*si_129;
						real64 v30_254 = *((byte) Top_211 + 1);
						*((byte) Top_211 + 1) = *((byte) Top_211 + 4);
						*((byte) Top_211 + 4) = v30_254;
						sp_203 = fp - 0x0E;
						P_224 = SLICE(SCZOP_244, bool, 5);
						dh_195 = SLICE(dx_240, byte, 8);
						dl_196 = (byte) dx_240;
						Top_211 = (byte) Top_211 + 1;
						ah_237 = al_249;
						++di_212;
						word16 ax_263 = SEQ(al_249, SLICE(ax_239, byte, 8));
						ah_201 = al_249;
					} while (P_224);
					Top_126 = (struct Eq_68 *) ((byte) Top_211 + 3);
				} while (cx_243 != 0x01);
				__fninit();
				ss->*((word16) bp_160 - 22) += ax_263;
				cui16 ax_289 = (word16) wArg00 + 0x00007676 & SEQ(0x00 - (wLoc0A < bp_160), 0x00 - (wLoc0A < wLoc04));
				word16 ax_297 = __rol(SEQ(SLICE(ax_289, byte, 8), __rol((byte) ax_289, 0x04)), 0x04);
				0xA000->*wLoc0E = (byte) ax_297;
				cui16 ax_308 = SEQ(SLICE(ax_297, byte, 8), SLICE(ax_297, byte, 8)) >> 0x01 & 0x3377;
				byte al_309 = (byte) ax_308;
				dx_18->*wLoc0E = al_309;
				byte ah_311 = SLICE(ax_308, byte, 8);
				dx_18->*((word16) wLoc0C + ((word16) wLoc0E + 62)) += ah_311;
				dx_18->*((word16) wLoc0C + ((word16) wLoc0E + 61)) += ah_311;
				ax_139 = __aam(al_309);
				si_129 = wLoc0C;
				bp_160 = wLoc0A;
				cx_149 = bp_160;
				sp_102 = fp + 0x02;
				bx_155 = wLoc0E;
				di_121 = (word16) wLoc0E + 1;
				byte ah_328 = SLICE(ax_139, byte, 8);
				dx_141 = wLoc04 - 0x01;
				dh_344 = SLICE(wLoc04 - 0x01, byte, 8);
				dl = (byte) (wLoc04 - 0x01);
			} while (wLoc04 != 0x01);
			cx_149 = bp_160 - 0x01;
		} while (bp_160 != 0x01);
		Mem325[ss:wLoc0A + wLoc0C:word32] = Mem323[ss:wLoc0A + wLoc0C:word32] + 0x18;
		word16 ax_329 = SEQ(ah_328, __inb(0x60));
		wArg00 = bp_160 - 0x01;
		al_335 = (byte) (ax_329 - 0x01);
		ah_337 = SLICE(ax_329 - 0x01, byte, 8);
	} while (ax_329 != 0x01);
}

