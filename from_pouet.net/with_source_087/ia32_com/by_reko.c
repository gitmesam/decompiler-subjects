// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte ah, Register byte ch, Register Eq_4 bx, Register (memptr (ptr16 Eq_6) Eq_5) si, Register (ptr16 Eq_6) ds)
void fn0C00_0100(byte ah, byte ch, Eq_4 bx, struct Eq_5 Eq_6::* si, struct Eq_6 * ds)
{
	__fninit();
	Eq_4 di_13 = bx;
	do
	{
		ds->*di_13 = (int16) (sin(3.14159265358979 / (real64) (ds->*si).w003C) * (real64) (ds->*si).w0000 + (real64) (ds->*si).w0000 + (real64) (ds->*si).w0000);
		di_13 = (word16) di_13 + 1;
	} while (di_13 != 0x00);
	__syscall(0x10);
	word16 ax_110 = SEQ(ah, 0x13);
	while (true)
	{
		Eq_4 di_118 = di_13;
		byte ch_132 = SLICE(cx, byte, 8);
		word16 ax_46 = ax_110 + 0x01;
		ax_73 = ax_46;
		do
		{
			word16 ax_73;
			word16 Eq_6::* si_113 = SEQ(SLICE(bx, byte, 8), ds->*((word16) bx + (uint16) ((byte) ax_73)));
			++ax_73;
			word16 cx_119 = SEQ(ch_132, 0xA0);
			while (true)
			{
				ch_132 = SLICE(cx_119, byte, 8);
				if (cx_119 == 0x00)
					break;
				0xA000->*di_118 = ds->*si_113;
				++si_113;
				di_118 = (word16) di_118 + 2;
				--cx_119;
			}
		} while (di_118 < bx);
		ax_110 = ax_46;
	}
}

