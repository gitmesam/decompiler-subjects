// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register word16 ax, Register word16 bx, Register Eq_4 bp, Register (memptr (ptr16 Eq_23) Eq_5) di)
void fn0C00_0100(word16 ax, word16 bx, Eq_4 bp, struct Eq_5 Eq_23::* di)
{
	__syscall(0x10);
	word16 cx_27 = ax;
	do
	{
		Eq_12 ax_16 = bp *s 0x8805;
		uint16 ax_19 = (word16) ax_16 + 1 >> 11;
		(0xA000->*di).b0000 = (byte) ax_19 + 0x09;
		--cx_27;
		bp = (word16) ax_16 + 1;
		byte ah_71 = SLICE(ax_19, byte, 8);
		++di;
		byte ch_80 = SLICE(cx_27, byte, 8);
	} while (cx_27 != 0x00);
	word16 cx_52;
	do
	{
		do
		{
			(0xA000->*di).b0000 = (0xA000->*di).bFFFFFEC1 + di[1] + (0xA000->*di).b0000 + di[0x0141] >> 0x02;
			++di;
			--bx;
		} while (bx != 0x00);
		--cx_52;
	} while (cx_52 != 0x00);
	do
	{
		byte al_57 = (0xA000->*di).bFFFFFFFF;
		do
		{
			byte v17_61 = (0xA000->*di).b0000;
			(0xA000->*di).b0000 = al_57;
			al_57 = v17_61;
			++di;
			--cx_52;
		} while (cx_52 != 0x00);
		word16 ax_72 = SEQ(ah_71, __inb(0x60));
		ah_71 = SLICE(ax_72 - 0x01, byte, 8);
	} while (ax_72 != 0x01);
}

