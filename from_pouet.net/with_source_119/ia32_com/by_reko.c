// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_12) ds_bx, Register int16 si)
void fn0C00_0100(union Eq_12 * ds_bx, int16 si)
{
	byte bl_86 = (byte) (word16) ds_bx;
	__syscall(0x10);
	Eq_12 cx_150 = *ds_bx;
	bu8 al_11 = 0x13;
	struct Eq_18 * ds_93 = SLICE(cx_150, selector, 16);
	do
	{
		uint16 ax_12 = (byte) cx_159 * al_11;
		bu8 ah_14 = SLICE(ax_12, byte, 8);
		__outb(969, ah_14);
		__outb(969, ah_14);
		word16 ax_21 = __shrd(SEQ(SLICE(ax_12, byte, 8), ah_14), cx_159, 0x12);
		al_11 = (byte) ax_21;
		__outb(969, al_11);
		byte ch_112 = SLICE(cx_159 - 0x01, byte, 8);
		cx_150 = cx_159 - 0x01;
		cx_159 = cx_150;
	} while (cx_159 != 0x01);
	do
	{
		byte Eq_18::* bx_152 = SEQ(252, bl_86);
		do
		{
			ds_93->*bx_158 = (byte) bx_158;
			struct Eq_64 Eq_18::* bx_105 = bx_158 + 1;
			bx_152 = bx_158 + 1;
			bx_158 = bx_152;
		} while (bx_158 != &Eq_18::b0001);
		do
		{
			ax_98 = SEQ(ah_97, al_44);
			word16 ax_34 = ax_21 + 0x01;
			byte al_40 = (bool) (ax_12 < 0x00) + ((byte) ax_34 + (ds_93->*bx_105).bFFFFFEBF);
			byte al_44 = __rcr(al_40, 0x01, SLICE(cond(al_40), bool, 1));
			(ds_93->*bx_105).b0000 = al_44;
			byte ah_97 = SLICE(ax_34, byte, 8);
			--bx_105;
			ax_21 = ax_98;
		} while (bx_105 != &Eq_18::t0000);
		word16 cx_114 = SEQ(ch_112, 0x48);
		do
		{
			word64 edx_eax_51 = __rdtsc();
			byte ah_76 = SLICE(edx_eax_51, byte, 8);
			struct Eq_64 Eq_18::* bx_54 = bx_105 + (word16) edx_eax_51;
			do
			{
				word16 cx_155;
				(ds_93->*bx_54).b0000 = (byte) cx_160;
				bx_54 = bx_54 + 64 + si;
				bl_86 = (byte) bx_54;
				cx_155 = cx_160 - 0x01;
				cx_160 = cx_155;
			} while (cx_160 != 0x01);
			word16 ax_77 = SEQ(ah_76, __inb(0x60));
			ax_21 = ax_77 - 0x01;
			cx_114 = cx_155 - 0x01;
			bx_105 = bx_54;
			ch_112 = SLICE(cx_155 - 0x01, byte, 8);
			cx_155 = cx_114;
		} while (ax_77 != 0x01 && cx_155 != 0x01);
	} while (ax_77 != 0x01);
}

