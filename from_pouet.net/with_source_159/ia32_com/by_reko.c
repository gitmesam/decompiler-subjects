// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100()
void fn0C00_0100()
{
	bios_video_set_mode(0x13);
	word16 cx_12;
	for (cx_12 = 0x70; cx_12 != 0x00; --cx_12)
	{
		__outb(0x03C8, (byte) cx_12);
		__outb(969, 0x00);
		byte cl_21 = (byte) cx_12;
		__outb(969, cl_21);
		__outb(969, cl_21);
	}
	struct Eq_32 Eq_37::* di_35;
	uint8 al_33 = fn0C00_0158(0x00, 0xA000, out di_35);
	do
	{
		word16 cx_39;
		for (cx_39 = 34000; cx_39 != 0x00; --cx_39)
		{
			bcu8 al_47 = al_33 + di_35[1] + (0xA000->*di_35).bFFFFFFFF + (0xA000->*di_35).bFFFFFEC1 + di_35[319];
			(0xA000->*di_35).b0000 = al_47 >> 0x02;
			struct Eq_65 Eq_37::* di_51 = di_35 + 1;
			(0xA000->*di_51).b0000 = al_47 >> 0x02;
			al_33 = al_47 >> 0x02;
			di_35 = (struct Eq_32 Eq_37::*) (di_51 + 1);
		}
		byte al_58 = __inb(0x60);
		di_35 = &Eq_37::t0140;
		al_33 = al_58 - 0x01;
	} while (al_58 != 0x01);
	bios_video_set_mode(0x03);
	msdos_display_string((char *) cs + 356);
}

// 0C00:0158: Register byte fn0C00_0158(Register Eq_36 di, Register (ptr16 Eq_37) es, Register out Eq_36 diOut)
// Called from:
//      fn0C00_0100
byte fn0C00_0158(Eq_36 di, struct Eq_37 * es, union Eq_36 & diOut)
{
	word16 cx_11;
	for (cx_11 = 0x0140; cx_11 != 0x00; --cx_11)
	{
		byte al_5 = __inb(0x40);
		es->*di = al_5;
		di = (word16) di + 1;
	}
	diOut = di;
	return al_5;
}

