// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte al, Register word16 cx, Register word16 bx, Register (memptr (ptr16 Eq_11) Eq_5) di)
void fn0C00_0100(byte al, word16 cx, word16 bx, struct Eq_5 Eq_11::* di)
{
	bios_video_set_mode(0x13);
	struct Eq_11 * ax_6 = SEQ(0xA0, al);
	do
	{
		((ax_6 * 0x02)->*di).t0000 = 0x13;
		--di;
		word16 bx_136 = bx;
	} while (di != &Eq_11::t0000);
	do
	{
		__outb(969, 0x00);
		__outb(969, 0x00);
		__outb(969, (byte) bx_140 >> 0x02);
		byte ah_108 = 0x00;
		bx_136 = bx_140 + 0x01;
		bx_140 = bx_136;
	} while (bx_140 != 0x01);
	do
	{
		do
		{
			word16 bx_33 = 0x00;
			word16 dx_36;
			struct Eq_5 Eq_11::* si_38 = di;
			for (dx_36 = 0x03; dx_36 != 0x00; --dx_36)
			{
				++si_38;
				bx_33 = bx_33 + SEQ(ah_108, ((ax_6 * 0x02)->*si_38).bFFFFFEBE) + SEQ(ah_108, si_38[318]) + SEQ(ah_108, ((ax_6 * 0x02)->*si_38).bFFFFFFFE);
			}
			cui16 ax_61 = SEQ(ah_108, ((ax_6 * 0x02)->*di).t0000);
			cu16 bx_64 = bx_33 - ax_61 - (ax_61 << 0x02);
			((ax_6 * 0x02)->*di).t0000 = (byte) ((bx_64 >> 0x02) - (bx_64 >> 0x09));
			ah_108 = SLICE(bx_64 >> 0x09, byte, 8);
			++di;
			--cx;
		} while (cx != 0x00);
		for (--cx; cx != 0x00; --cx)
		{
			(ax_6->*di).t0000 = ((ax_6 * 0x02)->*si_38).t0000;
			++si_38;
			++di;
		}
	} while (__inb(0x60) != 0x01);
	__syscall(0x10);
}

