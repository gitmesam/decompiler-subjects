// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register word16 cx, Register (memptr (ptr16 Eq_6) Eq_3) bx, Register word16 si, Register word16 di, Register (ptr16 Eq_6) es, Register (ptr16 Eq_6) ds)
void fn0C00_0100(word16 cx, <type-error> Eq_6::* bx, word16 si, word16 di, struct Eq_6 * es, struct Eq_6 * ds)
{
	byte bh_9 = SLICE(bx, byte, 8);
	ds->*((char *) bx + (di + 0x01)) += bh_9;
	__fninit();
	struct Eq_21 Eq_6::* di_14 = &Eq_6::t0200;
	real64 rLoc2_412 = 0.0;
	do
	{
		real64 rLoc2_415 = sin(rLoc2_412) * (real64) (ds->*ax_520).w0000;
		(ds->*di_14).t0000 = (int16) rLoc2_415;
		--cx;
		rLoc2_412 = rLoc2_415;
		++di_14;
		byte cl_316 = (byte) cx;
	} while (cx != 0x00);
	__syscall(0x10);
	__outb(0x03C8, (byte) ax_520);
	do
	{
		__outb(969, (byte) ax_532);
		byte al_58 = (byte) bx;
		__outb(969, al_58);
		__outb(969, al_58);
		byte al_311 = (byte) (ax_532 + 1);
		ax_520 = ax_532 + 1;
		ax_532 = ax_520;
	} while (!OVERFLOW(ax_532 + 1));
	word16 cx_308 = SEQ(0x02, cl_316);
	while (true)
	{
		Eq_96 ax_238 = ax_532 + 1;
		byte ch_337 = SLICE(cx_308, byte, 8);
		if (cx_308 == 0x00)
			break;
		(es->*di_14).t0000 = al_311;
		++di_14;
		--cx_308;
	}
	word16 bp_128 = 200;
	do
	{
		Eq_96 ax_69 = (word16) ax_238 + 1;
		byte dl_108 = (byte) ax_69;
		bi8 bl_355 = (byte) bx;
		byte dh_119 = dl_108;
		ci16 cx_156 = SEQ(ch_337, 200);
		word32 Eq_6::* si_106 = &Eq_6::dw0300;
		do
		{
			word32 Eq_6::* di_298 = si_106 + 80;
			word16 cx_302;
			for (cx_302 = SEQ(SLICE(cx_156, byte, 8), 0x50); cx_302 != 0x00; --cx_302)
			{
				es->*di_298 = ds->*si_106;
				++si_106;
				++di_298;
			}
			ci16 cx_101 = cx_156;
			struct Eq_104 Eq_6::* di_107 = si_106 + 38;
			do
			{
				int16 ax_114 = bl_355 *s (ss->a0200)[(word16) dl_530];
				byte al_132 = (byte) (ax_114 >> 0x07);
				byte ah_135 = SLICE(ax_114 >> 0x07, byte, 8);
				di_107 += (ax_114 >> 0x07) / 16;
				dl_108 = dh_531;
				dh_119 = dl_530;
				cx_101 = -cx_101;
				dl_530 = dl_108;
				dh_531 = dh_119;
			} while (cx_101 < 0x00);
			(es->*di_107).dw0000 = 0x221D1710;
			(es->*di_107).dw0004 = 825175080;
			(es->*di_107).dw0008 = __bswap(825175080);
			(es->*di_107).dw000C = __bswap(0x221D1710);
			dh_119 = dl_530 + 0x02;
			dl_108 = dh_531 + 0x07;
			word16 ax_136 = SEQ(ah_135, al_132 + 100);
			cx_156 = cx_101 - 0x01;
		} while (cx_101 != 0x01);
		byte dl_168 = (byte) bp_128;
		int16 ax_172 = SEQ(ch_337, 200 - dl_168);
		word32 Eq_208::* di_161 = &Eq_208::dw0000;
		Eq_195 si_175 = ax_172 *s 0x0140 + 0x0300;
		int16 cx_180 = (word16) dl_168 *s 0x50;
		while (true)
		{
			ch_337 = SLICE(cx_180, byte, 8);
			if (cx_180 == 0x00)
				break;
			0xA000->*di_161 = ds->*si_175;
			si_175 = (word16) si_175 + 4;
			++di_161;
			--cx_180;
		}
		int16 ax_186;
		do
		{
			si_175 -= 0x0280;
			word16 cx_192 = SEQ(ch_337, 0x50);
			while (true)
			{
				ch_337 = SLICE(cx_192, byte, 8);
				if (cx_192 == 0x00)
					break;
				0xA000->*di_161 = ds->*si_175;
				si_175 = (word16) si_175 + 4;
				++di_161;
				--cx_192;
			}
			--ax_186;
		} while (ax_186 >= 0x00);
		es = ds;
		do
			;
		while ((__inb(0x03DA) & 0x08) != 0x00);
		do
			;
		while ((__inb(0x03DA) & 0x08) == 0x00);
		cu8 al_228 = (byte) ax_69;
		if (bl_355 != 0x7E && al_228 >= 0xB4)
			bx = (<type-error> Eq_6::*) ((char *) bx + 2);
		byte bl_256 = (byte) bx;
		ax_238 = ax_69;
		if (ax_69 >= 33435)
		{
			--bp_128;
			if (ax_69 >= 33466)
				bp_128 = ax_136;
		}
		if (bl_256 != 0x00 && ax_69 >= 0x8660)
			bx -= 0x02;
	} while (ax_69 != 0x8703);
	__syscall(0x10);
}

