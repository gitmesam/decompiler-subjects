// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register word16 cx, Register (memptr (ptr16 Eq_6) Eq_3) bx, Register word16 si, Register word16 di, Register (ptr16 Eq_6) es, Register (ptr16 Eq_6) ds)
void fn0C00_0100(word16 cx, <type-error> Eq_6::* bx, word16 si, word16 di, struct Eq_6 * es, struct Eq_6 * ds)
{
	byte bh_9 = SLICE(bx, byte, 8);
	ds->*((char *) bx + (di + 0x01)) += bh_9;
	__fninit();
	struct Eq_21 Eq_6::* di_14 = &Eq_6::t0200;
	real64 rLoc1_405 = 0.0;
	real64 rLoc2_406 = 0.0;
	do
	{
		(ds->*di_14).t0000 = (int16) (sin(rLoc2_406) * (real64) (ds->*ax_514).w0000);
		rLoc1_405 += (real64) ax_514[2];
		--cx;
		rLoc2_406 = rLoc1_405;
		++di_14;
		byte cl_312 = (byte) cx;
	} while (cx != 0x00);
	__syscall(0x10);
	__outb(0x03C8, (byte) ax_514);
	do
	{
		__outb(969, (byte) ax_524);
		byte al_59 = (byte) bx;
		__outb(969, al_59);
		__outb(969, al_59);
		byte al_307 = (byte) (ax_524 + 1);
		ax_514 = ax_524 + 1;
		ax_524 = ax_514;
	} while (!OVERFLOW(ax_524 + 1));
	word16 cx_304 = SEQ(0x02, cl_312);
	while (true)
	{
		Eq_102 ax_222 = ax_524 + 1;
		byte ch_333 = SLICE(cx_304, byte, 8);
		if (cx_304 == 0x00)
			break;
		(es->*di_14).t0000 = al_307;
		++di_14;
		--cx_304;
	}
	word16 bp_129 = 200;
	do
	{
		Eq_102 ax_70 = (word16) ax_222 + 1;
		byte dl_109 = (byte) ax_70;
		bi8 bl_351 = (byte) bx;
		byte dh_120 = dl_109;
		ci16 cx_157 = SEQ(ch_333, 200);
		word32 Eq_6::* si_107 = &Eq_6::dw0300;
		do
		{
			word32 Eq_6::* di_294 = si_107 + 80;
			word16 cx_298;
			for (cx_298 = SEQ(SLICE(cx_157, byte, 8), 0x50); cx_298 != 0x00; --cx_298)
			{
				es->*di_294 = ds->*si_107;
				++si_107;
				++di_294;
			}
			ci16 cx_102 = cx_157;
			struct Eq_110 Eq_6::* di_108 = si_107 + 38;
			do
			{
				int16 ax_115 = bl_351 *s (ss->a0200)[(word16) dl_522];
				byte al_133 = (byte) (ax_115 >> 0x07);
				byte ah_136 = SLICE(ax_115 >> 0x07, byte, 8);
				di_108 += (ax_115 >> 0x07) / 16;
				dl_109 = dh_523;
				dh_120 = dl_522;
				cx_102 = -cx_102;
				dl_522 = dl_109;
				dh_523 = dh_120;
			} while (cx_102 < 0x00);
			(es->*di_108).dw0000 = 0x221D1710;
			(es->*di_108).dw0004 = 825175080;
			(es->*di_108).dw0008 = __bswap(825175080);
			(es->*di_108).dw000C = __bswap(0x221D1710);
			dh_120 = dl_522 + 0x02;
			dl_109 = dh_523 + 0x07;
			word16 ax_137 = SEQ(ah_136, al_133 + 100);
			cx_157 = cx_102 - 0x01;
		} while (cx_102 != 0x01);
		byte dl_169 = (byte) bp_129;
		int16 ax_173 = SEQ(ch_333, 200 - dl_169);
		word32 Eq_214::* di_162 = &Eq_214::dw0000;
		Eq_201 si_176 = ax_173 *s 0x0140 + 0x0300;
		int16 cx_181 = (word16) dl_169 *s 0x50;
		while (true)
		{
			ch_333 = SLICE(cx_181, byte, 8);
			if (cx_181 == 0x00)
				break;
			0xA000->*di_162 = ds->*si_176;
			si_176 = (word16) si_176 + 4;
			++di_162;
			--cx_181;
		}
		int16 ax_187 = ax_173;
		do
		{
			si_176 -= 0x0280;
			word16 cx_193 = SEQ(ch_333, 0x50);
			while (true)
			{
				ch_333 = SLICE(cx_193, byte, 8);
				if (cx_193 == 0x00)
					break;
				0xA000->*di_162 = ds->*si_176;
				si_176 = (word16) si_176 + 4;
				++di_162;
				--cx_193;
			}
			--ax_187;
		} while (ax_187 >= 0x00);
		es = ds;
		do
			;
		while ((__inb(0x03DA) & 0x08) != 0x00);
		do
			;
		while ((__inb(0x03DA) & 0x08) == 0x00);
		ax_222 = ax_70;
		cu8 al_229 = (byte) ax_70;
		if (bl_351 != 0x7E && al_229 >= 0xB4)
			bx = (<type-error> Eq_6::*) ((char *) bx + 2);
		byte bl_255 = (byte) bx;
		if (ax_70 >= 33435)
		{
			--bp_129;
			if (ax_70 >= 33466)
				bp_129 = ax_137;
		}
		if (bl_255 != 0x00 && ax_70 >= 0x8660)
			bx -= 0x02;
	} while (ax_70 != 0x8703);
	__syscall(0x10);
}

