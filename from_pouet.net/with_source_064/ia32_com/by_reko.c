// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte al, Register byte cl, Register bcu8 dh, Register uint8 bh, Register byte bl, Register (ptr16 Eq_7) es, Register (ptr16 Eq_8) ds)
void fn0C00_0100(byte al, byte cl, bcu8 dh, uint8 bh, byte bl, struct Eq_7 * es, struct Eq_8 * ds)
{
	byte Eq_7::* di_5 = Eq_7::a013B;
	word16 cx_6 = SEQ(~0x05, cl);
	while (true)
	{
		byte cl_84 = (byte) cx_6;
		if (cx_6 == 0x00)
			break;
		es->*di_5 = al;
		++di_5;
		--cx_6;
	}
	__syscall(0x10);
	while (true)
	{
		struct Eq_31 Eq_8::* di_20 = Eq_8::a013B;
		word16 cx_34 = SEQ(~0x05, cl_84);
		do
		{
			word16 ax_23 = (word16) (ds->*di_20).t0000.u1 + di_20[320];
			(ds->*di_20).t0000 = (byte) ax_23 + bh + SLICE(ax_23, byte, 8) >> 0x02;
			--cx_34;
			++di_20;
			byte cl_88 = (byte) cx_34;
		} while (cx_34 != 0x00);
		word16 Eq_77::* di_42 = Eq_77::a0000;
		word16 Eq_8::* si_45 = Eq_8::a013B;
		word16 cx_48 = SEQ(0x78, cl_88);
		while (true)
		{
			cl_84 = (byte) cx_48;
			if (cx_48 == 0x00)
				break;
			0xA000->*di_42 = ds->*si_45;
			++si_45;
			++di_42;
			--cx_48;
		}
		++dh;
		bios_video_set_CGA_palette(dh >> 0x04, bl);
		bh = dh >> 0x04;
	}
}

