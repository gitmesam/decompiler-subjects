// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_9) ds_bx, Register word16 cx)
void fn0C00_0100(union Eq_9 * ds_bx, word16 cx)
{
	__syscall(0x10);
	Eq_9 ds_bx_8 = *ds_bx;
	int16 bx_25 = (word16) ds_bx_8;
	struct Eq_15 * ds_69 = SLICE(ds_bx_8, selector, 16);
	word16 cx_89 = cx;
	do
	{
		bcu8 cl_10 = (byte) cx_93;
		uint8 al_13 = (cl_10 >> 0x01) - 0x40;
		if (cl_10 >> 0x01 >= 0x40)
			al_13 = ~((cl_10 >> 0x01) - 0x40);
		__outb(969, al_13);
		__outb(969, al_13);
		__outb(969, al_13);
		int16 cx_23 = cx_93 - 0x01;
		cx_89 = cx_93 - 0x01;
		cx_93 = cx_89;
	} while (cx_93 != 0x01);
	do
	{
		ci16 cx_26 = cx_23 - bx_25;
		word64 edx_eax_29 = __rdtsc();
		cx_23 = cx_26 >> 0x01;
		bx_25 += cx_26 >> 0x01;
		byte ah_55 = SLICE(edx_eax_29, byte, 8);
		if (((byte) edx_eax_29 & 0x04) != 0x00)
		{
			cx_23 = bx_25 + 0x40;
			bx_25 = -(cx_26 >> 0x01) + 0x40;
		}
		Eq_66 di_45 = bx_25 *s ~0x013F + ~0x440B + cx_23;
		++ds_69->*di_45;
	} while (SEQ(ah_55, __inb(0x60)) != 0x01);
}

