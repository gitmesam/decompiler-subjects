// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte ch, Register byte bh)
void fn0C00_0100(byte ch, byte bh)
{
	__syscall(0x10);
	ui16 bx_85 = SEQ(bh, 0x03);
	do
	{
		byte Eq_25::* di_12 = &Eq_25::b0000;
		uint16 cx_16 = SEQ(ch, 200);
		do
		{
			uint32 dx_ax_18 = cx_16 * cx_16;
			ui16 dx_19 = SLICE(dx_ax_18, word16, 16);
			uint16 ax_20 = (word16) dx_ax_18;
			uint16 si_22 = 0x0280;
			do
			{
				uint16 dx_31 = (uint16) (SEQ(dx_19, ax_20 + 0x0281 - si_22) % bx_85);
				0xA000->*di_12 = (byte) dx_31 & 0x0F;
				uint16 si_45 = si_22 - 0x01;
				byte bl_73 = (byte) bx_85;
				byte bh_83 = SLICE(bx_85, byte, 8);
				++di_12;
				dx_19 = 0x00;
				ax_20 = dx_31;
				byte ah_52 = SLICE(dx_31, byte, 8);
				si_22 = si_45 - 0x01;
			} while (si_45 != 0x01);
			--cx_16;
			ch = SLICE(cx_16, byte, 8);
		} while (cx_16 != 0x00);
		do
		{
			word16 ax_53 = SEQ(ah_52, __inb(0x60));
			byte ah_63 = SLICE(ax_53 - 0x01, byte, 8);
			if (ax_53 == 0x01)
				return;
			byte al_59 = 0000:046C;
			dx_19 = SEQ(ah_63, al_59 & 0x0F);
			ah_52 = SLICE(dx_136, byte, 8);
			dx_136 = dx_19;
		} while ((byte) dx_136 - (al_59 & 0x0F) <= 0x00);
		bx_85 = SEQ(bh_83, bl_73 + 0x01);
	} while (bl_73 != 0x01);
}

