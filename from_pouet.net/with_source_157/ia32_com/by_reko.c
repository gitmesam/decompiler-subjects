// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_2) ds)
void fn0C00_0100(struct Eq_2 * ds)
{
	msdos_display_string(&ds->b0172);
	struct Eq_9 Eq_2::* di_17 = &Eq_2::t0180;
	byte bl_12 = 0x3C;
	byte dl_13 = 0x00;
	word16 cx_14;
	for (cx_14 = 0x0A; cx_14 != 0x00; --cx_14)
	{
		(ds->*di_17).b0000 = 0x00;
		struct Eq_21 Eq_2::* di_19 = di_17 + 1;
		di_19[384] = bl_12;
		di_19[0x0181] = dl_13;
		di_17 = (struct Eq_9 Eq_2::*) (di_19 + 2 + 384);
		bl_12 -= 0x06;
		dl_13 += 0x06;
	}
	word16 cx_31;
	for (cx_31 = 0x0A; cx_31 != 0x00; --cx_31)
	{
		(ds->*di_17).b0000 = 0x00;
		struct Eq_48 Eq_2::* di_36 = di_17 + 1;
		di_36[384] = bl_12;
		di_36[0x0181] = dl_13;
		di_17 = (struct Eq_9 Eq_2::*) (di_36 + 2);
		dl_13 -= 0x06;
		bl_12 += 0x06;
	}
	Eq_67 di_48 = 0x00;
	while (true)
	{
		byte al_52;
		byte ah_53;
		if (!bios_kbd_check_keystroke(out al_52, out ah_53))
			break;
		__outb(0x03C8, 0x07);
		word16 cx_59;
		for (cx_59 = 0x03; cx_59 != 0x00; --cx_59)
		{
			__outb(969, ds->*((word16) di_48 + 384));
			di_48 = (word16) di_48 + 1;
		}
		if (di_48 >= 0x3C)
			di_48.u0 = 0x00;
	}
	bios_video_set_mode(0x03);
	msdos_terminate(0x00);
}

