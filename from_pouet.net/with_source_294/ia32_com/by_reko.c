// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (ptr16 Eq_2) ds)
void fn0C00_0100(struct Eq_2 * ds)
{
	__syscall(0x10);
	cui16 cx_230 = 0x00;
	do
	{
		ui8 cl_18 = (byte) cx_233;
		__outb(0x03C8, cl_18);
		__outb(969, cl_18 << 0x01);
		__outb(969, cl_18 << 0x02);
		__outb(969, 0x00);
		uint8 dl_170 = 0xC9;
		Eq_35 cx_28 = cx_233 - 0x01;
		cui16 ax_169 = 0x1600;
		cx_230 = cx_233 - 0x01;
		cx_233 = cx_230;
	} while (cx_233 != 0x01);
	do
	{
		ax_169 = __rol((word16) cx_28 + ax_169, (byte) cx_28);
		bci8 al_36 = (byte) ax_169;
		cu8 dl_42 = (bool) (al_36 >> 0x05 < 0x00) + (dl_170 + (al_36 >> 0x05));
		bcu8 dl_47 = (bool) (dl_42 < 0x00) + (dl_42 + cs->*((word16) cx_28 + 0x00FF));
		cs->*cx_28 = dl_47 >> 0x01;
		cs->*cx_28 = dl_47 >> 0x01;
		dl_170 = dl_47 >> 0x01;
		--cx_28;
	} while (cx_28 != 0x00);
	byte ch_102 = 0x10;
	while (true)
	{
		byte Eq_2::* di_191 = Eq_2::a0304;
		word16 dx_179;
		for (dx_179 = ~0x63; dx_179 != 100; ++dx_179)
		{
			byte Eq_61::* bp_62;
			do
			{
				ds->*di_191 = cs->*bp_62;
				++di_191;
				++bp_62;
			} while (bp_62 != Eq_61::a0000);
		}
		bios_video_write_string(0x00, 0x00, 0x0A, SEQ(ch_102, 0x28), 0x00, 0x00, (char *) ds + 454);
		word16 cx_111 = 0x40;
		struct Eq_126 Eq_2::* di_112 = &Eq_2::t41B6;
		do
		{
			ci8 bl_113;
			for (bl_113 = 0x7F; bl_113 > 0x00; --bl_113)
			{
				(ds->*di_112).b0000 = 0x10;
				di_112 = &di_112->b0000 + 1;
			}
			--cx_111;
			++di_112;
			byte cl_194 = (byte) cx_111;
		} while (cx_111 != 0x00);
		word16 Eq_2::* si_131 = Eq_2::a0304;
		word16 Eq_166::* di_133 = Eq_166::a0A00;
		word16 cx_135;
		for (cx_135 = SEQ(0x78, cl_194); cx_135 != 0x00; --cx_135)
		{
			0xA000->*di_133 = ds->*si_131;
			++si_131;
			++di_133;
		}
		if ((int16) __inb(0x60) == 0x01)
			break;
		byte ch_143;
		bcu8 dh_144;
		byte dl_145;
		msdos_get_system_time(out ch_143, out dh_144, out dl_145);
		if ((dh_144 >> 0x02 & 0x02) == 0x00)
			ch_102 = 0x10;
		else
			ch_102 = 0x00;
	}
	__syscall(0x10);
}

