// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte ch, Register byte bl, Register (ptr16 Eq_4) ds)
void fn0C00_0100(byte ch, byte bl, struct Eq_4 * ds)
{
	__syscall(0x10);
	msdos_display_string(&ds->b0134);
	struct Eq_16 * bx_6 = SEQ(0xA0, bl);
	uint8 ah_10 = 0x09;
	bx_13 = bx_6;
	while (true)
	{
		struct Eq_16 * bx_13;
		byte bl_64 = (byte) (bx_13->a0000 + 1);
		Eq_43 bp_16;
		for (bp_16 = 0x0A00; bp_16 >= 0x00; --bp_16)
		{
			bx_13 = SEQ(0x1E, bl_64);
			Eq_23 di_26 = bx_13 + (bp_16 << 0x02) / 0x0A01;
			uint32 dx_ax_29 = di_26 * SEQ(ah_10, bx_6->*bp_16);
			ah_10 = SLICE(dx_ax_29, byte, 8);
			byte al_77 = (byte) dx_ax_29;
			word16 cx_34 = SEQ(ch, 0x08);
			while (true)
			{
				byte ch_74 = SLICE(cx_34, byte, 8);
				if (cx_34 == 0x00)
					break;
				bx_6->*di_26 = al_77;
				di_26 = (word16) di_26 + 1;
				--cx_34;
			}
			word16 di_38 = di_26 + bx_13 << 0x01;
			word16 cx_41 = SEQ(ch_74, 0x08);
			while (true)
			{
				ch = SLICE(cx_41, byte, 8);
				if (cx_41 == 0x00)
					break;
				bx_6->*di_38 = al_77;
				di_38 = (word16) di_38 + 1;
				--cx_41;
			}
		}
	}
}

