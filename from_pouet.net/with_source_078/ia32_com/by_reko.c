// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register word16 cx, Register word16 bx, Register byte sil)
void fn0C00_0100(word16 cx, word16 bx, byte sil)
{
	__syscall(0x10);
	do
	{
		__outb(969, (byte) bx);
		uint8 al_31 = (byte) si;
		__outb(969, al_31);
		__outb(969, al_31);
		--cx;
		++bx;
		byte cl_37 = (byte) cx;
	} while (cx != 0x00);
	do
	{
		struct Eq_34 Eq_39::* cx_38 = SEQ(0x7F, cl_37);
		struct Eq_34 Eq_39::* di_39 = cx_38;
		do
		{
			bcu8 al_46 = al_31 + di_39[318] + di_39[322] + di_39[0x0282];
			(0xA000->*di_39).t0000 = al_46 >> 0x02;
			--cx_38;
			al_31 = al_46 >> 0x02;
			++di_39;
			byte ch_82 = SLICE(cx_38, byte, 8);
		} while (cx_38 != &Eq_39::t0000);
		word16 cx_56 = SEQ(ch_82, 0xA0);
		while (true)
		{
			cl_37 = (byte) cx_56;
			if (cx_56 == 0x00)
				break;
			(0xA000->*di_39).t0000 = __in(0x40);
			di_39 += 2;
			--cx_56;
		}
		byte ah_59;
	} while (bios_kbd_check_keystroke(out al_31, out ah_59));
	bios_video_set_mode(0x03);
}

