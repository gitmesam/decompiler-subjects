// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte ah, Register byte ch, Register byte dl, Register byte bh)
void fn0C00_0100(byte ah, byte ch, byte dl, byte bh)
{
	__syscall(0x10);
	word16 ax_22 = SEQ(ah, 0x13);
	do
	{
		word16 ax_23 = ax_22 + 0x01;
		byte Eq_25::* di_20 = &Eq_25::b3ECF;
		int16 si_21 = 0xA0;
		word16 bx_48 = SEQ(bh, 100);
		if (((byte) ax_23 & 0x01) != 0x00)
		{
			di_20 = &Eq_25::bFFFFBA8F;
			si_21 = 65056;
		}
		do
		{
			word16 cx_31 = SEQ(ch, 0xA0);
			while (true)
			{
				byte al_62 = (byte) ax_23;
				if (cx_31 == 0x00)
					break;
				0xA000->*di_20 = al_62;
				++di_20;
				--cx_31;
			}
			word16 dx_35 = SEQ(0x10, dl);
			do
			{
				do
					--cx_31;
				while (cx_31 != 0x00);
				dx_35 = dx_114 - 0x01;
				cx_31 = dx_114;
				ch = SLICE(dx_114, byte, 8);
				dl = (byte) dx_35;
				dx_114 = dx_35;
			} while (dx_35 != 0x00);
			--bx_48;
			di_20 += si_21;
			bh = SLICE(bx_48, byte, 8);
		} while (bx_48 != 0x00);
		byte ah_58 = SLICE(dx_114, byte, 8);
		ch = ah_58;
		ax_22 = ax_23;
	} while (SEQ(ah_58, __inb(0x60)) == 0x00);
}

