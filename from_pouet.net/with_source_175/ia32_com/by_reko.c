// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte ch, Register byte bh)
void fn0C00_0100(byte ch, byte bh)
{
	__syscall(0x10);
	__outb(0x03C8, 0x00);
	uint8 dl_143 = 0xC9;
	ui8 dh_148 = 0x03;
	word16 cx_190 = SEQ(ch, ~0x00);
	do
	{
		byte cl_13 = (byte) cx_193;
		uint8 al_14 = ~0x00 - cl_13;
		if (al_14 >= 0x40)
			al_14 = 0x3F;
		__outb(969, al_14);
		bcu8 al_23 = ~0x00 - cl_13;
		uint8 al_24 = al_23 >> 0x01;
		if (al_23 >> 0x01 >= 0x40)
			al_24 = 0x3F;
		__outb(969, al_24);
		__outb(969, 0x00);
		byte cl_131 = (byte) (cx_193 - 0x01);
		cx_190 = cx_193 - 0x01;
		cx_193 = cx_190;
	} while (cx_193 != 0x01);
	do
	{
		word16 Eq_75::* di_49 = Eq_75::aFFFFF780;
		word16 cx_155 = SEQ(0x02, cl_131);
		do
		{
			dl_143 = __ror(dl_143 ^ dh_148, 0x01);
			dh_148 = dh_148 + 0x2A ^ dl_143;
			0x8000->*di_49 = SEQ(dh_148, dl_143);
			++di_49;
			--cx_155;
		} while (cx_155 != 0x00);
		word16 cx_100 = ~cx_155;
		struct Eq_87 Eq_75::* di_126 = &Eq_75::t0000;
		do
		{
			byte al_87 = (byte) ((word16) (0x8000->*di_126).b0000 + SEQ(bh, di_126[319]) + SEQ(bh, di_126[640]) + SEQ(bh, di_126[0x0141]) >> 0x02);
			byte al_88 = al_87 - 0x01;
			if (al_87 == 0x01)
				al_88 = al_87;
			(0x8000->*di_126).b0000 = al_88;
			++di_126;
			--cx_100;
		} while (cx_100 != 0x00);
		struct Eq_87 Eq_75::* si_103 = di_126;
		word16 cx_114 = ~cx_100;
		while (true)
		{
			cl_131 = (byte) cx_114;
			if (cx_114 == 0x00)
				break;
			(0xA000->*di_126).b0000 = (0x8000->*si_103).b0000;
			--si_103;
			--di_126;
			--cx_114;
		}
	} while (__inb(0x60) != 0x01);
}

