// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (memptr (ptr16 Eq_37) byte) bx, Register Eq_3 bp, Register (memptr (ptr16 Eq_37) Eq_4) di)
void fn0C00_0100(byte Eq_37::* bx, Eq_3 bp, struct Eq_4 Eq_37::* di)
{
	__syscall(0x10);
	__outw(0x03D4, 8211);
	int16 dx_19 = 0x03D4;
	int16 ax_20 = 8211;
	struct Eq_21 * es_8 = 8211;
	cui16 cx_472 = 0x0F;
	do
	{
		word16 dx_461 = (word16) (dx_19 *s ax_20) + 0x01;
		do
		{
			bi8 dh_46 = SLICE(dx_461, byte, 8);
			bi8 dl_37 = (byte) dx_461;
			cu8 cl_30 = (byte) cx_477;
			if (cl_30 >= 0x0D)
				0x7000->*bx = cl_30;
			int16 ax_39 = dl_37 *s dl_37;
			ax_20 = dh_46 *s dh_46 + ax_39;
			int16 si_101 = ax_39;
			cu8 ah_326 = SLICE(ax_20, byte, 8);
			if (ah_326 <= 0x3F)
				0x7000->*bx += ah_326;
			++bx;
			dx_19 = dx_461 + 0x01;
			byte bh_327 = SLICE(bx, byte, 8);
			++dx_461;
		} while (bx != &Eq_37::b0000);
		cx_472 = cx_477 - 0x01;
		byte ch_320 = SLICE(cx_477 - 0x01, byte, 8);
		cx_477 = cx_472;
	} while (cx_477 != 0x01);
	word16 cx_100 = SEQ(ch_320, 0x05);
	do
	{
		do
		{
			byte bl_89 = (0x7000->*di).bFFFFFEFF;
			cu16 ax_91 = SEQ(ah_326, (0x7000->*di).bFFFFFFFE) + SEQ(bh_327, (0x7000->*di).b0000) + SEQ(bh_327, di[0x00FF]) + SEQ(bh_327, bl_89);
			(0x7000->*di).b0000 = (byte) (ax_91 >> 0x02);
			ah_326 = SLICE(ax_91 >> 0x02, byte, 8);
			++di;
		} while (di != &Eq_37::b0000);
		--cx_100;
		uint8 cl_107 = (byte) cx_100;
		uint8 ch_283 = SLICE(cx_100, byte, 8);
		struct Eq_117 Eq_37::* bx_474 = SEQ(bh_327, bl_89);
	} while (cx_100 != 0x00);
	do
	{
		++si_101;
		struct Eq_117 Eq_37::* bx_207 = bx_474;
		do
		{
			byte bh_122 = SLICE(bx_207, byte, 8);
			byte bl_104 = (byte) bx_207;
			if (bl_104 == 0x00)
				cl_107 = ~0x00;
			uint16 ax_115 = (uint16) bl_104;
			uint16 ax_137 = (uint16) ((uint32) (SEQ(SLICE(bp, byte, 8), bx_207[si_101]) + 0x40 << 0x06) /u (ax_115 + 0x01));
			bp = ax_115 + 0x01;
			uint8 al_141 = (byte) (ax_137 >> 0x03);
			if (ax_137 >> 0x03 > 0xFF)
				al_141 = ~0x00;
			word16 cx_196 = SEQ(ch_283, cl_107);
			if (al_141 < cl_107)
			{
				bp = ax_115 + 0x01 << 0x01;
				int16 ax_170 = ((int16) ((bx_207 - 0x01)[si_101] - (bx_207 + 1)[si_101]) << 0x04) - bp;
				byte Eq_21::* di_157 = SEQ(bh_122, al_141);
				ci8 ah_177 = SLICE(ax_170 + 0x80, byte, 8);
				bcu8 al_183 = (byte) (ax_170 + 0x80);
				cx_196 = SEQ(al_141, cl_107);
				if (ax_170 < 0x80)
				{
					ah_177 = 0x00;
					al_183 = 0x00;
				}
				if (ah_177 >= 0x01)
					al_183 = ~0x00;
				uint8 al_188 = al_183 >> 0x04;
				do
				{
					es_8->*di_157 = al_188 + 0x10;
					--cx_196;
					++di_157;
				} while (SLICE(cx_196, byte, 8) < (byte) cx_196);
			}
			ch_283 = SLICE(cx_196, byte, 8);
			cl_107 = (byte) cx_196;
			++bx_207;
		} while (bx_207 != &Eq_37::b0000);
		do
		{
			bi8 bh_210 = SLICE(bx_478, byte, 8);
			int16 ax_212 = (int16) bh_210;
			bi8 bl_225 = (byte) bx_478;
			int16 ax_220 = (int16) ((byte) ax_212 ^ SLICE(ax_212, byte, 8));
			int16 ax_227 = (int16) bl_225;
			bcu8 ah_251 = SLICE(ax_212, byte, 8);
			uint8 ah_254 = (ah_251 >> 0x01) + ((byte) ((int16) ((word32) (ax_227 << 0x06) / (SEQ(SLICE(ax_220, byte, 8), (byte) ax_220 + ((byte) ax_227 ^ SLICE(ax_227, byte, 8))) + 0x01))) ^ ah_251);
			word32 dx_ax_272 = (word32) (bh_210 *s bh_210 + bl_225 *s bl_225);
			ch_283 = ah_254;
			word16 dx_273 = SLICE(dx_ax_272, word16, 16);
			ci16 ax_275 = (word16) dx_ax_272;
			do
			{
				++dx_273;
				uint8 dl_280 = (byte) dx_273;
				ax_275 = ax_275 - dx_273 - dx_273;
			} while (ax_275 >= 0x00);
			Eq_3 cx_284 = SEQ(ah_254, dl_280);
			bx_478[0x000064A0] = es_8->*cx_284;
			cl_107 = dl_280;
			bp = cx_284;
			bx_207 = bx_478 + 1;
			bx_478 = bx_207;
		} while (bx_478 != &Eq_37::t0001);
		bx_474 = bx_478 + 1;
	} while (__inb(0x60) != 0x01);
}

