// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (memptr (ptr16 Eq_38) byte) bx, Register Eq_3 bp, Register (memptr (ptr16 Eq_38) Eq_4) di)
void fn0C00_0100(byte Eq_38::* bx, Eq_3 bp, struct Eq_4 Eq_38::* di)
{
	__syscall(0x10);
	__outw(0x03D4, 8211);
	int16 dx_19 = 0x03D4;
	int16 ax_20 = 8211;
	struct Eq_21 * es_8 = 8211;
	cui16 cx_476 = 0x0F;
	do
	{
		word16 dx_465 = (word16) (dx_19 *s ax_20) + 0x01;
		do
		{
			bi8 dh_46 = SLICE(dx_465, byte, 8);
			bi8 dl_37 = (byte) dx_465;
			cu8 cl_30 = (byte) cx_482;
			if (cl_30 >= 0x0D)
				0x7000->*bx = cl_30;
			int16 ax_39 = dl_37 *s dl_37;
			int16 ax_49 = dh_46 *s dh_46 + ax_39;
			int16 si_101 = ax_39;
			cu8 ah_50 = SLICE(ax_49, byte, 8);
			if (ah_50 <= 0x3F)
				0x7000->*bx += ah_50;
			++bx;
			ax_20 = ax_49;
			byte ah_326 = SLICE(ax_49, byte, 8);
			dx_19 = dx_465 + 0x01;
			byte bh_328 = SLICE(bx, byte, 8);
			++dx_465;
		} while (bx != &Eq_38::b0000);
		cx_476 = cx_482 - 0x01;
		byte ch_320 = SLICE(cx_482 - 0x01, byte, 8);
		cx_482 = cx_476;
	} while (cx_482 != 0x01);
	word16 cx_100 = SEQ(ch_320, 0x05);
	do
	{
		do
		{
			byte bl_89 = (0x7000->*di).bFFFFFEFF;
			cu16 ax_91 = SEQ(ah_326, (0x7000->*di).bFFFFFFFE) + SEQ(bh_328, (0x7000->*di).b0000) + SEQ(bh_328, di[0x00FF]) + SEQ(bh_328, bl_89);
			(0x7000->*di).b0000 = (byte) (ax_91 >> 0x02);
			ah_326 = SLICE(ax_91 >> 0x02, byte, 8);
			++di;
		} while (di != &Eq_38::b0000);
		--cx_100;
		cu8 cl_107 = (byte) cx_100;
		byte ch_281 = SLICE(cx_100, byte, 8);
		struct Eq_120 Eq_38::* bx_478 = SEQ(bh_328, bl_89);
	} while (cx_100 != 0x00);
	do
	{
		++si_101;
		struct Eq_120 Eq_38::* bx_207;
		do
		{
			byte bh_122 = SLICE(bx_207, byte, 8);
			byte bl_104 = (byte) bx_207;
			if (bl_104 == 0x00)
				cl_107 = ~0x00;
			uint16 ax_115 = (uint16) (uint8) bl_104;
			uint16 ax_137 = (uint16) ((uint32) (uint16) (SEQ(SLICE(bp, byte, 8), bx_207[si_101]) + 0x40 << 0x06) /u (ax_115 + 0x01));
			bp = ax_115 + 0x01;
			cu8 al_141 = (byte) (ax_137 >> 0x03);
			if (ax_137 >> 0x03 > 0xFF)
				al_141 = ~0x00;
			word16 cx_196 = SEQ(ch_281, cl_107);
			if (al_141 < cl_107)
			{
				bp = ax_115 + 0x01 << 0x01;
				int16 ax_170 = ((int16) ((bx_207 - 0x01)[si_101] - (bx_207 + 1)[si_101]) << 0x04) - bp;
				byte Eq_21::* di_157 = SEQ(bh_122, al_141);
				ci8 ah_177 = SLICE(ax_170 + 0x80, byte, 8);
				bcu8 al_183 = (byte) (ax_170 + 0x80);
				cx_196 = SEQ(al_141, cl_107);
				if (ax_170 < 0x80)
				{
					ah_177 = 0x00;
					al_183 = 0x00;
				}
				if (ah_177 >= 0x01)
					al_183 = ~0x00;
				uint8 al_188 = al_183 >> 0x04;
				do
				{
					es_8->*di_157 = al_188 + 0x10;
					--cx_196;
					++di_157;
				} while (SLICE(cx_196, byte, 8) < (byte) cx_196);
			}
			ch_281 = SLICE(cx_196, byte, 8);
			cl_107 = (byte) cx_196;
			++bx_207;
		} while (bx_207 != &Eq_38::b0000);
		do
		{
			bi8 bh_210 = SLICE(bx_481, byte, 8);
			bi8 bl_225 = (byte) bx_481;
			word32 dx_ax_270 = (word32) (bh_210 *s bh_210 + bl_225 *s bl_225);
			ch_281 = SLICE((int16) bh_210, byte, 8);
			word16 dx_271 = SLICE(dx_ax_270, word16, 16);
			ci16 ax_273 = (word16) dx_ax_270;
			do
			{
				++dx_271;
				cu8 dl_278 = (byte) dx_271;
				ax_273 = ax_273 - dx_271 - dx_271;
			} while (ax_273 >= 0x00);
			Eq_3 cx_282 = SEQ(ch_281, dl_278);
			bx_481[0x000064A0] = es_8->*cx_282;
			cl_107 = dl_278;
			bp = cx_282;
			bx_207 = bx_481 + 1;
			bx_481 = bx_207;
		} while (bx_481 != &Eq_38::t0001);
		bx_478 = bx_481 + 1;
	} while (__inb(0x60) != 0x01);
}

