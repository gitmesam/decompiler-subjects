// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 Eq_2) ds_si, Register byte ch, Register byte bh, Register byte bl)
void fn0C00_0100(struct Eq_2 * ds_si, byte ch, byte bh, byte bl)
{
	int8 Top_101 = 0;
	__syscall(0x10);
	__outb(0x03C8, 0x00);
	struct Eq_20 * ax_15 = SEQ(SLICE(cs, byte, 8) + 0x10, (byte) cs);
	word16 cx_282 = SEQ(ch, ~0x00);
	do
	{
		__outb(969, 0x3F);
		bui8 cl_26 = (byte) cx_292;
		__outb(969, (cl_26 * 0x02 >> 0x03) + 0x1F);
		__outb(969, cl_26 * 0x02 >> 0x02);
		cx_282 = cx_292 - 0x01;
		Eq_54 ah_bh_285 = (uint16) bh;
		Eq_54 ch_bl_289 = SEQ(SLICE(cx_292 - 0x01, byte, 8), bl);
		cx_292 = cx_282;
	} while (cx_292 != 0x01);
	do
	{
		__fninit();
		struct Eq_65 * Top_46 = Top_101 - 1;
		Top_46->r0000 = 3.14159265358979;
		ds_si->t0000 = ah_bh_285;
		Top_46->rFFFFFFFF = (real64) ds_si->t0000;
		ds_si->t0000 = ch_bl_289;
		Top_46->rFFFFFFFE = (real64) ds_si->t0000;
		ds_si->t0000.u0 = 0x40;
		Top_46->rFFFFFFFE /= (real64) ds_si->t0000;
		Top_46->rFFFFFFFE *= Top_46->r0000;
		Top_46->rFFFFFFFE = sin(Top_46->rFFFFFFFE);
		Top_46->rFFFFFFFD = Top_46->rFFFFFFFF;
		Top_46->rFFFFFFFD /= (real64) ds_si->t0000;
		Top_46->rFFFFFFFD *= Top_46->r0000;
		Top_46->rFFFFFFFD = sin(Top_46->rFFFFFFFD);
		Top_46->rFFFFFFFE *= Top_46->rFFFFFFFD;
		Top_46->rFFFFFFFE = fabs(Top_46->rFFFFFFFE);
		ds_si->t0000.u0 = 0x3F;
		Top_46->rFFFFFFFE *= (real64) ds_si->t0000;
		ds_si->t0000.u0 = (int16) Top_46->rFFFFFFFE;
		Eq_54 cx_81 = ds_si->t0000;
		byte bl_57 = (byte) ch_bl_289;
		byte bh_48 = SLICE(ah_bh_285, byte, 8);
		uint16 ax_87 = (byte) cx_81 * (((bh_48 & bl_57) >> 0x03 & 0x01) + 0x01);
		byte Eq_20::* bx_91 = SEQ(bh_48, bl_57);
		ax_15->*bx_91 = (byte) ax_87;
		Top_101 = Top_46 - 1;
		Eq_54 bx_246 = bx_91 + 1;
		ah_bh_285 = SEQ(SLICE(ax_87, byte, 8), SLICE(bx_91 + 1, byte, 8));
		ch_bl_289 = SEQ(SLICE(cx_81, byte, 8), (byte) (bx_91 + 1));
	} while (bx_91 != &Eq_20::b0001);
	ds_si->w0012 = 0x01E0;
	do
	{
		ds_si->t0000 = bx_246;
		int8 Top_102 = Top_101 - 1;
		Top_102->r0000 = (real64) ds_si->t0000;
		ds_si->r0002 = Top_102->r0000;
		ds_si->t0000.u0 = 0x80;
		Top_102->r0000 /= (real64) ds_si->t0000;
		Top_102->rFFFFFFFF = 3.14159265358979;
		Top_102->r0000 *= Top_102->rFFFFFFFF;
		real64 v24_111 = Top_102->r0000;
		Top_102->r0000 = cos(v24_111);
		Top_102->rFFFFFFFF = sin(v24_111);
		ds_si->r0014 = Top_102->rFFFFFFFF;
		ds_si->r001C = Top_102->r0000;
		Top_101 = Top_102 + 1;
		byte Eq_248::* di_119 = &Eq_248::b0000;
		Eq_54 dx_122 = ~0x63;
		do
		{
			Eq_54 bp_123 = ~0x9F;
			do
			{
				__fninit();
				ds_si->t0000 = dx_122;
				int8 Top_129 = Top_101 - 1;
				Top_129->r0000 = (real64) ds_si->t0000;
				Top_129->r0000 /= (real64) ds_si->w0012;
				ds_si->t0000 = bp_123;
				Top_129->rFFFFFFFF = (real64) ds_si->t0000;
				Top_129->rFFFFFFFF /= (real64) ds_si->w0012;
				Top_129->rFFFFFFFE = ds_si->r001C;
				Top_129->rFFFFFFFE *= Top_129->r0000;
				Top_129->rFFFFFFFD = ds_si->r0014;
				Top_129->rFFFFFFFD *= Top_129->rFFFFFFFF;
				Top_129->rFFFFFFFE += Top_129->rFFFFFFFD;
				Top_129->rFFFFFFFD = ds_si->r001C;
				Top_129->rFFFFFFFD *= Top_129->rFFFFFFFF;
				Top_129->rFFFFFFFC = ds_si->r0014;
				Top_129->rFFFFFFFC *= Top_129->r0000;
				Top_129->rFFFFFFFD -= Top_129->rFFFFFFFC;
				Top_129->rFFFFFFFC = ds_si->r0002;
				Top_129->rFFFFFFFB = 0.0;
				cu8 al_162;
				for (al_162 = 116; al_162 != 0x00; --al_162)
				{
					int8 Top_163 = Top_101 - 6;
					Top_163->rFFFFFFFF = Top_163->r0003;
					Top_163->r0001 += Top_163->rFFFFFFFF;
					Top_163->r0000 += Top_163->r0002;
					Top_163->rFFFFFFFF = Top_163->r0001;
					ds_si->t0000.u0 = (int16) Top_163->rFFFFFFFF;
					Eq_54 bl_179 = ds_si->t0000;
					ds_si->t0000.u0 = (int16) Top_163->r0000;
					Top_101 = Top_163;
					if (al_162 <= ax_15->*SEQ(bl_179, ds_si->t0000))
						break;
				}
				0xA000->*di_119 = al_162;
				++di_119;
				byte bl_219 = (byte) bx_246;
				byte bh_245 = SLICE(bx_246, byte, 8);
				bp_123 = (word16) bp_123 + 1;
			} while (bp_123 != 0xA0);
			dx_122 = (word16) dx_122 + 1;
		} while (dx_122 != 100);
		bx_246 = SEQ(bh_245, bl_219 - 0x01);
		byte al_223;
		byte ah_224;
	} while (bios_kbd_check_keystroke(out al_223, out ah_224));
}

