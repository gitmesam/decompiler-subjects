// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register (memptr (ptr16 Eq_37) byte) di, Register (ptr16 Eq_3) ds)
void fn0C00_0100(byte Eq_37::* di, struct Eq_3 * ds)
{
	int8 Top_174 = 0;
	__syscall(0x10);
	cui16 cx_313 = 0x00;
	do
	{
		bu8 cl_14 = (byte) cx_316;
		__outb(0x03C8, cl_14);
		__outb(969, cl_14);
		__outb(969, (byte) (cl_14 * cl_14 >> 0x06));
		__outb(969, 0x00);
		cs->*di = 0x00;
		bci8 dh_257 = 0x03;
		uint8 al_23 = 0x00;
		bool C_22 = false;
		++di;
		struct Eq_49 Eq_37::* cx_30 = cx_316 - 0x01;
		cx_313 = cx_316 - 0x01;
		cx_316 = cx_313;
	} while (cx_316 != 0x01);
	do
	{
		dh_257 = __rcl(dh_257, (byte) cx_30, C_22);
		cu8 al_43 = (bool) (dh_257 >> 0x03 < 0x00) + (al_23 + (dh_257 >> 0x03));
		bcu8 al_48 = (bool) (al_43 < 0x00) + (al_43 + cx_30[0x0080]);
		(cs->*cx_30).b0000 = al_48 >> 0x01;
		(cs->*cx_30).b0000 = al_48 >> 0x01;
		--cx_30;
		al_23 = al_48 >> 0x01;
		C_22 = SLICE(cond(al_48 >> 0x01), bool, 1);
		byte ch_276 = SLICE(cx_30, byte, 8);
	} while (cx_30 != Eq_37::a0000);
	do
	{
		struct Eq_97 Eq_3::* di_188 = Eq_3::a0200;
		word16 dx_198;
		for (dx_198 = ~0x63; dx_198 != 100; ++dx_198)
		{
			struct Eq_336 Eq_558::* bp_192;
			do
			{
				__fninit();
				int8 Top_65 = Top_174 - 1;
				Top_65->t0000.u1 = 0.301029995663981;
				(ds->*di_188).t0000 = bp_192;
				Top_65->tFFFFFFFF.u1 = (real64) (ds->*di_188).t0000;
				Top_65->tFFFFFFFF /= (real64) ds->w014B;
				(ds->*di_188).t0000 = dx_198;
				Top_65->tFFFFFFFE.u1 = (real64) (ds->*di_188).t0000;
				Top_65->tFFFFFFFE /= (real64) ds->w014B;
				word16 cx_111 = SEQ(ch_276, 0x02);
				do
				{
					struct Eq_101 * Top_80 = Top_174 - 3;
					Top_80->tFFFFFFFF.u1 = (real64) ds->w0111;
					Top_80->tFFFFFFFF /= (real64) ds->w010C;
					Eq_106 v24_87 = Top_80->tFFFFFFFF;
					Top_80->tFFFFFFFF = cos(v24_87);
					Top_80->rFFFFFFFE = sin(v24_87);
					Top_80->tFFFFFFFD = Top_80->tFFFFFFFF;
					Top_80->tFFFFFFFD *= Top_80->rFFFFFFFE;
					Top_80->tFFFFFFFC = Top_80->t0000;
					Top_80->tFFFFFFFC *= Top_80->tFFFFFFFF;
					Top_80->tFFFFFFFD -= Top_80->tFFFFFFFC;
					Eq_106 v25_99 = Top_80->tFFFFFFFD;
					Top_80->tFFFFFFFD = Top_80->t0000;
					Top_80->t0000 = v25_99;
					Top_80->tFFFFFFFF *= Top_80->tFFFFFFFD;
					Top_80->r0001 *= Top_80->rFFFFFFFE;
					Top_80->r0001 += Top_80->tFFFFFFFF;
					Eq_106 v26_108 = Top_80->t0000;
					Top_80->t0000 = Top_80->t0002;
					Top_80->t0002 = v26_108;
					--cx_111;
					byte ch_283 = SLICE(cx_111, byte, 8);
				} while (cx_111 != 0x00);
				Top_80->tFFFFFFFF.u1 = 3.14159265358979;
				Top_80->tFFFFFFFF = (real64) ds->w0111 / Top_80->tFFFFFFFF;
				Top_80->rFFFFFFFE = 0.0;
				Top_80->tFFFFFFFD.u1 = 0.0;
				cui16 cx_160;
				do
				{
					int8 Top_121 = Top_174 - 6;
					Top_121->tFFFFFFFF = Top_121->t0001;
					Top_121->tFFFFFFFF = cos(Top_121->tFFFFFFFF);
					Top_121->tFFFFFFFE = Top_121->t0000;
					Top_121->tFFFFFFFE = cos(Top_121->tFFFFFFFE);
					Top_121->tFFFFFFFF += Top_121->tFFFFFFFE;
					Top_121->tFFFFFFFE = Top_121->tFFFFFFFF;
					Top_121->tFFFFFFFE = cos(Top_121->tFFFFFFFE);
					Top_121->tFFFFFFFF += Top_121->tFFFFFFFE;
					Top_121->tFFFFFFFE.u1 = 0.693147180559945;
					Top_121->tFFFFFFFF += Top_121->tFFFFFFFE;
					Top_121->tFFFFFFFE = Top_121->tFFFFFFFE;
					Top_121->tFFFFFFFE *= Top_121->r0005;
					Top_121->r0002 += Top_121->tFFFFFFFE;
					Top_121->tFFFFFFFE = Top_121->tFFFFFFFE;
					Top_121->tFFFFFFFE *= Top_121->r0004;
					Top_121->t0001 += Top_121->tFFFFFFFE;
					Top_121->tFFFFFFFF *= Top_121->r0003;
					Top_121->t0000 += Top_121->tFFFFFFFF;
					if (Top_121->tFFFFFFFF < ds->t0108)
						break;
					--cx_160;
				} while (cx_160 != 0x00);
				Top_121->t0001 = atan(Top_121->r0002, Top_121->t0001);
				Top_121->t0001 *= (real64) ds->w010C;
				ds->t0100.u0 = (int16) Top_121->t0001;
				Top_121->r0002 *= (real64) ds->w010C;
				ds->w0101 = (int16) Top_121->r0002;
				ui16 cx_177 = cx_160 << 0x01;
				bu8 cl_181 = (byte) cx_177;
				(ds->*di_188).t0000 = SLICE(cl_181 * -(ds->*ds->t0100), byte, 8);
				Top_174 = (struct Eq_4 *) &Top_121->r0003;
				ch_276 = SLICE(cx_177, byte, 8);
				++di_188;
				++bp_192;
			} while (bp_192 != &Eq_558::t00A0);
		}
		--bp_192[113];
		word16 Eq_3::* si_213 = Eq_3::a0200;
		word16 Eq_585::* di_227 = Eq_585::a0000;
		word16 cx_231 = SEQ(0x7D, cl_181);
		while (true)
		{
			ch_276 = SLICE(cx_231, byte, 8);
			if (cx_231 == 0x00)
				break;
			0xA000->*di_227 = ds->*si_213;
			++si_213;
			++di_227;
			--cx_231;
		}
	} while ((int16) __inb(0x60) != 0x01);
	__syscall(0x10);
}

