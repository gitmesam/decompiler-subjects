// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Sequence (ptr32 word16) es_di, Register word16 ax, Register word16 cx, Register (ptr16 Eq_5) ds)
void fn0C00_0100(word16 * es_di, word16 ax, word16 cx, struct Eq_5 * ds)
{
	word16 di = (word16) es_di;
	struct Eq_8 Eq_5::* si_27 = Eq_5::a017A;
	do
	{
		(ds->*si_27).dw0000 &= ~0x00E0E0E0;
		--cx;
		byte al_26 = (byte) ax;
		byte ch_171 = SLICE(cx, byte, 8);
		if (cx == 0x00)
		{
			(ds->*si_27).dw0000 -= ~0x00E0E0E0;
			cx = SEQ(ch_171, 0x09);
		}
		__outw(0x1F1F, ax);
		__outb(0x1F1F, al_26);
		cup16 si_25 = si_27 + 1;
		si_27 = si_25 + 1;
	} while (si_25 + 1 < fp);
	*es_di = ax;
	__syscall(0x10);
	byte Eq_94::* di_110 = di + 2;
	word16 si_119;
	for (si_119 = 199; si_119 != 0x00; --si_119)
	{
		word16 cx_116 = 0x0140;
		do
		{
			Eq_77 ax_52 = 0xA0 - cx_116;
			if (ax_52 < 0x00)
				ax_52 = -ax_52;
			int16 ax_73 = si_119 - 100;
			int32 dx_ax_74 = ax_73 *s ax_73;
			word16 dx_182 = SLICE(dx_ax_74, word16, 16);
			uint16 bp_76 = (word16) (ax_52 * ax_52 + dx_ax_74);
			do
			{
				--dx_182;
				bu8 dl_80 = (byte) dx_182;
			} while (dl_80 * dl_80 - bp_76 > 0x00);
			ci8 al_101 = (byte) dx_182;
			if (al_101 >= 100)
				al_101 = (byte) ax_52;
			0xA000->*di_110 = al_101;
			--cx_116;
			++di_110;
			byte cl_186 = (byte) cx_116;
		} while (cx_116 != 0x00);
	}
	word16 cx_142 = SEQ(0x02, cl_186);
	do
	{
		byte al_125 = __inb(0x03DA);
	} while ((al_125 & 0x08) == 0x00);
	__outb(0x03C8, al_125 & 0x08);
	for (; cx_142 != 0x00; --cx_142)
		__outb(969, al_125 & 0x08);
}

