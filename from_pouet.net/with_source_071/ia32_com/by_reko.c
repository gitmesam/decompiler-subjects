// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte ah, Register byte ch, Register uint16 bx, Register Eq_5 bp)
void fn0C00_0100(byte ah, byte ch, uint16 bx, Eq_5 bp)
{
	__syscall(0x10);
	int16 ax_10 = SEQ(ah, 0x13);
	do
	{
		int16 ax_11 = ax_10 *s 0x03;
		if (ax_11 >= ~0x2AAA)
		{
			Eq_40 cx_17 = SEQ(ch, 0xA0);
			bp += cx_17;
			if (ax_11 <= 0x2AAB)
			{
				++ax_11;
				bp += cx_17;
			}
			else
				bx += 200;
		}
		bp >>= 0x01;
		bx >>= 0x01;
		*((word16) bp + bx * 0x0140) = 0x09;
		*((word16) (bp - 0x04) + bx * 0x0140) = 0x04;
		ax_10 = ax_11;
	} while (SEQ(SLICE(ax_11, byte, 8), __inb(0x60)) != 0x01);
	__syscall(0x10);
}

