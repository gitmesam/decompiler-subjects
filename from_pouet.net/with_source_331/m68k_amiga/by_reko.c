// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 00001000: void fn00001000(Register word32 d0, Register uip32 d2)
void fn00001000(word32 d0, uip32 d2)
{
	struct Eq_4 * a6_4 = *(struct Eq_4 **) 0x04;
	uipr32 d0_7 = SEQ(SLICE(d0, word16, 16), 0xA8C0);
	uint32 d1_253 = 0x00010002;
	byte d0_11[] = AllocMem(d0_7, 0x00010002);
	*(word16 *) 0x00DFF09A = 0x4000;
	g_w1186 = (word16) (d0_11 + 0x06C4);
	uipr32 d0_22 = __swap(d0_11 + 0x06C4);
	g_w1182 = (word16) d0_22;
	byte a1_16[] = d0_11;
	uipr32 d4_249 = SEQ(SLICE(d4, word16, 16), 399);
	do
	{
		d5 = SEQ(SLICE(d5, word16, 16), 0x01AF);
		do
		{
			uint32 d0_41 = SEQ(SLICE(d0_22, word16, 16), (word16) d4_249 - 0x01B0) * (word16) d4_249;
			d1_253 = SEQ(SLICE(d1_253, word16, 16), (word16) d5 - 448) * (word16) d5;
			cui16 v33_51 = (word16) (d0_41 + d1_253);
			word16 v34_52 = SLICE(d0_41, word16, 16);
			d0_22 = SEQ(v34_52, v33_51 & 0x0800);
			if ((v33_51 & 0x0800) != 0x00)
			{
				word16 v42_68 = (word16) d5;
				cu16 v37_62 = (word16) d5;
				d2 = SEQ(SLICE(SEQ(SLICE(d2, word16, 16), v42_68), word24, 8), -(byte) v42_68 - 0x01);
				__bset(a1_16[(int32) (v37_62 >> 0x03)], d2, out a1_16[(int32) (v37_62 >> 0x03)]);
				d0_22 = SEQ(v34_52, v37_62 >> 0x03);
			}
			word16 v48_83 = (word16) d5;
			d5 = SEQ(SLICE(d5, word16, 16), v48_83 - 1);
		} while (v48_83 != 0x00);
		word16 v50_90 = (word16) d4_249;
		a1_16 = (byte (*)[]) (a1_16 + 54);
		d4_249 = SEQ(SLICE(d4_249, word16, 16), v50_90 - 1);
	} while (v50_90 != 0x00);
	g_w1196 = (word16) (d0_11 + 21600);
	g_w1192 = (word16) __swap(d0_11 + 21600);
	struct Eq_132 * a1_100 = d0_11 + 21600;
	word32 * a0_109 = &g_dw1058;
	byte * a2_110 = &g_dw1058;
	int32 d6_111 = 4;
	do
	{
		a1_100->dw1F18 = *a0_109;
		a1_100->dw1F4E = *a0_109;
		word16 v59_124 = (word16) d6_111;
		++a0_109;
		++a1_100;
		d6_111 = SEQ(SLICE(d6_111, word16, 16), v59_124 - 1);
	} while (v59_124 != 0x00);
	*(ptr32 *) 0x00DFF080 = 0x1180;
	byte * a1_135 = &g_dw1058;
	int32 d1_136 = 63;
	do
	{
		--a2_110;
		*a1_135 = *a2_110;
		word16 v62_147 = (word16) d1_136;
		++a1_135;
		d1_136 = SEQ(SLICE(d1_136, word16, 16), v62_147 - 1);
	} while (v62_147 != 0x00);
	int32 d5_151 = 32;
	do
	{
		do
			;
		while (*(byte *) 0x00DFF006 != 0xE0);
		do
			;
		while (*(byte *) 0x00DFF006 != 0xF0);
		uip32 d6_167 = SEQ(SLICE(d6_111, word24, 8), (byte) d6_111 + 0x01);
		cui16 v68_168 = (word16) d6_167 & 0x7F;
		uint32 d0_175 = (uint32) (&g_t1018)[(int32) v68_168];
		g_b119B = -(byte) d0_175 - 0x01 << 0x04;
		uip32 d5_202 = SEQ(SLICE(d5_151, word24, 8), (byte) d5_151 + 0x01);
		cui16 v85_203 = (word16) d5_202 & 0x7F;
		uipr32 d2_216 = SEQ(SLICE(d0_11, word16, 16), (word16) (d0_11 + (SEQ(SLICE(d0_175, word16, 16), (word16) d0_175 >> 0x03) + (uint32) (&g_t1018)[(int32) v85_203] * 0x36)));
		g_w118E = (word16) (d2_216 + 0x02);
		g_w118A = (word16) __swap(d2_216 + 0x02);
		d6_111 = SEQ(SLICE(d6_167, word16, 16), v68_168);
		d5_151 = SEQ(SLICE(d5_202, word16, 16), v85_203);
	} while (__btst(*(byte *) 0x00BFE001, 0x06));
	*(word16 *) 0x00DFF09A = 0xC000;
	FreeMem(d0_11, d0_7);
	*(ptr32 *) 0x00DFF080 = a6_4->ptr009C->ptr0026;
}

