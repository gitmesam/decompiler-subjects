// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 0C00:0100: void fn0C00_0100(Register byte ch, Register word16 si)
void fn0C00_0100(byte ch, word16 si)
{
	__syscall(0x10);
	__outw(0x03D4, 8211);
	Eq_16 ax_159 = 8211;
	struct Eq_18 * ds_8 = 8211;
	while (true)
	{
		++si;
		word16 di_17;
		for (di_17 = 0x0100; di_17 != 0x00; ++di_17)
		{
			byte bl_20 = (byte) di_17;
			cu16 cx_24 = SEQ(ch, bl_20);
			Eq_31 bx_32 = SEQ(SLICE(di_17, byte, 8), bl_20 & 0x1F);
			bi8 al_39 = ((byte) ((uint16) (SEQ(0x14 - (cx_24 >> 0x05), ax_159) /u bx_32) + si) & 0x1F) - 0x10;
			bi8 al_45 = (byte) (bx_32 - 0x10);
			Eq_21 ax_40 = al_39 *s al_39;
			Eq_20 ax_46 = al_45 *s al_45;
			ch = SLICE(cx_24 >> 0x05, byte, 8);
			byte al_49 = SLICE(ax_46 + ax_40 >>u 0x05, byte, 0);
			if (al_49 >= (byte) (cx_24 >> 0x05))
				ds_8->*bx_32 = al_49;
			ax_159 = ax_46 + ax_40 >>u 0x05;
		}
		do
		{
			int16 ax_68 = (int16) SLICE(bx_190, byte, 8);
			bi8 bl_77 = (byte) bx_190;
			int16 ax_79 = (int16) bl_77;
			int16 ax_72 = (int16) ((byte) ax_68 ^ SLICE(ax_68, byte, 8));
			uint8 al_82 = (byte) ax_79 ^ SLICE(ax_79, byte, 8);
			word16 cx_86 = SEQ(SLICE(ax_72, byte, 8), (byte) ax_72 + al_82);
			cui16 ax_96 = (int16) ((word32) SEQ(al_82, al_82) / (cx_86 + 0x01)) >> 0x02 & 0x1F;
			ch = SLICE(cx_86 + 0x01, byte, 8);
			byte bh_127 = SLICE(ax_96, byte, 8);
			byte bl_133 = (byte) ax_96;
			int16 bp_113 = bl_77 *s bl_77 + SLICE(bx_190 *s bx_190, word16, 16);
			word16 ax_114 = 0x00;
			do
			{
				++ax_114;
				byte al_124 = (byte) ax_114;
				byte ah_160 = SLICE(ax_114, byte, 8);
				bp_113 = bp_113 - ax_114 - ax_114;
			} while (bp_113 >= 0x00);
			Eq_83 al_136 = SEQ(al_124, bl_133)[(uint16) bh_127];
			0xA000->*((word16) bx_190 + 25759) = (byte) (al_136.a0000 + 16).a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000;
			ax_159 = SEQ(ah_160, (al_136.a0000 + 16).a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000.a0000);
			ax_159 = (word16) bx_190 + 1;
			bx_190 = ax_159;
		} while (bx_190 != 0x01);
	}
}

