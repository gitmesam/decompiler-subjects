// subject_code.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_code.h"

// 00001000: void fn00001000(Register word32 a5)
void fn00001000(word32 a5)
{
	int32 d0_166;
	ui32 d0_9 = OpenLibrary(0x1164, 39);
	if (d0_9 == 0x00)
		d0_166 = 0x0C;
	else
	{
		int32 d0_52;
		g_dw15E8 = d0_9;
		SuperState();
		if (d0_9 == 0x00)
			d0_52 = -1;
		else
		{
			int32 d0_39;
			(*((word32) (d0_9 << 0x02) + 4))();
			UserState(d0_39);
			d0_52 = d0_39;
		}
		if (d0_52 == 0x00)
		{
l000010EC:
			ui32 d0_134 = g_dw15E8;
			if (d0_134 != 0x00)
			{
				CloseLibrary(d0_134);
				g_dw15E8 = 0x00;
			}
			return;
		}
		d0_166 = -(d0_52 + 0x01);
	}
	struct Eq_23 * a0_153 = &g_t11C8;
	while (true)
	{
		int32 v15_69 = a0_153->dw0000;
		a0_153 += 4;
		if (v15_69 < 0x00 || v15_69 - d0_166 == 0x00)
			break;
		do
		{
			a0_153 = a0_236 + 1;
			a0_236 = a0_153;
		} while (a0_236->dw0000 != 0x00);
		if (!__btst((byte) a0_153, 0x00))
			++a0_153;
	}
	Supervisor(a0_153);
	if (d0_166 != 0x00)
	{
		g_dw15EC = d0_166;
		fn0000112A(&g_t1196);
		fn0000112A(a0_153);
		fn0000112A(&g_t11AE);
		fn0000110C();
		execPrivate1();
	}
	goto l000010EC;
}

// 0000110C: void fn0000110C()
// Called from:
//      fn00001000
void fn0000110C()
{
	execPrivate2();
}

// 0000112A: void fn0000112A(Register (ptr32 Eq_23) a0)
// Called from:
//      fn00001000
void fn0000112A(struct Eq_23 * a0)
{
	if (fn00001156(a0) != 0x00)
		execPrivate3();
}

// 00001156: Register int32 fn00001156(Register (ptr32 Eq_23) a0)
// Called from:
//      fn0000112A
int32 fn00001156(struct Eq_23 * a0)
{
	int32 d0_6 = -1;
	do
	{
		++d0_6;
		a0 = a0_27 + 1;
		a0_27 = a0;
	} while (a0_27->dw0000 != 0x00);
	return d0_6;
}

