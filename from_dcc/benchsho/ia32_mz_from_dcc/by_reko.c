// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0800:01FA: void _main(Register uint16 bx, Register word16 bp, Register word16 di, Register Eq_6 es, Register (ptr Eq_7) ds)
void _main(uint16 bx, word16 bp, word16 di, Eq_6 es, Eq_7 * ds)
{
	word16 di_18;
	struct Eq_9 * es_19;
	_scanf(bx, di, es, ds, 404, out di_18, out es_19);
	ss->*(fp - 0x12) = ss->*(fp - 0x04);
	ss->*(fp - 0x14) = ss->*(fp - 0x06);
	(ss->*(fp - 22)).u0 = 0x0198;
	word16 di_37;
	Eq_6 es_38;
	uint16 bx_39 = _printf(ds, wArg00, out di_37, out es_38);
	ss->*(fp - 0x12) = fp - 0x10;
	(ss->*(fp - 0x14)).u0 = 434;
	word16 di_48;
	Eq_6 es_49;
	uint16 bx_50 = _scanf(bx_39, di_37, es_38, ds, wArg00, out di_48, out es_49);
	ss->*(fp - 0x12) = fp - 0x0E;
	(ss->*(fp - 0x14)).u0 = 0x01B6;
	word16 di_61;
	struct Eq_98 * es_62;
	_scanf(bx_50, di_48, es_49, ds, wArg00, out di_61, out es_62);
	(ss->*(fp - 0x08)).u0 = 0x00;
	(ss->*(fp - 0x0A)).u0 = 0x01;
	while (true)
	{
		Eq_29 dx_71 = ss->*(fp - 0x08);
		Eq_29 ax_72 = ss->*(fp - 0x0A);
		if (dx_71 >= ss->*(fp - 0x04) && (dx_71 > ss->*(fp - 0x04) || ax_72 > ss->*(fp - 0x06)))
			break;
		(ss->*(fp - 0x0C)).u0 = 0x01;
		while (ss->*(fp - 0x0C) <= 0x28)
		{
			Eq_29 ax_115;
			Mem101[ss:fp - 0x10 + 0x00:word16] = Mem82[ss:fp - 0x10 + 0x00:word16] + Mem82[ss:(fp - 0x0E) + 0x00:word16] + Mem82[ss:(fp - 0x0C) + 0x00:word16];
			ss->*(fp - 0x0E) = ss->*(fp - 0x10) >> 0x01;
			ss->*(fp - 0x10) = (int16) ((int32) (ss->*(fp - 0x0E)) % 0x0A);
			if (ss->*(fp - 0x0E) == ss->*(fp - 0x0C))
				ax_115.u0 = 0x01;
			else
				ax_115.u0 = 0x00;
			Eq_29 ax_133;
			ss->*(fp - 0x10) = ax_115;
			ss->*(fp - 0x0E) = ss->*(fp - 0x10) | ss->*(fp - 0x0C);
			ss->*(fp - 0x10) = 0x00 - (-(ss->*(fp - 0x0E)) == 0x00) + 0x01;
			Mem129[ss:fp - 0x0E + 0x00:word16] = Mem126[ss:fp - 0x10 + 0x00:word16] + Mem126[ss:(fp - 0x0C) + 0x00:word16];
			if (ss->*(fp - 0x0E) > ss->*(fp - 0x0C))
				ax_133.u0 = 0x01;
			else
				ax_133.u0 = 0x00;
			ss->*(fp - 0x10) = ax_133;
			ss->*(fp - 0x0C) = (word16) (ss->*(fp - 0x0C)) + 0x01;
		}
		Eq_29 v14_91 = (word16) (ss->*(fp - 0x0A)) + 0x01;
		ss->*(fp - 0x0A) = v14_91;
		Mem96[ss:fp - 0x08 + 0x00:word16] = Mem92[ss:fp - 0x08 + 0x00:word16] + (v14_91 <u 0x00);
	}
	ss->*(fp - 0x12) = ss->*(fp - 0x10);
	(ss->*(fp - 0x14)).u0 = 442;
	word16 di_160;
	struct Eq_162 * es_161;
	_printf(ds, wArg00, out di_160, out es_161);
}

// 0800:0C73: void __LONGTOA(Register (ptr Eq_7) ds, Stack byte bArg02, Stack byte bArg04, Stack Eq_16 wArg06, Stack (memptr (ptr Eq_7) byte) wArg08, Stack uint16 wArg0A, Stack Eq_359 wArg0C)
void __LONGTOA(Eq_7 * ds, byte bArg02, byte bArg04, Eq_16 wArg06, byte Eq_7::*wArg08, uint16 wArg0A, Eq_359 wArg0C)
{
	byte Eq_7::* di_119 = wArg08;
	cu8 bl_25 = (byte) wArg06;
	if (wArg06 > 0x24 || bl_25 < 0x02)
	{
l0800_0CE1:
		ds->*di_119 = 0x00;
		return;
	}
	uint16 ax_103 = wArg0A;
	Eq_359 cx_145 = wArg0C;
	if (wArg0C < 0x00 && bArg04 != 0x00)
	{
		ds->*wArg08 = 0x2D;
		ax_103 = -wArg0A;
		di_119 = wArg08 + 0x01;
		cx_145 = -wArg0C - (ax_103 == 0x00);
	}
	byte Eq_7::* si_104 = fp - 0x24;
	if (cx_145 != 0x00)
	{
		do
		{
			uint32 dx_ax_152 = (uint32) (uint16) cx_145;
			uint32 dx_ax_158 = SEQ((uint16) (dx_ax_152 % wArg06), ax_103);
			ds->*si_104 = (byte) (uint16) (dx_ax_158 % wArg06);
			Eq_359 ax_155 = (uint16) (dx_ax_152 /u wArg06);
			cx_145 = ax_155;
			ax_103 = (uint16) (dx_ax_158 /u wArg06);
			si_104 = si_104 + 0x01;
		} while (ax_155 != 0x00);
l0800_0CC4:
		if (ax_103 == 0x00)
		{
			word16 cx_113 = si_104 + (0x24 - fp);
			do
			{
				byte al_131;
				si_104 = si_104 - 0x01;
				cu8 al_123 = ds->*si_104;
				if (al_123 < 0x0A)
					al_131 = al_123 + 0x30;
				else
					al_131 = al_123 - 0x0A + bArg02;
				ds->*di_119 = al_131;
				di_119 = di_119 + 0x01;
				cx_113 = cx_113 - 0x01;
			} while (cx_113 != 0x00);
			goto l0800_0CE1;
		}
	}
	uint32 dx_ax_88 = (uint32) (uint16) ax_103;
	ds->*si_104 = (byte) (uint16) (dx_ax_88 % wArg06);
	ax_103 = (uint16) (dx_ax_88 /u wArg06);
	si_104 = si_104 + 0x01;
	goto l0800_0CC4;
}

// 0800:0E6B: Register word16 _printf(Register (ptr Eq_7) ds, Stack Eq_16 wArg02, Register out ptr16 diOut, Register out (ptr Eq_59) esOut)
word16 _printf(Eq_7 * ds, Eq_16 wArg02, ptr16 & diOut, Eq_59 * & esOut)
{
	word16 di_20;
	struct Eq_460 * es_21;
	word16 bx_22 = __VPRINTER(fp - 0x02, ds, fp + 0x04, wArg02, out di_20, out es_21);
	return bx_22;
}

// 0800:1064: void __REALCVT()
void __REALCVT()
{
	word16 sp_4;
	struct Eq_479 * ds_5;
	ds->t05C8();
}

// 0800:1068: Register Eq_483 fn0800_1068(Register Eq_483 di, Register (ptr Eq_484) es, Register (ptr Eq_7) ds, Stack word16 wArg02)
Eq_483 fn0800_1068(Eq_483 di, Eq_484 * es, Eq_7 * ds, word16 wArg02)
{
	bcu8 dh_8 = SLICE(wArg02, byte, 8);
	es->*di = ds->*((word16) ((uint16) (dh_8 >> 0x04)) + 1233);
	es->*((word32) di + 0x01) = ds->*((word16) ((uint16) (dh_8 & 0x0F)) + 1233);
	bcu8 dl_9 = (byte) wArg02;
	es->*((word32) di + 0x02) = ds->*((word16) ((uint16) (dl_9 >> 0x04)) + 1233);
	es->*((word32) di + 0x03) = ds->*((word16) ((uint16) (dl_9 & 0x0F)) + 1233);
	return (word32) di + 0x04;
}

// 0800:1093: Register Eq_529 __VPRINTER(Register mp16 bp, Register (ptr Eq_7) ds, Stack (memptr (ptr Eq_7) Eq_466) wArg02, Stack Eq_16 wArg04, Register out ptr16 diOut, Register out (ptr Eq_469) esOut)
Eq_529 __VPRINTER(mp16 bp, Eq_7 * ds, Eq_466 Eq_7::*wArg02, Eq_16 wArg04, ptr16 & diOut, Eq_469 * & esOut)
{
}

// 0800:10AC: Register word16 fn0800_10AC(Register Eq_653 di, Register (ptr Eq_484) es)
word16 fn0800_10AC(Eq_653 di, Eq_484 * es)
{
}

// 0800:10B9: Register Eq_529 fn0800_10B9(Register byte al, Register (memptr (ptr Eq_1402) Eq_576) bp, Register (memptr (ptr Eq_7) byte) di, Register (ptr Eq_7) ds, Register out Eq_672 dxOut, Register out Eq_673 bxOut, Register out Eq_674 diOut, Register out (ptr Eq_675) esOut)
Eq_529 fn0800_10B9(byte al, Eq_576 Eq_1402::*bp, byte Eq_7::*di, Eq_7 * ds, Eq_672 & dxOut, Eq_673 & bxOut, Eq_674 & diOut, Eq_675 * & esOut)
{
	*dxOut = dx;
	*bxOut = bx;
	*esOut = es;
	ds->*di = al;
	ci8 v9_9 = ss->*(bp - 0x55) - 0x01;
	ss->*(bp - 0x55) = v9_9;
	word16 di_6;
	*diOut = di + 0x01;
	if (v9_9 <= 0x00)
		return cx;
	word16 dx_21;
	word16 bx_22;
	word16 di_23;
	struct Eq_1424 * es_24;
	return fn0800_10C1(bp, di + 0x01, out dx_21, out bx_22, out di_23, out es_24);
}

// 0800:10C1: Register word16 fn0800_10C1(Register (memptr (ptr Eq_1402) Eq_576) bp, Register (memptr (ptr Eq_7) byte) di, Register out ptr16 dxOut, Register out Eq_579 bxOut, Register out Eq_580 diOut, Register out (ptr Eq_581) esOut)
word16 fn0800_10C1(Eq_576 Eq_1402::*bp, byte Eq_7::*di, ptr16 & dxOut, Eq_579 & bxOut, Eq_580 & diOut, Eq_581 * & esOut)
{
	struct Eq_1433 Eq_1435::* sp_30;
	word16 bx_31;
	struct Eq_1435 * ss_32;
	word16 cx_33;
	word16 dx_34;
	struct Eq_1438 * es_35;
	union Eq_1455 Eq_1435::* bp_36;
	word16 ax_37;
	word16 di_38;
	byte SCZO_39;
	struct Eq_1443 * cs_40;
	byte SZO_41;
	byte C_42;
	byte Z_43;
	(cs->*(ss->*bp).ptr000A)();
	if (ax_37 == 0x00)
		(ss_32->*(bp_36 - 0x02)).u1 = 0x01;
	(ss_32->*(bp_36 - 0x55)).u0 = 0x50;
	(ss_32->*(bp_36 - 88)).u1 = (word16) (ss_32->*(bp_36 - 88)).u1 + di_38;
	word16 di_52;
	*diOut = bp_36 - 0x54;
	struct Eq_1476 * es_53;
	*esOut = (ss_32->*sp_30).ptr0000;
	word16 dx_55;
	*dxOut = (ss_32->*sp_30).w0002;
	word16 cx_57 = (ss_32->*sp_30).w0004;
	word16 bx_59;
	*bxOut = (ss_32->*sp_30).w0006;
	return cx_57;
}

// 0800:16F4: Register uint16 _scanf(Register uint16 bx, Register word16 di, Register Eq_6 es, Register (ptr Eq_7) ds, Stack Eq_16 wArg02, Register out ptr16 diOut, Register out (ptr Eq_18) esOut)
uint16 _scanf(uint16 bx, word16 di, Eq_6 es, Eq_7 * ds, Eq_16 wArg02, ptr16 & diOut, Eq_18 * & esOut)
{
	word16 bp_26;
	word16 di_27;
	struct Eq_1503 * es_28;
	uint16 bx_29 = __scanner(bx, fp - 0x02, di, es, ds, 2066, 7557, 0x032A, wArg02, out bp_26, out di_27, out es_28);
	return bx_29;
}

// 0800:1713: Register uint16 __scanner(Register uint16 bx, Register mp16 bp, Register word16 di, Register Eq_6 es, Register (ptr Eq_7) ds, Stack Eq_6 wArg02, Stack Eq_6 wArg04, Stack Eq_6 wArg06, Stack Eq_16 wArg08, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr Eq_1518) esOut)
uint16 __scanner(uint16 bx, mp16 bp, word16 di, Eq_6 es, Eq_7 * ds, Eq_6 wArg02, Eq_6 wArg04, Eq_6 wArg06, Eq_16 wArg08, ptr16 & bpOut, ptr16 & diOut, Eq_1518 * & esOut)
{
}

// 0800:1728: Register Eq_2495 fn0800_1728(Register (memptr Eq_6 Eq_1529) bp, Register (ptr Eq_7) ds, Register out (ptr Eq_1883) esOut)
Eq_2495 fn0800_1728(Eq_1529 Eq_6::*bp, Eq_7 * ds, Eq_1883 * & esOut)
{
	union Eq_2495 Eq_7::* di_5 = bp[0x06];
	if (((ss->*(bp - 0x29)).t0000 & 0x20) == 0x00)
	{
		Eq_2495 di_26 = ds->*di_5;
		bp[0x06] = (union Eq_2495 Eq_7::*) ((char *) bp[0x06] + 0x02);
		struct Eq_2522 * es_29;
		*esOut = ds;
		return di_26;
	}
	else
	{
		Eq_2495 es_di_19 = ds->*di_5;
		bp[0x06] = (union Eq_2495 Eq_7::*) ((char *) bp[0x06] + 0x04);
		struct Eq_2536 * es_21;
		*esOut = SLICE(es_di_19, selector, 16);
		return (word16) es_di_19;
	}
}

// 0800:18B8: Register uint16 fn0800_18B8(Register uint16 ax, Register (memptr Eq_6 Eq_1529) bp, Register (ptr Eq_7) ds, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr Eq_1859) esOut)
uint16 fn0800_18B8(uint16 ax, Eq_1529 Eq_6::*bp, Eq_7 * ds, ptr16 & bxOut, ptr16 & bpOut, ptr16 & diOut, Eq_1859 * & esOut)
{
	word16 bx_5;
	word16 bp_6;
	word16 di_7;
	struct Eq_2543 * es_8;
	return fn0800_1B26(ax, bp, ds, out bx_5, out bp_6, out di_7, out es_8);
}

// 0800:198F: Register uint16 fn0800_198F(Register uint16 ax, Register (memptr Eq_6 Eq_1529) bp, Register (ptr Eq_7) ds, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr Eq_1818) esOut)
uint16 fn0800_198F(uint16 ax, Eq_1529 Eq_6::*bp, Eq_7 * ds, ptr16 & bxOut, ptr16 & bpOut, ptr16 & diOut, Eq_1818 * & esOut)
{
	word16 bx_5;
	word16 bp_6;
	word16 di_7;
	struct Eq_2561 * es_8;
	return fn0800_1B26(ax, bp, ds, out bx_5, out bp_6, out di_7, out es_8);
}

// 0800:1B0B: Register word16 fn0800_1B0B(Register (memptr Eq_6 Eq_1529) bp, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr Eq_1894) esOut)
word16 fn0800_1B0B(Eq_1529 Eq_6::*bp, ptr16 & bpOut, ptr16 & diOut, Eq_1894 * & esOut)
{
	ss->*(v3 - 0x02) = bp[0x04];
	ss->*(v3 - 0x04) = ~0x00;
	word16 sp_12;
	Eq_6 ss_13;
	struct Eq_1529 Eq_6::* bp_14;
	word16 ax_15;
	struct Eq_2589 * cs_16;
	word16 cx_17;
	byte SCZO_18;
	byte C_19;
	struct Eq_2593 * es_20;
	word16 di_21;
	word16 si_22;
	(cs->*bp[0x03])();
	ss_13->*(bp_14 - 0x28) = ss_13->*(bp_14 - 0x28) - (ss_13->*(bp_14 - 0x28) < 0x01);
	word16 bp_32;
	word16 di_33;
	struct Eq_2621 * es_34;
	return fn0800_1B1F(bp_14, out bp_32, out di_33, out es_34);
}

// 0800:1B1F: Register Eq_2191 fn0800_1B1F(Register (memptr Eq_6 Eq_1529) bp, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr Eq_2147) esOut)
Eq_2191 fn0800_1B1F(Eq_1529 Eq_6::*bp, ptr16 & bpOut, ptr16 & diOut, Eq_2147 * & esOut)
{
	struct Eq_2628 * es_4;
	*esOut = (ss->*v3).ptr0000;
	Eq_2191 ax_7 = ss->*(bp - 0x28);
	word16 di_8;
	*diOut = (ss->*v3).w0002;
	word16 bp_12;
	*bpOut = (ss->*bp).a0000[0x00];
	return ax_7;
}

// 0800:1B26: Register uint16 fn0800_1B26(Register uint16 ax, Register (memptr Eq_6 Eq_1529) bp, Register (ptr Eq_7) ds, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr Eq_2552) esOut)
uint16 fn0800_1B26(uint16 ax, Eq_1529 Eq_6::*bp, Eq_7 * ds, ptr16 & bxOut, ptr16 & bpOut, ptr16 & diOut, Eq_2552 * & esOut)
{
}

// 0800:1BB2: void __scantod()
void __scantod()
{
	word16 sp_4;
	struct Eq_2737 * ds_5;
	ds->t05CA();
}

// 0800:1BB6: void __scanrslt()
void __scanrslt()
{
	word16 sp_4;
	struct Eq_2742 * ds_5;
	ds->t05CC();
}

// 0800:1BBA: void __scanpop()
void __scanpop()
{
	word16 sp_4;
	struct Eq_2747 * ds_5;
	ds->t05CE();
}

// 0800:1BBE: FlagGroup bool fn0800_1BBE(Register cu8 cl, Register cu8 bl)
bool fn0800_1BBE(cu8 cl, cu8 bl)
{
	bool C_13;
	cu8 bl_26 = bl - 0x30;
	if (bl >= 0x30)
	{
		if (bl <= 0x39)
		{
l0800_1BDB:
			if (bl_26 < cl)
			{
				C_13 = false;
				return C_13;
			}
			goto l0800_1BE7;
		}
		if (bl <= 0x5A && bl >= 0x30)
			bl_26 = bl - 55;
		else
			bl_26 = bl - 0x57;
		if (bl_26 > 0x09)
			goto l0800_1BDB;
	}
l0800_1BE7:
	C_13 = true;
	return C_13;
}

// 0800:1BEC: Register Eq_6 __scantol(Register Eq_6 ax, Register ui16 bx, Register (ptr Eq_7) ds, Stack Eq_6 wArg06, Stack Eq_6 wArg08, Stack Eq_16 wArg0A, Stack (memptr (ptr Eq_2803) word16) wArg0C, Stack (memptr (ptr Eq_2803) word16) wArg0E, Register out ptr16 dxOut, Register out Eq_2047 bxOut, Register out ptr16 diOut, Register out (ptr Eq_2049) esOut)
Eq_6 __scantol(Eq_6 ax, ui16 bx, Eq_7 * ds, Eq_6 wArg06, Eq_6 wArg08, Eq_16 wArg0A, word16 Eq_2803::*wArg0C, word16 Eq_2803::*wArg0E, ptr16 & dxOut, Eq_2047 & bxOut, ptr16 & diOut, Eq_2049 * & esOut)
{
}

