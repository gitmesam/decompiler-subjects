// subject_0800.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_0800.h"

// 0800:01FA: void _main(Register Eq_4 di, Register (ptr16 Eq_5) es, Register Eq_6 ds)
void _main(Eq_4 di, struct Eq_5 * es, Eq_6 ds)
{
	struct Eq_7 Eq_31::* bp_21;
	Eq_6 bx_22;
	struct Eq_5 * es_26;
	word16 di_248;
	word16 dx_25 = _scanf(di, es, ds, 404, out bx_22, out bp_21, out di_248, out es_26);
	Eq_28 sp_28 = <invalid>;
	Eq_6 cx_36 = ss->*((word32) sp_28 + 2);
	ss->*((word32) sp_28 + 2) = (ss->*bp_21).tFFFFFFFE;
	ss->*sp_28 = (ss->*bp_21).ptrFFFFFFFC;
	Mem46[ss:sp_28 + -2:word16] = 0x0198;
	Eq_4 di_48 = _printf(cx_36, dx_25, bx_22, ds, ss->*((word32) sp_28 - 2));
	ss->*((word32) sp_28 + 2) = bp_21 - 0x0E;
	Mem62[ss:sp_28 + 0x00:word16] = 434;
	word16 bp_64;
	Eq_4 di_67;
	struct Eq_5 * es_69;
	word16 bx_249;
	_scanf(di_48, es_26, ds, ss->*sp_28, out bx_249, out bp_64, out di_67, out es_69);
	word16 sp_71 = <invalid>;
	ss->*((word16) sp_71 + 2) = bp_64 - 0x0C;
	Mem86[ss:sp_71 + 0x00:word16] = 0x01B6;
	struct Eq_95 Eq_31::* bp_88;
	struct Eq_96 * es_251;
	word16 di_250;
	Eq_6 bx_131;
	_scanf(di_67, es_69, ds, ss->*sp_71, out bx_131, out bp_88, out di_250, out es_251);
	word16 sp_95 = <invalid>;
	Eq_6 cx_103 = ss->*((word16) sp_95 + 2);
	(ss->*bp_88).tFFFFFFFA.u0 = 0x00;
	(ss->*bp_88).wFFFFFFF8 = 0x01;
	while (true)
	{
		Eq_6 dx_110 = (ss->*bp_88).tFFFFFFFA;
		cup16 ax_111 = (ss->*bp_88).wFFFFFFF8;
		if (dx_110 >= (ss->*bp_88).tFFFFFFFE && (dx_110 > (ss->*bp_88).tFFFFFFFE || ax_111 > (ss->*bp_88).wFFFFFFFC))
			break;
		(ss->*bp_88).wFFFFFFF6 = 0x01;
		while ((ss->*bp_88).wFFFFFFF6 <= 0x28)
		{
			Eq_6 ax_176;
			(ss->*bp_88).tFFFFFFF2 = (word16) (ss->*bp_88).tFFFFFFF2 + (ss->*bp_88).wFFFFFFF4 + (ss->*bp_88).wFFFFFFF6;
			(ss->*bp_88).wFFFFFFF4 = (ss->*bp_88).tFFFFFFF2 >> 0x01;
			(ss->*bp_88).tFFFFFFF2 = (int16) ((int32) (ss->*bp_88).wFFFFFFF4 % 0x0A);
			bx_131.u0 = 0x0A;
			if ((ss->*bp_88).wFFFFFFF4 == (ss->*bp_88).wFFFFFFF6)
				ax_176.u0 = 0x01;
			else
				ax_176.u0 = 0x00;
			Eq_6 ax_199;
			(ss->*bp_88).tFFFFFFF2 = ax_176;
			(ss->*bp_88).wFFFFFFF4 = (ss->*bp_88).tFFFFFFF2 | (ss->*bp_88).wFFFFFFF6;
			(ss->*bp_88).tFFFFFFF2 = !(ss->*bp_88).wFFFFFFF4;
			(ss->*bp_88).wFFFFFFF4 = (word16) (ss->*bp_88).tFFFFFFF2 + (ss->*bp_88).wFFFFFFF6;
			if ((ss->*bp_88).wFFFFFFF4 > (ss->*bp_88).wFFFFFFF6)
				ax_199.u0 = 0x01;
			else
				ax_199.u0 = 0x00;
			(ss->*bp_88).tFFFFFFF2 = ax_199;
			++(ss->*bp_88).wFFFFFFF6;
		}
		cup16 v14_210 = (ss->*bp_88).wFFFFFFF8 + 0x01;
		(ss->*bp_88).wFFFFFFF8 = v14_210;
		Mem215[ss:bp_88 + -6:word16] = Mem211[ss:bp_88 + -6:word16] + (v14_210 <u 0x00);
	}
	ss->*((word16) sp_95 + 2) = (ss->*bp_88).tFFFFFFF2;
	Mem127[ss:sp_95 + 0x00:word16] = 442;
	_printf(cx_103, dx_110, bx_131, ds, ss->*sp_95);
}

// 0800:0C73: void __LONGTOA(Register Eq_6 ds, Stack Eq_6 bArg02, Stack Eq_279 bArg04, Stack Eq_6 wArg06, Stack (memptr Eq_6 byte) wArg08, Stack Eq_6 wArg0A, Stack Eq_6 wArg0C)
// Called from:
//      __VPRINTER
void __LONGTOA(Eq_6 ds, Eq_6 bArg02, Eq_279 bArg04, Eq_6 wArg06, byte Eq_6::* wArg08, Eq_6 wArg0A, Eq_6 wArg0C)
{
	byte Eq_6::* di_127 = wArg08;
	cu8 bl_28 = (byte) wArg06;
	if (wArg06 > 0x24 || bl_28 < 0x02)
	{
l0800_0CE1:
		ds->*di_127 = 0x00;
		return;
	}
	Eq_6 ax_31 = wArg0A;
	Eq_6 cx_33 = wArg0C;
	if (wArg0C < 0x00 && bArg04 != 0x00)
	{
		ds->*wArg08 = 0x2D;
		ax_31 = -wArg0A;
		di_127 = wArg08 + 1;
		cx_33 = -wArg0C - (ax_31 == 0x00);
	}
	byte Eq_6::* si_109 = fp - 0x24;
	if (cx_33 != 0x00)
	{
		do
		{
			uint32 dx_ax_55 = (uint32) (uint16) cx_33;
			uint32 dx_ax_63 = SEQ((uint16) (dx_ax_55 % wArg06), ax_31);
			ds->*si_109 = (byte) (uint16) (dx_ax_63 % wArg06);
			Eq_6 ax_59 = (uint16) (dx_ax_55 /u wArg06);
			cx_33 = ax_59;
			ax_31 = (uint16) (dx_ax_63 /u wArg06);
			++si_109;
		} while (ax_59 != 0x00);
l0800_0CC4:
		if (ax_31 == 0x00)
		{
			word16 cx_106;
			do
			{
				byte al_119;
				--si_109;
				cu8 al_113 = ds->*si_109;
				if (al_113 < 0x0A)
					al_119 = al_113 + 0x30;
				else
					al_119 = (byte) ((word16) bArg02 + (al_113 - 0x0A));
				ds->*di_127 = al_119;
				++di_127;
				--cx_106;
			} while (cx_106 != 0x00);
			goto l0800_0CE1;
		}
	}
	uint32 dx_ax_82 = (uint32) (uint16) ax_31;
	ds->*si_109 = (byte) (uint16) (dx_ax_82 % wArg06);
	ax_31 = (uint16) (dx_ax_82 /u wArg06);
	++si_109;
	goto l0800_0CC4;
}

// 0800:0E6B: Register word16 _printf(Register Eq_6 cx, Register Eq_6 dx, Register Eq_6 bx, Register Eq_6 ds, Stack (memptr Eq_6 Eq_17) wArg02)
// Called from:
//      _main
word16 _printf(Eq_6 cx, Eq_6 dx, Eq_6 bx, Eq_6 ds, struct Eq_17 Eq_6::* wArg02)
{
	word16 di_26 = __VPRINTER(cx, dx, bx, ds, fp + 0x04, wArg02);
	return di_26;
}

// 0800:1064: void __REALCVT(Register Eq_6 ds)
// Called from:
//      __VPRINTER
void __REALCVT(Eq_6 ds)
{
	(*((word16) ds + 0x05C8))();
}

// 0800:1068: Register word16 fn0800_1068(Sequence (ptr32 Eq_399) es_di, Register Eq_6 ds, Stack Eq_6 wArg02)
// Called from:
//      __VPRINTER
word16 fn0800_1068(struct Eq_399 * es_di, Eq_6 ds, Eq_6 wArg02)
{
	word16 di = (word16) es_di;
	bcu8 dh_13 = SLICE(wArg02, byte, 8);
	es_di->b0000 = (uint16) (dh_13 >> 0x04) + 1233;
	es_di->b0001 = (uint16) (dh_13 & 0x0F) + 1233;
	bcu8 dl_29 = (byte) wArg02;
	es_di->b0002 = (uint16) (dl_29 >> 0x04) + 1233;
	es_di->b0003 = (uint16) (dl_29 & 0x0F) + 1233;
	return di + 4;
}

// 0800:1093: Register word16 __VPRINTER(Register Eq_6 cx, Register Eq_6 dx, Register Eq_6 bx, Register Eq_6 ds, Stack Eq_6 wArg02, Stack (memptr Eq_6 Eq_17) wArg04)
// Called from:
//      _printf
word16 __VPRINTER(Eq_6 cx, Eq_6 dx, Eq_6 bx, Eq_6 ds, Eq_6 wArg02, struct Eq_17 Eq_6::* wArg04)
{
	ci8 bLoc57_1221 = 0x50;
	struct Eq_448 Eq_6::* sp_1014 = fp - 0xA0;
	byte Eq_6::* wLoc98_1224 = fp - 0x56;
l0800_10F6:
	byte Eq_6::* di_1001 = wLoc98_1224;
l0800_10FA:
	struct Eq_17 Eq_6::* si_1118 = wArg04;
	while (true)
	{
		byte al_37 = (ds->*si_1118).b0000;
		++si_1118;
		byte al_1064 = al_37;
		if (al_37 == 0x00)
			break;
		if (al_37 == 0x25)
		{
			al_1064 = (ds->*si_1118).b0000;
			++si_1118;
			if (al_1064 != 0x25)
			{
				wLoc98_1224 = di_1001;
				cu8 ch_1153 = 0x00;
				Eq_6 wLoc8E_1229 = 0x00;
				cui16 wLoc9A_1230 = 0x00;
				byte bLoc8F_1231 = 0x00;
				Eq_6 wLoc94_1232 = ~0x00;
				Eq_6 wLoc92_1233 = ~0x00;
				while (true)
				{
					Eq_6 ax_65 = (uint16) (uint8) al_1064;
					cu8 bl_68 = (byte) ax_65;
					byte bh_73 = SLICE(ax_65, byte, 8);
					byte dl_132 = (byte) ax_65;
					bx = SEQ(bh_73, bl_68 - 0x20);
					cx = SEQ(ch_1153, 0x00);
					if (bl_68 >= 0x80)
						break;
					bx = SEQ(bh_73, ds->*((word16) bx + 0x04E1));
					cx = SEQ(ch_1153, 0x00);
					dx = ax_65;
					if (bx > 0x17)
						goto l0800_1580;
					byte * es_di_1895;
					byte * es_di_1899;
					Eq_6 bx_1912;
					byte * es_di_1908;
					Eq_6 bx_1892;
					Eq_6 bx_1902;
					byte bLoc95_1275;
					Eq_6 dx_226;
					Eq_6 cx_173;
					byte Eq_558::* di_485;
					struct Eq_558 * es_488;
					Eq_6 dx_355;
					Eq_6 ax_354;
					bx <<= 0x01;
					byte bl_450 = (byte) (bx << 0x01);
					dx = ax_65;
					cx = SEQ(ch_1153, 0x00);
					switch (bx)
					{
					case 0x00:
						cx = SEQ(ch_1153, 0x00);
						if (ch_1153 > 0x00)
							goto l0800_1195;
						if (bLoc8F_1231 != 0x2B)
							bLoc8F_1231 = dl_132;
						break;
					case 0x01:
						cx = SEQ(ch_1153, 0x00);
						if (ch_1153 > 0x00)
							goto l0800_1195;
						wLoc9A_1230 |= 0x01;
						break;
					case 0x02:
						Eq_6 ax_952 = ds->*wArg02;
						wArg02 = (word16) wArg02 + 2;
						if (ch_1153 < 0x02)
						{
							wLoc94_1232 = ax_952;
							ch_1153 = 0x03;
							goto l0800_1205;
						}
						cx = SEQ(ch_1153, 0x00);
						if (ch_1153 != 0x04)
							goto l0800_11EE;
						wLoc92_1233 = ax_952;
						++ch_1153;
						break;
					case 0x03:
						cx = SEQ(ch_1153, 0x00);
						if (ch_1153 > 0x00)
							goto l0800_1195;
						wLoc9A_1230 |= 0x02;
						break;
					case 0x04:
						cx = SEQ(ch_1153, 0x00);
						if (ch_1153 >= 0x04)
							goto l0800_11EE;
						ch_1153 = 0x04;
						break;
					case 0x05:
l0800_1220:
						dx = bx;
						Eq_6 ax_902 = (int16) ((byte) ax_65 - 0x30);
						if (ch_1153 <= 0x02)
						{
							ch_1153 = 0x02;
							wLoc94_1232 = ax_902;
							if (wLoc94_1232 < 0x00)
								goto l0800_1205;
							wLoc94_1232 = (word16) ax_902 + ((wLoc94_1232 << 0x03) + (wLoc94_1232 << 0x01));
						}
						else
						{
							cx = SEQ(ch_1153, 0x00);
							if (ch_1153 != 0x04)
							{
l0800_11EE:
								goto l0800_1580;
							}
							wLoc92_1233 = ax_902;
							if (wLoc92_1233 < 0x00)
								goto l0800_1205;
							wLoc92_1233 = (word16) ax_902 + ((wLoc92_1233 << 0x03) + (wLoc92_1233 << 0x01));
						}
						break;
					case 0x06:
						wLoc9A_1230 |= 0x10;
						ch_1153 = 0x05;
						break;
					case 0x07:
						wLoc9A_1230 = (wLoc9A_1230 | 0x0100) & ~0x10;
						ch_1153 = 0x05;
						break;
					case 0x08:
						wLoc9A_1230 = wLoc9A_1230 & ~0x10 | 0x80;
						ch_1153 = 0x05;
						break;
					case 0x09:
						if (ch_1153 > 0x00)
							goto l0800_1220;
						if ((wLoc9A_1230 & 0x02) == 0x00)
						{
							wLoc9A_1230 |= 0x08;
							ch_1153 = 0x01;
						}
						else
						{
l0800_1205:
						}
						break;
					case 0x0A:
						int32 dx_ax_363 = (int32) (ds->*wArg02);
						bLoc95_1275 = 0x01;
						ax_354 = (word16) dx_ax_363;
						dx_355 = SLICE(dx_ax_363, word16, 16);
						bx_1892 = SEQ(0x0A, bl_450);
						goto l0800_12C2;
					case 11:
						bx_1912 = SEQ(0x08, bl_450);
						goto l0800_129A;
					case 0x0C:
						bx_1902 = SEQ(0x0A, bl_450);
						goto l0800_129F;
					case 0x0D:
						bx_1912 = SEQ(0x10, dl_132 + 233);
l0800_129A:
						bLoc8F_1231 = 0x00;
						bx_1902 = bx_1912;
l0800_129F:
						bLoc95_1275 = 0x00;
						ax_354 = ds->*wArg02;
						dx_355.u0 = 0x00;
						bx_1892 = bx_1902;
l0800_12C2:
						struct Eq_777 Eq_6::* di_365 = (word16) wArg02 + 1;
						byte bh_430 = SLICE(bx_1892, byte, 8);
						Eq_6 di_366 = &di_365->t0001;
						wArg04 = si_1118;
						if ((wLoc9A_1230 & 0x10) != 0x00)
						{
							dx_355 = (ds->*di_365).t0001;
							di_366 = (char *) &di_365->t0001 + 2;
						}
						wArg02 = di_366;
						if (ax_354 == 0x00)
						{
							byte dh_1152 = SLICE(dx_355, byte, 8);
							if (dx_355 != 0x00)
								goto l0800_1311;
							bx = bx_1892;
							if (wLoc92_1233 == 0x00)
							{
								cx = wLoc94_1232;
								dx = dx_355;
								if (wLoc94_1232 != 0x00)
								{
									dx = dx_355;
									if (wLoc94_1232 != ~0x00)
									{
										byte dl_841;
										if ((wLoc9A_1230 & 0x08) != 0x00)
											dl_841 = 0x30;
										else
											dl_841 = 0x20;
										do
										{
											dx = SEQ(dh_1152, dl_841);
											di_1001 = fn0800_10B9(SEQ(ds, di_1001), SEQ(ss, fp - 2), dl_841, cx, dx, bx_1892);
											sp_1014 = (struct Eq_448 Eq_6::*) ((char *) &sp_1014->t0000 + 0x0000FFFE);
											--cx;
										} while (cx != 0x00);
									}
								}
								goto l0800_10FA;
							}
						}
						else
						{
l0800_1311:
							wLoc9A_1230 |= 0x04;
						}
						struct Eq_837 Eq_6::* sp_415 = sp_1014 - 2;
						(ss->*sp_415).t0000 = dx_355;
						(ss->*sp_415).tFFFFFFFE = ax_354;
						(ss->*sp_415).ptrFFFFFFFC = fp - 0x89;
						Eq_6 ax_435 = (int16) bh_430;
						(ss->*sp_415).tFFFFFFFA = ax_435;
						(ss->*sp_415).tFFFFFFF8 = SEQ(SLICE(ax_435, byte, 8), bLoc95_1275);
						(ss->*sp_415).tFFFFFFF6 = bx_1892;
						__LONGTOA(ds, (ss->*sp_415).tFFFFFFF6, (ss->*sp_415).tFFFFFFF8, (ss->*sp_415).tFFFFFFFA, (ss->*sp_415).ptrFFFFFFFC, (ss->*sp_415).tFFFFFFFE, (ss->*sp_415).t0000);
						(ss->*sp_415).t0000 = ss;
						Eq_6 es_466 = (ss->*sp_415).t0000;
						sp_1014 = (struct Eq_448 Eq_6::*) ((char *) &sp_415->t0000 + 2);
						dx_226 = wLoc92_1233;
						if (wLoc92_1233 > 0x00)
						{
							es_di_1899 = SEQ(es_466, fp - 0x89);
							goto l0800_1457;
						}
						else
						{
							es_di_1908 = SEQ(es_466, fp - 0x89);
							goto l0800_1447;
						}
					case 0x0E:
						struct Eq_657 Eq_6::* sp_267 = sp_1014 - 2;
						(ss->*sp_267).t0000 = ds->*wArg02;
						byte Eq_6::* di_264 = fp - 0x8A;
						wArg02 = (word16) wArg02 + 2;
						if ((wLoc9A_1230 & 0x20) != 0x00)
						{
							(ss->*sp_267).tFFFFFFFE = ds->*((word16) wArg02 + 2);
							(ss->*sp_267).tFFFFFFFC = ss;
							Eq_6 es_284 = (ss->*sp_267).tFFFFFFFC;
							byte Eq_6::* di_290 = fn0800_1068(SEQ(es_284, fp - 0x8A), ds, (ss->*sp_267).tFFFFFFFE);
							es_284->*di_290 = 0x3A;
							wArg02 = (word16) wArg02 + 4;
							di_264 = di_290 + 1;
						}
						(ss->*sp_267).tFFFFFFFE = ss;
						Eq_6 es_305 = (ss->*sp_267).tFFFFFFFE;
						byte Eq_6::* di_313 = fn0800_1068(SEQ(es_305, di_264), ds, (ss->*sp_267).t0000);
						ds->*di_313 = 0x00;
						sp_1014 = (struct Eq_448 Eq_6::*) ((char *) &sp_267->t0000 + 2);
						wLoc9A_1230 &= ~0x04;
						Eq_6 di_328 = di_313 - (fp - 0x8A);
						dx_226 = wLoc92_1233;
						if (wLoc92_1233 <= di_328)
							dx_226 = di_328;
						es_di_1908 = SEQ(es_305, fp - 0x8A);
						goto l0800_1447;
					case 0x0F:
						Eq_6 cx_206 = wLoc92_1233;
						dx_226 = ax_65;
						if (wLoc92_1233 < 0x00)
							cx_206.u0 = 0x06;
						int16 wLoc06_1259;
						Eq_6 ax_240;
						struct Eq_1100 Eq_6::* sp_212 = sp_1014 - 2;
						(ss->*sp_212).t0000 = wArg02;
						(ss->*sp_212).tFFFFFFFE = cx_206;
						(ss->*sp_212).ptrFFFFFFFC = fp - 0x89;
						(ss->*sp_212).tFFFFFFFA = ax_65;
						(ss->*sp_212).tFFFFFFF8 = wLoc9A_1230 & 0x01;
						if ((wLoc9A_1230 & 0x80) != 0x00)
						{
							ax_240.u0 = 0x02;
							wLoc06_1259 = 0x04;
						}
						else if ((wLoc9A_1230 & 0x0100) != 0x00)
						{
							ax_240.u0 = 0x08;
							wLoc06_1259 = 0x0A;
						}
						else
						{
							wLoc06_1259 = 0x08;
							ax_240.u0 = 0x06;
						}
						(ss->*sp_212).tFFFFFFF6 = ax_240;
						__REALCVT(ds);
						(ss->*sp_212).tFFFFFFF4 = ss;
						wArg02 = (word16) wArg02 + wLoc06_1259;
						sp_1014 = sp_212 - 0x0A;
						es_di_1908 = SEQ((ss->*sp_212).tFFFFFFF4, fp - 0x89);
l0800_1447:
						es_488 = SLICE(es_di_1908, selector, 16);
						di_485 = (word16) es_di_1908;
						if ((wLoc9A_1230 & 0x08) != 0x00)
						{
							dx_226 = wLoc94_1232;
							es_di_1899 = es_di_1908;
							if (wLoc94_1232 > 0x00)
							{
l0800_1457:
								es_488 = SLICE(es_di_1899, selector, 16);
								di_485 = (word16) es_di_1899;
								Eq_6 cx_492 = fn0800_10AC(di_485, es_488);
								if (*es_di_1899 == 0x2D)
									--cx_492;
								dx_226 -= cx_492;
								if (dx_226 > 0x00)
									wLoc8E_1229 = dx_226;
							}
						}
						if (bLoc8F_1231 != 0x00 && es_488->*di_485 != 0x2D)
						{
							--di_485;
							es_488->*di_485 = bLoc8F_1231;
							Eq_1054 v40_528 = wLoc8E_1229 - 0x01;
							wLoc8E_1229 = v40_528 + (v40_528 <u 0x00);
						}
						cx_173 = fn0800_10AC(di_485, es_488);
						es_di_1895 = &(es_488->*di_485);
						goto l0800_1488;
					case 0x10:
						union Eq_6 Eq_6::* sp_192 = sp_1014 - 2;
						ss->*sp_192 = ss;
						wArg02 = (word16) wArg02 + 2;
						sp_1014 = (struct Eq_448 Eq_6::*) ((char *) sp_192 + 2);
						cx_173.u0 = 0x01;
						dx_226 = ax_65;
						es_di_1895 = SEQ(ss->*sp_192, fp - 0x89);
						goto l0800_1488;
					case 0x11:
						byte * es_di_138;
						bool Z_157;
						dx_226 = ax_65;
						if ((wLoc9A_1230 & 0x20) == 0x00)
						{
							word16 di_147 = ds->*wArg02;
							union Eq_6 Eq_6::* sp_150 = sp_1014 - 2;
							ss->*sp_150 = ds;
							wArg02 = (word16) wArg02 + 2;
							Z_157 = SLICE(cond(di_147), bool, 2);
							es_di_138 = SEQ(ss->*sp_150, di_147);
						}
						else
						{
							es_di_138 = ds->*wArg02;
							wArg02 = (word16) wArg02 + 4;
							Z_157 = SLICE(cond(SLICE(es_di_138, selector, 16) | (word16) es_di_138), bool, 2);
						}
						byte * es_di_1905 = es_di_138;
						if (!Z_157)
						{
							union Eq_6 Eq_6::* sp_161 = sp_1014 - 2;
							ss->*sp_161 = ds;
							es_di_1905 = SEQ(ss->*sp_161, 1226);
						}
						cx_173 = fn0800_10AC((word16) es_di_1905, SLICE(es_di_1905, selector, 16));
						if (cx_173 > wLoc92_1233)
							cx_173 = wLoc92_1233;
						es_di_1895 = es_di_1905;
l0800_1488:
						byte Eq_6::* di_546 = (word16) es_di_1895;
						wArg04 = si_1118;
						byte Eq_6::* si_1138 = di_546;
						Eq_6 bx_559 = wLoc94_1232;
						if ((wLoc9A_1230 & 0x05) == 0x05)
						{
							if (dl_132 != 111)
							{
								if (dl_132 == 0x78 || dl_132 == 88)
								{
									Eq_6 v37_580 = wLoc8E_1229 - 0x02;
									wLoc9A_1230 |= 0x40;
									bx_559 = wLoc94_1232 - 0x02;
									wLoc8E_1229 = v37_580;
									if (v37_580 < 0x00)
										wLoc8E_1229.u0 = 0x00;
								}
l0800_14D5:
								cx = cx_173 + wLoc8E_1229;
								if ((wLoc9A_1230 & 0x02) == 0x00)
								{
									for (; bx_559 > cx; --bx_559)
									{
										di_1001 = fn0800_10B9(SEQ(ds, di_1001), SEQ(ss, fp - 2), 0x20, cx, dx_226, bx_559);
										sp_1014 = (struct Eq_448 Eq_6::*) ((char *) &sp_1014->t0000 + 0x0000FFFE);
									}
								}
								if ((wLoc9A_1230 & 0x40) != 0x00)
								{
									di_1001 = fn0800_10B9(SEQ(ds, fn0800_10B9(SEQ(ds, di_1001), SEQ(ss, fp - 2), 0x30, cx, dx_226, bx_559)), SEQ(ss, fp - 2), dl_132, cx, dx_226, bx_559);
									sp_1014 = (struct Eq_448 Eq_6::*) ((char *) &sp_1014->t0000 + 0x0000FFFC);
								}
								dx = wLoc8E_1229;
								if (wLoc8E_1229 > 0x00)
								{
									Eq_6 cx_703 = cx - wLoc8E_1229;
									bx_559 -= wLoc8E_1229;
									byte al_720 = *es_di_1895;
									if (al_720 == 0x2D || (al_720 == 0x20 || al_720 == 0x2B))
									{
										si_1138 = di_546 + 1;
										di_1001 = fn0800_10B9(SEQ(ds, di_1001), SEQ(ss, fp - 2), ds->*di_546, cx_703, wLoc8E_1229, bx_559);
										sp_1014 = (struct Eq_448 Eq_6::*) ((char *) &sp_1014->t0000 + 0x0000FFFE);
										--cx_703;
										--bx_559;
									}
									Eq_6 cx_756 = wLoc8E_1229;
									if (wLoc8E_1229 != 0x00)
									{
										do
										{
											di_1001 = fn0800_10B9(SEQ(ds, di_1001), SEQ(ss, fp - 2), 0x30, cx_756, cx_703, bx_559);
											sp_1014 = (struct Eq_448 Eq_6::*) ((char *) &sp_1014->t0000 + 0x0000FFFE);
											--cx_756;
										} while (cx_756 != 0x00);
									}
									dx = cx_756;
									cx = cx_703;
								}
								if (cx != 0x00)
								{
									bx_559 -= cx;
									do
									{
										ds->*di_1001 = ds->*si_1138;
										ci8 v42_795 = bLoc57_1221 - 0x01;
										++si_1138;
										++di_1001;
										bLoc57_1221 = v42_795;
										if (v42_795 <= 0x00)
											di_1001 = fn0800_10C1(SEQ(ss, fp - 2), cx, dx, bx_559, di_1001);
										--cx;
									} while (cx != 0x00);
								}
								bx = bx_559;
								if (bx_559 > 0x00)
								{
									cx = bx_559;
									do
									{
										di_1001 = fn0800_10B9(SEQ(ds, di_1001), SEQ(ss, fp - 2), 0x20, cx, dx, bx_559);
										sp_1014 = (struct Eq_448 Eq_6::*) ((char *) &sp_1014->t0000 + 0x0000FFFE);
										--cx;
									} while (cx != 0x00);
								}
								goto l0800_10FA;
							}
							if (wLoc8E_1229 <= 0x00)
								wLoc8E_1229.u0 = 0x01;
						}
						goto l0800_14D5;
					case 0x12:
						uint16 * es_di_103;
						wArg04 = si_1118;
						if ((wLoc9A_1230 & 0x20) == 0x00)
						{
							word16 di_107 = ds->*wArg02;
							union Eq_6 Eq_6::* sp_112 = sp_1014 - 2;
							ss->*sp_112 = ds;
							wArg02 = (word16) wArg02 + 2;
							es_di_103 = SEQ(ss->*sp_112, di_107);
						}
						else
						{
							es_di_103 = ds->*wArg02;
							wArg02 = (word16) wArg02 + 4;
						}
						*es_di_103 = (uint16) (uint8) (0x50 - bLoc57_1221);
						goto l0800_10F6;
					case 0x13:
					case 0x14:
					case 0x15:
l0800_1580:
						struct Eq_17 Eq_6::* si_1016 = si_1118;
						byte al_1006 = 0x25;
						do
						{
							di_1001 = fn0800_10B9(SEQ(ds, di_1001), SEQ(ss, fp - 2), al_1006, cx, dx, bx);
							byte al_1018 = (ds->*si_1016).b0000;
							sp_1014 = (struct Eq_448 Eq_6::*) ((char *) &sp_1014->t0000 + 0x0000FFFE);
							++si_1016;
							al_1006 = al_1018;
						} while (al_1018 != 0x00);
						goto l0800_1592;
					case 22:
						wLoc9A_1230 &= ~0x20;
						ch_1153 = 0x05;
						break;
					case 0x17:
						wLoc9A_1230 |= 0x20;
						ch_1153 = 0x05;
						break;
					}
					al_1064 = (ds->*si_1118).b0000;
					++si_1118;
				}
l0800_1195:
				dx = ax_65;
				goto l0800_1580;
			}
		}
		ds->*di_1001 = al_1064;
		ci8 v15_1071 = bLoc57_1221 - 0x01;
		++di_1001;
		bLoc57_1221 = v15_1071;
		if (v15_1071 <= 0x00)
			di_1001 = fn0800_10C1(SEQ(ss, fp - 2), cx, dx, bx, di_1001);
	}
l0800_1592:
	if (bLoc57_1221 < 0x50)
		fn0800_10C1(SEQ(ss, fp - 2), cx, dx, bx, di_1001);
	word16 Eq_6::* sp_1048 = (char *) &sp_1014->t0000 + 2;
	return ss->*sp_1048;
}

// 0800:10AC: Register word16 fn0800_10AC(Register (memptr (ptr16 Eq_558) byte) di, Register (ptr16 Eq_558) es)
// Called from:
//      __VPRINTER
word16 fn0800_10AC(byte Eq_558::* di, struct Eq_558 * es)
{
	word16 cx_12 = ~0x00;
	while (cx_12 != 0x00)
	{
		di = di_45 + 1;
		--cx_12;
		di_45 = di;
		if (es->*di_45 != 0x00)
			return ~cx_12 - 0x01;
	}
	return ~cx_12 - 0x01;
}

// 0800:10B9: Register (memptr Eq_6 byte) fn0800_10B9(Sequence (ptr32 byte) ds_di, Sequence (ptr32 Eq_487) ss_bp, Register byte al, Register Eq_6 cx, Register Eq_6 dx, Register Eq_6 bx)
// Called from:
//      __VPRINTER
byte Eq_6::* fn0800_10B9(byte * ds_di, struct Eq_487 * ss_bp, byte al, Eq_6 cx, Eq_6 dx, Eq_6 bx)
{
	byte Eq_6::* di = (word16) ds_di;
	*ds_di = al;
	ci8 v9_11 = ss_bp->bFFFFFFAB - 0x01;
	ss_bp->bFFFFFFAB = v9_11;
	if (v9_11 <= 0x00)
		return di + 1;
	return fn0800_10C1(ss_bp, cx, dx, bx, di + 1);
}

// 0800:10C1: Register (memptr Eq_6 byte) fn0800_10C1(Sequence (ptr32 Eq_487) ss_bp, Register Eq_6 cx, Register Eq_6 dx, Register Eq_6 bx, Register (memptr Eq_6 byte) di)
// Called from:
//      __VPRINTER
//      fn0800_10B9
byte Eq_6::* fn0800_10C1(struct Eq_487 * ss_bp, Eq_6 cx, Eq_6 dx, Eq_6 bx, byte Eq_6::* di)
{
	word16 bp = (word16) ss_bp;
	word16 di_20 = di - (bp - 0x54);
	word16 ax_34;
	(seg0800->*ss_bp->ptr000A)();
	if (ax_34 == 0x00)
		ss_bp->wFFFFFFFE = 0x01;
	ss_bp->bFFFFFFAB = 0x50;
	ss_bp->wFFFFFFA8 += di_20;
	return bp - 0x54;
}

// 0800:16F4: Register word16 _scanf(Register Eq_4 di, Register (ptr16 Eq_5) es, Register Eq_6 ds, Stack (memptr Eq_6 Eq_17) wArg02, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_21) esOut)
// Called from:
//      _main
word16 _scanf(Eq_4 di, struct Eq_5 * es, Eq_6 ds, struct Eq_17 Eq_6::* wArg02, ptr16 & bxOut, ptr16 & bpOut, ptr16 & diOut, struct Eq_21 & esOut)
{
	ptr16 Eq_1355::* bp_28;
	ptr16 di_30;
	struct Eq_21 * es_31;
	ptr16 bx_33;
	word16 dx_34 = __scanner(di, es, ds, &Eq_2::t0812, &Eq_2::t1D85, 0x032A, wArg02, out bx_33, out bp_28, out di_30, out es_31);
	ptr16 bp_41 = ss->*bp_28;
	bxOut = bx_33;
	bpOut = bp_41;
	diOut = di_30;
	esOut = es_31;
	return dx_34;
}

// 0800:1713: Register word16 __scanner(Register Eq_4 di, Register (ptr16 Eq_5) es, Register Eq_6 ds, Stack (memptr (ptr16 Eq_2) code) wArg02, Stack (memptr (ptr16 Eq_2) code) wArg04, Stack Eq_1340 wArg06, Stack (memptr Eq_6 Eq_17) wArg08, Register out Eq_1342 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_1345) esOut)
// Called from:
//      _scanf
word16 __scanner(Eq_4 di, struct Eq_5 * es, Eq_6 ds, <anonymous> Eq_2::* wArg02, <anonymous> Eq_2::* wArg04, Eq_1340 wArg06, struct Eq_17 Eq_6::* wArg08, union Eq_1342 & bxOut, ptr16 & bpOut, ptr16 & diOut, struct Eq_1345 & esOut)
{
	word16 wLoc28_1042 = 0x00;
l0800_1743:
	struct Eq_17 Eq_6::* si_26 = wArg08;
	do
	{
l0800_1746:
		Eq_1342 bx_1311;
		word16 dx_1401;
		word16 dx_892;
		Eq_1342 bx_891;
		byte al_30 = (ds->*si_26).b0000;
		++si_26;
		byte al_32 = al_30;
		if (al_30 == 0x00)
		{
			ptr16 di_42;
			struct Eq_1345 * es_43;
			ptr16 bp_40 = fn0800_1B0B(fp - 2, out di_42, out es_43);
			bxOut = bx;
			bpOut = bp_40;
			diOut = di_42;
			esOut = es_43;
			return dx;
		}
		if (al_30 == 0x25)
		{
			Eq_1365 wLoc24_1045 = ~0x00;
			byte bLoc2B_1046 = 0x00;
			while (true)
			{
				++si_26;
				Eq_4 ax_58 = (int16) (ds->*si_26).b0000;
				byte dh_1421 = SLICE(dx, byte, 8);
				wArg08 = si_26;
				di = ax_58;
				if (ax_58 < 0x00)
					goto l0800_1806;
				Eq_1342 bx_72 = (uint16) (uint8) (ds->*((word16) ax_58 + 0x0542));
				al_32 = (byte) bx_72;
				if (bx_72 > 0x15)
					break;
				word16 ax_112;
				uint16 si_111;
				bx = bx_72 << 0x01;
				switch (bx_72)
				{
				case 0x00:
				case 0x01:
				case 0x02:
l0800_1806:
					ptr16 di_746;
					struct Eq_1345 * es_747;
					ptr16 bp_744 = fn0800_1B0B(fp - 2, out di_746, out es_747);
					bxOut = bx;
					bpOut = bp_744;
					diOut = di_746;
					esOut = es_747;
					return dx;
				case 0x03:
					goto l0800_174F;
				case 0x04:
					bLoc2B_1046 |= 0x01;
					break;
				case 0x05:
					wLoc24_1045 = ax_58 - 0x30;
					wLoc24_1524 = wLoc24_1045;
					if (wLoc24_1524 >= 0x00)
					{
						dx = SLICE(wLoc24_1524 * 0x0A, word16, 16);
						wLoc24_1045 = ax_58 - 0x30 + SLICE(wLoc24_1524 *u 0x0A, word16, 0);
					}
					break;
				case 0x06:
					if ((bLoc2B_1046 & 0x01) == 0x00)
						di = fn0800_1728(fp - 2, ds, out es);
					Eq_1365 si_1000 = wLoc24_1524;
					if (wLoc24_1524 < 0x00)
						si_1000.u0 = 0x01;
					word16 dx_673;
					Eq_1342 bx_672;
					if (wLoc24_1524 != 0x00)
					{
						do
						{
							word16 v49_656 = wLoc28_1042 + 0x01;
							ci16 ax_670;
							(seg0800->*wArg02)();
							wLoc28_1042 = v49_656;
							byte al_683 = (byte) ax_670;
							if ((bLoc2B_1046 & 0x01) == 0x00)
							{
								es->*di = al_683;
								di = (word16) di + 1;
							}
							if (ax_670 < 0x00)
							{
								ptr16 di_699;
								struct Eq_1345 * es_700;
								ptr16 bp_697 = fn0800_1B0B(fp - 2, out di_699, out es_700);
								bxOut = bx_672;
								bpOut = bp_697;
								diOut = di_699;
								esOut = es_700;
								return dx_673;
							}
							--si_1000;
							dx = dx_673;
							bx = bx_672;
						} while (si_1000 > 0x00);
					}
					goto l0800_1743;
				case 0x07:
				case 0x08:
					si_111 = 0x0A;
					goto l0800_1864;
				case 0x09:
					si_111 = 0x00;
					goto l0800_1864;
				case 0x0A:
					__scantod(ds);
					if (wLoc26 > 0x00)
					{
						if ((bLoc2B_1046 & 0x01) != 0x00)
							__scanpop(ds);
						else
						{
							di = fn0800_1728(&(ss->*(fp - 2)).t0000, ds, out es);
							__scanrslt(ds);
						}
						goto l0800_1743;
					}
					__scanpop(ds);
					if (wLoc26 < 0x00)
					{
						ptr16 di_472;
						struct Eq_1345 * es_473;
						ptr16 bp_470 = fn0800_1B0B(&(ss->*(fp - 2)).t0000, out di_472, out es_473);
						bxOut = bx_72 << 0x01;
						bpOut = bp_470;
						diOut = di_472;
						esOut = es_473;
						return dx;
					}
					else
					{
						ptr16 di_482;
						struct Eq_1345 * es_483;
						ptr16 bp_481 = fn0800_1B1F(&(ss->*(fp - 2)).t0000, out di_482, out es_483);
						bxOut = bx_72 << 0x01;
						bpOut = bp_481;
						diOut = di_482;
						esOut = es_483;
						return dx;
					}
				case 11:
					bLoc2B_1046 |= 0x08;
					break;
				case 0x0C:
					bLoc2B_1046 |= 0x02;
					break;
				case 0x0D:
					bLoc2B_1046 |= 0x04;
					break;
				case 0x0E:
					si_111 = 0x08;
					goto l0800_1864;
				case 0x0F:
					struct Eq_1502 * es_1520;
					word16 bp_408;
					word16 di_1519;
					fn0800_198F(fp - 2, ds, out bp_408, out di_1519, out es_1520);
					ptr16 bp_420;
					ptr16 di_423;
					struct Eq_1345 * es_424;
					bxOut = fn0800_198F(bp_408, ds, out bp_420, out di_423, out es_424);
					bpOut = bp_420;
					diOut = di_423;
					esOut = es_424;
					return dx;
				case 0x10:
					struct Eq_5 * es_123 = ss;
					word16 Eq_5::* di_125 = fp - 0x22;
					word16 cx_126;
					for (cx_126 = 0x10; cx_126 != 0x00; --cx_126)
					{
						ss->*di_125 = 0x00;
						++di_125;
					}
					byte v42_135 = bLoc2B_1046 & ~0x10;
					cu8 al_131 = (ds->*si_26).b0000;
					struct Eq_17 Eq_6::* si_132 = si_26 + 1;
					byte bLoc2B_1053 = v42_135;
					if (al_131 == 0x5E)
					{
						bLoc2B_1053 = v42_135 | 0x10;
						al_131 = si_26[1];
						si_132 = si_26 + 2;
					}
l0800_1A43:
					uint16 ax_150 = (uint16) (uint8) al_131;
					ui8 ch_158 = 0x01 << (al_131 & 0x07);
					Mem163[ss:fp - 0x22 + (ax_150 >>u 0x03):byte] = Mem161[ss:fp - 0x22 + (ax_150 >>u 0x03):byte] | ch_158;
					cu8 dl_148 = al_131;
					di = ax_150 >> 0x03;
					while (true)
					{
						al_131 = (ds->*si_132).b0000;
						++si_132;
						word16 dx_1428 = SEQ(dh_1421, dl_148);
						if (al_131 == 0x00)
							break;
						dx = SEQ(dh_1421, dl_148);
						if (al_131 == 0x5D)
						{
							ci16 v61_185 = wLoc24_1524 & 0x7FFF;
							wArg08 = si_132;
							ci16 si_188 = v61_185;
							if ((bLoc2B_1053 & 0x01) == 0x00)
								di = fn0800_1728(&(ss->*(fp - 2)).t0000, ds, out es_123);
							while (true)
							{
								word16 dx_339;
								Eq_1342 bx_338;
								word16 dx_222;
								ci16 si_200 = si_188 - 0x01;
								if (si_200 < 0x00)
									break;
								word16 v66_206 = wLoc28_1042 + 0x01;
								wchar_t ax_219;
								Eq_1342 bx_221;
								(seg0800->*wArg02)();
								wLoc28_1042 = v66_206;
								es_123 = es;
								if (ax_219 < 0x00)
								{
									if (si_200 + 0x01 >= v61_185)
									{
										ptr16 di_240;
										struct Eq_1345 * es_241;
										ptr16 bp_238 = fn0800_1B0B(&(ss->*(fp - 2)).t0000, out di_240, out es_241);
										bxOut = bx_221;
										bpOut = bp_238;
										diOut = di_240;
										esOut = es_241;
										return dx_222;
									}
									if ((bLoc2B_1053 & 0x01) != 0x00)
									{
										ptr16 di_254;
										struct Eq_1345 * es_255;
										ptr16 bp_252 = fn0800_1B0B(&(ss->*(fp - 2)).t0000, out di_254, out es_255);
										bxOut = bx_221;
										bpOut = bp_252;
										diOut = di_254;
										esOut = es_255;
										return dx_222;
									}
									else
									{
										es->*di = 0x00;
										ptr16 di_271;
										struct Eq_1345 * es_272;
										ptr16 bp_269 = fn0800_1B0B(&(ss->*(fp - 2)).t0000, out di_271, out es_272);
										bxOut = bx_221;
										bpOut = bp_269;
										diOut = di_271;
										esOut = es_272;
										return dx_222;
									}
								}
								si_188 = si_200;
								bx = ax_219 >> 0x03;
								byte al_312 = (byte) ax_219;
								if ((Mem215[ss:fp - 0x22 + (ax_219 >>u 0x03):byte] & 0x01 << (SLICE(ax_219, byte, 0) & 0x07)) != 0x00)
								{
									if ((bLoc2B_1053 & 0x10) != 0x00)
										goto l0800_1AD6;
								}
								else if ((bLoc2B_1053 & 0x10) == 0x00)
								{
l0800_1AD6:
									struct Eq_1977 Eq_5::* sp_335;
									word16 ax_336;
									(seg0800->*wArg04)();
									word16 cx_344 = (ss->*sp_335).w0002;
									es = (ss->*sp_335).ptr0004;
									dx = dx_339;
									dx = dx_339;
									bx = bx_338;
									bx = bx_338;
									if (si_200 + 0x01 < v61_185)
										break;
									goto l0800_1AF3;
								}
								es = es_123;
								dx = dx_222;
								if ((bLoc2B_1053 & 0x01) == 0x00)
								{
									es->*di = al_312;
									di = (word16) di + 1;
									dx = dx_222;
								}
							}
							if ((bLoc2B_1053 & 0x01) == 0x00)
							{
l0800_1AF3:
								es->*di = 0x00;
								di = (word16) di + 1;
							}
							goto l0800_1743;
						}
						if (al_131 != 0x2D || (dl_148 > (ds->*si_132).b0000 || (ds->*si_132).b0000 == 0x5D))
							goto l0800_1A43;
						++si_132;
						cu8 al_378 = (ds->*si_132).b0000 - dl_148;
						if (al_378 != 0x00)
						{
							dl_148 += al_378;
							do
							{
								ch_158 = __rol(ch_158, 0x01);
								di += (ch_158 & 0x80) != 0x00;
								Mem393[ss:fp - 0x22 + di:byte] = Mem391[ss:fp - 0x22 + di:byte] | ch_158;
								--al_378;
							} while (al_378 != 0x00);
						}
					}
					ptr16 di_178;
					struct Eq_1345 * es_179;
					ptr16 bp_177 = fn0800_1B1F(&(ss->*(fp - 2)).t0000, out di_178, out es_179);
					bxOut = bx_72 << 0x01;
					bpOut = bp_177;
					diOut = di_178;
					esOut = es_179;
					return dx_1428;
				case 0x11:
					ax_112 = wLoc28_1042;
					dx = 0x00;
					if ((bLoc2B_1046 & 0x01) == 0x00)
						goto l0800_189E;
					break;
				case 0x12:
					si_111 = 0x10;
l0800_1864:
					if ((ax_58 & 0x20) == 0x00)
						bLoc2B_1046 |= 0x04;
					ax_112 = __scantol(ds, wArg02, wArg04, wArg06, si_111, wLoc24_1524 & 0x7FFF, fp - 0x28, fp - 0x26, out dx, out bx, out di, out es);
					if (wLoc26 > 0x00)
					{
						if ((bLoc2B_1046 & 0x01) == 0x00)
						{
l0800_189E:
							struct Eq_1641 * es_1523;
							fn0800_1728(fp - 2, ds, out es_1523);
							word32 es_di_1514 = <invalid>;
							es_di_1514.u0->w0000 = ax_112;
							word16 di_614 = (word16) es_di_1514;
							es = SLICE(es_di_1514, selector, 16);
							di = di_614 + 2;
							if ((bLoc2B_1046 & 0x04) != 0x00)
							{
								es_di_1514.u0->w0002 = dx;
								dx = ax_112;
								di = di_614 + 4;
							}
						}
						goto l0800_1743;
					}
					if (wLoc26 < 0x00)
					{
						ptr16 di_590;
						struct Eq_1345 * es_591;
						ptr16 bp_588 = fn0800_1B0B(fp - 2, out di_590, out es_591);
						bxOut = bx;
						bpOut = bp_588;
						diOut = di_590;
						esOut = es_591;
						return dx;
					}
					else
					{
						ptr16 di_600;
						struct Eq_1345 * es_601;
						ptr16 bp_599 = fn0800_1B1F(fp - 2, out di_600, out es_601);
						bxOut = bx;
						bpOut = bp_599;
						diOut = di_600;
						esOut = es_601;
						return dx;
					}
				case 0x13:
					word16 bp_89;
					word16 di_1521;
					struct Eq_1534 * es_1522;
					fn0800_18B8(fp - 2, ds, out bp_89, out di_1521, out es_1522);
					ptr16 bp_101;
					ptr16 di_104;
					struct Eq_1345 * es_105;
					bxOut = fn0800_18B8(bp_89, ds, out bp_101, out di_104, out es_105);
					bpOut = bp_101;
					diOut = di_104;
					esOut = es_105;
					return dx;
				case 0x14:
					bLoc2B_1046 &= 223;
					break;
				case 0x15:
					bLoc2B_1046 |= 0x20;
					break;
				}
			}
			ptr16 di_757;
			struct Eq_1345 * es_758;
			ptr16 bp_755 = fn0800_1B0B(fp - 2, out di_757, out es_758);
			bxOut = bx_72;
			bpOut = bp_755;
			diOut = di_757;
			esOut = es_758;
			return dx;
		}
l0800_174F:
		word16 v17_775 = wLoc28_1042 + 0x01;
		struct Eq_1372 Eq_5::* sp_790;
		Eq_4 ax_791;
		(seg0800->*wArg02)();
		Eq_4 ax_766 = (int16) al_32;
		wLoc28_1042 = v17_775;
		Eq_1340 cx_797 = (ss->*sp_790).t0000;
		struct Eq_1383 Eq_5::* sp_798 = (char *) &sp_790->t0000 + 2;
		Eq_4 ax_799 = ax_791;
		if (ax_791 < 0x00)
		{
l0800_1784:
			ptr16 di_926;
			struct Eq_1345 * es_927;
			ptr16 bp_924 = fn0800_1B0B(fp - 2, out di_926, out es_927);
			bxOut = bx_1311;
			bpOut = bp_924;
			diOut = di_926;
			esOut = es_927;
			return dx_1401;
		}
		di = ax_766;
		if (ax_766 >= 0x00 && ds->*((word16) ax_766 + 0x0542) == 0x01)
		{
			do
			{
				if ((byte) ax_799 < 0x00 || ds->*((word16) ax_799 + 0x0542) != 0x01)
				{
					struct Eq_1403 Eq_5::* sp_875 = sp_798 - 2;
					(ss->*sp_875).t0000 = wArg06;
					(ss->*sp_875).tFFFFFFFE = ax_799;
					struct Eq_1412 Eq_5::* sp_888;
					(seg0800->*wArg04)();
					word16 cx_897 = (ss->*sp_888).w0002;
					--wLoc28_1042;
					bx = bx_891;
					dx = dx_892;
					goto l0800_1746;
				}
				(ss->*sp_798).tFFFFFFFE = wArg06;
				word16 v25_902 = wLoc28_1042 + 0x01;
				union Eq_1340 Eq_5::* sp_908;
				Eq_4 ax_909;
				(seg0800->*wArg02)();
				wLoc28_1042 = v25_902;
				Eq_1340 cx_915 = ss->*sp_908;
				sp_798 = (struct Eq_1383 Eq_5::*) ((char *) sp_908 + 2);
				ax_799 = ax_909;
			} while (ax_909 > 0x00);
			goto l0800_1784;
		}
		bx = bx_1311;
		dx = dx_1401;
	} while (ax_791 == ax_766);
	(ss->*sp_790).t0000 = wArg06;
	(ss->*sp_790).tFFFFFFFE = ax_791;
	Eq_1342 bx_829;
	word16 dx_830;
	(seg0800->*wArg04)();
	ptr16 di_844;
	struct Eq_1345 * es_845;
	ptr16 bp_842 = fn0800_1B0B(fp - 2, out di_844, out es_845);
	bxOut = bx_829;
	bpOut = bp_842;
	diOut = di_844;
	esOut = es_845;
	return dx_830;
}

// 0800:1728: Register Eq_2063 fn0800_1728(Sequence (ptr32 Eq_1567) ss_bp, Register Eq_6 ds, Register out Eq_6 esOut)
// Called from:
//      __scanner
Eq_2063 fn0800_1728(struct Eq_1567 * ss_bp, Eq_6 ds, union Eq_6 & esOut)
{
	union Eq_2063 Eq_6::* di_7 = ss_bp->ptr000C;
	if ((ss_bp->bFFFFFFD7 & 0x20) == 0x00)
	{
		Eq_2063 di_12 = ds->*di_7;
		ss_bp->ptr000C = (union Eq_2063 Eq_6::*) ((char *) ss_bp->ptr000C + 2);
		esOut = ds;
		return di_12;
	}
	else
	{
		Eq_2063 es_di_20 = ds->*di_7;
		ss_bp->ptr000C = (union Eq_2063 Eq_6::*) ((char *) ss_bp->ptr000C + 4);
		esOut = SLICE(es_di_20, selector, 16);
		return (word16) es_di_20;
	}
}

// 0800:18B8: Register word16 fn0800_18B8(Sequence (ptr32 Eq_1507) ss_bp, Register Eq_6 ds, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_1541) esOut)
// Called from:
//      __scanner
word16 fn0800_18B8(struct Eq_1507 * ss_bp, Eq_6 ds, ptr16 & bpOut, ptr16 & diOut, struct Eq_1541 & esOut)
{
	ptr16 bp_11;
	ptr16 di_12;
	struct Eq_1541 * es_13;
	word16 bx_9 = fn0800_1B26(ss_bp, ds, out bp_11, out di_12, out es_13);
	bpOut = bp_11;
	diOut = di_12;
	esOut = es_13;
	return bx_9;
}

// 0800:198F: Register word16 fn0800_198F(Sequence (ptr32 Eq_1507) ss_bp, Register Eq_6 ds, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_1511) esOut)
// Called from:
//      __scanner
word16 fn0800_198F(struct Eq_1507 * ss_bp, Eq_6 ds, ptr16 & bpOut, ptr16 & diOut, struct Eq_1511 & esOut)
{
	ptr16 bp_11;
	ptr16 di_12;
	struct Eq_1511 * es_13;
	word16 bx_9 = fn0800_1B26(ss_bp, ds, out bp_11, out di_12, out es_13);
	bpOut = bp_11;
	diOut = di_12;
	esOut = es_13;
	return bx_9;
}

// 0800:1B0B: Register ptr16 fn0800_1B0B(Sequence (ptr32 Eq_1507) ss_bp, Register out ptr16 diOut, Register out (ptr16 Eq_1581) esOut)
// Called from:
//      __scanner
//      fn0800_18B8
ptr16 fn0800_1B0B(struct Eq_1507 * ss_bp, ptr16 & diOut, struct Eq_1581 & esOut)
{
	(seg0800->*ss_bp->ptr0006)();
	ss_bp->wFFFFFFD8 -= ss_bp->wFFFFFFD8 < 0x01;
	ptr16 di_30;
	struct Eq_1581 * es_31;
	ptr16 bp_29 = fn0800_1B1F(ss_bp, out di_30, out es_31);
	diOut = di_30;
	esOut = es_31;
	return bp_29;
}

// 0800:1B1F: Register word16 fn0800_1B1F(Sequence (ptr32 Eq_1507) ss_bp, Register out ptr16 diOut, Register out (ptr16 Eq_1770) esOut)
// Called from:
//      __scanner
//      fn0800_1B0B
word16 fn0800_1B1F(struct Eq_1507 * ss_bp, ptr16 & diOut, struct Eq_1770 & esOut)
{
	word16 bp_14 = ss_bp->w0000;
	diOut = wArg02;
	esOut = psegArg00;
	return bp_14;
}

// 0800:1B26: Register word16 fn0800_1B26(Sequence (ptr32 Eq_1507) ss_bp, Register Eq_6 ds, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_2112) esOut)
// Called from:
//      fn0800_18B8
//      fn0800_198F
word16 fn0800_1B26(struct Eq_1507 * ss_bp, Eq_6 ds, ptr16 & bpOut, ptr16 & diOut, struct Eq_2112 & esOut)
{
	struct Eq_2159 * ss = SLICE(ss_bp, selector, 16);
	ptr16 bp = (word16) ss_bp;
	struct Eq_2163 Eq_2159::* sp_11 = fp;
	do
	{
		++ss_bp->wFFFFFFDA;
		(ss->*sp_11).wFFFFFFFE = ss_bp->w0008;
		Eq_2179 ax_18;
		word16 bx_19;
		(seg0800->*ss_bp->ptr0004)();
		sp_11 = fp - 2;
		ci8 al_40 = (byte) ax_18;
		if (ax_18 <= 0x00)
		{
			if (ax_18 == 0x00)
				break;
			ptr16 di_33;
			struct Eq_2112 * es_34;
			bpOut = fn0800_1B0B(ss_bp, out di_33, out es_34);
			diOut = di_33;
			esOut = es_34;
			return bx_19;
		}
	} while (al_40 >= 0x00 && ds->*((word16) ax_18 + 0x0542) == 0x01);
	word16 bx_68;
	(ss->*((word16) wLoc02 + 3))();
	bpOut = bp;
	diOut = di;
	esOut = es;
	return bx_68;
}

// 0800:1BB2: void __scantod(Register Eq_6 ds)
// Called from:
//      __scanner
void __scantod(Eq_6 ds)
{
	(*((word16) ds + 0x05CA))();
}

// 0800:1BB6: void __scanrslt(Register Eq_6 ds)
// Called from:
//      __scanner
void __scanrslt(Eq_6 ds)
{
	(*((word16) ds + 0x05CC))();
}

// 0800:1BBA: void __scanpop(Register Eq_6 ds)
// Called from:
//      __scanner
void __scanpop(Eq_6 ds)
{
	(*((word16) ds + 0x05CE))();
}

// 0800:1BBE: FlagGroup bool fn0800_1BBE(Register cu8 cl, Register Eq_1340 bl)
// Called from:
//      __scantol
bool fn0800_1BBE(cu8 cl, Eq_1340 bl)
{
	cu8 bl_8 = (byte) bx;
	bool C_40;
	cu8 bl_16 = bl_8 - 0x30;
	if (bl_8 >= 0x30)
	{
		if (bl_8 <= 0x39)
		{
l0800_1BDB:
			if (bl_16 < cl)
			{
				C_40 = false;
				return C_40;
			}
			goto l0800_1BE7;
		}
		if (bl_8 <= 0x5A)
			bl_16 = bl_8 - 55;
		else
			bl_16 = bl_8 - 0x57;
		if (bl_16 > 0x09)
			goto l0800_1BDB;
	}
l0800_1BE7:
	C_40 = true;
	return C_40;
}

// 0800:1BEC: Register Eq_1340 __scantol(Register Eq_6 ds, Stack (memptr (ptr16 Eq_2) code) wArg02, Stack (memptr (ptr16 Eq_2) code) wArg04, Stack Eq_1340 wArg06, Stack uint16 wArg08, Stack ci16 wArg0A, Stack (memptr Eq_6 word16) wArg0C, Stack (memptr Eq_6 Eq_1703) wArg0E, Register out Eq_1702 dxOut, Register out Eq_1703 bxOut, Register out Eq_1340 diOut, Register out Eq_1340 esOut)
// Called from:
//      __scanner
Eq_1340 __scantol(Eq_6 ds, <anonymous> Eq_2::* wArg02, <anonymous> Eq_2::* wArg04, Eq_1340 wArg06, uint16 wArg08, ci16 wArg0A, word16 Eq_6::* wArg0C, union Eq_1703 Eq_6::* wArg0E, union Eq_1702 & dxOut, union Eq_1703 & bxOut, union Eq_1340 & diOut, union Eq_1340 & esOut)
{
	byte bLoc07_541 = 0x00;
	word16 wLoc06_542 = 0x00;
	struct Eq_2247 Eq_2277::* sp_115 = fp - 0x0E;
	do
	{
		Eq_1702 dx_388;
		Eq_1703 wLoc04_565;
		Eq_1340 ax_479;
		(ss->*sp_115).tFFFFFFFE = wArg06;
		word16 v9_27 = wLoc06_542 + 0x01;
		union Eq_1340 Eq_2277::* sp_38;
		Eq_1340 ax_40;
		(seg0800->*wArg02)();
		wLoc06_542 = v9_27;
		sp_115 = (struct Eq_2247 Eq_2277::*) ((char *) sp_38 + 2);
		Eq_1340 ax_116 = ax_40;
		byte al_51 = (byte) ax_40;
		if (ax_40 < 0x00)
			goto l0800_1C7A;
		Eq_1340 ax_109 = (int16) al_51;
	} while (((byte) ax_109 & 0x80) == 0x00 && (ds->*((word16) ax_109 + 553) & 0x01) != 0x00);
	ax_116 = ax_109;
	byte al_76 = (byte) ax_109;
	--wArg0A;
	if (wArg0A < 0x01)
	{
l0800_1C81:
		wLoc04_565.u0 = 0x00;
l0800_1C86:
		struct Eq_2313 Eq_2277::* sp_207 = sp_115 - 2;
		(ss->*sp_207).t0000 = wArg06;
		(ss->*sp_207).tFFFFFFFE = ax_116;
		word16 sp_235;
		(seg0800->*wArg04)();
		sp_115 = sp_235 + 4;
		--wLoc06_542;
		ax_479.u0 = 0x00;
		dx_388.u0 = 0x00;
		goto l0800_1D3F;
	}
	if (al_76 != 0x2B)
	{
		if (al_76 != 0x2D)
			goto l0800_1C44;
		bLoc07_541 = 0x01;
	}
	ax_116 = ax_109;
	wArg0A -= 0x02;
	if (wArg0A < 0x02)
		goto l0800_1C81;
	ss->*sp_38 = wArg06;
	word16 sp_107;
	(seg0800->*wArg02)();
	wLoc06_542 = v9_27 + 0x01;
	sp_115 = sp_107 + 2;
	ax_116 = ax_109;
	if (ax_109 < 0x00)
	{
l0800_1C7A:
		wLoc04_565.u0 = ~0x00;
		goto l0800_1C86;
	}
l0800_1C44:
	uint32 di_ax_768;
	byte al_130 = (byte) ax_109;
	Eq_1340 si_123 = 0x00;
	Eq_1702 di_125 = 0x00;
	cu8 cl_168 = (byte) wArg08;
	if (wArg08 == 0x00)
	{
		wArg08 = 0x0A;
		if (al_130 == 0x30)
		{
			ci16 v62_135 = wArg0A - 0x01;
			wArg0A = v62_135;
			if (v62_135 >= 0x00)
			{
				(ss->*sp_115).tFFFFFFFE = wArg06;
				word16 v63_139 = wLoc06_542 + 0x01;
				word16 sp_148;
				word16 ax_150;
				(seg0800->*wArg02)();
				wLoc06_542 = v63_139;
				byte al_158 = (byte) ax_150;
				sp_115 = sp_148 + 2;
				wArg08 = 0x08;
				if (al_158 != 0x78)
				{
					di_ax_768 = (uint32) (ss->*bp_8).w0004;
					if (al_158 != 88)
					{
l0800_1CED:
						Eq_1340 ax_286 = (word16) di_ax_768;
						di_125 = SLICE(di_ax_768, word16, 16);
						Eq_1340 ax_296 = ax_286;
						if (!fn0800_1BBE((byte) wArg08, ax_286))
						{
l0800_1D23:
							struct Eq_2419 Eq_2277::* sp_439 = sp_115 - 2;
							(ss->*sp_439).t0000 = wArg06;
							(ss->*sp_439).tFFFFFFFE = ax_296;
							word16 sp_448;
							(seg0800->*wArg04)();
							sp_115 = sp_448 + 4;
							--wLoc06_542;
l0800_1D2F:
							wLoc04_565.u0 = 0x01;
							dx_388 = di_125;
							ax_479 = si_123;
							if (bLoc07_541 != 0x00)
							{
								ax_479 = -si_123;
								dx_388 = -di_125 - (ax_479 == 0x00);
							}
							goto l0800_1D3F;
						}
						uint32 di_si_534 = di_ax_768 + wArg08 * si_123;
						si_123 = (word16) di_si_534;
						di_125 = SLICE(di_si_534, word16, 16);
						if (di_125 != 0x00)
						{
							do
							{
								ci16 v47_314 = wArg0A - 0x01;
								wArg0A = v47_314;
								if (v47_314 < 0x00)
									goto l0800_1D2F;
								(ss->*sp_115).tFFFFFFFE = wArg06;
								word16 v48_318 = wLoc06_542 + 0x01;
								word16 sp_329;
								Eq_1340 ax_331;
								(seg0800->*wArg02)();
								wLoc06_542 = v48_318;
								sp_115 = sp_329 + 2;
								ax_296 = ax_331;
								if (!fn0800_1BBE((byte) wArg08, ax_331))
									goto l0800_1D23;
								Eq_2477 dx_ax_362 = wArg08 * di_125;
								uint32 ax_si_537 = SEQ((word16) dx_ax_362, ax_331) + wArg08 * si_123;
								Eq_1702 ax_367 = SLICE(ax_si_537, word16, 16);
								si_123 = (word16) ax_si_537;
								di_125 = ax_367;
							} while ((bool) (ax_367 < 0x00) + (SLICE(dx_ax_362, byte, 16) + SLICE(dx_ax_362, byte, 24)) == 0x00);
							byte al_381 = bLoc07_541 + ~0x00;
							bool C_384 = SLICE(cond(al_381), bool, 1);
							dx_388 = SLICE(cond(C_384 + ~0x00), bool, 1) + 0x7FFF;
							wLoc04_565.u0 = 0x02;
							ax_479 = SEQ(C_384 + ~0x00, al_381);
l0800_1D3F:
							ds->*wArg0C += wLoc06_542;
							ds->*wArg0E = wLoc04_565;
							Eq_1340 es_523 = (ss->*sp_115).t0000;
							struct Eq_2404 Eq_2277::* sp_524 = (char *) &(ss->*sp_115).t0000 + 2;
							Eq_1340 di_525 = (ss->*sp_524).t0000;
							dxOut = dx_388;
							bxOut = wLoc04_565;
							diOut = di_525;
							esOut = es_523;
							return ax_479;
						}
l0800_1CDE:
						ci16 v39_397 = wArg0A - 0x01;
						wArg0A = v39_397;
						if (v39_397 < 0x00)
							goto l0800_1D2F;
						(ss->*sp_115).tFFFFFFFE = wArg06;
						word16 v40_401 = wLoc06_542 + 0x01;
						word16 sp_425;
						uint16 ax_427;
						(seg0800->*wArg02)();
						wLoc06_542 = v40_401;
						sp_115 = sp_425 + 2;
						di_ax_768 = SEQ(di_125, ax_427);
						goto l0800_1CED;
					}
				}
				wArg08 = 0x10;
l0800_1CC5:
				goto l0800_1CDE;
			}
			goto l0800_1C98;
		}
		goto l0800_1CC7;
	}
	ax_116 = ax_109;
	if (wArg08 > 0x24)
		goto l0800_1C81;
	ax_116 = ax_109;
	if (cl_168 >= 0x02)
	{
		if (al_130 == 0x30)
		{
			if (cl_168 != 0x10)
				goto l0800_1CC5;
			ci16 v30_256 = wArg0A - 0x01;
			wArg0A = v30_256;
			if (v30_256 >= 0x00)
			{
				(ss->*sp_115).tFFFFFFFE = wArg06;
				word16 v31_260 = wLoc06_542 + 0x01;
				word16 sp_266;
				word16 ax_268;
				(seg0800->*wArg02)();
				wLoc06_542 = v31_260;
				byte al_275 = (byte) ax_268;
				sp_115 = sp_266 + 2;
				if (al_275 != 0x78 && al_275 != 88)
				{
					di_ax_768 = (uint32) (ss->*bp_8).w0004;
					goto l0800_1CED;
				}
				goto l0800_1CC5;
			}
l0800_1C98:
			goto l0800_1D2F;
		}
l0800_1CC7:
		ax_116 = ax_109;
		if (!fn0800_1BBE((byte) wArg08, ax_109))
		{
			si_123 = ax_109;
			goto l0800_1CDE;
		}
		goto l0800_1C81;
	}
	goto l0800_1C81;
}

