// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0800:01FA: void _main(Register uint16 bx, Register word16 di, Register Eq_5 es, Register Eq_6 ds)
void _main(uint16 bx, word16 di, Eq_5 es, Eq_6 ds)
{
	word16 di_18;
	Eq_5 es_19;
	uint16 bx_20 = _scanf(bx, di, es, ds, 404, out di_18, out es_19);
	word16 di_31;
	Eq_5 es_32;
	uint16 bx_33 = _scanf(bx_20, di_18, es_19, ds, 0x0197, out di_31, out es_32);
	word16 di_47;
	struct Eq_32 * es_48;
	_scanf(bx_33, di_31, es_32, ds, 0x019A, out di_47, out es_48);
	_printf(ds, 0x01A0);
}

// 0800:0BD4: void __LONGTOA(Register Eq_6 ds, Stack byte bArg02, Stack byte bArg04, Stack Eq_41 wArg06, Stack (memptr Eq_6 byte) wArg08, Stack uint16 wArg0A, Stack Eq_50 wArg0C)
void __LONGTOA(Eq_6 ds, byte bArg02, byte bArg04, Eq_41 wArg06, byte Eq_6::*wArg08, uint16 wArg0A, Eq_50 wArg0C)
{
	byte Eq_6::* di_119 = wArg08;
	cu8 bl_25 = (byte) wArg06;
	if (wArg06 > 0x24 || bl_25 < 0x02)
	{
l0800_0C42:
		ds->*di_119 = 0x00;
		return;
	}
	uint16 ax_103 = wArg0A;
	Eq_50 cx_145 = wArg0C;
	if (wArg0C < 0x00 && bArg04 != 0x00)
	{
		ds->*wArg08 = 0x2D;
		ax_103 = -wArg0A;
		di_119 = wArg08 + 0x01;
		cx_145 = -wArg0C - (ax_103 == 0x00);
	}
	byte Eq_6::* si_104 = fp - 0x24;
	if (cx_145 != 0x00)
	{
		do
		{
			uint32 dx_ax_152 = (uint32) (uint16) cx_145;
			uint32 dx_ax_158 = SEQ((uint16) (dx_ax_152 % wArg06), ax_103);
			ds->*si_104 = (byte) (uint16) (dx_ax_158 % wArg06);
			Eq_50 ax_155 = (uint16) (dx_ax_152 /u wArg06);
			cx_145 = ax_155;
			ax_103 = (uint16) (dx_ax_158 /u wArg06);
			++si_104;
		} while (ax_155 != 0x00);
l0800_0C25:
		if (ax_103 == 0x00)
		{
			word16 cx_113;
			do
			{
				byte al_131;
				--si_104;
				cu8 al_123 = ds->*si_104;
				if (al_123 < 0x0A)
					al_131 = al_123 + 0x30;
				else
					al_131 = al_123 - 0x0A + bArg02;
				ds->*di_119 = al_131;
				++di_119;
				--cx_113;
			} while (cx_113 != 0x00);
			goto l0800_0C42;
		}
	}
	uint32 dx_ax_88 = (uint32) (uint16) ax_103;
	ds->*si_104 = (byte) (uint16) (dx_ax_88 % wArg06);
	ax_103 = (uint16) (dx_ax_88 /u wArg06);
	++si_104;
	goto l0800_0C25;
}

// 0800:0DCC: void _printf(Register Eq_6 ds, Stack Eq_41 wArg02)
void _printf(Eq_6 ds, Eq_41 wArg02)
{
	__VPRINTER(fp - 0x02, ds, fp + 0x04, wArg02);
}

// 0800:0FC5: void __REALCVT()
void __REALCVT()
{
	word16 sp_4;
	struct Eq_162 * ds_5;
	ds->t05B0();
}

// 0800:0FC9: Register Eq_166 fn0800_0FC9(Register Eq_166 di, Register Eq_6 es, Register Eq_6 ds, Stack word16 wArg02)
Eq_166 fn0800_0FC9(Eq_166 di, Eq_6 es, Eq_6 ds, word16 wArg02)
{
	bcu8 dh_8 = SLICE(wArg02, byte, 8);
	es->*di = ds->*((word16) ((uint16) (dh_8 >> 0x04)) + 0x04B9);
	es->*((word32) di + 0x01) = ds->*((word16) ((uint16) (dh_8 & 0x0F)) + 0x04B9);
	bcu8 dl_9 = (byte) wArg02;
	es->*((word32) di + 0x02) = ds->*((word16) ((uint16) (dl_9 >> 0x04)) + 0x04B9);
	es->*((word32) di + 0x03) = ds->*((word16) ((uint16) (dl_9 & 0x0F)) + 0x04B9);
	return (word32) di + 0x04;
}

// 0800:0FF4: void __VPRINTER(Register mp16 bp, Register Eq_6 ds, Stack Eq_6 wArg02, Stack Eq_41 wArg04)
void __VPRINTER(mp16 bp, Eq_6 ds, Eq_6 wArg02, Eq_41 wArg04)
{
	ci8 bLoc57_124 = 0x50;
	union Eq_6 Eq_6::* sp_1024 = fp - 0xA0;
	byte Eq_6::* wLoc98_22 = fp - 0x56;
l0800_1057:
	byte Eq_6::* di_1047 = wLoc98_22;
l0800_105B:
	Eq_41 si_131 = wArg04;
	while (true)
	{
		byte al_146 = ds->*si_131;
		si_131 = (word16) si_131 + 0x01;
		byte al_148 = al_146;
		ax = DPB(ax, al_146, 0);
		if (al_146 == 0x00)
			break;
		if (al_146 == 0x25)
		{
			al_148 = ds->*si_131;
			ax = DPB(ax, al_148, 0);
			si_131 = (word16) si_131 + 0x01;
			if (al_148 != 0x25)
			{
				wLoc98_22 = di_1047;
				cu8 ch_1403 = 0x00;
				wchar_t wLoc8E_241 = 0x00;
				cui16 wLoc9A_1036 = 0x00;
				byte bLoc8F_1114 = 0x00;
				Eq_6 wLoc94_244 = ~0x00;
				Eq_6 wLoc92_245 = ~0x00;
				while (true)
				{
					Eq_6 ax_262 = DPB(ax, 0x00, 8);
					cu8 bl_267 = (byte) ax_262;
					byte dl_265 = (byte) ax_262;
					struct Eq_307 Eq_6::* bx_270 = DPB(ax_262, bl_267 - 0x20, 0);
					if (bl_267 >= 0x80)
						break;
					Eq_6 bx_319 = DPB(ax_262, (ds->*bx_270).b04C9, 0);
					Eq_6 ax_320 = bx_319;
					if (bx_319 > 0x17)
						goto l0800_14E1;
					Eq_6 cx_1296;
					Eq_6 es_1022;
					Eq_323 di_1179;
					Eq_6 bx_1100;
					byte bh_1099;
					Eq_6 dx_1092;
					Eq_6 ax_1108;
					byte bLoc95_1101;
					Eq_6 dx_1026;
					switch (bx_319)
					{
					case 0x00:
						if (ch_1403 > 0x00)
							goto l0800_10F6;
						if (bLoc8F_1114 != 0x2B)
							bLoc8F_1114 = dl_265;
						break;
					case 0x01:
						if (ch_1403 > 0x00)
							goto l0800_10F6;
						wLoc9A_1036 |= 0x01;
						break;
					case 0x02:
						ax_320 = ds->*wArg02;
						wArg02 = (word32) wArg02 + 0x02;
						if (ch_1403 < 0x02)
						{
							wLoc94_244 = ax_320;
							ch_1403 = 0x03;
							goto l0800_1166;
						}
						if (ch_1403 != 0x04)
							goto l0800_114F;
						wLoc92_245 = ax_320;
						++ch_1403;
						break;
					case 0x03:
						if (ch_1403 > 0x00)
							goto l0800_10F6;
						wLoc9A_1036 |= 0x02;
						break;
					case 0x04:
						if (ch_1403 >= 0x04)
							goto l0800_114F;
						ch_1403 = 0x04;
						break;
					case 0x05:
l0800_1181:
						Eq_6 ax_425 = (int16) ((byte) ax_262 - 0x30);
						if (ch_1403 <= 0x02)
						{
							ch_1403 = 0x02;
							wLoc94_244 = ax_425;
							ax_320 = wLoc94_244;
							if (wLoc94_244 < 0x00)
								goto l0800_1166;
							ui16 ax_443 = wLoc94_244 << 0x01;
							ax_320 = ax_443 * 0x05;
							wLoc94_244 = (word32) ax_425 + ax_443 * 0x05;
						}
						else
						{
							if (ch_1403 != 0x04)
							{
l0800_114F:
								goto l0800_14E1;
							}
							wLoc92_245 = ax_425;
							ax_320 = wLoc92_245;
							if (wLoc92_245 < 0x00)
								goto l0800_1166;
							ui16 ax_463 = wLoc92_245 << 0x01;
							ax_320 = ax_463 * 0x05;
							wLoc92_245 = (word32) ax_425 + ax_463 * 0x05;
						}
						break;
					case 0x06:
						wLoc9A_1036 |= 0x10;
						ch_1403 = 0x05;
						break;
					case 0x07:
						wLoc9A_1036 = (wLoc9A_1036 | 0x0100) & ~0x10;
						ch_1403 = 0x05;
						break;
					case 0x08:
						wLoc9A_1036 = wLoc9A_1036 & ~0x10 | 0x80;
						ch_1403 = 0x05;
						break;
					case 0x09:
						if (ch_1403 > 0x00)
							goto l0800_1181;
						if ((wLoc9A_1036 & 0x02) == 0x00)
						{
							wLoc9A_1036 |= 0x08;
							ch_1403 = 0x01;
						}
						else
						{
l0800_1166:
						}
						break;
					case 0x0A:
						int32 dx_ax_1106 = (int32) (ds->*wArg02);
						bh_1099 = 0x0A;
						bx_1100 = DPB(bx_319 << 0x01, 0x0A, 8);
						bLoc95_1101 = 0x01;
						ax_1108 = (word16) dx_ax_1106;
						dx_1092 = SLICE(dx_ax_1106, word16, 16);
						goto l0800_1223;
					case 11:
						bh_1099 = 0x08;
						bx_1100 = DPB(bx_319 << 0x01, 0x08, 8);
						goto l0800_11FB;
					case 0x0C:
						bh_1099 = 0x0A;
						bx_1100 = DPB(bx_319 << 0x01, 0x0A, 8);
						goto l0800_1200;
					case 0x0D:
						bh_1099 = 0x10;
						bx_1100 = DPB(bx_319 << 0x01, dl_265 + 233, 0);
l0800_11FB:
						bLoc8F_1114 = 0x00;
l0800_1200:
						bLoc95_1101 = 0x00;
						ax_1108 = ds->*wArg02;
						dx_1092.u0 = 0x00;
l0800_1223:
						struct Eq_548 Eq_6::* di_974 = (word32) wArg02 + 0x01;
						Eq_6 di_1096 = &di_974->t0001;
						wArg04 = si_131;
						if ((wLoc9A_1036 & 0x10) != 0x00)
						{
							dx_1092 = (ds->*di_974).t0001;
							di_1096 = (char *) &di_974->t0001 + 0x02;
						}
						wArg02 = di_1096;
						di_1179 = fp - 0x89;
						ax = ax_1108;
						if (ax_1108 == 0x00 && dx_1092 == 0x00)
						{
							if (wLoc92_245 == 0x00)
							{
								if (wLoc94_244 != 0x00 && wLoc94_244 != ~0x00)
								{
									byte dl_1073;
									ax = wLoc9A_1036 & 0x08;
									if (ax != 0x00)
										dl_1073 = 0x30;
									else
										dl_1073 = 0x20;
									do
									{
										sp_1024 = (union Eq_6 Eq_6::*) ((char *) sp_1024 + 0x0000FFFE);
										byte Eq_6::* di_1413 = di_1047;
										word16 dx_1079;
										word16 bx_1080;
										struct Eq_672 * es_1082;
									} while (fn0800_101A(dl_1073, fp - 0x02, di_1413, ds, out dx_1079, out bx_1080, out di_1047, out es_1082) != 0x01);
								}
								goto l0800_105B;
							}
						}
						else
							wLoc9A_1036 |= 0x04;
						union Eq_6 Eq_6::* sp_998 = sp_1024 - 0x02;
						ss->*sp_998 = dx_1092;
						ss->*(sp_998 - 0x02) = ax_1108;
						ss->*(sp_998 - 0x04) = fp - 0x89;
						Eq_6 ax_1005 = (int16) bh_1099;
						ss->*(sp_998 - 0x06) = ax_1005;
						ss->*(sp_998 - 0x08) = DPB(ax_1005, bLoc95_1101, 0);
						ss->*(sp_998 - 0x0A) = bx_1100;
						__LONGTOA(ds, bArg00, bArg02, si_131, wArg06, wArg08, wArg0A);
						ss->*sp_998 = ss;
						es_1022 = ss->*sp_998;
						sp_1024 = (union Eq_6 Eq_6::*) ((char *) sp_998 + 0x02);
						dx_1026 = wLoc92_245;
						if (wLoc92_245 <= 0x00)
							goto l0800_13A8;
						goto l0800_13B8;
					case 0x0E:
						union Eq_6 Eq_6::* sp_1149 = sp_1024 - 0x02;
						ss->*sp_1149 = ds->*wArg02;
						struct Eq_433 Eq_6::* bx_1151 = (word32) wArg02 + 0x01;
						Eq_166 di_1145 = fp - 0x8A;
						wArg02 = &bx_1151->t0001;
						if ((wLoc9A_1036 & 0x20) != 0x00)
						{
							ss->*(sp_1149 - 0x02) = (ds->*bx_1151).t0001;
							ss->*(sp_1149 - 0x04) = ss;
							Eq_6 es_1196 = ss->*(sp_1149 - 0x04);
							Eq_925 di_1198 = fn0800_0FC9(fp - 0x8A, es_1196, ds, wArg00);
							es_1196->*di_1198 = 0x3A;
							wArg02 = (char *) &bx_1151->t0001 + 0x02;
							di_1145 = (word32) di_1198 + 0x01;
						}
						ss->*(sp_1149 - 0x02) = ss;
						es_1022 = ss->*(sp_1149 - 0x02);
						Eq_925 di_1169 = fn0800_0FC9(di_1145, es_1022, ds, wArg00);
						ds->*di_1169 = 0x00;
						sp_1024 = (union Eq_6 Eq_6::*) ((char *) sp_1149 + 0x02);
						wLoc9A_1036 &= ~0x04;
						di_1179 = fp - 0x8A;
						goto l0800_13A8;
					case 0x0F:
						Eq_6 cx_1209 = wLoc92_245;
						if (wLoc92_245 < 0x00)
							cx_1209.u0 = 0x06;
						Eq_6 ax_1244;
						int16 wLoc06_1238;
						union Eq_6 Eq_6::* sp_1218 = sp_1024 - 0x02;
						ss->*sp_1218 = wArg02;
						ss->*(sp_1218 - 0x02) = cx_1209;
						ss->*(sp_1218 - 0x04) = fp - 0x89;
						ss->*(sp_1218 - 0x06) = ax_262;
						ss->*(sp_1218 - 0x08) = wLoc9A_1036 & 0x01;
						if ((wLoc9A_1036 & 0x80) != 0x00)
						{
							ax_1244.u0 = 0x02;
							wLoc06_1238 = 0x04;
						}
						else if ((wLoc9A_1036 & 0x0100) != 0x00)
						{
							ax_1244.u0 = 0x08;
							wLoc06_1238 = 0x0A;
						}
						else
						{
							wLoc06_1238 = 0x08;
							ax_1244.u0 = 0x06;
						}
						ss->*(sp_1218 - 0x0A) = ax_1244;
						__REALCVT();
						ss->*(sp_1218 - 0x0C) = ss;
						wArg02 = (word32) wArg02 + wLoc06_1238;
						es_1022 = ss->*(sp_1218 - 0x0C);
						sp_1024 = sp_1218 - 0x0A;
						di_1179 = fp - 0x89;
l0800_13A8:
						if ((wLoc9A_1036 & 0x08) != 0x00)
						{
							dx_1026 = wLoc94_244;
							if (wLoc94_244 > 0x00)
							{
l0800_13B8:
								Eq_6 cx_908 = fn0800_100D(di_1179, es_1022);
								if (es_1022->*di_1179.u0 == 0x2D)
									--cx_908;
								wchar_t dx_916 = dx_1026 - cx_908;
								if (dx_916 > 0x00)
									wLoc8E_241 = dx_916;
							}
						}
						if (bLoc8F_1114 != 0x00 && es_1022->*di_1179.u0 != 0x2D)
						{
							--di_1179;
							es_1022->*di_1179.u0 = bLoc8F_1114;
							wLoc8E_241 = v41;
						}
						cx_1296 = fn0800_100D(di_1179, es_1022);
						goto l0800_13E9;
					case 0x10:
						union Eq_6 Eq_6::* sp_1285 = sp_1024 - 0x02;
						ss->*sp_1285 = ss;
						wArg02 = (word32) wArg02 + 0x02;
						es_1022 = ss->*sp_1285;
						sp_1024 = (union Eq_6 Eq_6::*) ((char *) sp_1285 + 0x02);
						di_1179 = fp - 0x89;
						cx_1296.u0 = 0x01;
						goto l0800_13E9;
					case 0x11:
						bool Z_1311;
						if ((wLoc9A_1036 & 0x20) == 0x00)
						{
							Eq_323 di_1339 = ds->*wArg02;
							union Eq_6 Eq_6::* sp_1342 = sp_1024 - 0x02;
							ss->*sp_1342 = ds;
							wArg02 = (word32) wArg02 + 0x02;
							es_1022 = ss->*sp_1342;
							di_1179 = di_1339;
							Z_1311 = (bool) cond(di_1339);
						}
						else
						{
							Eq_520 es_di_1354 = ds->*wArg02;
							di_1179 = (word16) es_di_1354;
							es_1022 = SLICE(es_di_1354, selector, 16);
							wArg02 = (word32) wArg02 + 0x04;
							Z_1311 = (bool) cond(es_1022 | di_1179);
						}
						if (!Z_1311)
						{
							union Eq_6 Eq_6::* sp_1333 = sp_1024 - 0x02;
							ss->*sp_1333 = ds;
							es_1022 = ss->*sp_1333;
							di_1179.u0 = 1202;
						}
						cx_1296 = fn0800_100D(di_1179, es_1022);
						if (cx_1296 > wLoc92_245)
							cx_1296 = wLoc92_245;
l0800_13E9:
						wArg04 = si_131;
						Eq_323 si_530 = di_1179;
						Eq_6 bx_533 = wLoc94_244;
						ax = wLoc9A_1036 & 0x05;
						if (ax == 0x05)
						{
							ax = DPB(ax, dl_265, 8);
							if (dl_265 != 111)
							{
								if (dl_265 == 0x78 || dl_265 == 88)
								{
									wchar_t v37_821 = wLoc8E_241 - 0x02;
									wLoc9A_1036 |= 0x40;
									bx_533 = wLoc94_244 - 0x02;
									wLoc8E_241 = v37_821;
									if (v37_821 < 0x00)
										wLoc8E_241 = 0x00;
								}
l0800_1436:
								Eq_6 cx_552 = cx_1296.u0 + wLoc8E_241;
								if ((wLoc9A_1036 & 0x02) == 0x00)
								{
									while (bx_533 > cx_552)
									{
										word16 dx_784;
										word16 bx_785;
										cx_552 = fn0800_101A(0x20, fp - 0x02, di_1047, ds, out dx_784, out bx_785, out di_1047, out es_1022);
										sp_1024 = (union Eq_6 Eq_6::*) ((char *) sp_1024 + 0x0000FFFE);
										bx_533 = bx_785 - 0x01;
									}
								}
								if ((wLoc9A_1036 & 0x40) != 0x00)
								{
									word16 dx_755;
									word16 bx_756;
									byte Eq_6::* di_757;
									struct Eq_725 * es_758;
									fn0800_101A(0x30, fp - 0x02, di_1047, ds, out dx_755, out bx_756, out di_757, out es_758);
									word16 dx_762;
									cx_552 = fn0800_101A(dl_265, fp - 0x02, di_757, ds, out dx_762, out bx_533, out di_1047, out es_1022);
									sp_1024 = (union Eq_6 Eq_6::*) ((char *) sp_1024 + 0x0000FFFC);
								}
								wchar_t dx_582 = wLoc8E_241;
								if (wLoc8E_241 > 0x00)
								{
									byte al_682 = es_1022->*di_1179.u0;
									Eq_6 cx_676 = cx_552 - wLoc8E_241;
									bx_533 -= wLoc8E_241;
									ax = DPB(ax, al_682, 0);
									if (al_682 == 0x2D || (al_682 == 0x20 || al_682 == 0x2B))
									{
										si_530 = (word16) di_1179.u0 + 0x01;
										sp_1024 = (union Eq_6 Eq_6::*) ((char *) sp_1024 + 0x0000FFFE);
										word16 bx_738;
										struct Eq_765 * es_740;
										cx_676 = fn0800_101A(ds->*di_1179.u0, fp - 0x02, di_1047, ds, out dx_582, out bx_738, out di_1047, out es_740) - 0x01;
										bx_533 = bx_738 - 0x01;
									}
									Eq_6 dx_703 = cx_676;
									if (dx_582 != 0x00)
									{
										do
										{
											sp_1024 = (union Eq_6 Eq_6::*) ((char *) sp_1024 + 0x0000FFFE);
											byte Eq_6::* di_1412 = di_1047;
											struct Eq_808 * es_728;
										} while (fn0800_101A(0x30, fp - 0x02, di_1412, ds, out dx_703, out bx_533, out di_1047, out es_728) != 0x01);
									}
									cx_552 = dx_703;
								}
								if (cx_552 != 0x00)
								{
									bx_533 -= cx_552;
									do
									{
										ds->*di_1047 = ds->*si_530;
										ci8 v42_658 = bLoc57_124 - 0x01;
										si_530 = (word32) si_530 + 0x01;
										++di_1047;
										bLoc57_124 = v42_658;
										if (v42_658 <= 0x00)
										{
											word16 dx_669;
											struct Eq_840 * es_672;
											cx_552 = fn0800_1022(fp - 0x02, di_1047, out dx_669, out bx_533, out di_1047, out es_672);
										}
										--cx_552;
									} while (cx_552 != 0x00);
								}
								if (bx_533 > 0x00)
								{
									do
									{
										sp_1024 = (union Eq_6 Eq_6::*) ((char *) sp_1024 + 0x0000FFFE);
										byte Eq_6::* di_1411 = di_1047;
										word16 dx_633;
										word16 bx_634;
										struct Eq_868 * es_636;
									} while (fn0800_101A(0x20, fp - 0x02, di_1411, ds, out dx_633, out bx_634, out di_1047, out es_636) != 0x01);
								}
								goto l0800_105B;
							}
							if (wLoc8E_241 <= 0x00)
								wLoc8E_241 = 0x01;
						}
						goto l0800_1436;
					case 0x12:
						Eq_6 es_1377;
						struct Eq_470 Eq_6::* di_1376;
						wArg04 = si_131;
						if ((wLoc9A_1036 & 0x20) == 0x00)
						{
							di_1376 = ds->*wArg02;
							union Eq_6 Eq_6::* sp_1388 = sp_1024 - 0x02;
							ss->*sp_1388 = ds;
							wArg02 = (word32) wArg02 + 0x02;
							es_1377 = ss->*sp_1388;
						}
						else
						{
							Eq_490 es_di_1393 = ds->*wArg02;
							di_1376 = (word16) es_di_1393;
							es_1377 = SLICE(es_di_1393, selector, 16);
							wArg02 = (word32) wArg02 + 0x04;
						}
						Eq_6 ax_1380 = DPB(0x50, 0x50 - bLoc57_124, 0);
						(es_1377->*di_1376).t0000 = ax_1380;
						ax = ax_1380;
						goto l0800_1057;
					case 0x13:
					case 0x14:
					case 0x15:
l0800_14E1:
						Eq_41 si_284 = si_131;
						byte al_287 = 0x25;
						do
						{
							word16 dx_296;
							word16 bx_297;
							struct Eq_335 * es_299;
							fn0800_101A(al_287, fp - 0x02, di_1047, ds, out dx_296, out bx_297, out di_1047, out es_299);
							byte al_302 = ds->*si_284;
							si_284 = (word32) si_284 + 0x01;
							al_287 = al_302;
						} while (al_302 != 0x00);
						goto l0800_14F3;
					case 22:
						wLoc9A_1036 &= ~0x20;
						ch_1403 = 0x05;
						break;
					case 0x17:
						wLoc9A_1036 |= 0x20;
						ch_1403 = 0x05;
						break;
					}
					ax = DPB(ax_320, ds->*si_131, 0);
					si_131 = (word16) si_131 + 0x01;
				}
l0800_10F6:
				goto l0800_14E1;
			}
		}
		ds->*di_1047 = al_148;
		ci8 v15_220 = bLoc57_124 - 0x01;
		++di_1047;
		bLoc57_124 = v15_220;
		if (v15_220 <= 0x00)
		{
			word16 dx_223;
			word16 bx_224;
			struct Eq_256 * es_226;
			fn0800_1022(fp - 0x02, di_1047, out dx_223, out bx_224, out di_1047, out es_226);
		}
	}
l0800_14F3:
	if (bLoc57_124 < 0x50)
	{
		word16 dx_203;
		word16 bx_204;
		word16 di_205;
		struct Eq_280 * es_206;
		fn0800_1022(fp - 0x02, di_1047, out dx_203, out bx_204, out di_205, out es_206);
	}
}

// 0800:100D: Register word16 fn0800_100D(Register Eq_323 di, Register Eq_6 es)
word16 fn0800_100D(Eq_323 di, Eq_6 es)
{
	word16 cx_13 = ~0x00;
	while (cx_13 != 0x00)
	{
		di = (word16) di_29 + 0x01;
		--cx_13;
		Eq_323 di_29 = di;
		if (0x00 != es->*di_29)
			return ~cx_13 - 0x01;
	}
	return ~cx_13 - 0x01;
}

// 0800:101A: Register Eq_6 fn0800_101A(Register byte al, Register (memptr (ptr16 Eq_1076) Eq_259) bp, Register (memptr Eq_6 byte) di, Register Eq_6 ds, Register out Eq_342 dxOut, Register out Eq_343 bxOut, Register out Eq_344 diOut, Register out (ptr16 Eq_345) esOut)
Eq_6 fn0800_101A(byte al, Eq_259 Eq_1076::*bp, byte Eq_6::*di, Eq_6 ds, Eq_342 & dxOut, Eq_343 & bxOut, Eq_344 & diOut, Eq_345 * & esOut)
{
	*dxOut = dx;
	*bxOut = bx;
	*esOut = es;
	ds->*di = al;
	ci8 v9_9 = ss->*(bp - 0x55) - 0x01;
	ss->*(bp - 0x55) = v9_9;
	word16 di_6;
	*diOut = di + 0x01;
	if (v9_9 <= 0x00)
		return cx;
	word16 dx_21;
	word16 bx_22;
	word16 di_23;
	struct Eq_1098 * es_24;
	return fn0800_1022(bp, di + 0x01, out dx_21, out bx_22, out di_23, out es_24);
}

// 0800:1022: Register word16 fn0800_1022(Register (memptr (ptr16 Eq_1076) Eq_259) bp, Register (memptr Eq_6 byte) di, Register out ptr16 dxOut, Register out Eq_262 bxOut, Register out Eq_263 diOut, Register out (ptr16 Eq_264) esOut)
word16 fn0800_1022(Eq_259 Eq_1076::*bp, byte Eq_6::*di, ptr16 & dxOut, Eq_262 & bxOut, Eq_263 & diOut, Eq_264 * & esOut)
{
	struct Eq_1107 Eq_1109::* sp_29;
	word16 bx_30;
	struct Eq_1109 * ss_31;
	word16 cx_32;
	word16 dx_33;
	struct Eq_1112 * es_34;
	union Eq_1128 Eq_1109::* bp_35;
	word16 ax_36;
	word16 di_37;
	byte SCZO_38;
	byte SZO_39;
	bool C_40;
	bool Z_41;
	(0x0800->*(ss->*bp).ptr000A)();
	if (ax_36 == 0x00)
		(ss_31->*(bp_35 - 0x02)).u1 = 0x01;
	(ss_31->*(bp_35 - 0x55)).u0 = 0x50;
	(ss_31->*(bp_35 - 88)).u1 = (word16) (ss_31->*(bp_35 - 88)).u1 + di_37;
	word16 di_50;
	*diOut = bp_35 - 0x54;
	struct Eq_1149 * es_51;
	*esOut = (ss_31->*sp_29).ptr0000;
	word16 dx_53;
	*dxOut = (ss_31->*sp_29).w0002;
	word16 cx_55 = (ss_31->*sp_29).w0004;
	word16 bx_57;
	*bxOut = (ss_31->*sp_29).w0006;
	return cx_55;
}

// 0800:1655: Register uint16 _scanf(Register uint16 bx, Register word16 di, Register Eq_5 es, Register Eq_6 ds, Stack Eq_16 wArg02, Register out ptr16 diOut, Register out (ptr16 Eq_18) esOut)
uint16 _scanf(uint16 bx, word16 di, Eq_5 es, Eq_6 ds, Eq_16 wArg02, ptr16 & diOut, Eq_18 * & esOut)
{
	word16 bp_26;
	word16 di_27;
	struct Eq_1176 * es_28;
	uint16 bx_29 = __scanner(bx, fp - 0x02, di, es, ds, 0x0773, 0x1CE6, 0x0312, wArg02, out bp_26, out di_27, out es_28);
	return bx_29;
}

// 0800:1674: Register uint16 __scanner(Register uint16 bx, Register mp16 bp, Register word16 di, Register Eq_5 es, Register Eq_6 ds, Stack Eq_5 wArg02, Stack Eq_5 wArg04, Stack Eq_5 wArg06, Stack Eq_16 wArg08, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_1191) esOut)
uint16 __scanner(uint16 bx, mp16 bp, word16 di, Eq_5 es, Eq_6 ds, Eq_5 wArg02, Eq_5 wArg04, Eq_5 wArg06, Eq_16 wArg08, ptr16 & bpOut, ptr16 & diOut, Eq_1191 * & esOut)
{
	struct Eq_1202 Eq_5::* bp_1011 = fp - 0x02;
	word16 wLoc28_1050 = 0x00;
	struct Eq_1208 Eq_5::* sp_1007 = fp - 0x32;
l0800_16A4:
	Eq_16 si_168 = wArg08;
	do
	{
l0800_16A7:
		byte al_103 = ds->*si_168;
		Eq_16 si_104 = (word16) si_168 + 0x01;
		if (al_103 == 0x00)
		{
			word16 bp_1242;
			word16 di_1243;
			struct Eq_1580 * es_1244;
			fn0800_1A6C(bp_1011, out bp_1242, out di_1243, out es_1244);
			return bx;
		}
		if (al_103 == 0x25)
		{
			int16 wLoc24_393 = ~0x00;
			byte bLoc2B_1235 = 0x00;
			si_405 = si_104;
			while (true)
			{
				Eq_16 si_405;
				si_405 = (word32) si_405 + 0x01;
				int16 ax_411 = (int16) (ds->*si_405);
				wArg08 = si_405;
				if (ax_411 < 0x00)
					goto l0800_1767;
				uint16 bx_435 = DPB(bx, 0x00, 8);
				if (bx_435 > 0x15)
					break;
				Eq_5 si_1220;
				word16 ax_1211;
				word16 dx_1214;
				bx = bx_435 << 0x01;
				switch (bx_435)
				{
				case 0x00:
				case 0x01:
				case 0x02:
l0800_1767:
					word16 bp_429;
					word16 di_430;
					struct Eq_1596 * es_431;
					fn0800_1A6C(bp_1011, out bp_429, out di_430, out es_431);
					return bx;
				case 0x03:
					goto l0800_16B0;
				case 0x04:
					bLoc2B_1235 |= 0x01;
					break;
				case 0x05:
					wLoc24_393 = ax_411 - 0x30;
					int16 wLoc24_1246 = wLoc24_393;
					if (wLoc24_1246 >= 0x00)
						wLoc24_393 = ax_411 - 0x26;
					break;
				case 0x06:
					if ((bLoc2B_1235 & 0x01) == 0x00)
						fn0800_1689(bp_1011, ds, out es);
					if (wLoc24_1246 != 0x00)
					{
						do
						{
							union Eq_5 Eq_5::* sp_524 = sp_1007 - 0x02;
							ss->*sp_524 = es;
							ss->*(sp_524 - 0x02) = wArg06;
							++wLoc28_1050;
							struct Eq_1768 Eq_5::* sp_529;
							byte SCZO_532;
							ci16 si_533;
							byte Eq_5::* di_534;
							struct Eq_1772 * es_535;
							bool D_536;
							byte al_537;
							byte SZO_539;
							bool C_540;
							bool Z_541;
							ci16 ax_542;
							word16 cx_543;
							byte SO_544;
							bool S_545;
							byte bl_547;
							byte bh_548;
							byte CZ_549;
							word16 dx_550;
							byte ah_551;
							byte dl_552;
							byte cl_553;
							byte ch_554;
							(0x0800->*bp_1011[0x02])();
							es = (ss->*sp_529).t0002;
							sp_1007 = (struct Eq_1208 Eq_5::*) ((char *) &sp_529->t0002 + 0x02);
							if ((bLoc2B_1235 & 0x01) == 0x00)
								es->*di_534 = al_537;
							if (ax_542 < 0x00)
							{
								word16 bp_572;
								word16 di_573;
								struct Eq_1825 * es_574;
								fn0800_1A6C(bp_1011, out bp_572, out di_573, out es_574);
								return bx;
							}
						} while (si_533 > 0x01);
					}
					goto l0800_16A4;
				case 0x07:
				case 0x08:
					si_1220.u0 = 0x0A;
					goto l0800_17C5;
				case 0x09:
					si_1220.u0 = 0x00;
					goto l0800_17C5;
				case 0x0A:
					union Eq_5 Eq_5::* sp_699 = sp_1007 - 0x02;
					ss->*sp_699 = fp - 0x26;
					ss->*(sp_699 - 0x02) = fp - 0x28;
					ss->*(sp_699 - 0x04) = wLoc24_1246 & 0x7FFF;
					ss->*(sp_699 - 0x06) = wArg06;
					ss->*(sp_699 - 0x08) = wArg04;
					ss->*(sp_699 - 0x0A) = wArg02;
					__scantod();
					sp_1007 = (struct Eq_1208 Eq_5::*) ((char *) sp_699 + 0x02);
					if (wLoc26 > 0x00)
					{
						if ((bLoc2B_1235 & 0x01) != 0x00)
							__scanpop();
						else
						{
							Eq_5 ax_743;
							Eq_5 di_731 = fn0800_1689(bp_1011, ds, out es);
							if ((bLoc2B_1235 & 0x04) != 0x00)
								ax_743.u0 = 0x04;
							else if ((bLoc2B_1235 & 0x08) != 0x00)
								ax_743.u0 = 0x08;
							else
								ax_743.u0 = 0x00;
							ss->*sp_699 = ax_743;
							ss->*(sp_699 - 0x02) = di_731;
							__scanrslt();
							sp_1007 = (struct Eq_1208 Eq_5::*) ((char *) sp_699 + 0x02);
						}
						goto l0800_16A4;
					}
					__scanpop();
					if (wLoc26 < 0x00)
					{
						word16 bp_771;
						word16 di_772;
						struct Eq_2125 * es_773;
						fn0800_1A6C(bp_1011, out bp_771, out di_772, out es_773);
						return bx_435 << 0x01;
					}
					else
					{
						word16 bp_767;
						word16 di_768;
						struct Eq_2107 * es_769;
						fn0800_1A80(bp_1011, out bp_767, out di_768, out es_769);
						return bx_435 << 0x01;
					}
				case 11:
					bLoc2B_1235 |= 0x08;
					break;
				case 0x0C:
					bLoc2B_1235 |= 0x02;
					break;
				case 0x0D:
					bLoc2B_1235 |= 0x04;
					break;
				case 0x0E:
					si_1220.u0 = 0x08;
					goto l0800_17C5;
				case 0x0F:
					word16 bx_788;
					struct Eq_1202 Eq_5::* bp_789;
					word16 di_790;
					struct Eq_1479 * es_791;
					uint16 ax_792 = fn0800_18F0(bx_435, bp_1011, ds, out bx_788, out bp_789, out di_790, out es_791);
					uint16 bx_796;
					word16 bp_797;
					word16 di_798;
					struct Eq_1657 * es_799;
					fn0800_18F0(ax_792, bp_789, ds, out bx_796, out bp_797, out di_798, out es_799);
					return bx_796;
				case 0x10:
					union Eq_5 Eq_5::* sp_807 = sp_1007 - 0x02;
					ss->*sp_807 = ss;
					es = ss->*sp_807;
					sp_1007 = (struct Eq_1208 Eq_5::*) ((char *) sp_807 + 0x02);
					word16 Eq_5::* di_811 = fp - 0x22;
					word16 cx_812;
					for (cx_812 = 0x10; cx_812 != 0x00; --cx_812)
					{
						es->*di_811 = 0x00;
						++di_811;
					}
					cu8 al_1207 = ds->*si_405;
					byte v42_828 = bLoc2B_1235 & ~0x10;
					word16 ax_1208 = (word16) al_1207;
					Eq_16 si_1210 = (word32) si_405 + 0x01;
					byte bLoc2B_1204 = v42_828;
					if (al_1207 == 0x5E)
					{
						al_1207 = ds->*((word32) si_405 + 0x01);
						bLoc2B_1204 = v42_828 | 0x10;
						ax_1208 = DPB(ax_1208, al_1207, 0);
						si_1210 = (word32) si_405 + 0x02;
					}
					cu16 ax_841 = DPB(ax_1208, 0x00, 8);
l0800_19A4:
					Eq_5 di_1012 = ax_841 >> 0x03;
					Eq_1854 ch_859 = 0x01 << (al_1207 & 0x07);
					Mem862[ss:bp_1011 - 0x20 + di_1012:byte] = Mem808[ss:bp_1011 - 0x20 + di_1012:byte] | ch_859;
					cu8 dl_851 = al_1207;
					while (true)
					{
						al_1207 = ds->*si_1210;
						ax_841 = DPB(ax_841, al_1207, 0);
						si_1210 = (word32) si_1210 + 0x01;
						if (al_1207 == 0x00)
							break;
						if (al_1207 == 0x5D)
						{
							ci16 v61_922 = wLoc24_1246 & 0x7FFF;
							wArg08 = si_1210;
							ci16 si_1109 = v61_922;
							if ((bLoc2B_1204 & 0x01) == 0x00)
								di_1012 = fn0800_1689(bp_1011, ds, out es);
							while (true)
							{
								ci16 si_955 = si_1109 - 0x01;
								if (si_955 < 0x00)
									break;
								struct Eq_1982 Eq_5::* sp_1052 = sp_1007 - 0x02;
								(ss->*sp_1052).t0000 = es;
								(ss->*(sp_1052 - 0x02)).t0000 = wArg06;
								++wLoc28_1050;
								struct Eq_1995 Eq_5::* sp_1057;
								byte SCZO_1060;
								ci16 si_1061;
								struct Eq_1998 * es_1063;
								bool D_1064;
								byte al_1065;
								byte SZO_1067;
								bool C_1068;
								bool Z_1069;
								Eq_5 ax_1070;
								word16 cx_1071;
								byte SO_1072;
								bool S_1073;
								uint16 bx_1074;
								byte bl_1075;
								byte bh_1076;
								byte CZ_1077;
								word16 dx_1078;
								byte ah_1079;
								byte dl_1080;
								byte cl_1081;
								byte ch_1082;
								(0x0800->*bp_1011[0x02])();
								es = (ss->*sp_1057).t0002;
								sp_1007 = (struct Eq_1208 Eq_5::*) ((char *) &(ss->*sp_1057).t0002 + 0x02);
								if (ax_1070 < 0x00)
								{
									if (si_1061 + 0x01 >= v61_922)
									{
										word16 bp_1193;
										word16 di_1194;
										struct Eq_2134 * es_1195;
										fn0800_1A6C(bp_1011, out bp_1193, out di_1194, out es_1195);
										return bx_1074;
									}
									if ((bLoc2B_1204 & 0x01) != 0x00)
									{
										word16 bp_1189;
										word16 di_1190;
										struct Eq_2146 * es_1191;
										fn0800_1A6C(bp_1011, out bp_1189, out di_1190, out es_1191);
										return bx_1074;
									}
									else
									{
										es->*di_1012 = 0x00;
										word16 bp_1185;
										word16 di_1186;
										struct Eq_2158 * es_1187;
										fn0800_1A6C(bp_1011, out bp_1185, out di_1186, out es_1187);
										return bx_1074;
									}
								}
								Eq_2031 ch_1103 = 0x01 << ((byte) ax_1070 & 0x07);
								si_1109 = si_1061;
								byte al_1112 = (byte) ax_1070;
								bx = ax_1070 >> 0x03;
								if ((Mem1056[ss:bp_1011 - 0x20 + (ax_1070 >>u 0x03):byte] & ch_1103) != 0x00)
								{
									if ((bLoc2B_1204 & 0x10) != 0x00)
										goto l0800_1A37;
								}
								else if ((bLoc2B_1204 & 0x10) == 0x00)
								{
l0800_1A37:
									(ss->*sp_1057).t0002 = es;
									(ss->*sp_1057).t0000 = wArg06;
									(ss->*(sp_1057 - 0x02)).t0000 = ax_1070;
									struct Eq_2072 Eq_5::* sp_1125;
									byte SCZO_1128;
									ci16 si_1129;
									struct Eq_2075 * es_1131;
									bool D_1132;
									byte al_1133;
									byte SZO_1135;
									bool C_1136;
									bool Z_1137;
									word16 ax_1138;
									word16 cx_1139;
									byte SO_1140;
									bool S_1141;
									byte bl_1143;
									byte bh_1144;
									byte CZ_1145;
									word16 dx_1146;
									byte ah_1147;
									byte dl_1148;
									byte cl_1149;
									byte ch_1150;
									(0x0800->*bp_1011[0x03])();
									es = (ss->*sp_1125).t0004;
									sp_1007 = (struct Eq_1208 Eq_5::*) ((char *) &(ss->*sp_1125).t0004 + 0x02);
									if (si_1129 + 0x01 < v61_922)
										break;
									goto l0800_1A54;
								}
								if ((bLoc2B_1204 & 0x01) == 0x00)
								{
									es->*di_1012 = al_1112;
									di_1012 = (word32) di_1012 + 0x01;
								}
							}
							if ((bLoc2B_1204 & 0x01) == 0x00)
							{
l0800_1A54:
								es->*di_1012 = 0x00;
							}
							goto l0800_16A4;
						}
						if (al_1207 != 0x2D || (dl_851 > ds->*si_1210 || ds->*si_1210 == 0x5D))
							goto l0800_19A4;
						cu8 al_892 = ds->*si_1210 - dl_851;
						si_1210 = (word32) si_1210 + 0x01;
						ax_841 = DPB(ax_841, al_892, 0);
						if (al_892 != 0x00)
						{
							dl_851 += al_892;
							do
							{
								ch_859 = __rol(ch_859, 0x01);
								di_1012 += (ch_859 & 0x80) != 0x00;
								Mem913[ss:bp_1011 - 0x20 + di_1012:byte] = Mem862[ss:bp_1011 - 0x20 + di_1012:byte] | ch_859;
								--al_892;
								ax_841 = DPB(ax_841, al_892, 0);
							} while (al_892 != 0x00);
						}
					}
					word16 bp_1199;
					word16 di_1200;
					struct Eq_1924 * es_1201;
					fn0800_1A80(bp_1011, out bp_1199, out di_1200, out es_1201);
					return bx_435 << 0x01;
				case 0x11:
					ax_1211 = wLoc28_1050;
					dx_1214 = 0x00;
					if ((bLoc2B_1235 & 0x01) == 0x00)
						goto l0800_17FF;
					break;
				case 0x12:
					si_1220.u0 = 0x10;
l0800_17C5:
					if ((ax_411 & 0x20) == 0x00)
						bLoc2B_1235 |= 0x04;
					union Eq_5 Eq_5::* sp_634 = sp_1007 - 0x02;
					ss->*sp_634 = fp - 0x26;
					ss->*(sp_634 - 0x02) = fp - 0x28;
					ss->*(sp_634 - 0x04) = wLoc24_1246 & 0x7FFF;
					ss->*(sp_634 - 0x06) = si_1220;
					ss->*(sp_634 - 0x08) = wArg06;
					ss->*(sp_634 - 0x0A) = wArg04;
					ss->*(sp_634 - 0x0C) = wArg02;
					word16 di_663;
					ax_1211 = __scantol(si_1220, bx_435 << 0x01, ds, wArg04, wArg06, si_405, wArg0A, wArg0C, out dx_1214, out bx, out di_663, out es);
					if (wLoc26 > 0x00)
					{
						if ((bLoc2B_1235 & 0x01) == 0x00)
						{
l0800_17FF:
							Eq_5 di_617 = fn0800_1689(bp_1011, ds, out es);
							es->*di_617 = ax_1211;
							if ((bLoc2B_1235 & 0x04) != 0x00)
								es->*((word32) di_617 + 0x02) = dx_1214;
						}
						goto l0800_16A4;
					}
					if (wLoc26 < 0x00)
					{
						word16 bp_688;
						word16 di_689;
						struct Eq_1833 * es_690;
						fn0800_1A6C(bp_1011, out bp_688, out di_689, out es_690);
						return bx;
					}
					else
					{
						word16 bp_684;
						word16 di_685;
						struct Eq_1812 * es_686;
						fn0800_1A80(bp_1011, out bp_684, out di_685, out es_686);
						return bx;
					}
				case 0x13:
					word16 bx_1221;
					struct Eq_1202 Eq_5::* bp_1222;
					word16 di_1223;
					struct Eq_1520 * es_1224;
					uint16 ax_1225 = fn0800_1819(bx_435, bp_1011, ds, out bx_1221, out bp_1222, out di_1223, out es_1224);
					uint16 bx_1229;
					word16 bp_1230;
					word16 di_1231;
					struct Eq_1605 * es_1232;
					fn0800_1819(ax_1225, bp_1222, ds, out bx_1229, out bp_1230, out di_1231, out es_1232);
					return bx_1229;
				case 0x14:
					bLoc2B_1235 &= 223;
					break;
				case 0x15:
					bLoc2B_1235 |= 0x20;
					break;
				}
			}
			word16 bp_442;
			word16 di_443;
			struct Eq_1572 * es_444;
			fn0800_1A6C(bp_1011, out bp_442, out di_443, out es_444);
			return bx_435;
		}
l0800_16B0:
		union Eq_5 Eq_5::* sp_162 = sp_1007 - 0x02;
		ss->*sp_162 = wArg06;
		++wLoc28_1050;
		union Eq_5 Eq_5::* sp_164;
		byte SCZO_167;
		Eq_5 di_169;
		bool D_171;
		byte al_172;
		byte SZO_174;
		bool C_175;
		bool Z_176;
		Eq_5 ax_177;
		word16 cx_178;
		byte SO_179;
		bool S_180;
		byte bl_182;
		byte bh_183;
		byte CZ_184;
		word16 dx_185;
		byte ah_186;
		byte dl_187;
		byte cl_188;
		byte ch_189;
		(0x0800->*bp_1011[0x02])();
		sp_1007 = (struct Eq_1208 Eq_5::*) ((char *) sp_164 + 0x02);
		Eq_5 ax_192 = ax_177;
		if (ax_177 < 0x00)
		{
l0800_16E5:
			word16 bp_227;
			word16 di_228;
			struct Eq_1559 * es_229;
			fn0800_1A6C(bp_1011, out bp_227, out di_228, out es_229);
			return bx;
		}
		if (di_169 >= 0x00 && ds->*((word32) di_169 + 1322) == 0x01)
		{
			do
			{
				ci8 bl_307 = (byte) ax_192;
				Eq_5 bx_310 = DPB(ax_192, bl_307, 0);
				if (bl_307 < 0x00 || ds->*((word32) bx_310 + 1322) != 0x01)
				{
					union Eq_5 Eq_5::* sp_315 = sp_1007 - 0x02;
					ss->*sp_315 = wArg06;
					ss->*(sp_315 - 0x02) = bx_310;
					word16 sp_319;
					byte SCZO_322;
					word16 di_324;
					bool D_326;
					byte al_327;
					byte SZO_329;
					bool C_330;
					bool Z_331;
					word16 ax_332;
					word16 cx_333;
					byte SO_334;
					bool S_335;
					byte bl_337;
					byte bh_338;
					byte CZ_339;
					word16 dx_340;
					byte ah_341;
					byte dl_342;
					byte cl_343;
					byte ch_344;
					(0x0800->*bp_1011[0x03])();
					sp_1007 = sp_319 + 0x04;
					--wLoc28_1050;
					goto l0800_16A7;
				}
				union Eq_5 Eq_5::* sp_358 = sp_1007 - 0x02;
				ss->*sp_358 = wArg06;
				++wLoc28_1050;
				word16 sp_360;
				byte SCZO_363;
				word16 si_364;
				word16 di_365;
				struct Eq_1328 * es_366;
				bool D_367;
				byte al_368;
				byte SZO_370;
				bool C_371;
				bool Z_372;
				Eq_5 ax_373;
				word16 cx_374;
				byte SO_375;
				bool S_376;
				byte bl_378;
				byte bh_379;
				byte CZ_380;
				word16 dx_381;
				byte ah_382;
				byte dl_383;
				byte cl_384;
				byte ch_385;
				(0x0800->*bp_1011[0x02])();
				sp_1007 = sp_360 + 0x02;
				ax_192 = ax_373;
			} while (ax_373 > 0x00);
			goto l0800_16E5;
		}
	} while (ax_177 == di_169);
	ss->*sp_164 = wArg06;
	ss->*(sp_164 - 0x02) = ax_177;
	word16 sp_242;
	struct Eq_1202 Eq_5::* bp_243;
	struct Eq_1372 * ss_244;
	byte SCZO_245;
	word16 si_246;
	word16 di_247;
	struct Eq_1376 * es_248;
	bool D_249;
	byte al_250;
	struct Eq_1379 * ds_251;
	byte SZO_252;
	bool C_253;
	bool Z_254;
	word16 ax_255;
	word16 cx_256;
	byte SO_257;
	bool S_258;
	uint16 bx_259;
	byte bl_260;
	byte bh_261;
	byte CZ_262;
	word16 dx_263;
	byte ah_264;
	byte dl_265;
	byte cl_266;
	byte ch_267;
	(0x0800->*bp_1011[0x03])();
	word16 bp_275;
	word16 di_276;
	struct Eq_1588 * es_277;
	fn0800_1A6C(bp_243, out bp_275, out di_276, out es_277);
	return bx_259;
}

// 0800:1689: Register Eq_2166 fn0800_1689(Register (memptr Eq_5 Eq_1202) bp, Register Eq_6 ds, Register out (ptr16 Eq_1554) esOut)
Eq_2166 fn0800_1689(Eq_1202 Eq_5::*bp, Eq_6 ds, Eq_1554 * & esOut)
{
	union Eq_2166 Eq_6::* di_5 = bp[0x06];
	if (((ss->*(bp - 0x29)).t0000 & 0x20) == 0x00)
	{
		Eq_2166 di_26 = ds->*di_5;
		bp[0x06] = (union Eq_2166 Eq_6::*) ((char *) bp[0x06] + 0x02);
		struct Eq_2193 * es_29;
		*esOut = ds;
		return di_26;
	}
	else
	{
		Eq_2166 es_di_19 = ds->*di_5;
		bp[0x06] = (union Eq_2166 Eq_6::*) ((char *) bp[0x06] + 0x04);
		struct Eq_2207 * es_21;
		*esOut = SLICE(es_di_19, selector, 16);
		return (word16) es_di_19;
	}
}

// 0800:1819: Register uint16 fn0800_1819(Register uint16 ax, Register (memptr Eq_5 Eq_1202) bp, Register Eq_6 ds, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_1530) esOut)
uint16 fn0800_1819(uint16 ax, Eq_1202 Eq_5::*bp, Eq_6 ds, ptr16 & bxOut, ptr16 & bpOut, ptr16 & diOut, Eq_1530 * & esOut)
{
	word16 bx_5;
	word16 bp_6;
	word16 di_7;
	struct Eq_2214 * es_8;
	return fn0800_1A87(ax, bp, ds, out bx_5, out bp_6, out di_7, out es_8);
}

// 0800:18F0: Register uint16 fn0800_18F0(Register uint16 ax, Register (memptr Eq_5 Eq_1202) bp, Register Eq_6 ds, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_1489) esOut)
uint16 fn0800_18F0(uint16 ax, Eq_1202 Eq_5::*bp, Eq_6 ds, ptr16 & bxOut, ptr16 & bpOut, ptr16 & diOut, Eq_1489 * & esOut)
{
	word16 bx_5;
	word16 bp_6;
	word16 di_7;
	struct Eq_2232 * es_8;
	return fn0800_1A87(ax, bp, ds, out bx_5, out bp_6, out di_7, out es_8);
}

// 0800:1A6C: Register word16 fn0800_1A6C(Register (memptr Eq_5 Eq_1202) bp, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_1565) esOut)
word16 fn0800_1A6C(Eq_1202 Eq_5::*bp, ptr16 & bpOut, ptr16 & diOut, Eq_1565 * & esOut)
{
	ss->*(v3 - 0x02) = bp[0x04];
	ss->*(v3 - 0x04) = ~0x00;
	word16 sp_11;
	Eq_5 ss_12;
	struct Eq_1202 Eq_5::* bp_13;
	word16 ax_14;
	word16 cx_15;
	byte SCZO_16;
	bool C_17;
	struct Eq_2263 * es_18;
	word16 di_19;
	word16 si_20;
	(0x0800->*bp[0x03])();
	ss_12->*(bp_13 - 0x28) -= ss_12->*(bp_13 - 0x28) < 0x01;
	word16 bp_30;
	word16 di_31;
	struct Eq_2290 * es_32;
	return fn0800_1A80(bp_13, out bp_30, out di_31, out es_32);
}

// 0800:1A80: Register Eq_1862 fn0800_1A80(Register (memptr Eq_5 Eq_1202) bp, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_1818) esOut)
Eq_1862 fn0800_1A80(Eq_1202 Eq_5::*bp, ptr16 & bpOut, ptr16 & diOut, Eq_1818 * & esOut)
{
	struct Eq_2297 * es_4;
	*esOut = (ss->*v3).ptr0000;
	Eq_1862 ax_7 = ss->*(bp - 0x28);
	word16 di_8;
	*diOut = (ss->*v3).w0002;
	word16 bp_12;
	*bpOut = (ss->*bp).a0000[0x00];
	return ax_7;
}

// 0800:1A87: Register uint16 fn0800_1A87(Register uint16 ax, Register (memptr Eq_5 Eq_1202) bp, Register Eq_6 ds, Register out ptr16 bxOut, Register out ptr16 bpOut, Register out ptr16 diOut, Register out (ptr16 Eq_2223) esOut)
uint16 fn0800_1A87(uint16 ax, Eq_1202 Eq_5::*bp, Eq_6 ds, ptr16 & bxOut, ptr16 & bpOut, ptr16 & diOut, Eq_2223 * & esOut)
{
	do
	{
		ss->*(bp - 0x26) = (word16) (ss->*(bp - 0x26)) + 0x01;
		ss->*(v3 - 0x02) = bp[0x04];
		struct Eq_2342 Eq_5::* sp_13;
		byte SZO_16;
		word16 cx_17;
		ci16 ax_18;
		bool C_19;
		byte al_20;
		bool S_21;
		word16 bx_22;
		struct Eq_2350 * ds_23;
		byte SCZO_24;
		bool Z_25;
		word16 di_26;
		struct Eq_2354 * es_27;
		(0x0800->*bp[0x02])();
		ci8 al_31 = (byte) ax_18;
		if (ax_18 <= 0x00)
		{
			if (ax_18 == 0x00)
				break;
			word16 bp_91;
			word16 di_92;
			struct Eq_2396 * es_93;
			return fn0800_1A6C(bp, out bp_91, out di_92, out es_93);
		}
		Eq_2363 ax_76 = DPB(ax_18, al_31, 0);
	} while (al_31 >= 0x00 && ds_23->*((word32) ax_76 + 1322) == 0x01);
	word16 sp_60;
	struct Eq_2373 * ss_61;
	word16 bp_62;
	byte SZO_63;
	word16 cx_64;
	uint16 ax_65;
	bool C_66;
	byte al_67;
	bool S_68;
	word16 bx_69;
	struct Eq_2382 * ds_70;
	byte SCZO_71;
	bool Z_72;
	word16 di_73;
	struct Eq_2386 * es_74;
	(ss->*((word32) (ss->*sp_13).t0002 + 0x03))();
	return ax_65;
}

// 0800:1B13: void __scantod()
void __scantod()
{
	word16 sp_4;
	struct Eq_2403 * ds_5;
	ds->t05B2();
}

// 0800:1B17: void __scanrslt()
void __scanrslt()
{
	word16 sp_4;
	struct Eq_2408 * ds_5;
	ds->t05B4();
}

// 0800:1B1B: void __scanpop()
void __scanpop()
{
	word16 sp_4;
	struct Eq_2413 * ds_5;
	ds->t05B6();
}

// 0800:1B1F: FlagGroup bool fn0800_1B1F(Register cu8 cl, Register cu8 bl)
bool fn0800_1B1F(cu8 cl, cu8 bl)
{
	bool C_14;
	cu8 bl_29 = bl - 0x30;
	if (bl >= 0x30)
	{
		if (bl <= 0x39)
		{
l0800_1B3C:
			if (bl_29 < cl)
			{
				C_14 = false;
				return C_14;
			}
			goto l0800_1B48;
		}
		if (bl <= 0x5A && bl >= 0x30)
			bl_29 = bl - 55;
		else
			bl_29 = bl - 0x57;
		if (bl_29 > 0x09)
			goto l0800_1B3C;
	}
l0800_1B48:
	C_14 = true;
	return C_14;
}

// 0800:1B4D: Register Eq_5 __scantol(Register Eq_5 ax, Register ui16 bx, Register Eq_6 ds, Stack Eq_5 wArg06, Stack Eq_5 wArg08, Stack Eq_16 wArg0A, Stack (memptr (ptr16 Eq_2469) word16) wArg0C, Stack (memptr (ptr16 Eq_2469) word16) wArg0E, Register out ptr16 dxOut, Register out Eq_1718 bxOut, Register out ptr16 diOut, Register out (ptr16 Eq_1720) esOut)
Eq_5 __scantol(Eq_5 ax, ui16 bx, Eq_6 ds, Eq_5 wArg06, Eq_5 wArg08, Eq_16 wArg0A, word16 Eq_2469::*wArg0C, word16 Eq_2469::*wArg0E, ptr16 & dxOut, Eq_1718 & bxOut, ptr16 & diOut, Eq_1720 * & esOut)
{
	cu8 bLoc07_14 = 0x00;
	word16 wLoc06_130 = 0x00;
	word16 wLoc04_127 = 0x01;
	struct Eq_2447 * Eq_2485::* sp_134 = fp - 0x0E;
	do
	{
		struct Eq_2469 * ds_156;
		Eq_5 ax_174;
		word16 v9_28 = wLoc06_130 + 0x01;
		union Eq_5 Eq_2485::* sp_33 = sp_134 - 0x02;
		ss->*sp_33 = wArg06;
		wLoc06_130 = v9_28;
		union Eq_5 Eq_2485::* sp_35;
		struct Eq_2490 Eq_2485::* bp_36;
		byte SCZO_38;
		word16 si_39;
		Eq_2470 di_40;
		struct Eq_2493 * es_41;
		byte SZO_42;
		word16 cx_43;
		Eq_5 ax_44;
		bool C_45;
		byte SO_46;
		byte al_47;
		word16 bx_48;
		byte bl_49;
		bool Z_50;
		struct Eq_2469 * ds_51;
		byte CZ_52;
		byte cl_53;
		word16 dx_54;
		byte dl_55;
		byte dh_56;
		byte ah_57;
		(0x0800->*(ss->*fp).ptr0002)();
		sp_134 = (struct Eq_2447 * Eq_2485::*) ((char *) sp_35 + 0x02);
		Eq_5 ax_131 = ax_44;
		byte al_64 = (byte) ax_44;
		if (ax_44 < 0x00)
			goto l0800_1BDB;
		Eq_5 ax_211 = (int16) al_64;
		byte bl_220 = (byte) ax_211;
	} while ((bl_220 & 0x80) == 0x00 && (Mem34[ds_51:ax_211 + di_40:byte] & 0x01) != 0x00);
	ax_131 = ax_211;
	byte al_230 = (byte) ax_211;
	ci16 wArg0A_235 = wArg0A - 0x01;
	if (wArg0A < 0x01)
	{
l0800_1BE2:
		wLoc04_127 = 0x00;
l0800_1BE7:
		union Eq_5 Eq_2485::* sp_136 = sp_134 - 0x02;
		ss->*sp_136 = wArg06;
		ss->*(sp_136 - 0x02) = ax_131;
		word16 sp_140;
		word16 bp_141;
		byte SCZO_143;
		word16 si_144;
		word16 di_145;
		struct Eq_2554 * es_146;
		byte SZO_147;
		word16 cx_148;
		word16 ax_149;
		bool C_150;
		byte SO_151;
		byte al_152;
		word16 bx_153;
		byte bl_154;
		bool Z_155;
		byte CZ_157;
		byte cl_158;
		word16 dx_159;
		byte dl_160;
		byte dh_161;
		byte ah_162;
		(0x0800->*bp_36[0x03])();
		sp_134 = sp_140 + 0x04;
		--wLoc06_130;
		ax_174.u0 = 0x00;
		word16 dx_176;
		*dxOut = 0x00;
		goto l0800_1CA0;
	}
	struct Eq_2490 Eq_2485::* bp_294;
	if (al_230 != 0x2B)
	{
		ds_156 = ds_51;
		bp_294 = bp_36;
		if (al_230 != 0x2D)
			goto l0800_1BA5;
		bLoc07_14 = 0x01;
	}
	wArg0A_235 = wArg0A - 0x02;
	if (wArg0A < 0x02)
		goto l0800_1BE2;
	ss->*sp_35 = wArg06;
	wLoc06_130 = v9_28 + 0x01;
	word16 sp_818;
	byte SCZO_821;
	word16 si_822;
	word16 di_823;
	struct Eq_2591 * es_824;
	byte SZO_825;
	word16 cx_826;
	Eq_5 ax_827;
	bool C_828;
	byte SO_829;
	byte al_830;
	word16 bx_831;
	byte bl_832;
	bool Z_833;
	byte CZ_835;
	byte cl_836;
	word16 dx_837;
	byte dl_838;
	byte dh_839;
	byte ah_840;
	(0x0800->*bp_36[0x02])();
	sp_134 = sp_818 + 0x02;
	ax_131 = ax_827;
	al_230 = (byte) ax_827;
	if (ax_827 < 0x00)
	{
l0800_1BDB:
		wLoc04_127 = ~0x00;
		goto l0800_1BE7;
	}
l0800_1BA5:
	word16 ax_398;
	Eq_5 si_296 = 0x00;
	ui16 di_299 = 0x00;
	cu8 cl_303 = (byte) wArg08;
	if (wArg08 != 0x00)
	{
		if (wArg08 > 0x24 || cl_303 < 0x02)
			goto l0800_1BE2;
		if (al_230 == 0x30)
		{
			if (cl_303 != 0x10)
				goto l0800_1C26;
			ci16 v30_718 = wArg0A_235 - 0x01;
			wArg0A_235 = v30_718;
			if (v30_718 >= 0x00)
			{
				union Eq_5 Eq_2485::* sp_726 = sp_134 - 0x02;
				ss->*sp_726 = wArg06;
				++wLoc06_130;
				word16 sp_728;
				byte SCZO_731;
				struct Eq_2647 * es_734;
				byte SZO_735;
				word16 cx_736;
				bool C_738;
				byte SO_739;
				byte al_740;
				word16 bx_741;
				byte bl_742;
				bool Z_743;
				byte CZ_745;
				byte cl_746;
				word16 dx_747;
				byte dl_748;
				byte dh_749;
				byte ah_750;
				(0x0800->*bp_294[0x02])();
				sp_134 = sp_728 + 0x02;
				if (al_740 != 0x78 && al_740 != 88)
					goto l0800_1C4E;
				goto l0800_1C26;
			}
l0800_1BF9:
			goto l0800_1C90;
		}
	}
	else
	{
		wArg08.u0 = 0x0A;
		if (al_230 == 0x30)
		{
			ci16 v62_761 = wArg0A_235 - 0x01;
			wArg0A_235 = v62_761;
			if (v62_761 >= 0x00)
			{
				struct Eq_2886 * Eq_2485::* sp_769 = sp_134 - 0x02;
				ss->*sp_769 = wArg06;
				++wLoc06_130;
				word16 sp_771;
				byte SCZO_774;
				struct Eq_2896 * es_777;
				byte SZO_778;
				word16 cx_779;
				bool C_781;
				byte SO_782;
				byte al_783;
				word16 bx_784;
				byte bl_785;
				bool Z_786;
				byte CZ_788;
				byte cl_789;
				word16 dx_790;
				byte dl_791;
				byte dh_792;
				byte ah_793;
				(0x0800->*bp_294[0x02])();
				sp_134 = sp_771 + 0x02;
				wArg08.u0 = 0x08;
				if (al_783 != 0x78 && al_783 != 88)
				{
l0800_1C4E:
					cu8 cl_438 = (byte) wArg08;
					cu8 bl_442 = (byte) ax_398;
					bool C_443 = fn0800_1B1F(cl_438, bl_442);
					word16 ax_445 = ax_398;
					if (!C_443)
					{
l0800_1C84:
						struct Eq_2717 * Eq_2485::* sp_462 = sp_134 - 0x02;
						ss->*sp_462 = wArg06;
						ss->*(sp_462 - 0x02) = ax_445;
						word16 sp_466;
						word16 bp_467;
						byte SCZO_469;
						struct Eq_2731 * es_472;
						byte SZO_473;
						word16 cx_474;
						word16 ax_475;
						bool C_476;
						byte SO_477;
						byte al_478;
						word16 bx_479;
						byte bl_480;
						bool Z_481;
						byte CZ_483;
						byte cl_484;
						word16 dx_485;
						byte dl_486;
						byte dh_487;
						byte ah_488;
						(0x0800->*bp_294[0x03])();
						sp_134 = sp_466 + 0x04;
						--wLoc06_130;
l0800_1C90:
						word16 dx_325;
						*dxOut = di_299;
						ax_174 = si_296;
						if (bLoc07_14 != 0x00)
						{
							ax_174 = -si_296;
							word16 dx_345;
							*dxOut = -di_299 - (ax_174 == 0x00);
						}
						goto l0800_1CA0;
					}
					Eq_2705 dx_ax_501 = wArg08 * si_296;
					ui32 di_si_508 = (word32) dx_ax_501 + SEQ(di_299, ax_398 + (word16) dx_ax_501);
					di_299 = SLICE(di_si_508, word16, 16);
					si_296 = (word16) di_si_508;
					bp_539 = bp_294;
					if (di_si_508 != 0x00)
					{
						do
						{
							struct Eq_2490 Eq_2485::* bp_539;
							ci16 v47_541 = wArg0A_235 - 0x01;
							wArg0A_235 = v47_541;
							if (v47_541 < 0x00)
								goto l0800_1C90;
							struct Eq_2807 * Eq_2485::* sp_549 = sp_134 - 0x02;
							ss->*sp_549 = wArg06;
							++wLoc06_130;
							word16 sp_551;
							byte SCZO_554;
							uint16 si_555;
							uint16 di_556;
							struct Eq_2819 * es_557;
							byte SZO_558;
							word16 cx_559;
							word16 ax_560;
							bool C_561;
							byte SO_562;
							byte al_563;
							word16 bx_564;
							byte bl_565;
							bool Z_566;
							byte CZ_568;
							byte cl_569;
							word16 dx_570;
							byte dl_571;
							byte dh_572;
							byte ah_573;
							(0x0800->*bp_539[0x02])();
							sp_134 = sp_551 + 0x02;
							ax_445 = ax_560;
							if (!fn0800_1B1F((byte) wArg08, (byte) ax_560))
								goto l0800_1C84;
							Eq_2845 dx_ax_595 = wArg08 * si_555;
							uint16 ax_596 = (word16) dx_ax_595;
							uint32 ax_si_611 = SEQ(di_556, ax_560 + ax_596) + SEQ(SLICE(dx_ax_595, word16, 16), ax_596);
							Eq_2855 dx_ax_605 = wArg08 * di_556;
							si_296 = (word16) ax_si_611;
							di_299 = SLICE(ax_si_611, word16, 16);
						} while ((bool) (ax_si_611 < 0x00) + (SLICE(dx_ax_605, byte, 16) + SLICE(dx_ax_605, byte, 24)) == 0x00);
						Eq_2867 ah_635 = (bLoc07_14 < ~0x00) + ~0x00;
						ax_174 = DPB(~0x00, ah_635, 8);
						word16 dx_641;
						*dxOut = (ah_635 < 0x00) + 0x7FFF;
						wLoc04_127 = 0x02;
l0800_1CA0:
						ds_156->*wArg0C += wLoc06_130;
						ds_156->*wArg0E = wLoc04_127;
						word16 bx_107;
						*bxOut = wLoc04_127;
						struct Eq_2692 * es_110;
						*esOut = ss->*sp_134;
						struct Eq_2697 * Eq_2485::* sp_111 = (char *) sp_134 + 0x02;
						word16 di_112;
						*diOut = ss->*sp_111;
						return ax_174;
					}
l0800_1C3F:
					ci16 v39_379 = wArg0A_235 - 0x01;
					wArg0A_235 = v39_379;
					if (v39_379 < 0x00)
						goto l0800_1C90;
					struct Eq_2764 * Eq_2485::* sp_387 = sp_134 - 0x02;
					ss->*sp_387 = wArg06;
					++wLoc06_130;
					word16 sp_389;
					byte SCZO_392;
					struct Eq_2774 * es_395;
					byte SZO_396;
					word16 cx_397;
					bool C_399;
					byte SO_400;
					byte al_401;
					word16 bx_402;
					byte bl_403;
					bool Z_404;
					byte CZ_406;
					byte cl_407;
					word16 dx_408;
					byte dl_409;
					byte dh_410;
					byte ah_411;
					(0x0800->*bp_294[0x02])();
					sp_134 = sp_389 + 0x02;
					goto l0800_1C4E;
				}
				wArg08.u0 = 0x10;
l0800_1C26:
				goto l0800_1C3F;
			}
			goto l0800_1BF9;
		}
	}
	if (!fn0800_1B1F(0x0A, (byte) ax_131))
	{
		si_296 = ax_131;
		goto l0800_1C3F;
	}
	goto l0800_1BE2;
}

