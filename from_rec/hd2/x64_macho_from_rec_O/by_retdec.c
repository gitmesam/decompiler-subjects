//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) Retargetable Decompiler <info@retdec.com>
//

#include <stdint.h>
#include <stdlib.h>

// ------------------------ Structures ------------------------

struct _IO_FILE {
    int32_t e0;
};

// ------------------- Function Prototypes --------------------

int64_t _dumpline(int64_t * a1, int64_t a2, int64_t a3);
int64_t _hexdump(int64_t a1);
int64_t function_100000e08(int64_t * a1, int64_t a2, int64_t a3, char * a4, int64_t a5);
int64_t function_100000e0e(void);
int64_t function_100000e14(int64_t * a1, char * a2, int64_t a3);
int64_t function_100000e44(void);

// --------------------- Global Variables ---------------------

int64_t g1 = 0; // 0x100001010

// ------------------------ Functions -------------------------

// Address range: 0x100000aec - 0x100000cd9
int64_t _dumpline(int64_t * a1, int64_t a2, int64_t a3) {
    int64_t v1 = (int64_t)a1;
    int64_t v2; // bp-8, 0x100000aec
    int64_t v3 = &v2; // 0x100000aed
    int64_t v4; // bp-152, 0x100000aec
    function_100000e08(&v4, 0, 80, "%08lX:", a2);
    int32_t v5 = a3; // 0x100000b38
    int32_t v6 = v5 - 16; // 0x100000b38
    int64_t v7 = v6 == 0 | v6 < 0 != (15 - v5 & v5) < 0 ? a3 & 0xffffffff : 16; // 0x100000b43
    int32_t v8 = v7; // 0x100000b4c
    int64_t v9 = 1; // 0x100000b4f
    int64_t v10; // 0x100000aec
    int64_t v11; // 0x100000aec
    if (v8 < 1) {
        goto lab_0x100000ba4;
    } else {
        int64_t v12 = &v4; // 0x100000b64
        int64_t v13 = v12 + 9; // 0x100000b71
        int64_t v14 = v1; // 0x100000b64
        int64_t v15 = 0; // 0x100000b64
        unsigned char v16 = *(char *)v14; // 0x100000b6b
        _sprintf((char *)(v13 + 0x100000000 * v15 / 0x100000000), " %02lX", (int32_t)v16);
        int64_t v17 = 1; // 0x100000b87
        v14++;
        v15 = v15 + 3 & 0xffffffff;
        int64_t v18 = v17 & 0xffffffff; // 0x100000b94
        while ((int32_t)v17 != v8) {
            // 0x100000b6b
            v16 = *(char *)v14;
            _sprintf((char *)(v13 + 0x100000000 * v15 / 0x100000000), " %02lX", (int32_t)v16);
            v17 = v18 + 1;
            v14++;
            v15 = v15 + 3 & 0xffffffff;
            v18 = v17 & 0xffffffff;
        }
        int64_t v19 = -1; // 0x100000b9a
        int64_t v20 = v12; // 0x100000b9a
        if (v8 > 15) {
            int64_t v21 = 0; // 0x100000c74
            while (v19 != 0) {
                int64_t v22 = v20;
                int64_t v23 = v19 - 1; // 0x100000c74
                v19 = v23;
                v20 = v22 + 1;
                v21 = v23;
                if (*(char *)v22 == 0) {
                    // break -> 
                    break;
                }
                v21 = 0;
            }
            int64_t v24 = -2 - v21; // 0x100000c79
            *(int32_t *)(0x100000000 * v24 / 0x100000000 + v12) = 0x7c2020;
            int64_t v25 = v24 + 3;
            v10 = v25;
            v11 = v25 & 0xffffffff;
            goto lab_0x100000c0a;
        } else {
            // 0x100000ba0
            v9 = v7 + 1 & 0xffffffff;
            goto lab_0x100000ba4;
        }
    }
  lab_0x100000ba4:
    // 0x100000ba4
    function_100000e14(&v4, "   ", 80);
    int64_t v26 = v9 + 1; // 0x100000bbf
    int64_t v27 = v26 & 0xffffffff; // 0x100000bc7
    while ((int32_t)v26 < 17) {
        // 0x100000bab
        function_100000e14(&v4, "   ", 80);
        v26 = v27 + 1;
        v27 = v26 & 0xffffffff;
    }
    int64_t v28 = &v4; // 0x100000ba4
    int64_t v29 = -1; // 0x100000aec
    int64_t v30 = v28; // 0x100000aec
    int64_t v31 = 0; // 0x100000bd9
    while (v29 != 0) {
        int64_t v32 = v30;
        int64_t v33 = v29 - 1; // 0x100000bd9
        v29 = v33;
        v30 = v32 + 1;
        v31 = v33;
        if (*(char *)v32 == 0) {
            // break -> 
            break;
        }
        v31 = 0;
    }
    int64_t v34 = -2 - v31; // 0x100000bde
    *(int32_t *)(0x100000000 * v34 / 0x100000000 + v28) = 0x7c2020;
    int64_t v35 = v34 + 3;
    int64_t v36 = v35 & 0xffffffff; // 0x100000bec
    v10 = v35;
    v11 = v36;
    int64_t v37; // 0x100000aec
    int64_t v38; // 0x100000aec
    int64_t v39; // 0x100000aec
    if (v8 >= 0 == (v8 != 0)) {
        goto lab_0x100000c0a;
    } else {
        // .dec_label_pc_100000c04_crit_edge
        v37 = v3 - 144;
        v38 = v36;
        v39 = 0;
        goto lab_0x100000c04;
    }
  lab_0x100000c0a:;
    int64_t v40 = v3 - 144;
    int64_t v41 = 0; // 0x100000c0a
    char v42 = *(char *)(v41 + v1); // 0x100000c14
    char v43 = v42 >= 127 ? 46 : v42; // 0x100000c2a
    *(char *)(0x100000000 * (v41 + v10) / 0x100000000 + v40) = v43;
    int64_t v44 = 1; // 0x100000c31
    int64_t v45 = v44 & 0xffffffff; // 0x100000c31
    int32_t v46 = v44;
    v41++;
    while (v46 != v8) {
        // 0x100000c0d
        v42 = *(char *)(v41 + v1);
        v43 = v42 >= 127 ? 46 : v42;
        *(char *)(0x100000000 * (v41 + v10) / 0x100000000 + v40) = v43;
        v44 = v45 + 1;
        v45 = v44 & 0xffffffff;
        v46 = v44;
        v41++;
    }
    // 0x100000c3b
    v37 = v40;
    v38 = v11;
    v39 = v7;
    int64_t v47 = v45; // 0x100000c40
    int64_t v48 = v11; // 0x100000c40
    if (v46 > 15) {
        goto lab_0x100000c99;
    } else {
        goto lab_0x100000c04;
    }
  lab_0x100000c99:
    // 0x100000c99
    *(int16_t *)(0x100000000 * v47 / 0x100000000 + (int64_t)&v4 + 0x100000000 * v48 / 0x100000000) = 124;
    _puts((char *)&v4);
    int64_t result = g1; // 0x100000cc3
    if (*(int64_t *)g1 != *(int64_t *)g1) {
        // 0x100000cc5
        result = function_100000e0e();
    }
    // 0x100000cca
    return result;
  lab_0x100000c04:;
    int64_t v49 = v39 + v38; // 0x100000c08
    *(char *)(0x100000000 * v49 / 0x100000000 + v37) = 32;
    int64_t v50 = v39 + 1; // 0x100000c52
    int64_t v51 = v50 & 0xffffffff; // 0x100000c52
    v49 = (v49 & 0xffffffff) + 1;
    v47 = v51;
    v48 = v38;
    while ((int32_t)v50 <= 15) {
        // 0x100000c47
        *(char *)(0x100000000 * v49 / 0x100000000 + v37) = 32;
        v50 = v51 + 1;
        v51 = v50 & 0xffffffff;
        v49 = (v49 & 0xffffffff) + 1;
        v47 = v51;
        v48 = v38;
    }
    goto lab_0x100000c99;
}

// Address range: 0x100000cd9 - 0x100000dbc
int64_t _hexdump(int64_t a1) {
    // 0x100000cd9
    int64_t v1; // 0x100000cd9
    uint64_t v2 = v1;
    char * v3 = (char *)a1;
    int64_t v4; // 0x100000cd9
    if ((int32_t)function_100000e44() == 0) {
        struct _IO_FILE * v5 = _fopen(v3, "rb"); // 0x100000d27
        if (v5 == NULL) {
            // 0x100000d47
            _perror(v3);
            v4 = 1;
        } else {
            int64_t v6 = 0; // 0x100000d43
            if (v2 != 0) {
                int64_t v7; // bp-72, 0x100000cd9
                int32_t v8 = _fread(&v7, 1, 16, v5); // 0x100000d66
                while (v8 != 0) {
                    // 0x100000d71
                    _dumpline(&v7, v6, (int64_t)v8);
                    int64_t v9 = v6 + (int64_t)v8; // 0x100000d81
                    v6 = v9;
                    if (v2 <= v9) {
                        // break -> 0x100000d8a
                        break;
                    }
                    v8 = _fread(&v7, 1, 16, v5);
                }
            }
            // 0x100000d8a
            _fclose(v5);
            v4 = 0;
        }
    } else {
        // 0x100000d0e
        _perror(v3);
        v4 = 1;
    }
    int64_t result = v4; // 0x100000da5
    if (*(int64_t *)g1 != *(int64_t *)g1) {
        // 0x100000da7
        result = function_100000e0e();
    }
    // 0x100000dac
    return result;
}

// Address range: 0x100000dbc - 0x100000e08
int main(int argc, char ** argv) {
    int32_t v1 = argc; // 0x100000dd3
    if (v1 < 2) {
        // 0x100000dfc
        return 0;
    }
    int64_t v2 = (int64_t)argv; // 0x100000dde
    int64_t result = 0; // 0x100000dde
    v2 += 8;
    result = _hexdump(*(int64_t *)v2) + result & 0xffffffff;
    int64_t v3 = 2; // 0x100000df0
    int64_t v4 = v3 & 0xffffffff; // 0x100000dfa
    while ((int32_t)v3 != v1) {
        // 0x100000de4
        v2 += 8;
        result = _hexdump(*(int64_t *)v2) + result & 0xffffffff;
        v3 = v4 + 1;
        v4 = v3 & 0xffffffff;
    }
    // 0x100000dfc
    return result;
}

// Address range: 0x100000e08 - 0x100000e0e
int64_t function_100000e08(int64_t * a1, int64_t a2, int64_t a3, char * a4, int64_t a5) {
    // 0x100000e08
    return ___sprintf_chk();
}

// Address range: 0x100000e0e - 0x100000e14
int64_t function_100000e0e(void) {
    // 0x100000e0e
    return ___stack_chk_fail();
}

// Address range: 0x100000e14 - 0x100000e1a
int64_t function_100000e14(int64_t * a1, char * a2, int64_t a3) {
    // 0x100000e14
    return ___strcat_chk();
}

// Address range: 0x100000e44 - 0x100000e4a
int64_t function_100000e44(void) {
    // 0x100000e44
    return _stat_24_INODE64();
}

// --------------- Dynamically Linked Functions ---------------

// int64_t ___sprintf_chk(void);
// int64_t ___stack_chk_fail(void);
// int64_t ___strcat_chk(void);
// int fclose(FILE * stream);
// FILE * fopen(const char * restrict filename, const char * restrict modes);
// size_t fread(void * restrict ptr, size_t size, size_t n, FILE * restrict stream);
// void perror(const char * s);
// int puts(const char * s);
// int sprintf(char * restrict s, const char * restrict format, ...);
// int64_t _stat_24_INODE64(void);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: xcode
// Detected functions: 7

