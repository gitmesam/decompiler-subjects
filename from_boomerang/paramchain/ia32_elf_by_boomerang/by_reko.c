// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 08048818: void _start(Register (ptr Eq_2) edx, Stack ui32 dwArg00)
void _start( * edx, ui32 dwArg00)
{
	if (0x080499F8 != 0x00)
		atexit(edx);
	atexit(&globals->t80489A4);
	globals->ptr8049AE4 = fp + 0x08 + dwArg00 * 0x04;
	globals->ptr8049B00 = fp + 0x04;
	word32 esp_28;
	word32 ebp_29;
	word32 edx_30;
	word32 eax_31;
	byte SZO_32;
	byte C_33;
	byte Z_34;
	byte SCZO_35;
	!__fpstart();
	fn08048880();
	_init();
	exit(main());
}

// 0804887C: void _mcount()
void _mcount()
{
}

// 08048880: void fn08048880()
void fn08048880()
{
	if (0x00 == 0x00)
		return;
	__wait();
	uint16 wLoc10_39 = __fstcw();
	if (!__bt(0x00, 0x0A))
	{
		cui16 v16_67 = wLoc10_39 & 0xF0C0 | 0x0300;
		__fldcw(v16_67 | 0x02);
		__fldcw(v16_67 | 0x02);
		if (false)
			globals->dw8049B08 = 0x01;
	}
}

// 08048924: void addem(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack (ptr word32) dwArg10)
void addem(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 * dwArg10)
{
	*dwArg10 = dwArg04 + dwArg08 + dwArg0C;
}

// 08048938: void passem(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack (ptr word32) dwArg10)
void passem(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 * dwArg10)
{
	addem(dwArg04, dwArg08, dwArg0C, dwArg10);
}

// 08048950: Register word32 main()
word32 main()
{
	passem(0x05, 0x0A, 0x28, fp - 0x08);
	printf(&globals->b8049B2C, dwLoc08);
	return 0x00;
}

// 0804897C: void _init()
void _init()
{
	ptr32 ecx_8 = globals->ptr80499F0;
	if (*(ecx_8 - 0x08) != 0x00)
	{
		word32 esp_25;
		word32 ebx_26;
		byte SCZO_27;
		word32 ecx_28;
		word32 edx_29;
		byte Z_30;
		bcuisposr0 None_31;
		(*(ecx_8 - 0x08))();
	}
}

// 080489A4: void _fini()
void _fini()
{
	ptr32 ecx_8 = globals->ptr80499F4;
	if (*(ecx_8 - 0x14) != 0x00)
	{
		word32 esp_26;
		word32 ebx_27;
		byte SCZO_28;
		word32 ecx_29;
		word32 edx_30;
		byte Z_31;
		bcuisposr0 None_32;
		(*(ecx_8 - 0x14))();
	}
}

