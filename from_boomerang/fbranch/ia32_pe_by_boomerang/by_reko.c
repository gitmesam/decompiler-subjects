// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00401000: Register word32 fn00401000(Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 ebp, Register Eq_4 esi, Register Eq_4 edi, Register out ptr32 ediOut)
word32 fn00401000(Eq_3 edx, Eq_4 ebx, Eq_4 ebp, Eq_4 esi, Eq_4 edi, ptr32 & ediOut)
{
	ptr32 ebp_18;
	word32 edi_19;
	Eq_4 ebx_20 = fn00401114(edx, ebx, esi, edi, 0x0040B040, out ebp_18, out edi_19);
	*(fp - 0x14) = (real64) *(ebp_18 - 0x08);
	*(fp - 0x1C) = (real64) *(ebp_18 - 0x04);
	*(fp - 0x20) = 0x0040B044;
	ptr32 ebp_101 = fn004010E3(ebx_20, dwArg00);
	if ((real64) *(ebp_101 - 0x04) == (real64) (*(ebp_101 - 0x08)))
	{
		*(fp - 0x10) = 0x0040B058;
		ebp_101 = fn004010E3(ebx_20, dwArg00);
	}
	if ((real64) *(ebp_101 - 0x04) != (real64) (*(ebp_101 - 0x08)))
	{
		*(fp - 0x10) = 0x0040B060;
		ebp_101 = fn004010E3(ebx_20, dwArg00);
	}
	if ((real64) *(ebp_101 - 0x04) > *(ebp_101 - 0x08))
	{
		*(fp - 0x10) = 0x0040B06C;
		ebp_101 = fn004010E3(ebx_20, dwArg00);
	}
	if ((real64) *(ebp_101 - 0x04) <= *(ebp_101 - 0x08))
	{
		*(fp - 0x10) = 0x0040B078;
		ebp_101 = fn004010E3(ebx_20, dwArg00);
	}
	if ((real64) *(ebp_101 - 0x04) >= *(ebp_101 - 0x08))
	{
		*(fp - 0x10) = 0x0040B088;
		ebp_101 = fn004010E3(ebx_20, dwArg00);
	}
	if ((real64) *(ebp_101 - 0x04) < *(ebp_101 - 0x08))
	{
		*(fp - 0x10) = 0x0040B09C;
		fn004010E3(ebx_20, dwArg00);
	}
	return 0x00;
}

// 004010E3: Register word32 fn004010E3(Register Eq_4 ebx, Stack (ptr32 ci8) dwArg04)
word32 fn004010E3(Eq_4 ebx, ci8 * dwArg04)
{
	Eq_3 edx_14;
	Eq_4 eax_15 = fn0040136E(&globals->t40B0E8, out edx_14);
	fn004014C0(edx_14, ebx, 0x0040B0E8, eax_15, dwArg04);
	fn004013F6(edx_14, eax_15, 0x0040B0E8);
	return ebp;
}

// 00401114: Register Eq_4 fn00401114(Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Stack word32 dwArg04, Register out ptr32 ebpOut, Register out ptr32 ediOut)
Eq_4 fn00401114(Eq_3 edx, Eq_4 ebx, Eq_4 esi, Eq_4 edi, word32 dwArg04, ptr32 & ebpOut, ptr32 & ediOut)
{
	word32 ebp_15;
	word32 edi_16;
	return fn00401DBC(edx, ebx, esi, edi, out ebp_15, out edi_16);
}

// 00401182: Register word32 fn00401182(Register Eq_4 ebx, Register Eq_4 ebp, Register Eq_4 edi, Stack Eq_4 dwArg04, Register out ptr32 edxOut)
word32 fn00401182(Eq_4 ebx, Eq_4 ebp, Eq_4 edi, Eq_4 dwArg04, ptr32 & edxOut)
{
	if (globals->t40BA30 != 0x02)
		fn00403391(ebx, ebp, edi);
	word32 edx_12;
	word32 eax_13 = fn0040321A(ebx, ebp, edi, dwArg04, out edx_12);
	word32 esp_16;
	byte SCZO_17;
	bool Z_18;
	word32 ecx_19;
	word32 ebx_20;
	word32 ebp_21;
	word32 edi_22;
	word32 eax_23;
	word32 edx_24;
	globals->ptr40B0B8();
	return eax_23;
}

// 004011A7: Register Eq_4 Win32CrtStartup()
Eq_4 Win32CrtStartup()
{
	Eq_4 ebp_10 = fn00403BD0(ebx, esi, edi, dwLoc0C, 0x004090D8, 0x18);
	fn00403D30((byte *) 0x94, dwLoc0C);
	*(ebp_10 - 0x18) = fp - 0x08;
	*(fp - 0x08) = 0x94;
	*(fp - 0x0C) = fp - 0x08;
	GetVersionExA(*(fp - 0x0C));
	word32 ecx_20 = fp->dw0008;
	globals->dw40BA5C = ecx_20;
	uint32 eax_22 = *(fp - 0x04);
	globals->dw40BA68 = eax_22;
	word32 edx_25 = fp->dw0000;
	globals->dw40BA6C = edx_25;
	ui32 esi_27 = fp->dw0004;
	globals->t40BA60 = esi_27 & 0x7FFF;
	Eq_4 esi_231 = esi_27 & 0x7FFF;
	if (ecx_20 != 0x02)
	{
		esi_231 = esi_27 & 0x7FFF | 0x8000;
		globals->t40BA60 = esi_231;
	}
	globals->dw40BA64 = (eax_22 << 0x08) + edx_25;
	*(fp - 0x0C) = 0x00;
	Eq_4 eax_43 = GetModuleHandleA(*(fp - 0x0C));
	if (*eax_43 != 23117)
	{
l00401240:
		*(ebp_10 - 0x1C) = 0x00;
		goto l0040126C;
	}
	else
	{
		word32 ecx_194 = Mem42[eax_43 + 0x3C:word32] + eax_43;
		if (ecx_194->dw0000 != 0x4550)
			goto l00401240;
		bool Z_204;
		word32 eax_197 = (word32) ecx_194->w0018;
		if (eax_197 != 0x010B)
		{
			if (eax_197 != 0x020B || ecx_194->dw0084 <= 0x0E)
				goto l00401240;
			Z_204 = (bool) cond(ecx_194->dw00F8);
		}
		else
		{
			if (ecx_194->dw0074 <= 0x0E)
				goto l00401240;
			Z_204 = (bool) cond(ecx_194->dw00E8);
		}
		*(ebp_10 - 0x1C) = (word32) Z_204;
l0040126C:
		*(fp - 0x0C) = 0x00;
		if (fn00403B7F(dwArg00) == 0x00)
		{
			if (globals->t40BA30 != 0x02)
				fn00403391(ebx, ebp_10, 0x00);
			*(fp - 0x0C) = 0x1C;
			word32 edx_177;
			fn0040321A(ebx, ebp_10, 0x00, dwArg00, out edx_177);
			*(fp - 0x10) = 0xFF;
			fn0040307F(dwArg00);
		}
		Eq_4 ebp_66;
		word32 esi_67;
		Eq_4 edi_68;
		Eq_4 ebx_69 = fn00403ADD(ebx, esi_231, 0x00, out ebp_66, out esi_67, out edi_68);
		*(ebp_66 - 0x04) = (union Eq_4 *) edi_68;
		word32 ecx_171;
		if (fn00403932(out ecx_171) < 0x00)
		{
			*(fp - 0x0C) = 0x1B;
			word32 edx_169;
			fn00401182(ebx_69, ebp_66, edi_68, dwArg00, out edx_169);
			ecx_171 = *(fp - 0x0C);
		}
		globals->t40D004 = GetCommandLineA();
		Eq_3 edx_80;
		globals->t40BA28 = fn00403810(ecx_171, out edx_80);
		Eq_3 edx_162;
		Eq_4 eax_163 = fn0040376E(edx_80, out edx_162);
		if (eax_163 < 0x00)
		{
			*(fp - 0x0C) = 0x08;
			eax_163 = fn00401182(ebx_69, ebp_66, edi_68, dwArg00, out edx_162);
		}
		if (fn0040353B(eax_163, edx_162, ebx_69, ebp_66, edi_68) < 0x00)
		{
			*(fp - 0x0C) = 0x09;
			word32 edx_156;
			fn00401182(ebx_69, ebp_66, edi_68, dwArg00, out edx_156);
		}
		*(fp - 0x0C) = 0x01;
		Eq_4 esi_102;
		Eq_4 edi_103;
		Eq_3 edx_101;
		Eq_4 eax_104 = fn004030AF(ebx_69, ebp_66, esi_67, edi_68, dwArg00, out edx_101, out esi_102, out edi_103);
		*(ebp_66 - 0x24) = (union Eq_4 *) eax_104;
		if (eax_104 != edi_103)
		{
			*(fp - 0x0C) = (union Eq_4 *) eax_104;
			fn00401182(ebx_69, ebp_66, edi_103, dwArg00, out edx_101);
		}
		Eq_4 eax_114 = globals->t40BA7C;
		globals->t40BA80 = eax_114;
		*(fp - 0x0C) = (union Eq_4 *) eax_114;
		*(fp - 0x10) = (union Eq_4 *) globals->t40BA74;
		*(fp - 0x14) = globals->dw40BA70;
		word32 edi_124;
		word32 eax_125 = fn00401000(edx_101, ebx_69, ebp_66, esi_102, edi_103, out edi_124);
		*(ebp_66 - 0x28) = eax_125;
		if (*(ebp_66 - 0x1C) == edi_124)
		{
			*(fp - 0x0C) = eax_125;
			fn004031DA(ebp_66, dwArg00);
		}
		Eq_4 esi_132 = fn004031FC(ebp_66);
		*(ebp_66 - 0x04) |= ~0x00;
		word32 ebx_141;
		word32 ebp_142;
		word32 esi_143;
		word32 edi_144;
		fn00403C0B(ebp_66, 0x18, dwArg00, dwArg04, dwArg08, out ebx_141, out ebp_142, out esi_143, out edi_144);
		return esi_132;
	}
}

// 0040136E: Register word32 fn0040136E(Stack (ptr32 Eq_189) dwArg04, Register out ptr32 edxOut)
word32 fn0040136E(Eq_189 * dwArg04, ptr32 & edxOut)
{
	*edxOut = edx;
	if (fn00403DF1(dwArg04->t0010) == 0x00)
		return 0x00;
	ui32 eax_111;
	if (dwArg04 == &globals->t40B0E8)
		eax_111 = 0x00;
	else
	{
		if (dwArg04 != &globals->t40B108)
			return 0x00;
		eax_111 = 0x01;
	}
	++globals->dw40BA3C;
	if ((dwArg04->w000C & 0x010C) != 0x00)
		return 0x00;
	union Eq_4 * edi_58 = eax_111 * 0x04 + 0x0040BA34;
	if (*edi_58 == 0x00)
	{
		word32 edx_94;
		Eq_4 eax_95 = fn00403DDF(0x1000, out edx_94);
		*edi_58 = (union Eq_4 *) eax_95;
		if (eax_95 == 0x00)
		{
			dwArg04->t0008 = (char *) &dwArg04->t0010 + 0x04;
			dwArg04->t0000 = (char *) &dwArg04->t0010 + 0x04;
			dwArg04->dw0018 = 0x02;
			dwArg04->dw0004 = 0x02;
l004013E5:
			dwArg04->w000C |= 0x1102;
			return 0x01;
		}
	}
	Eq_4 edi_87 = *edi_58;
	dwArg04->t0008 = edi_87;
	dwArg04->t0000 = edi_87;
	dwArg04->dw0018 = 0x1000;
	dwArg04->dw0004 = 0x1000;
	goto l004013E5;
}

// 004013F6: void fn004013F6(Register Eq_3 edx, Stack Eq_4 dwArg04, Stack Eq_4 dwArg08)
void fn004013F6(Eq_3 edx, Eq_4 dwArg04, Eq_4 dwArg08)
{
	if (dwArg04 == 0x00)
	{
		if ((*((word32) dwArg08 + 0x0D) & 0x10) == 0x00)
			return;
		fn00403E18(edx, dwArg08);
	}
	else
	{
		if ((*((word32) dwArg08 + 0x0D) & 0x10) == 0x00)
			return;
		fn00403E18(edx, dwArg08);
		((word32) dwArg08 + 0x0D)->u0 = *((word32) dwArg08 + 0x0D) & ~0x11;
		*((word32) dwArg08 + 0x0018) &= 0x00;
		*dwArg08 &= 0x00;
		*((word32) dwArg08 + 0x08) &= 0x00;
	}
}

// 004014C0: void fn004014C0(Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Stack (ptr32 ci8) dwArg08)
void fn004014C0(Eq_3 edx, Eq_4 ebx, Eq_4 esi, Eq_4 edi, ci8 * dwArg08)
{
	Eq_4 eax_8 = globals->t40B498;
	ci8 bl_143 = *dwArg08;
	struct Eq_853 * ecx_148 = null;
	if (bl_143 != 0x00)
	{
		ci8 * edi_142 = dwArg08;
		while (true)
		{
			ci8 * edi_93 = edi_142 + 0x01;
			if (false)
				break;
			ui32 eax_117;
			if (bl_143 >= 0x20 && bl_143 <= 0x78)
				eax_117 = (int32) ((int32) bl_143)->b4090C8 & 0x0F;
			else
				eax_117 = 0x00;
			int32 eax_118 = (int32) ecx_148->a4090E8[eax_117].b0000;
			if (eax_118 >> 0x04 <= 0x07)
			{
				word32 esp_127;
				word32 ebp_128;
				byte SCZO_129;
				word32 eax_130;
				byte SZO_131;
				bool C_132;
				word32 ebx_133;
				byte bl_134;
				word32 ecx_135;
				bool Z_136;
				word32 esi_137;
				word32 edi_138;
				byte SO_139;
				byte CZ_140;
				word32 edx_141;
				(*((char *) globals->a401C9A + (eax_118 >> 0x04) * 0x04))();
				return;
			}
			edi_142 = edi_93;
			bl_143 = *edi_93;
			if (bl_143 == 0x00)
				break;
			ecx_148 = eax_118 >> 0x04;
		}
	}
	fn004041A2(eax_8, edx, ebx, esi, edi);
}

// 00401D74: Register Eq_4 fn00401D74(Register Eq_4 eax, Register Eq_4 ebx, Register Eq_4 edi, Register out ptr32 edxOut, Register out (ptr32 Eq_924) ebpOut, Register out Eq_925 ediOut)
Eq_4 fn00401D74(Eq_4 eax, Eq_4 ebx, Eq_4 edi, ptr32 & edxOut, Eq_924 * & ebpOut, Eq_925 & ediOut)
{
	*ebpOut = ebp;
	*ediOut = edi;
	*edxOut = edx;
	Eq_4 eax_16;
	Eq_4 esi_22 = eax;
	if (globals->t40B4A0 > 0x01)
	{
		word32 edx_39;
		word32 ebx_40;
		word32 edi_41;
		eax_16 = fn00404318(ebx, eax, edi, eax, out edx_39, out ebx_40, out edi_41);
	}
	else
		eax_16 = (word32) globals->ptr40B490[eax].t0000 & 0x04;
	if (eax_16 == 0x00)
		esi_22 = (eax & ~0x20) - 0x07;
	return esi_22;
}

// 00401DA6: Register word32 fn00401DA6(Register Eq_4 edx, Register out Eq_969 edxOut)
word32 fn00401DA6(Eq_4 edx, Eq_969 & edxOut)
{
	*edxOut = edx;
	int32 v4_4 = *((word32) edx + 0x04) - 0x01;
	*((word32) edx + 0x04) = v4_4;
	if (v4_4 < 0x00)
	{
		word32 edx_23;
		return fn00404396(edx, out edx_23);
	}
	else
	{
		Eq_4 ecx_15 = *edx;
		word32 eax_16 = (word32) *ecx_15;
		*edx = (word32) ecx_15 + 0x01;
		return eax_16;
	}
}

// 00401DBC: Register Eq_4 fn00401DBC(Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Register out ptr32 ebpOut, Register out ptr32 ediOut)
Eq_4 fn00401DBC(Eq_3 edx, Eq_4 ebx, Eq_4 esi, Eq_4 edi, ptr32 & ebpOut, ptr32 & ediOut)
{
	Eq_4 ebp_10 = fn00403BD0(ebx, esi, edi, dwLoc0C, 0x00409160, 0x01CC);
	*(ebp_10 - 0x1C) = (union Eq_4 *) globals->t40B498;
	*(ebp_10 - 444) = 0x00;
	*(ebp_10 - 0x01D8) = 0x00;
	*(ebp_10 - 0x01B0) = 0x00;
	*(ebp_10 - 404) = 0x00;
	*(ebp_10 - 0x0195) = 0x00;
	*(ebp_10 - 388) = 0x00;
	*(ebp_10 - 440) = 0x00;
	ptr32 esp_1045 = fp - 0x08;
l00401DFF:
	Eq_4 esi_1247 = *((word32) ebp_10 + 0x0C);
l00401E02:
	byte al_72 = *esi_1247;
	if (al_72 == 0x00)
	{
l00402BDC:
		if (*(ebp_10 - 0x01D8) == 0x01)
		{
			*(esp_1045 - 0x04) = *(ebp_10 - 444);
			fn0040403C(ebp_10, dwArg00, out edx, out ebx, out ebp_10, out edi);
		}
		word32 eax_105 = *(ebp_10 - 440);
		byte al_107 = (byte) eax_105;
		if (*(ebp_10 - 404) == ~0x00 && eax_105 == 0x00)
			*(ebp_10 - 0x0195) != al_107;
		fn004041A2(*(ebp_10 - 0x1C), edx, ebx, esi_1247, edi);
		Eq_4 ebx_122;
		word32 ebp_123;
		word32 esi_124;
		word32 edi_125;
		fn00403C0B(ebp_10, 0x01CC, dwArg00, dwArg04, dwArg08, out ebx_122, out ebp_123, out esi_124, out edi_125);
		return ebx_122;
	}
	Eq_4 eax_159;
	ui32 eax_149 = (word32) al_72;
	if (globals->t40B4A0 > 0x01)
	{
		word32 * esp_2450 = esp_1045 - 0x04;
		*esp_2450 = 0x08;
		*(esp_2450 - 0x04) = eax_149;
		word32 edi_2456;
		eax_159 = fn00404318(ebx, esi_1247, edi, dwArg00, out edx, out ebx, out edi_2456);
	}
	else
		eax_159 = (word32) globals->ptr40B490[eax_149].t0000 & 0x08;
	edi.u0 = 0x00;
	if (eax_159 != 0x00)
	{
		--*(ebp_10 - 388);
		do
		{
			++*(ebp_10 - 388);
			word32 edx_179;
			Eq_4 eax_180 = fn00401DA6(*((word32) ebp_10 + 0x08), out edx_179);
			union Eq_4 * esp_182 = esp_1045 - 0x04;
			*esp_182 = (union Eq_4 *) eax_180;
			word32 edx_184;
			Eq_4 esi_187;
			Eq_4 eax_189 = fn004044E0(ebx, eax_180, edi, dwArg00, out edx_184, out ebx, out ebp_10, out esi_187, out edi);
		} while (eax_189 != 0x00);
		if (esi_187 != ~0x00)
		{
			*esp_182 = (union Eq_4 *) *((word32) ebp_10 + 0x08);
			*(esp_182 - 0x04) = (union Eq_4 *) esi_187;
			word32 edx_229;
			fn00404474(eax_189, dwArg00, dwArg04, out edx_229);
		}
		do
		{
			*((word32) ebp_10 + 0x0C) = (word32) *((word32) ebp_10 + 0x0C) + 0x01;
			word32 * esp_210 = esp_1045 - 0x04;
			*esp_210 = (word32) **((word32) ebp_10 + 0x0C);
			esp_1045 = esp_210 + 0x01;
			Eq_4 ebx_2473 = ebx;
			Eq_4 esi_2474 = esi_187;
			Eq_4 edi_2475 = edi;
		} while (fn004044E0(ebx_2473, esi_2474, edi_2475, dwArg00, out edx, out ebx, out ebp_10, out esi_187, out edi) != 0x00);
		goto l00401DFF;
	}
	Eq_4 eax_1241;
	bool Z_2407;
	esi_1247 = *((word32) ebp_10 + 0x0C);
	if (*esi_1247 != 0x25)
	{
		++*(ebp_10 - 388);
		Eq_4 eax_2383 = fn00401DA6(*((word32) ebp_10 + 0x08), out edx);
		*(ebp_10 - 404) = (union Eq_4 *) eax_2383;
		eax_1241 = (word32) *esi_1247;
		*((word32) ebp_10 + 0x0C) = (word32) esi_1247 + 0x01;
		ebx = eax_2383;
		byte bl_2385 = (byte) eax_2383;
		esi_1247 = (word32) esi_1247 + 0x01;
		if (eax_1241 == eax_2383)
		{
			if ((globals->ptr40B490[(word32) bl_2385].b0001 & 0x80) == 0x00)
				goto l00402BBD;
			++*(ebp_10 - 388);
			eax_1241 = fn00401DA6(*((word32) ebp_10 + 0x08), out edx);
			Eq_4 ecx_2426 = (word32) *((word32) esi_1247 + 0x01);
			*((word32) ebp_10 + 0x0C) = (word32) esi_1247 + 0x02;
			esi_1247 = (word32) esi_1247 + 0x02;
			if (ecx_2426 == eax_1241)
			{
				--*(ebp_10 - 388);
				goto l00402BBD;
			}
			if (eax_1241 != ~0x00)
			{
				word32 * esp_2434 = esp_1045 - 0x04;
				*esp_2434 = (word32) *((word32) ebp_10 + 0x08);
				*(esp_2434 - 0x04) = (union Eq_4 *) eax_1241;
				eax_1241 = fn00404474(eax_1241, dwArg00, dwArg04, out edx);
			}
		}
		Z_2407 = (bool) cond(eax_2383 - ~0x00);
		goto l00402BA3;
	}
	*(ebp_10 - 0x01A0) = 0x00;
	*(ebp_10 - 0x0198) = 0x00;
	*(ebp_10 - 0x019C) = 0x00;
	*(ebp_10 - 0x01B4) = 0x00;
	*(ebp_10 - 0x018C) = 0x00;
	*(ebp_10 - 0x01A1) = 0x00;
	*(ebp_10 - 0x0197) = 0x00;
	*(ebp_10 - 0x018E) = 0x00;
	*(ebp_10 - 0x017D) = 0x00;
	*(ebp_10 - 0x0196) = 0x00;
	*(ebp_10 - 0x0185) = 0x00;
	*(ebp_10 - 0x018D) = 0x01;
	*(ebp_10 - 0x01C8) = 0x00;
	do
	{
		esi_1247 = (word32) esi_1247 + 0x01;
		Eq_4 ebx_2359 = (word32) *esi_1247;
		ui32 eax_323 = (word32) (byte) ebx_2359;
		if (globals->t40B4A0 > 0x01)
		{
			word32 * esp_2354 = esp_1045 - 0x04;
			*esp_2354 = 0x04;
			*(esp_2354 - 0x04) = eax_323;
			eax_1241 = fn00404318(ebx_2359, esi_1247, edi, dwArg00, out edx, out ebx_2359, out edi);
		}
		else
			eax_1241 = (word32) globals->ptr40B490[eax_323].t0000 & 0x04;
		if (eax_1241 != 0x00)
		{
			++*(ebp_10 - 0x01B4);
			eax_1241 = edi * 0x05;
			edi = ebx_2359 - 0x30 + eax_1241 * 0x02;
			goto l00401FDE;
		}
		if (ebx_2359 <= 0x4E)
		{
			if (ebx_2359 == 0x4E)
				goto l00401FDE;
			if (ebx_2359 != 0x2A)
			{
				if (ebx_2359 == 0x46)
					goto l00401FDE;
				if (ebx_2359 != 0x49)
				{
					if (ebx_2359 != 0x4C)
						goto l00401FBC;
					++*(ebp_10 - 0x018D);
					goto l00401FDE;
				}
				byte cl_2285 = *((word32) esi_1247 + 0x01);
				if (cl_2285 == 0x36)
				{
					eax_1241 = (word32) esi_1247 + 0x02;
					if (*((word32) esi_1247 + 0x02) != 0x34)
						goto l00401F79;
					++*(ebp_10 - 0x01C8);
					*(ebp_10 - 0x01AC) &= 0x00;
					*(ebp_10 - 424) &= 0x00;
					esi_1247 = (word32) esi_1247 + 0x02;
					goto l00401FDE;
				}
l00401F79:
				if (cl_2285 == 0x33)
				{
					eax_1241 = (word32) esi_1247 + 0x02;
					if (*((word32) esi_1247 + 0x02) != 0x32)
						goto l00401F8A;
					esi_1247 = (word32) esi_1247 + 0x02;
					goto l00401FDE;
				}
l00401F8A:
				if (cl_2285 != 100 && (cl_2285 != 0x69 && (cl_2285 != 111 && (cl_2285 != 0x78 && cl_2285 != 88))))
					goto l00401FBC;
			}
			else
				++*(ebp_10 - 0x018E);
			goto l00401FDE;
		}
		if (ebx_2359 != 0x68)
		{
			if (ebx_2359 != 0x6C)
			{
				if (ebx_2359 == 0x77)
					goto l00401FCA;
l00401FBC:
				++*(ebp_10 - 0x017D);
			}
			else
			{
				++*(ebp_10 - 0x018D);
l00401FCA:
				++*(ebp_10 - 0x0185);
			}
		}
		else
		{
			--*(ebp_10 - 0x018D);
			--*(ebp_10 - 0x0185);
		}
l00401FDE:
	} while (*(ebp_10 - 0x017D) == 0x00);
	*(ebp_10 - 0x018C) = (union Eq_4 *) edi;
	*((word32) ebp_10 + 0x0C) = esi_1247;
	if (*(ebp_10 - 0x018E) == 0x00)
	{
		union Eq_4 * eax_2236 = *((word32) ebp_10 + 0x0010);
		*(ebp_10 - 0x01DC) = (union Eq_4 **) eax_2236;
		*((word32) ebp_10 + 0x0010) = (char *) eax_2236 + 0x04;
		ebx = *eax_2236;
		*(ebp_10 - 0x01B0) = (union Eq_4 *) ebx;
		eax_1241 = (char *) eax_2236 + 0x04;
	}
	else
		ebx = *(ebp_10 - 0x01B0);
	*(ebp_10 - 0x017D) = 0x00;
	if (*(ebp_10 - 0x0185) == 0x00)
	{
		byte al_2224 = *esi_1247;
		eax_1241 = DPB(eax_1241, al_2224, 0);
		if (al_2224 == 0x53)
		{
l0040203E:
			*(ebp_10 - 0x0185) = 0x01;
			goto l00402045;
		}
		*(ebp_10 - 0x0185) = ~0x00;
		if (al_2224 == 0x43)
			goto l0040203E;
	}
l00402045:
	ui32 edi_372 = (word32) *esi_1247;
	*(ebp_10 - 448) = edi_372 | 0x20;
	edi = edi_372 | 0x20;
	if ((edi_372 | 0x20) != 110)
	{
		if ((edi_372 | 0x20) != 99 && (edi_372 | 0x20) != 0x7B)
		{
			do
			{
				++*(ebp_10 - 388);
				word32 edx_2203;
				Eq_4 eax_2204 = fn00401DA6(*((word32) ebp_10 + 0x08), out edx_2203);
				*(esp_1045 - 0x04) = (union Eq_4 *) eax_2204;
				word32 esi_2211;
				eax_1241 = fn004044E0(ebx, eax_2204, edi, dwArg00, out edx, out ebx, out ebp_10, out esi_2211, out edi);
			} while (eax_1241 != 0x00);
			*(ebp_10 - 404) = esi_2211;
			esi_1247 = *((word32) ebp_10 + 0x0C);
		}
		else
		{
			++*(ebp_10 - 388);
			eax_1241 = fn00401DA6(*((word32) ebp_10 + 0x08), out edx);
			*(ebp_10 - 404) = (union Eq_4 *) eax_1241;
		}
	}
	word32 ecx_389 = *(ebp_10 - 0x01B4);
	if (ecx_389 != 0x00 && *(ebp_10 - 0x018C) == 0x00)
	{
l004023DD:
		Z_2407 = (bool) cond(*(ebp_10 - 404) - ~0x00);
l00402BA3:
		if (!Z_2407)
		{
			word32 * esp_285 = esp_1045 - 0x04;
			*esp_285 = (word32) *((word32) ebp_10 + 0x08);
			*(esp_285 - 0x04) = *(ebp_10 - 404);
			fn00404474(eax_1241, dwArg00, dwArg04, out edx);
			esp_1045 = esp_285 + 0x01;
		}
		goto l00402BDC;
	}
	word32 eax_1490;
	Eq_1817 ax_1493;
	if (edi > 111)
	{
		int32 eax_1958 = edi - 0x70;
		if (eax_1958 != 0x00)
		{
			eax_1241 = eax_1958 - 0x03;
			if (eax_1958 == 0x03)
				goto l00402393;
			if (eax_1958 != 0x05)
			{
				if (eax_1958 == 0x08)
					goto l00402106;
				byte * eax_1983 = eax_1958 - 11;
				if (eax_1958 != 11)
				{
l004023D2:
					eax_1241 = (word32) *esi_1247;
					if (eax_1241 != *(ebp_10 - 404))
						goto l004023DD;
					--*(ebp_10 - 0x0195);
					if (*(ebp_10 - 0x018E) == 0x00)
						*((word32) ebp_10 + 0x0010) = *(ebp_10 - 0x01DC);
l00402B38:
					++*(ebp_10 - 0x0195);
					*((word32) ebp_10 + 0x0C) = (word32) *((word32) ebp_10 + 0x0C) + 0x01;
					esi_1247 = *((word32) ebp_10 + 0x0C);
l00402BBD:
					if (*(ebp_10 - 404) == ~0x00)
					{
						if (*esi_1247 != 0x25 || *((word32) (*((word32) ebp_10 + 0x0C)) + 0x01) != 110)
							goto l00402BDC;
						goto l00401DFF;
					}
					goto l00401E02;
				}
				if (*(ebp_10 - 0x0185) > 0x00)
					*(ebp_10 - 0x0196) = 0x01;
				struct Eq_3512 * edi_1989 = *((word32) ebp_10 + 0x0C);
				*((word32) ebp_10 + 0x0C) = &edi_1989->b0001;
				*(ebp_10 - 464) = (byte **) &edi_1989->b0001;
				edi = &edi_1989->b0001;
				if (edi_1989->b0001 == 0x5E)
				{
					*(ebp_10 - 464) = &edi_1989->b0001 + 0x01;
					*(ebp_10 - 0x01A1) = ~0x00;
					edi = &edi_1989->b0001 + 0x01;
				}
				ebx = *(ebp_10 - 444);
				if (ebx == 0x00)
				{
					*(ebp_10 - 0x04) &= ebx;
					byte ** esp_2157 = esp_1045 - 0x04;
					*esp_2157 = (byte **) (byte *) 0x20;
					eax_1983 = (byte *) *esp_2157;
					fn00403D30(eax_1983, 0x01CC);
					*(ebp_10 - 0x18) = (char *) esp_2157 + 0x04;
					*(ebp_10 - 444) = (char *) esp_2157 + 0x04;
					*(ebp_10 - 0x04) |= ~0x00;
					ebx = (char *) esp_2157 + 0x04;
				}
				cu8 dl_2032;
				word32 * esp_2007 = esp_1045 - 0x04;
				*esp_2007 = 0x20;
				*(esp_2007 - 0x04) = 0x00;
				*(esp_2007 - 0x08) = (union Eq_4 *) ebx;
				edx = fn004045E0(dwArg00, bArg04, dwArg08);
				esp_1045 = esp_2007 + 0x01;
				if (*(ebp_10 - 448) == 0x7B && *edi == 0x5D)
				{
					((word32) ebx + 0x0B)->u0 = 0x20;
					dl_2032 = 0x5D;
					edx = DPB(edx, 0x5D, 0);
					edi = (word32) edi + 0x01;
				}
				else
				{
l0040252E:
					dl_2032 = *(ebp_10 - 0x0198);
					edx = DPB(edx, dl_2032, 0);
				}
				while (true)
				{
					byte al_2047 = *edi;
					eax_1241 = DPB(eax_1983, al_2047, 0);
					if (al_2047 == 0x5D)
						break;
					edi = (word32) edi + 0x01;
					if (al_2047 != 0x2D || dl_2032 == 0x00)
					{
l00402515:
						*(ebp_10 - 0x0198) = al_2047;
						uint32 ecx_2068 = (word32) al_2047;
						eax_1983 = (word32) ebx + (ecx_2068 >> 0x03);
						*eax_1983 |= 0x01 << (byte) (ecx_2068 & 0x07);
						goto l0040252E;
					}
					cu8 cl_2083 = *edi;
					if (cl_2083 == 0x5D)
						goto l00402515;
					cu8 al_2091;
					edi = (word32) edi + 0x01;
					if (dl_2032 < cl_2083)
					{
						al_2091 = cl_2083;
						eax_1983 = DPB(eax_1983, cl_2083, 0);
					}
					else
					{
						al_2091 = dl_2032;
						eax_1983 = DPB(eax_1983, dl_2032, 0);
						dl_2032 = cl_2083;
						edx = DPB(edx, cl_2083, 0);
					}
					if (dl_2032 <= al_2091)
					{
						*(ebp_10 - 0x01D4) = (word32) (al_2091 - dl_2032 + 0x01);
						esi_1247 = (word32) dl_2032;
						do
						{
							eax_1983 = (word32) ebx + (esi_1247 >> 0x03);
							*eax_1983 |= 0x01 << (byte) (esi_1247 & 0x07);
							word32 v98_2131 = *(ebp_10 - 0x01D4) - 0x01;
							*(ebp_10 - 0x01D4) = v98_2131;
							esi_1247.u0 = (byte) esi_1247.u0 + 0x01;
						} while (v98_2131 != 0x00);
					}
					dl_2032 = 0x00;
					edx = DPB(edx, 0x00, 0);
				}
				if (al_2047 == 0x00)
					goto l00402BDC;
				ebx = *(ebp_10 - 0x01B0);
				if (*(ebp_10 - 448) == 0x7B)
					*((word32) ebp_10 + 0x0C) = edi;
				edi = *(ebp_10 - 448);
l0040255A:
				--*(ebp_10 - 388);
				esi_1247 = ebx;
				if (*(ebp_10 - 404) != ~0x00)
				{
					word32 * esp_1455 = esp_1045 - 0x04;
					*esp_1455 = (word32) *((word32) ebp_10 + 0x08);
					*(esp_1455 - 0x04) = *(ebp_10 - 404);
					fn00404474(eax_1241, dwArg00, dwArg04, out edx);
				}
l0040257B:
				if (*(ebp_10 - 0x01B4) != 0x00)
				{
					word32 eax_1447 = *(ebp_10 - 0x018C);
					--*(ebp_10 - 0x018C);
					if (eax_1447 == 0x00)
						goto l00402780;
				}
				++*(ebp_10 - 388);
				Eq_4 eax_1309 = fn00401DA6(*((word32) ebp_10 + 0x08), out edx);
				*(ebp_10 - 404) = (union Eq_4 *) eax_1309;
				Eq_3583 al_1311 = (byte) eax_1309;
				if (eax_1309 != ~0x00)
				{
					if (edi == 99 || (edi == 115 && (eax_1309 < 0x09 || eax_1309 > 0x0D)) && eax_1309 != 0x20)
					{
l00402607:
						if (*(ebp_10 - 0x018E) == 0x00)
						{
							if (*(ebp_10 - 0x0196) != 0x00)
							{
								*(ebp_10 - 0x01C4) = (union Eq_3583 *) al_1311;
								if ((globals->ptr40B490[(word32) al_1311].b0001 & 0x80) != 0x00)
								{
									++*(ebp_10 - 388);
									*(ebp_10 - 0x01C3) = (byte) fn00401DA6(*((word32) ebp_10 + 0x08), out edx);
								}
								union Eq_4 * esp_1383 = esp_1045 - 0x04;
								*esp_1383 = (union Eq_4 *) globals->t40B4A0;
								*(esp_1383 - 0x04) = ebp_10 - 0x01C4;
								*(esp_1383 - 0x08) = ebp_10 - 0x01CC;
								fn00404509(dwArg00, dwArg04, dwArg08);
								ebx->u1 = *(ebp_10 - 0x01CC);
								ebx = (word32) ebx + 0x02;
							}
							else
							{
								*ebx = al_1311;
								ebx = (word32) ebx + 0x01;
							}
							*(ebp_10 - 0x01B0) = (union Eq_4 *) ebx;
						}
						else
							esi_1247.u0 = (byte) esi_1247.u0 + 0x01;
						goto l0040257B;
					}
					if (edi == 0x7B)
					{
						edi = (int32) *(ebp_10 - 0x01A1);
						edx = 0x01 << (byte) (eax_1309 & 0x07);
						if ((((int32) *((word32) (eax_1309 >> 0x03) + *(ebp_10 - 444)) ^ edi) & edx) != 0x00)
						{
							edi = *(ebp_10 - 448);
							goto l00402607;
						}
					}
				}
				--*(ebp_10 - 388);
				if (eax_1309 != ~0x00)
				{
					word32 * esp_1330 = esp_1045 - 0x04;
					*esp_1330 = (word32) *((word32) ebp_10 + 0x08);
					*(esp_1330 - 0x04) = (union Eq_4 *) eax_1309;
					fn00404474(eax_1309, dwArg00, dwArg04, out edx);
				}
l00402780:
				if (esi_1247 != ebx)
				{
					if (*(ebp_10 - 0x018E) == 0x00)
					{
						++*(ebp_10 - 440);
						if (*(ebp_10 - 448) != 99)
						{
							byte * eax_1291 = *(ebp_10 - 0x01B0);
							if (*(ebp_10 - 0x0196) != 0x00)
								*eax_1291 &= 0x00;
							else
								*eax_1291 = 0x00;
						}
					}
					goto l00402B38;
				}
				goto l00402BDC;
			}
		}
		else
			*(ebp_10 - 0x018D) = 0x01;
l004027CF:
		ebx = *(ebp_10 - 404);
		if (ebx == 0x2D)
			*(ebp_10 - 0x0197) = 0x01;
		else if (ebx != 0x2B)
			goto l00402813;
		word32 v81_1209 = *(ebp_10 - 0x018C) - 0x01;
		*(ebp_10 - 0x018C) = v81_1209;
		if (v81_1209 != 0x00 || ecx_389 == 0x00)
		{
			++*(ebp_10 - 388);
			ebx = fn00401DA6(*((word32) ebp_10 + 0x08), out edx);
			goto l0040280D;
		}
		*(ebp_10 - 0x017D) = 0x01;
l00402813:
		if (*(ebp_10 - 0x01C8) != 0x00)
		{
			if (*(ebp_10 - 0x017D) == 0x00)
			{
				esi_1247.u0 = 0x80;
				do
				{
					Eq_4 eax_590;
					if (edi != 0x78 && edi != 0x70)
					{
						if (globals->t40B4A0 > 0x01)
						{
							word32 * esp_778 = esp_1045 - 0x04;
							*esp_778 = 0x04;
							*(esp_778 - 0x04) = (union Eq_4 *) ebx;
							eax_590 = fn00404318(ebx, 0x80, edi, dwArg00, out edx, out ebx, out edi);
						}
						else
							eax_590 = (word32) globals->ptr40B490[ebx].t0000 & 0x04;
						if (eax_590 == 0x00)
							goto l00402908;
						if (edi == 111)
						{
							if (ebx >= 0x38)
								goto l00402908;
							ui32 eax_749 = *(ebp_10 - 0x01AC);
							word32 ecx_751 = __shld(*(ebp_10 - 424), eax_749, 0x03);
							*(ebp_10 - 0x01AC) = eax_749 << 0x03;
							*(ebp_10 - 424) = ecx_751;
							eax_590 = eax_749 << 0x03;
						}
						else
						{
							word32 * esp_759 = esp_1045 - 0x04;
							*esp_759 = 0x00;
							*(esp_759 - 0x04) = 0x0A;
							*(esp_759 - 0x08) = *(ebp_10 - 424);
							*(esp_759 - 0x0C) = *(ebp_10 - 0x01AC);
							eax_590 = fn00404730(dwArg00, dwArg04, dwArg08, dwArg0C, out edx);
							*(ebp_10 - 0x01AC) = (union Eq_4 *) eax_590;
							*(ebp_10 - 424) = (union Eq_3 *) edx;
						}
					}
					else
					{
						if (globals->t40B4A0 > 0x01)
						{
							word32 * esp_706 = esp_1045 - 0x04;
							*esp_706 = 0x80;
							*(esp_706 - 0x04) = (union Eq_4 *) ebx;
							eax_590 = fn00404318(ebx, 0x80, edi, dwArg00, out edx, out ebx, out edi);
						}
						else
							eax_590 = (word32) globals->ptr40B490[ebx].t0000 & 0x80;
						if (eax_590 != 0x00)
						{
							ui32 eax_689 = *(ebp_10 - 0x01AC);
							word32 ecx_691 = __shld(*(ebp_10 - 424), eax_689, 0x04);
							*(ebp_10 - 0x01AC) = eax_689 << 0x04;
							*(ebp_10 - 424) = ecx_691;
							eax_590 = fn00401D74(ebx, ebx, edi, out edx, out ebp_10, out edi);
							ebx = eax_590;
						}
						else
						{
l00402908:
							++*(ebp_10 - 0x017D);
						}
					}
					if (*(ebp_10 - 0x017D) == 0x00)
					{
						++*(ebp_10 - 0x019C);
						int64 edx_eax_614 = (int64) (ebx - 0x30);
						up32 v52_618 = *(ebp_10 - 0x01AC) + (word32) edx_eax_614;
						*(ebp_10 - 0x01AC) = v52_618;
						edx = SLICE(edx_eax_614, word32, 32);
						*(ebp_10 - 424) = (word32) ((bool) (v52_618 < 0x00) + ((word32) edx + *(ebp_10 - 424)));
						if (*(ebp_10 - 0x01B4) != 0x00)
						{
							word32 v54_637 = *(ebp_10 - 0x018C) - 0x01;
							*(ebp_10 - 0x018C) = v54_637;
							if (v54_637 != 0x00)
								goto l00402947;
							*(ebp_10 - 0x017D) = 0x01;
						}
						else
						{
l00402947:
							++*(ebp_10 - 388);
							ebx = fn00401DA6(*((word32) ebp_10 + 0x08), out edx);
						}
					}
					else
					{
						--*(ebp_10 - 388);
						if (ebx != ~0x00)
						{
							*(esp_1045 - 0x04) = (word32) *((word32) ebp_10 + 0x08);
							*(esp_1045 - 0x08) = (union Eq_4 *) ebx;
							fn00404474(eax_590, dwArg00, dwArg04, out edx);
						}
					}
				} while (*(ebp_10 - 0x017D) == 0x00);
				*(ebp_10 - 404) = (union Eq_4 *) ebx;
			}
			if (*(ebp_10 - 0x0197) != 0x00)
			{
				word32 eax_554 = -*(ebp_10 - 0x01AC);
				word32 ecx_559 = -((bool) (eax_554 == 0x00) + *(ebp_10 - 424));
				*(ebp_10 - 0x01AC) = eax_554;
				*(ebp_10 - 424) = ecx_559;
			}
		}
		else
		{
			if (*(ebp_10 - 0x017D) == 0x00)
			{
				esi_1247.u0 = 0x80;
				do
				{
					Eq_4 eax_1003;
					if (edi != 0x78 && edi != 0x70)
					{
						if (globals->t40B4A0 > 0x01)
						{
							word32 * esp_1009 = esp_1045 - 0x04;
							*esp_1009 = 0x04;
							*(esp_1009 - 0x04) = (union Eq_4 *) ebx;
							eax_1003 = fn00404318(ebx, 0x80, edi, dwArg00, out edx, out ebx, out edi);
						}
						else
							eax_1003 = (word32) globals->ptr40B490[ebx].t0000 & 0x04;
						if (eax_1003 == 0x00)
							goto l00402A4F;
						if (edi == 111)
						{
							if (ebx >= 0x38)
								goto l00402A4F;
							*(ebp_10 - 0x01A0) <<= 0x03;
						}
						else
						{
							ui32 eax_1001 = *(ebp_10 - 0x01A0);
							*(ebp_10 - 0x01A0) = eax_1001 * 0x0A;
							eax_1003 = eax_1001 * 0x0A;
						}
					}
					else
					{
						if (globals->t40B4A0 > 0x01)
						{
							word32 * esp_955 = esp_1045 - 0x04;
							*esp_955 = 0x80;
							*(esp_955 - 0x04) = (union Eq_4 *) ebx;
							eax_1003 = fn00404318(ebx, 0x80, edi, dwArg00, out edx, out ebx, out edi);
						}
						else
							eax_1003 = (word32) globals->ptr40B490[ebx].t0000 & 0x80;
						if (eax_1003 != 0x00)
						{
							*(ebp_10 - 0x01A0) <<= 0x04;
							eax_1003 = fn00401D74(ebx, ebx, edi, out edx, out ebp_10, out edi);
							ebx = eax_1003;
						}
						else
						{
l00402A4F:
							++*(ebp_10 - 0x017D);
						}
					}
					if (*(ebp_10 - 0x017D) == 0x00)
					{
						++*(ebp_10 - 0x019C);
						*(ebp_10 - 0x01A0) = (word32) ebx + (*(ebp_10 - 0x01A0) - 0x30);
						if (*(ebp_10 - 0x01B4) != 0x00)
						{
							word32 v66_890 = *(ebp_10 - 0x018C) - 0x01;
							*(ebp_10 - 0x018C) = v66_890;
							if (v66_890 != 0x00)
								goto l00402A8E;
							*(ebp_10 - 0x017D) = 0x01;
						}
						else
						{
l00402A8E:
							++*(ebp_10 - 388);
							ebx = fn00401DA6(*((word32) ebp_10 + 0x08), out edx);
						}
					}
					else
					{
						--*(ebp_10 - 388);
						if (ebx != ~0x00)
						{
							*(esp_1045 - 0x04) = (word32) *((word32) ebp_10 + 0x08);
							*(esp_1045 - 0x08) = (union Eq_4 *) ebx;
							fn00404474(eax_1003, dwArg00, dwArg04, out edx);
						}
					}
				} while (*(ebp_10 - 0x017D) == 0x00);
				*(ebp_10 - 404) = (union Eq_4 *) ebx;
			}
			if (*(ebp_10 - 0x0197) != 0x00)
				*(ebp_10 - 0x01A0) = -*(ebp_10 - 0x01A0);
		}
		if (edi == 0x46)
			*(ebp_10 - 0x019C) &= 0x00;
		if (*(ebp_10 - 0x019C) != 0x00)
		{
			if (*(ebp_10 - 0x018E) != 0x00)
				goto l00402B38;
			++*(ebp_10 - 440);
			eax_1490 = *(ebp_10 - 0x01A0);
			ebx = *(ebp_10 - 0x01B0);
			ax_1493 = (word16) eax_1490;
l00402B0C:
			if (*(ebp_10 - 0x01C8) != 0x00)
			{
				*ebx = *(ebp_10 - 0x01AC);
				*((word32) ebx + 0x04) = *(ebp_10 - 424);
			}
			else if (*(ebp_10 - 0x018D) != 0x00)
				*ebx = eax_1490;
			else
				*ebx = ax_1493;
			goto l00402B38;
		}
		goto l00402BDC;
	}
	else
	{
		if (edi == 111)
			goto l004027CF;
		if (edi != 99)
		{
			if (edi != 100)
			{
				if (edi <= 100)
					goto l004023D2;
				if (edi > 0x67)
				{
					if (edi != 0x69)
					{
						if (edi == 110)
						{
							eax_1490 = *(ebp_10 - 388);
							ax_1493 = (word16) eax_1490;
							if (*(ebp_10 - 0x018E) != 0x00)
								goto l00402B38;
							goto l00402B0C;
						}
						goto l004023D2;
					}
					union Eq_4 * esp_1496 = esp_1045 - 0x04;
					*esp_1496 = (union Eq_4 *) 100;
					edi = *esp_1496;
l00402106:
					ebx = *(ebp_10 - 404);
					if (ebx == 0x2D)
						*(ebp_10 - 0x0197) = 0x01;
					else if (ebx != 0x2B)
						goto l004026A8;
					word32 v38_1172 = *(ebp_10 - 0x018C) - 0x01;
					*(ebp_10 - 0x018C) = v38_1172;
					if (v38_1172 == 0x00 && ecx_389 != 0x00)
						*(ebp_10 - 0x017D) = 0x01;
					else
					{
						++*(ebp_10 - 388);
						Eq_4 eax_1184 = fn00401DA6(*((word32) ebp_10 + 0x08), out edx);
						*(ebp_10 - 404) = (union Eq_4 *) eax_1184;
						ebx = eax_1184;
					}
l004026A8:
					if (ebx != 0x30)
						goto l00402813;
					word32 * esp_1097;
					++*(ebp_10 - 388);
					Eq_4 eax_1080 = fn00401DA6(*((word32) ebp_10 + 0x08), out edx);
					*(ebp_10 - 404) = (union Eq_4 *) eax_1080;
					ebx = eax_1080;
					byte bl_1085 = (byte) eax_1080;
					if (bl_1085 == 0x78 || bl_1085 == 88)
					{
						++*(ebp_10 - 388);
						Eq_4 eax_1108 = fn00401DA6(*((word32) ebp_10 + 0x08), out edx);
						*(ebp_10 - 404) = (union Eq_4 *) eax_1108;
						ebx = eax_1108;
						if (*(ebp_10 - 0x01B4) != 0x00)
						{
							*(ebp_10 - 0x018C) -= 0x02;
							if (*(ebp_10 - 0x018C) < 0x01)
								++*(ebp_10 - 0x017D);
						}
						esp_1097 = esp_1045 - 0x04;
						*esp_1097 = 0x78;
l004026F9:
						edi = *esp_1097;
						esp_1045 = esp_1097 + 0x01;
						goto l00402813;
					}
					*(ebp_10 - 0x019C) = 0x01;
					if (edi != 0x78)
					{
						if (*(ebp_10 - 0x01B4) != 0x00)
						{
							word32 v40_1138 = *(ebp_10 - 0x018C) - 0x01;
							*(ebp_10 - 0x018C) = v40_1138;
							if (v40_1138 == 0x00)
								++*(ebp_10 - 0x017D);
						}
						esp_1097 = esp_1045 - 0x04;
						*esp_1097 = 111;
						goto l004026F9;
					}
					--*(ebp_10 - 388);
					if (eax_1080 != ~0x00)
					{
						word32 * esp_1160 = esp_1045 - 0x04;
						*esp_1160 = (word32) *((word32) ebp_10 + 0x08);
						*(esp_1160 - 0x04) = (union Eq_4 *) eax_1080;
						fn00404474(eax_1080, dwArg00, dwArg04, out edx);
					}
					union Eq_4 * esp_1154 = esp_1045 - 0x04;
					*esp_1154 = (union Eq_4 *) 0x30;
					ebx = *esp_1154;
l0040280D:
					*(ebp_10 - 404) = (union Eq_4 *) ebx;
					goto l00402813;
				}
				ebx = *(ebp_10 - 404);
				esi_1247 = ebp_10 - 0x017C;
				byte bl_1502 = (byte) ebx;
				if (ebx == 0x2D)
				{
					*(ebp_10 - 0x017C) = bl_1502;
					esi_1247 = ebp_10 - 0x017B;
				}
				else if (ebx != 0x2B)
				{
					edi = *((word32) ebp_10 + 0x08);
l00402168:
					if (*(ebp_10 - 0x01B4) == 0x00 || *(ebp_10 - 0x018C) > 0x015D)
						*(ebp_10 - 0x018C) = 0x015D;
					while (true)
					{
						Eq_4 eax_1537;
						if (globals->t40B4A0 > 0x01)
						{
							word32 * esp_1900 = esp_1045 - 0x04;
							*esp_1900 = 0x04;
							*(esp_1900 - 0x04) = (union Eq_4 *) ebx;
							eax_1537 = fn00404318(ebx, esi_1247, edi, dwArg00, out edx, out ebx, out edi);
						}
						else
							eax_1537 = (word32) globals->ptr40B490[ebx].t0000 & 0x04;
						if (eax_1537 == 0x00)
							break;
						eax_1537 = *(ebp_10 - 0x018C);
						--*(ebp_10 - 0x018C);
						if (eax_1537 == 0x00)
							break;
						++*(ebp_10 - 0x019C);
						esi_1247.u0->u0 = bl_1502;
						++*(ebp_10 - 388);
						Eq_4 eax_1895 = fn00401DA6(edi, out edx);
						*(ebp_10 - 404) = (union Eq_4 *) eax_1895;
						esi_1247.u0 = (byte) esi_1247.u0 + 0x01;
						ebx = eax_1895;
						bl_1502 = (byte) eax_1895;
					}
					if (globals->b40B4A4 == bl_1502)
					{
						eax_1537 = *(ebp_10 - 0x018C);
						--*(ebp_10 - 0x018C);
						if (eax_1537 != 0x00)
						{
							++*(ebp_10 - 388);
							Eq_4 eax_1793 = fn00401DA6(edi, out edx);
							esi_1247.u0->u0 = globals->b40B4A4;
							ebx = eax_1793;
							byte bl_1795 = (byte) eax_1793;
							esi_1247.u0 = (byte) esi_1247.u0 + 0x01;
							while (true)
							{
								*(ebp_10 - 404) = (union Eq_4 *) ebx;
								if (globals->t40B4A0 > 0x01)
								{
									*(esp_1045 - 0x04) = 0x04;
									*(esp_1045 - 0x08) = (union Eq_4 *) ebx;
									eax_1537 = fn00404318(ebx, esi_1247, edi, dwArg00, out edx, out ebx, out edi);
								}
								else
									eax_1537 = (word32) globals->ptr40B490[ebx].t0000 & 0x04;
								if (eax_1537 == 0x00)
									break;
								eax_1537 = *(ebp_10 - 0x018C);
								--*(ebp_10 - 0x018C);
								if (eax_1537 == 0x00)
									break;
								++*(ebp_10 - 0x019C);
								esi_1247.u0->u0 = bl_1795;
								++*(ebp_10 - 388);
								Eq_4 eax_1849 = fn00401DA6(edi, out edx);
								esi_1247.u0 = (byte) esi_1247.u0 + 0x01;
								ebx = eax_1849;
								bl_1795 = (byte) eax_1849;
							}
						}
					}
					ptr32 esp_1563 = esp_1045;
					if (*(ebp_10 - 0x019C) == 0x00 || ebx != 101 && ebx != 0x45)
					{
l00402324:
						--*(ebp_10 - 388);
						if (ebx != ~0x00)
						{
							union Eq_4 * esp_1631 = esp_1563 - 0x04;
							*esp_1631 = (union Eq_4 *) edi;
							*(esp_1631 - 0x04) = (union Eq_4 *) ebx;
							fn00404474(eax_1537, dwArg00, dwArg04, out edx);
						}
						esp_1045 = esp_1563;
						if (*(ebp_10 - 0x019C) != 0x00)
						{
							if (*(ebp_10 - 0x018E) == 0x00)
							{
								++*(ebp_10 - 440);
								esi_1247.u0->u0 = 0x00;
								ptr32 * esp_1599 = esp_1563 - 0x04;
								*esp_1599 = ebp_10 - 0x017C;
								*(esp_1599 - 0x04) = *(ebp_10 - 0x01B0);
								*(esp_1599 - 0x08) = (int32) *(ebp_10 - 0x018D) - 0x01;
								word32 esp_1610;
								word32 eax_1611;
								byte SZO_1613;
								bool C_1614;
								byte al_1615;
								word32 esi_1616;
								bool Z_1617;
								byte SCZO_1618;
								word32 ecx_1619;
								byte bl_1623;
								byte cl_1624;
								word16 ax_1625;
								byte SO_1626;
								byte dl_1627;
								byte CZ_1628;
								globals->ptr40B350();
								esp_1045 = esp_1610 + 0x0C;
							}
							goto l00402B38;
						}
						goto l00402BDC;
					}
					eax_1537 = *(ebp_10 - 0x018C);
					--*(ebp_10 - 0x018C);
					if (eax_1537 == 0x00)
						goto l00402324;
					esi_1247.u0->u0 = 101;
					++*(ebp_10 - 388);
					Eq_4 eax_1662 = fn00401DA6(edi, out edx);
					*(ebp_10 - 404) = (union Eq_4 *) eax_1662;
					esi_1247.u0 = (byte) esi_1247.u0 + 0x01;
					byte al_1664 = (byte) eax_1662;
					ebx = eax_1662;
					byte bl_1667 = (byte) eax_1662;
					if (eax_1662 == 0x2D)
					{
						esi_1247.u0->u0 = al_1664;
						esi_1247.u0 = (byte) esi_1247.u0 + 0x01;
					}
					else if (eax_1662 != 0x2B)
						goto l004022E4;
					ui32 eax_1758 = *(ebp_10 - 0x018C);
					--*(ebp_10 - 0x018C);
					if (eax_1758 != 0x00)
						goto l004022CF;
					*(ebp_10 - 0x018C) &= eax_1758;
l004022E4:
					if (globals->t40B4A0 > 0x01)
					{
						word32 * esp_1733 = esp_1563 - 0x04;
						*esp_1733 = 0x04;
						*(esp_1733 - 0x04) = (union Eq_4 *) ebx;
						eax_1537 = fn00404318(ebx, esi_1247, edi, dwArg00, out edx, out ebx, out edi);
					}
					else
						eax_1537 = (word32) globals->ptr40B490[ebx].t0000 & 0x04;
					if (eax_1537 != 0x00)
					{
						eax_1537 = *(ebp_10 - 0x018C);
						--*(ebp_10 - 0x018C);
						if (eax_1537 != 0x00)
						{
							++*(ebp_10 - 0x019C);
							esi_1247.u0->u0 = bl_1667;
							esi_1247.u0 = (byte) esi_1247.u0 + 0x01;
l004022CF:
							++*(ebp_10 - 388);
							Eq_4 eax_1686 = fn00401DA6(edi, out edx);
							*(ebp_10 - 404) = (union Eq_4 *) eax_1686;
							ebx = eax_1686;
							bl_1667 = (byte) eax_1686;
							goto l004022E4;
						}
					}
					goto l00402324;
				}
				--*(ebp_10 - 0x018C);
				++*(ebp_10 - 388);
				edi = *((word32) ebp_10 + 0x08);
				Eq_4 eax_1940 = fn00401DA6(edi, out edx);
				*(ebp_10 - 404) = (union Eq_4 *) eax_1940;
				ebx = eax_1940;
				bl_1502 = (byte) eax_1940;
				goto l00402168;
			}
			goto l004027CF;
		}
		if (ecx_389 == 0x00)
		{
			*(ebp_10 - 0x01B4) = 0x01;
			++*(ebp_10 - 0x018C);
		}
l00402393:
		if (*(ebp_10 - 0x0185) > 0x00)
			*(ebp_10 - 0x0196) = 0x01;
		goto l0040255A;
	}
}

// 0040307F: void fn0040307F(Stack Eq_4 dwArg04)
void fn0040307F(Eq_4 dwArg04)
{
	Eq_4 eax_4 = GetModuleHandleA(&globals->t4091D0);
	struct Eq_4405 * esp_16 = fp;
	if (eax_4 != 0x00)
	{
		Eq_4425 eax_25 = GetProcAddress(eax_4, &globals->t4091C0);
		esp_16 = fp;
		if (eax_25 != null)
		{
			eax_25();
			esp_16 = fp - 0x04;
		}
	}
	union Eq_4 * esp_19 = esp_16 - 0x04;
	*esp_19 = (union Eq_4 *) esp_16->t0004;
	ExitProcess(*esp_19);
}

// 004030AF: Register word32 fn004030AF(Register Eq_4 ebx, Register Eq_4 ebp, Register word32 esi, Register Eq_4 edi, Stack Eq_4 dwArg04, Register out ptr32 edxOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn004030AF(Eq_4 ebx, Eq_4 ebp, word32 esi, Eq_4 edi, Eq_4 dwArg04, ptr32 & edxOut, ptr32 & esiOut, ptr32 & ediOut)
{
	*edxOut = edx;
	ptr32 esp_1 = fp;
	<anonymous> * eax_3 = globals->ptr40B0AC;
	if (eax_3 != null)
	{
		word32 esp_164;
		word32 eax_165;
		byte SZO_166;
		bool C_167;
		bool Z_168;
		word32 ecx_169;
		byte SCZO_172;
		word32 edx_175;
		eax_3();
		esp_1 = esp_164 + 0x04;
	}
	word32 * esp_22 = esp_1 - 0x04;
	*esp_22 = esi;
	*(esp_22 - 0x04) = (union Eq_4 *) edi;
	struct Eq_4458 * esp_102 = esp_22 - 0x04;
	word32 eax_119 = 0x00;
	word32 * esi_121 = &globals->dw40B00C;
	if (false)
	{
		do
		{
			if (eax_119 != 0x00)
				goto l00403116;
			<anonymous> * ecx_126 = *esi_121;
			if (ecx_126 != null)
			{
				byte SZO_148;
				bool C_149;
				bool Z_150;
				word32 ecx_151;
				word32 edi_153;
				byte SCZO_154;
				word32 edx_157;
				ecx_126();
			}
			++esi_121;
		} while (esi_121 < &globals->dw40B01C);
		if (eax_119 != 0x00)
		{
l00403116:
			word32 edi_42;
			*ediOut = esp_102->dw0000;
			word32 esi_44;
			*esiOut = esp_102->dw0004;
			return eax_119;
		}
	}
	word32 * esp_54 = esp_102 - 0x04;
	*esp_54 = 4209441;
	word32 edx_57 = fn004053B0(ebx, ebp, dwArg00);
	*edxOut = edx_57;
	word32 * esi_108 = &globals->dw40B000;
	esp_102 = (struct Eq_4458 *) (esp_54 + 0x01);
	if (false)
	{
		do
		{
			<anonymous> * eax_85 = *esi_108;
			if (eax_85 != null)
			{
				word32 eax_103;
				byte SZO_104;
				bool C_105;
				bool Z_106;
				word32 ecx_107;
				word32 edi_109;
				byte SCZO_110;
				word32 ebx_111;
				word32 ebp_112;
				word32 edx_113;
				eax_85();
			}
			++esi_108;
		} while (esi_108 < &globals->dw40B008);
	}
	eax_119 = 0x00;
	goto l00403116;
}

// 00403119: void fn00403119(Register Eq_4 ebp, Stack Eq_4 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void fn00403119(Eq_4 ebp, Eq_4 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (globals->dw40BA9C == 0x01)
		TerminateProcess(GetCurrentProcess(), dwArg04);
	globals->dw40BA98 = 0x01;
	globals->b40BA94 = bArg0C;
	ptr32 esp_110 = fp - 0x0C;
	if (dwArg08 == 0x00)
	{
		Eq_4 ecx_101 = globals->t40BFE8;
		if (ecx_101 != 0x00)
		{
			union Eq_4 * eax_150 = globals->ptr40BFE4;
			union Eq_4 * eax_151 = eax_150 - 0x04;
			bool C_154 = (bool) cond(eax_150 - 0x04 - ecx_101);
			while (true)
			{
				globals->ptr40BFE4 = eax_151;
				if (!C_154)
					break;
				Eq_4 eax_169 = *eax_151;
				if (eax_169 != 0x00)
				{
					word32 ebp_186;
					word32 esi_187;
					byte SZO_188;
					bool C_189;
					byte SCZO_190;
					word32 edi_191;
					bool Z_192;
					word32 eax_193;
					byte al_194;
					word32 ecx_195;
					eax_169();
				}
				union Eq_4 * eax_178 = globals->ptr40BFE4;
				eax_151 = eax_178 - 0x04;
				C_154 = (bool) cond(eax_178 - 0x04 - globals->t40BFE8);
			}
		}
		word32 * edi_115 = &globals->dw40B020;
		if (false)
		{
			do
			{
				<anonymous> * eax_123 = *edi_115;
				if (eax_123 != null)
				{
					word32 ebp_140;
					word32 esi_141;
					byte SZO_142;
					bool C_143;
					byte SCZO_144;
					bool Z_146;
					word32 eax_147;
					byte al_148;
					word32 ecx_149;
					eax_123();
				}
				++edi_115;
			} while (edi_115 < &globals->dw40B028);
		}
	}
	word32 * edi_43 = &globals->dw40B02C;
	if (false)
	{
		do
		{
			<anonymous> * eax_74 = *edi_43;
			if (eax_74 != null)
			{
				word32 ebp_91;
				word32 esi_92;
				byte SZO_93;
				bool C_94;
				byte SCZO_95;
				bool Z_97;
				word32 eax_98;
				byte al_99;
				word32 ecx_100;
				eax_74();
			}
			++edi_43;
		} while (edi_43 < &globals->dw40B030);
	}
	union Eq_4 * esp_55 = esp_110 + 0x04;
	if (dwArg0C == 0x00)
	{
		*esp_55 = (union Eq_4 *) dwArg04;
		globals->dw40BA9C = 0x01;
		fn0040307F(dwArg00);
	}
}

// 004031DA: void fn004031DA(Register Eq_4 ebp, Stack Eq_4 dwArg04)
void fn004031DA(Eq_4 ebp, Eq_4 dwArg04)
{
	fn00403119(ebp, dwArg04, 0x00, 0x00);
}

// 004031EB: Register word32 fn004031EB(Register Eq_4 ebp, Stack Eq_4 dwArg04, Register out ptr32 ediOut)
word32 fn004031EB(Eq_4 ebp, Eq_4 dwArg04, ptr32 & ediOut)
{
	*ediOut = edi;
	fn00403119(ebp, dwArg04, 0x01, 0x00);
	return esi;
}

// 004031FC: Register word32 fn004031FC(Register Eq_4 ebp)
word32 fn004031FC(Eq_4 ebp)
{
	fn00403119(ebp, 0x00, 0x00, 0x01);
	return esi;
}

// 0040321A: Register Eq_4 fn0040321A(Register Eq_4 ebx, Register Eq_4 ebp, Register Eq_4 edi, Stack Eq_4 dwArg04, Register out ptr32 edxOut)
Eq_4 fn0040321A(Eq_4 ebx, Eq_4 ebp, Eq_4 edi, Eq_4 dwArg04, ptr32 & edxOut)
{
	Eq_4 eax_8 = globals->t40B498;
	Eq_3 edx_18;
	*edxOut = 0x00;
	Eq_4 eax_101 = 0x00;
	while (dwArg04 != (globals->a40B360)[eax_101])
	{
		eax_101 = (word32) eax_101 + 0x01;
		if (eax_101 >= 0x13)
			break;
	}
	Eq_4 esi_33 = eax_101 << 0x03;
	if (dwArg04 == *((word32) esi_33 + 4240224))
	{
		eax_101 = globals->t40BA30;
		if (eax_101 != 0x01 && (eax_101 != 0x00 || globals->dw40B0BC != 0x01))
		{
			if (dwArg04 != 252)
			{
				if (GetModuleFileNameA(0x00, fp - 0x0110, 0x0104) == 0x00)
					fn00404F20(fp - 0x0110);
				*(fp - 288) = fp - 0x0110;
				ptr32 edi_123 = fp - 0x0110;
				word32 edx_128;
				if (fn00404080(dwArg00, out edx_128) > ~0x3A)
				{
					*(fp - 288) = fp - 0x0110;
					word32 edx_196;
					Eq_4 eax_197 = fn00404080(dwArg00, out edx_196);
					*(fp - 292) = 0x03;
					*(fp - 0x0128) = 4232648;
					edi_123 = (word32) eax_197 + (fp - 331);
					*(fp - 300) = edi_123;
					fn004054F0(dwArg00, dwArg04, dwArg08);
				}
				*(fp - 288) = edi_123;
				word32 edx_139;
				Eq_4 eax_140 = fn00404080(dwArg00, out edx_139);
				*(fp - 292) = (union Eq_4 *) *((word32) esi_33 + 4240228);
				word32 edx_145;
				fn00403D30((word32) fn00404080(dwArg00, out edx_145) + ((word32) eax_140 + 0x001C) + 0x03 & ~0x03, ebp);
				*(fp - 288) = 4232620;
				*(fp - 292) = fp - 0x011C;
				*(fp - 0x0128) = fn00404F20(dwArg00);
				*(fp - 300) = fp - 0x011C;
				word32 edi_166;
				fn00404F30(dwArg00, out edi_166);
				*(fp - 0x0130) = 4232616;
				*(fp - 0x0134) = fp - 0x011C;
				word32 edi_172;
				fn00404F30(dwArg00, out edi_172);
				*(fp - 0x0138) = (union Eq_4 *) *((word32) esi_33 + 4240228);
				*(fp - 0x013C) = fp - 0x011C;
				*edxOut = fn00404F30(dwArg00, out edi);
				*(fp - 0x0140) = 0x00012010;
				*(fp - 0x0144) = 0x00409580;
				*(fp - 0x0148) = fp - 0x011C;
				ebx = fp - 0x011C;
				eax_101 = fn004053EA(dwArg00, dwArg04, dwArg08, bArg0A);
			}
		}
		else
		{
			esi_33 = (word32) esi_33 + 4240228;
			eax_101 = WriteFile(GetStdHandle(~0x0B), *((word32) esi_33 + 4240228), fn00404080(*((word32) esi_33 + 4240228), out edx_18), fp + 0x04, null);
		}
	}
	fn004041A2(eax_8, edx_18, ebx, esi_33, edi);
	return eax_101;
}

// 00403391: void fn00403391(Register Eq_4 ebx, Register Eq_4 ebp, Register Eq_4 edi)
void fn00403391(Eq_4 ebx, Eq_4 ebp, Eq_4 edi)
{
	Eq_4 eax_3 = globals->t40BA30;
	if (eax_3 == 0x01 || eax_3 == 0x00 && globals->dw40B0BC == 0x01)
	{
		word32 edx_24;
		fn0040321A(ebx, ebp, edi, 252, out edx_24);
		<anonymous> * eax_26 = globals->ptr40BAA0;
		ptr32 esp_31 = fp;
		if (eax_26 != null)
		{
			word32 eax_48;
			byte SCZO_49;
			bool Z_50;
			byte SZO_51;
			bool C_52;
			word32 ecx_53;
			word32 edx_57;
			eax_26();
		}
		*(esp_31 - 0x04) = 0xFF;
		word32 edx_43;
		fn0040321A(ebx, ebp, edi, dwArg00, out edx_43);
	}
}

// 0040353B: Register Eq_4 fn0040353B(Register Eq_4 eax, Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 ebp, Register Eq_4 edi)
Eq_4 fn0040353B(Eq_4 eax, Eq_3 edx, Eq_4 ebx, Eq_4 ebp, Eq_4 edi)
{
	Eq_4 ebx_194 = 0x00;
	if (globals->dw40BFEC == 0x00)
	{
		word32 edi_196;
		eax = fn004059DE(edx, edi, out ebx_194, out ebp, out edi_196);
	}
	Eq_4 eax_101;
	Eq_4 esi_191 = globals->t40BA28;
	ui32 edi_184 = 0x00;
	if (esi_191 != ebx_194)
	{
		while (true)
		{
			Eq_4 al_69 = *esi_191;
			if (al_69 == 0x00)
				break;
			if (al_69 != 0x3D)
				++edi_184;
			word32 edx_187;
			esi_191 = (word32) fn00404080(esi_191, out edx_187) + ((word32) esi_191 + 0x01);
		}
		word32 edx_76;
		eax = fn00403DDF(edi_184 * 0x04 + 0x04, out edx_76);
		globals->t40BA7C = eax;
		Eq_4 edi_143 = eax;
		if (eax != ebx_194)
		{
			Eq_4 esi_145 = globals->t40BA28;
			while (*esi_145 != 0x00)
			{
				*(fp - 0x0014) = (union Eq_4 *) esi_145;
				word32 edx_130;
				Eq_4 eax_131 = fn00404080(dwArg00, out edx_130);
				ebp = (word32) eax_131 + 0x01;
				if (*esi_145 != 0x3D)
				{
					*(fp - 0x0014) = (word32) eax_131 + 0x01;
					word32 edx_149;
					Eq_4 eax_150 = fn00403DDF(dwArg00, out edx_149);
					*edi_143 = eax_150;
					if (eax_150 == ebx_194)
					{
						*(fp - 0x0014) = (union Eq_4 *) globals->t40BA7C;
						word32 edx_171;
						Eq_4 ebx_172;
						word32 ebp_173;
						word32 edi_174;
						ui32 eax_175 = fn0040403C((word32) eax_131 + 0x01, dwArg00, out edx_171, out ebx_172, out ebp_173, out edi_174);
						globals->t40BA7C = ebx_172;
						eax_101 = eax_175 | ~0x00;
						goto l004035E6;
					}
					*(fp - 0x0014) = (union Eq_4 *) esi_145;
					*(fp - 0x0018) = (union Eq_4 *) eax_150;
					edi_143 = fn00404F20(dwArg00) + 0x04;
				}
				esi_145 = (word32) esi_145 + ((word32) eax_131 + 0x01);
			}
			*(fp - 0x0014) = (union Eq_4 *) globals->t40BA28;
			word32 edx_116;
			Eq_4 ebx_117;
			word32 ebp_118;
			union Eq_4 * edi_119;
			fn0040403C(ebp, dwArg00, out edx_116, out ebx_117, out ebp_118, out edi_119);
			globals->t40BA28 = ebx_117;
			*edi_119 = (union Eq_4 *) ebx_117;
			globals->dw40BFE0 = 0x01;
			eax_101.u0 = 0x00;
l004035E6:
			return eax_101;
		}
	}
	eax_101 = eax | ~0x00;
	return eax_101;
}

// 00403602: Register uint32 fn00403602(Register Eq_4 eax, Register (ptr32 byte) ecx, Register (ptr32 word32) esi, Stack Eq_4 dwArg04, Stack (ptr32 word32) dwArg08)
uint32 fn00403602(Eq_4 eax, byte * ecx, word32 * esi, Eq_4 dwArg04, word32 * dwArg08)
{
	*esi = 0x00;
	*dwArg08 = 0x01;
	word32 * ebx_13 = dwArg08;
	uint32 edx_126 = 0x00;
	byte * edi_121 = ecx;
	if (dwArg04 != 0x00)
	{
		*dwArg04 = ecx;
		dwArg04 = (word32) dwArg04 + 0x04;
	}
	do
	{
		byte cl_298;
		if (*eax == 0x22)
		{
			eax = (word32) eax + 0x01;
			edx_126 = (word32) (edx_126 == 0x00);
			cl_298 = 0x22;
		}
		else
		{
			++*esi;
			if (edi_121 != null)
			{
				*edi_121 = (byte) *eax;
				++edi_121;
			}
			cl_298 = (byte) *eax;
			eax = (word32) eax + 0x01;
			if ((((word32) cl_298)->b40BCA1 & 0x04) != 0x00)
			{
				++*esi;
				if (edi_121 != null)
				{
					*edi_121 = (byte) *eax;
					++edi_121;
				}
				eax = (word32) eax + 0x01;
			}
			ebx_13 = dwArg08;
			if (cl_298 == 0x00)
			{
				--eax;
				goto l0040367B;
			}
		}
	} while (edx_126 != 0x00 || cl_298 != 0x20 && cl_298 != 0x09);
	if (edi_121 != null)
		*(edi_121 - 0x01) = 0x00;
l0040367B:
	ui32 dwLoc08_116 = ecx & 0x00;
	while (*eax != 0x00)
	{
		while (true)
		{
			byte cl_96 = *eax;
			if (cl_96 != 0x20 && cl_96 != 0x09)
				break;
			eax = (word32) eax + 0x01;
		}
		if (*eax == 0x00)
			break;
		if (dwArg04 != 0x00)
		{
			*dwArg04 = edi_121;
			dwArg04 = (word32) dwArg04 + 0x04;
		}
		++*ebx_13;
l004036B4:
		word32 ebx_124 = 0x01;
		edx_126 = 0x00;
		byte dl_127 = 0x00;
		while (*eax == 0x5C)
		{
			++edx_126;
			eax = (word32) eax + 0x01;
			dl_127 = (byte) edx_126;
		}
		if (*eax == 0x22)
		{
			if ((dl_127 & 0x01) == 0x00)
			{
				if (dwLoc08_116 != 0x00)
				{
					Eq_4 ecx_279 = (word32) eax + 0x01;
					if (*ecx_279 != 0x22)
						goto l004036DE;
					eax = ecx_279;
				}
				else
				{
l004036DE:
					ebx_124 = 0x00;
				}
				dwLoc08_116 = (word32) (dwLoc08_116 == 0x00);
			}
			edx_126 >>= 0x01;
		}
		for (; edx_126 != 0x00; --edx_126)
		{
			if (edi_121 != null)
			{
				*edi_121 = 0x5C;
				++edi_121;
			}
			++*esi;
		}
		byte cl_153 = *eax;
		if (cl_153 != 0x00 && (dwLoc08_116 != 0x00 || cl_153 != 0x20 && cl_153 != 0x09))
		{
			if (ebx_124 != 0x00)
			{
				if (edi_121 != null)
				{
					if ((((word32) cl_153)->b40BCA1 & 0x04) != 0x00)
					{
						*edi_121 = cl_153;
						++*esi;
						++edi_121;
						eax = (word32) eax + 0x01;
					}
					*edi_121 = (byte) *eax;
					++edi_121;
				}
				else if ((((word32) cl_153)->b40BCA1 & 0x04) != 0x00)
				{
					++*esi;
					eax = (word32) eax + 0x01;
				}
				++*esi;
			}
			eax = (word32) eax + 0x01;
			goto l004036B4;
		}
		if (edi_121 != null)
		{
			*edi_121 = 0x00;
			++edi_121;
		}
		++*esi;
		ebx_13 = dwArg08;
	}
	if (dwArg04 != 0x00)
		*dwArg04 &= 0x00;
	++*ebx_13;
	return edx_126;
}

// 0040376E: Register ui32 fn0040376E(Register Eq_3 edx, Register out ptr32 edxOut)
ui32 fn0040376E(Eq_3 edx, ptr32 & edxOut)
{
	ptr32 ebp_114 = fp - 0x04;
	Eq_4 edi_115 = 0x00;
	if (globals->dw40BFEC == 0x00)
	{
		word32 ebx_113;
		fn004059DE(edx, 0x00, out ebx_113, out ebp_114, out edi_115);
	}
	Eq_4 ebx_108;
	globals->b40BBAC = 0x00;
	GetModuleFileNameA(edi_115, 4242088, 0x0104);
	Eq_4 eax_37 = globals->t40D004;
	globals->dw40BA8C = 4242088;
	if (eax_37 != edi_115)
	{
		ebx_108 = eax_37;
		if (*eax_37 != 0x00)
		{
l004037B6:
			ui32 eax_103;
			fn00403602(ebx_108, null, ebp_114 - 0x08, edi_115, ebp_114 - 0x04);
			ui32 esi_53 = *(ebp_114 - 0x04);
			word32 edx_60;
			Eq_4 eax_61 = fn00403DDF(*(ebp_114 - 0x08) + (esi_53 << 0x02), out edx_60);
			if (eax_61 == 0x00)
				eax_103 = eax_61 | ~0x00;
			else
			{
				word32 edx_94;
				*edxOut = fn00403602(ebx_108, (word32) eax_61 + (esi_53 << 0x02), ebp_114 - 0x08, eax_61, ebp_114 - 0x04);
				globals->dw40BA70 = *(ebp_114 - 0x04) - 0x01;
				globals->t40BA74 = eax_61;
				eax_103 = 0x00;
			}
			return eax_103;
		}
	}
	ebx_108.u0 = 4242088;
	goto l004037B6;
}

// 00403810: Register word32 fn00403810(Register word32 ecx, Register out ptr32 edxOut)
word32 fn00403810(word32 ecx, ptr32 & edxOut)
{
	*edxOut = edx;
	word32 eax_137;
	word32 eax_214 = globals->dw40BBB0;
	word32 ebx_130 = 0x00;
	Eq_5588 bx_208 = 0x00;
	Eq_5590 esi_211 = 0x00;
	struct Eq_5592 * esp_197 = fp - 0x0018;
	if (eax_214 == 0x00)
	{
		Eq_5590 eax_279 = GetEnvironmentStringsW();
		esi_211 = eax_279;
		if (eax_279 != 0x00)
		{
			globals->dw40BBB0 = 0x01;
l0040385E:
			if (esi_211 != 0x00)
			{
l0040386A:
				Eq_5590 eax_190 = esi_211;
				if (*esi_211 != bx_208)
				{
					do
					{
						do
							eax_190 += 0x02;
						while (*eax_190 != bx_208);
						eax_190 += 0x02;
					} while (Mem0[eax_190 + 0x02:word16] != bx_208);
				}
				struct Eq_5629 * esp_96 = esp_197 - 0x04;
				esp_96->t0000.u0 = 0x00;
				*(esp_96 - 0x04) = 0x00;
				*(esp_96 - 0x08) = 0x00;
				*(esp_96 - 0x0C) = 0x00;
				int32 eax_106 = (eax_190 - esi_211 >> 0x01) + 0x01;
				*(esp_96 - 0x0010) = eax_106;
				*(esp_96 - 0x0014) = (union Eq_5590 *) esi_211;
				*(esp_96 - 0x0018) = 0x00;
				*(esp_96 - 0x001C) = 0x00;
				esp_96->dw0018 = eax_106;
				Eq_4 eax_116 = WideCharToMultiByte(*(esp_96 - 0x001C), *(esp_96 - 0x0018), *(esp_96 - 0x0014), *(esp_96 - 0x0010), *(esp_96 - 0x0C), *(esp_96 - 0x08), *(esp_96 - 0x04), esp_96->t0000);
				if (eax_116 != 0x00)
				{
					esp_96->t0000 = eax_116;
					word32 edx_141;
					Eq_4 eax_142 = fn00403DDF(dwArg00, out edx_141);
					esp_96->t0014 = eax_142;
					if (eax_142 != 0x00)
					{
						esp_96->t0000.u0 = 0x00;
						*(esp_96 - 0x04) = 0x00;
						*(esp_96 - 0x08) = (union Eq_4 *) eax_116;
						*(esp_96 - 0x0C) = (union Eq_4 *) eax_142;
						*(esp_96 - 0x0010) = esp_96->dw0018;
						*(esp_96 - 0x0014) = (union Eq_5590 *) esi_211;
						*(esp_96 - 0x0018) = 0x00;
						*(esp_96 - 0x001C) = 0x00;
						if (WideCharToMultiByte(*(esp_96 - 0x001C), *(esp_96 - 0x0018), *(esp_96 - 0x0014), *(esp_96 - 0x0010), *(esp_96 - 0x0C), *(esp_96 - 0x08), *(esp_96 - 0x04), esp_96->t0000) == 0x00)
						{
							esp_96->t0000 = esp_96->t0014;
							word32 edx_182;
							Eq_4 ebx_183;
							word32 ebp_184;
							word32 edi_185;
							fn0040403C(eax_116, dwArg00, out edx_182, out ebx_183, out ebp_184, out edi_185);
							esp_96->t0014 = ebx_183;
						}
						ebx_130 = esp_197->dw0010;
					}
				}
				union Eq_5590 * esp_133 = esp_197 - 0x04;
				*esp_133 = (union Eq_5590 *) esi_211;
				FreeEnvironmentStringsW(*esp_133);
				eax_137 = ebx_130;
				return eax_137;
			}
			Eq_5590 eax_199 = GetEnvironmentStringsW();
			esi_211 = eax_199;
			if (eax_199 != 0x00)
				goto l0040386A;
l004038E3:
			eax_137 = 0x00;
			return eax_137;
		}
		if (GetLastError() == 0x78)
		{
			globals->dw40BBB0 = 0x02;
			eax_214 = 0x02;
		}
		else
			eax_214 = globals->dw40BBB0;
	}
	if (eax_214 != 0x01)
	{
		if (eax_214 == 0x02 || eax_214 == 0x00)
		{
			Eq_4 eax_220 = GetEnvironmentStrings();
			Eq_4 esi_221 = eax_220;
			if (eax_220 != 0x00)
			{
				Eq_4 eax_226;
				eax_226 = eax_220;
				eax_226 = eax_220;
				if (*eax_220 != 0x00)
				{
					do
					{
						do
							++eax_226;
						while (*eax_226 != 0x00);
						++eax_226;
					} while (Mem0[eax_226 + 0x01:byte] != 0x00);
				}
				word32 edi_247;
				Eq_5904 eax_227 = eax_226 - eax_220;
				word32 edx_234;
				word32 eax_235 = fn00403DDF(eax_227 + 0x01, out edx_234);
				if (eax_235 == 0x00)
					edi_247 = 0x00;
				else
				{
					word32 ebp_264;
					word32 edx_267;
					*edxOut = fn00405A00(eax_235, eax_220, eax_227 + 0x01, out ebp_264, out esi_221, out edi_247);
				}
				FreeEnvironmentStringsA(esi_221);
				eax_137 = edi_247;
				return eax_137;
			}
		}
		goto l004038E3;
	}
	goto l0040385E;
}

// 00403932: Register ui32 fn00403932(Register out ptr32 ecxOut)
ui32 fn00403932(ptr32 & ecxOut)
{
	ui32 eax_115;
	word32 edx_6;
	Eq_4 eax_320 = fn00403DDF(0x0100, out edx_6);
	word32 ecx_11;
	*ecxOut = 0x0100;
	if (eax_320 == 0x00)
		eax_115 = eax_320 | ~0x00;
	else
	{
		globals->t40BEE0 = eax_320;
		globals->t40BEC8.u0 = 0x20;
		Eq_4 ecx_193;
		*ecxOut = (word32) eax_320 + 0x0100;
		while (eax_320 < ecx_193)
		{
			*eax_320 |= ~0x00;
			((word32) eax_320 + 0x04)->u0 = 0x00;
			((word32) eax_320 + 0x05)->u0 = 0x0A;
			eax_320 = (word32) eax_320 + 0x08;
			*ecxOut = (word32) globals->t40BEE0 + 0x0100;
		}
		GetStartupInfoA(fp - 0x44);
		if (wLoc12 != 0x00 && dwLoc10 != null)
		{
			Eq_4 esi_179 = *dwLoc10;
			byte * ebp_182 = (char *) dwLoc10 + 0x04;
			word32 ebx_186 = esi_179 + (dwLoc10 + 0x04);
			if (esi_179 >= 0x0800)
				esi_179.u0 = 0x0800;
			if (globals->t40BEC8 < esi_179)
			{
				word32 * edi_273 = globals->a40BEE4;
				do
				{
					word32 edx_279;
					Eq_4 eax_280 = fn00403DDF(0x0100, out edx_279);
					*ecxOut = 0x0100;
					if (eax_280 == 0x00)
					{
						esi_179 = globals->t40BEC8;
						break;
					}
					globals->t40BEC8 = (word32) globals->t40BEC8 + 0x0020;
					*edi_273 = (word32) eax_280;
					*ecxOut = (word32) eax_280 + 0x0100;
					while (eax_280 < ecx_193)
					{
						*eax_280 |= ~0x00;
						((word32) eax_280 + 0x04)->u0 = 0x00;
						((word32) eax_280 + 0x05)->u0 = 0x0A;
						eax_280 = (word32) eax_280 + 0x08;
						*ecxOut = *edi_273 + 0x0100;
					}
					++edi_273;
				} while (globals->t40BEC8 < esi_179);
			}
			Eq_4 edi_200 = 0x00;
			if (esi_179 > 0x00)
			{
				do
				{
					Eq_4 eax_226 = *ebx_186;
					if (eax_226 != ~0x00)
					{
						byte cl_242 = *ebp_182;
						*ecxOut = (up32) DPB(ecx_193, cl_242, 0);
						if ((cl_242 & 0x01) != 0x00 && ((cl_242 & 0x08) != 0x00 || GetFileType(eax_226) != 0x00))
						{
							struct Eq_6198 * eax_260 = (&globals->t40BEE0)[edi_200 >> 0x05] + (edi_200 & 0x1F) * 0x08;
							word32 ecx_261 = *ebx_186;
							eax_260->dw0000 = ecx_261;
							byte cl_263 = *ebp_182;
							eax_260->b0004 = cl_263;
							*ecxOut = DPB(ecx_261, cl_263, 0);
						}
					}
					edi_200 = (word32) edi_200 + 0x01;
					++ebp_182;
					++ebx_186;
				} while (edi_200 < esi_179);
			}
		}
		int32 ebx_103;
		for (ebx_103 = 0x00; ebx_103 < 0x03; ++ebx_103)
		{
			struct Eq_6049 * esi_93 = (word32) globals->t40BEE0 + ebx_103 * 0x08;
			if (esi_93->t0000 == ~0x00)
			{
				Eq_4 eax_124;
				esi_93->b0004 = 0x81;
				if (ebx_103 == 0x00)
					eax_124.u0 = ~0x09;
				else
					eax_124 = 0x00 - (0x01 - ebx_103 == 0x00) + ~0x0A;
				Eq_4 eax_128 = GetStdHandle(eax_124);
				if (eax_128 != ~0x00)
				{
					Eq_4 eax_144 = GetFileType(eax_128);
					if (eax_144 == 0x00)
						goto l00403AAD;
					esi_93->t0000 = eax_128;
					if ((eax_144 & 0xFF) == 0x02)
						goto l00403AAD;
					if ((eax_144 & 0xFF) == 0x03)
						esi_93->b0004 |= 0x08;
				}
				else
				{
l00403AAD:
					esi_93->b0004 |= 0x40;
				}
			}
			else
				esi_93->b0004 |= 0x80;
		}
		SetHandleCount(globals->t40BEC8);
		eax_115 = 0x00;
	}
	return eax_115;
}

// 00403ADD: Register Eq_4 fn00403ADD(Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_4 fn00403ADD(Eq_4 ebx, Eq_4 esi, Eq_4 edi, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	Eq_4 ebp_10 = fn00403BD0(ebx, esi, edi, dwLoc0C, 0x004095E8, 0x0C);
	*(ebp_10 - 0x1C) = 4234748;
	while (*(ebp_10 - 0x1C) < 4234748)
	{
		*(ebp_10 - 0x04) &= 0x00;
		<anonymous> * eax_31 = **(ebp_10 - 0x1C);
		if (eax_31 != null)
		{
			word32 esp_50;
			byte SCZO_52;
			bool C_53;
			byte SZO_54;
			word32 eax_55;
			bool Z_56;
			word32 ebx_57;
			word32 esi_58;
			word32 edi_59;
			word32 ecx_60;
			eax_31();
		}
		*(ebp_10 - 0x04) |= ~0x00;
		*(ebp_10 - 0x1C) += 0x04;
	}
	Eq_4 ebx_64;
	word32 ebp_65;
	word32 esi_66;
	word32 edi_67;
	fn00403C0B(ebp_10, 0x0C, dwArg00, dwArg04, dwArg08, out ebx_64, out ebp_65, out esi_66, out edi_67);
	return ebx_64;
}

// 00403B65: Register word32 fn00403B65()
word32 fn00403B65()
{
	if (globals->dw40BA5C != 0x02 || globals->dw40BA68 < 0x05)
		return 0x03;
	return 0x01;
}

// 00403B7F: Register word32 fn00403B7F(Stack Eq_4 dwArg04)
word32 fn00403B7F(Eq_4 dwArg04)
{
	Eq_4 eax_14 = HeapCreate((word32) (dwArg04 == 0x00), 0x1000, 0x00);
	globals->t40BEC0 = eax_14;
	if (eax_14 == 0x00)
		return 0x00;
	word32 eax_39 = fn00403B65();
	globals->dw40BEC4 = eax_39;
	if (eax_39 != 0x03 || fn00405D3D(1016) != 0x00)
		return 0x01;
	HeapDestroy(globals->t40BEC0);
	return 0x00;
}

// 00403BD0: Register ptr32 fn00403BD0(Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Stack Eq_4 dwArg00, Stack word32 dwArg04, Stack ui32 dwArg08)
ptr32 fn00403BD0(Eq_4 ebx, Eq_4 esi, Eq_4 edi, Eq_4 dwArg00, word32 dwArg04, ui32 dwArg08)
{
	ptr32 esp_14 = fp - 0x08 - dwArg08;
	*(esp_14 - 0x04) = (union Eq_4 *) ebx;
	*(esp_14 - 0x08) = (union Eq_4 *) esi;
	*(esp_14 - 0x0C) = (union Eq_4 *) edi;
	*(esp_14 - 0x0010) = (union Eq_4 *) dwArg00;
	fs->ptr0000 = fp - 0x08;
	return fp + 0x08;
}

// 00403C0B: Register Eq_4 fn00403C0B(Register Eq_4 ebp, Stack Eq_4 dwArg00, Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Stack Eq_4 dwArg0C, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_4 fn00403C0B(Eq_4 ebp, Eq_4 dwArg00, Eq_4 dwArg04, Eq_4 dwArg08, Eq_4 dwArg0C, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	fs->dw0000 = *(ebp - 0x10);
	word32 ebp_19;
	*ebpOut = *ebp;
	*ebp = dwArg00;
	word32 edi_11;
	*ediOut = dwArg04;
	word32 esi_14;
	*esiOut = dwArg08;
	word32 ebx_17;
	*ebxOut = dwArg0C;
	return dwArg00;
}

// 00403D30: void fn00403D30(Register (ptr32 byte) eax, Stack Eq_4 dwArg00)
void fn00403D30(byte * eax, Eq_4 dwArg00)
{
	if (eax >= (byte *) 0x1000)
	{
		ptr32 ecx_29 = (word32) fp + 0x04;
		do
		{
			ecx_29 -= 0x1000;
			eax -= 0x1000;
		} while (eax >= (byte *) 0x1000);
		*(ecx_29 - eax - 0x04) = (union Eq_4 *) dwArg00;
	}
	else
		Mem24[-eax + fp:word32] = dwArg00;
}

// 00403D6D: Register Eq_4 fn00403D6D(Stack Eq_4 dwArg04, Register out ptr32 edxOut)
Eq_4 fn00403D6D(Eq_4 dwArg04, ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_4 eax_27;
	Eq_4 esi_43 = dwArg04;
	if (globals->dw40BEC4 == 0x03 && dwArg04 <= globals->t40BC84)
	{
		word32 edx_69;
		eax_27 = fn00406564(dwArg04, dwArg04, SLICE(dwArg04, byte, 24), out edx_69);
		if (eax_27 != 0x00)
			return eax_27;
	}
	if (dwArg04 == 0x00)
		esi_43 = (word32) dwArg04 + 0x01;
	if (globals->dw40BEC4 != 0x01)
		esi_43 = esi_43 + 0x0F & ~0x0F;
	eax_27 = HeapAlloc(globals->t40BEC0, 0x00, esi_43);
	return eax_27;
}

// 00403DB3: Register word32 fn00403DB3(Stack Eq_4 dwArg04, Stack word32 dwArg08, Register out ptr32 edxOut)
word32 fn00403DB3(Eq_4 dwArg04, word32 dwArg08, ptr32 & edxOut)
{
	*edxOut = edx;
	word32 eax_15;
	if (dwArg04 <= ~0x1F)
	{
		do
		{
			word32 edx_32;
			eax_15 = fn00403D6D(dwArg04, out edx_32);
			if (eax_15 != 0x00 || dwArg08 == eax_15)
				return eax_15;
		} while (fn00406B77(dwArg04) != 0x00);
	}
	eax_15 = 0x00;
	return eax_15;
}

// 00403DDF: Register word32 fn00403DDF(Stack Eq_4 dwArg04, Register out ptr32 edxOut)
word32 fn00403DDF(Eq_4 dwArg04, ptr32 & edxOut)
{
	word32 edx_10;
	return fn00403DB3(dwArg04, globals->dw40BC48, out edx_10);
}

// 00403DF1: Register ui32 fn00403DF1(Stack Eq_4 dwArg04)
ui32 fn00403DF1(Eq_4 dwArg04)
{
	if (dwArg04 < globals->t40BEC8)
		return (int32) (&globals->t40BEE0)[dwArg04 >> 0x05]->a0004[dwArg04 & 0x1F].b0000 & 0x40;
	return 0x00;
}

// 00403E18: void fn00403E18(Register Eq_3 edx, Stack Eq_4 dwArg04)
void fn00403E18(Eq_3 edx, Eq_4 dwArg04)
{
	ui32 eax_11 = *((word32) dwArg04 + 0x0C);
	cui16 ax_12 = (word16) eax_11;
	if (((byte) eax_11 & 0x03) == 0x02 && (ax_12 & 0x0108) != 0x00)
	{
		Eq_4 eax_51 = *((word32) dwArg04 + 0x08);
		Eq_4 edi_57 = *dwArg04 - eax_51;
		if (edi_57 > 0x00)
		{
			if (fn00406B92(edx, 0x00, dwArg04, edi_57, *((word32) dwArg04 + 0x0010), eax_51, edi_57) == edi_57)
			{
				ui32 eax_86 = *((word32) dwArg04 + 0x0C);
				if ((byte) eax_86 < 0x00)
					*((word32) dwArg04 + 0x0C) = eax_86 & ~0x02;
			}
			else
				*((word32) dwArg04 + 0x0C) |= 0x20;
		}
	}
	Eq_4 eax_37 = *((word32) dwArg04 + 0x08);
	*((word32) dwArg04 + 0x04) &= 0x00;
	*dwArg04 = eax_37;
}

// 0040403C: Register Eq_4 fn0040403C(Register Eq_4 ebp, Stack Eq_4 dwArg04, Register out ptr32 edxOut, Register out Eq_1138 ebxOut, Register out (ptr32 Eq_1139) ebpOut, Register out Eq_1140 ediOut)
Eq_4 fn0040403C(Eq_4 ebp, Eq_4 dwArg04, ptr32 & edxOut, Eq_1138 & ebxOut, Eq_1139 * & ebpOut, Eq_1140 & ediOut)
{
	*edxOut = edx;
	*ebxOut = ebx;
	*ebpOut = ebp;
	*ediOut = edi;
	if (dwArg04 == 0x00)
		return eax;
	if (globals->dw40BEC4 == 0x03)
	{
		word32 edx_66;
		Eq_4 eax_67 = fn00405D85(dwArg04, out edx_66);
		if (eax_67 != 0x00)
		{
			word32 edx_78;
			return fn00405DB0(ebp, eax_67, dwArg04, bLoc05, out edx_78);
		}
	}
	eax = HeapFree(globals->t40BEC0, 0x00, dwArg04);
	return eax;
}

// 00404080: Register ptr32 fn00404080(Stack Eq_4 dwArg04, Register out ptr32 edxOut)
ptr32 fn00404080(Eq_4 dwArg04, ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_4 ecx_27 = dwArg04;
	if ((dwArg04 & 0x03) != 0x00)
	{
		do
		{
			ecx_27 = (word32) ecx_27 + 0x01;
			if (*ecx_27 == 0x00)
				return ecx_27 - 0x01 - dwArg04;
		} while ((ecx_27 & 0x03) != 0x00);
	}
	do
	{
		do
		{
			word32 eax_40 = *ecx_27;
			word32 edx_42 = eax_40 + 0x7EFEFEFF;
			*edxOut = edx_42;
			ecx_27 = (word32) ecx_27 + 0x04;
		} while (((eax_40 ^ ~0x00 ^ eax_40 + 0x7EFEFEFF) & 0x81010100) == 0x00);
		ui32 eax_49 = *(ecx_27 - 0x04);
		byte ah_51 = SLICE(eax_49, byte, 8);
		if ((byte) eax_49 == 0x00)
			return ecx_27 - 0x04 - dwArg04;
		if (ah_51 == 0x00)
			return ecx_27 - 0x03 - dwArg04;
		if ((eax_49 & 0x00FF0000) == 0x00)
			return ecx_27 - 0x02 - dwArg04;
	} while ((eax_49 & 0xFF000000) != 0x00);
	return ecx_27 - 0x01 - dwArg04;
}

// 004041A2: void fn004041A2(Register Eq_4 ecx, Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi)
void fn004041A2(Eq_4 ecx, Eq_3 edx, Eq_4 ebx, Eq_4 esi, Eq_4 edi)
{
	if (ecx == globals->t40B498)
		return;
	Eq_4 ebp_14 = fn00403BD0(ebx, esi, edi, dwLoc0C, 4234000, 0x08);
	*(ebp_14 - 0x04) &= 0x00;
	ptr32 ebp_24 = fn00406F0F(edx, ebx, esi, edi);
	*(ebp_24 - 0x04) |= ~0x00;
	ExitProcess(0x03);
}

// 00404245: Register Eq_4 fn00404245(Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Register out ptr32 edxOut)
Eq_4 fn00404245(Eq_4 dwArg04, Eq_4 dwArg08, ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_4 esi_109;
	Eq_4 esi_11 = dwArg04 *s dwArg08;
	esi_109 = esi_11;
	if (esi_11 == 0x00)
		esi_109 = (word32) esi_11 + 0x01;
	do
	{
		Eq_4 eax_49;
		Eq_4 edi_119 = 0x00;
		if (esi_109 <= ~0x1F)
		{
			if (globals->dw40BEC4 == 0x03)
			{
				Eq_6816 esi_123 = (word32) esi_109 + 0x0F;
				esi_109 = esi_123 & ~0x0F;
				if (esi_11 > globals->t40BC84)
					goto l00404283;
				word32 edx_130;
				Eq_4 eax_131 = fn00406564(esi_123 & ~0x0F, esi_11, SLICE(esi_11, byte, 24), out edx_130);
				edi_119 = eax_131;
				if (eax_131 == 0x00)
					goto l00404283;
				word32 edx_145;
				*edxOut = fn004045E0(eax_131, 0x00, esi_11);
			}
			else
			{
l00404283:
				Eq_4 eax_117 = HeapAlloc(globals->t40BEC0, 0x08, esi_109);
				edi_119 = eax_117;
				if (eax_117 == 0x00)
					goto l00404298;
			}
l004042BA:
			eax_49 = edi_119;
			return eax_49;
		}
l00404298:
		if (globals->dw40BC48 == 0x00)
			goto l004042BA;
		eax_49 = fn00406B77(esi_109);
	} while (eax_49 != 0x00);
	return eax_49;
}

// 00404318: Register ui32 fn00404318(Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Stack Eq_4 dwArg04, Register out Eq_954 edxOut, Register out (ptr32 Eq_955) ebxOut, Register out (ptr32 byte) ediOut)
ui32 fn00404318(Eq_4 ebx, Eq_4 esi, Eq_4 edi, Eq_4 dwArg04, Eq_954 & edxOut, Eq_955 * & ebxOut, byte * & ediOut)
{
	*edxOut = edx;
	*ebxOut = ebx;
	*ediOut = edi;
	ui32 eax_136;
	struct Eq_6848 * ebp_124 = fp - 0x04;
	if (dwArg04 > ~0xFE)
	{
		Eq_3 edx_93 = (word32) (byte) (dwArg04 >> 0x08);
		(globals->ptr40B490[edx_93].b0001 & 0x80) == 0x00;
		word32 ecx_121;
		word32 edx_122;
		word32 ebx_123;
		word32 esi_125;
		word32 edi_126;
		ui32 eax_127 = fn004070AD(fp + 0x06, edx_93, ebx, esi, edi, out ecx_121, out edx_122, out ebx_123, out ebp_124, out esi_125, out edi_126);
		if (eax_127 == 0x00)
			return eax_127;
		eax_136 = (word32) ebp_124->w000A;
		return eax_136 & ebp_124->dw000C;
	}
	else
	{
		eax_136 = (word32) globals->ptr40B490[dwArg04].t0000;
		return eax_136 & ebp_124->dw000C;
	}
}

// 00404396: Register ui32 fn00404396(Stack Eq_4 dwArg04, Register out ptr32 edxOut)
ui32 fn00404396(Eq_4 dwArg04, ptr32 & edxOut)
{
	*edxOut = edx;
	ui32 eax_102 = *((word32) dwArg04 + 0x0C);
	byte al_9 = (byte) eax_102;
	if ((al_9 & 131) == 0x00 || (al_9 & 0x40) != 0x00)
		return eax_102 | ~0x00;
	if ((al_9 & 0x02) == 0x00)
	{
		Eq_4 eax_189;
		*((word32) dwArg04 + 0x0C) = eax_102 | 0x01;
		if (((word16) (eax_102 | 0x01) & 0x010C) == 0x00)
		{
			word32 edx_188;
			eax_189 = fn00406E65(dwArg04, out edx_188);
		}
		else
		{
			eax_189 = *((word32) dwArg04 + 0x08);
			*dwArg04 = eax_189;
		}
		word32 edx_87;
		int32 eax_88 = fn00407267(eax_189, *((word32) dwArg04 + 0x0010), *((word32) dwArg04 + 0x08), *((word32) dwArg04 + 0x0018), out edx_87);
		*((word32) dwArg04 + 0x04) = eax_88;
		if (eax_88 == 0x00 || eax_88 == ~0x00)
		{
			eax_102 = (0x00 - (-eax_88 == 0x00) & 0x10) + 0x10;
			*((word32) dwArg04 + 0x0C) |= eax_102;
			*((word32) dwArg04 + 0x04) &= 0x00;
			return eax_102 | ~0x00;
		}
		else
		{
			ui32 edx_114 = *((word32) dwArg04 + 0x0C);
			*edxOut = edx_114;
			if (((byte) edx_114 & 0x82) == 0x00)
			{
				struct Eq_7034 * edi_163;
				Eq_4 ecx_156 = *((word32) dwArg04 + 0x0010);
				if (ecx_156 != ~0x00)
					edi_163 = (&globals->t40BEE0)[ecx_156 >> 0x05] + (ecx_156 & 0x1F) * 0x08;
				else
					edi_163 = &globals->t40B480;
				if ((edi_163->b0004 & 0x82) == 0x82)
				{
					*((word32) dwArg04 + 0x0C) = edx_114 | 0x2000;
					word32 edx_173;
					*edxOut = edx_114 | 0x2000;
				}
			}
			if (*((word32) dwArg04 + 0x0018) == 0x0200)
			{
				ui32 ecx_146 = *((word32) dwArg04 + 0x0C);
				byte ch_148 = SLICE(ecx_146, byte, 8);
				if (((byte) ecx_146 & 0x08) != 0x00 && (ch_148 & 0x04) == 0x00)
					((word32) dwArg04 + 0x0018)->u0 = 0x1000;
			}
			Eq_4 ecx_135 = *dwArg04;
			*((word32) dwArg04 + 0x04) = eax_88 - 0x01;
			ui32 eax_138 = (word32) *ecx_135;
			*dwArg04 = (word32) ecx_135 + 0x01;
			return eax_138;
		}
	}
	else
	{
		*((word32) dwArg04 + 0x0C) = eax_102 | 0x20;
		eax_102 |= 0x20;
		return eax_102 | ~0x00;
	}
}

// 00404474: Register Eq_4 fn00404474(Register Eq_4 eax, Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Register out Eq_1271 edxOut)
Eq_4 fn00404474(Eq_4 eax, Eq_4 dwArg04, Eq_4 dwArg08, Eq_1271 & edxOut)
{
	*edxOut = edx;
	Eq_4 eax_24;
	byte bl_7 = (byte) dwArg04;
	if (dwArg04 == ~0x00)
	{
l004044C0:
		eax_24 = eax | ~0x00;
		return eax_24;
	}
	else
	{
		eax = *((word32) dwArg08 + 0x0C);
		ci8 al_50 = (byte) eax;
		if ((al_50 & 0x01) == 0x00 && (al_50 >= 0x00 || (al_50 & 0x02) != 0x00))
			goto l004044C0;
		if (*((word32) dwArg08 + 0x08) == 0x00)
		{
			word32 edx_102;
			fn00406E65(dwArg08, out edx_102);
		}
		eax = *dwArg08;
		if (eax == *((word32) dwArg08 + 0x08))
		{
			if (*((word32) dwArg08 + 0x04) != 0x00)
				goto l004044C0;
			*dwArg08 = (word32) eax + 0x01;
		}
		--*dwArg08;
		Eq_4 eax_73 = *dwArg08;
		if ((*((word32) dwArg08 + 0x0C) & 0x40) != 0x00)
		{
			if (*eax_73 != bl_7)
			{
				*dwArg08 = (word32) eax_73 + 0x01;
				eax = (word32) eax_73 + 0x01;
				goto l004044C0;
			}
		}
		else
			eax_73->u0 = bl_7;
		Eq_4 eax_77 = *((word32) dwArg08 + 0x0C);
		*((word32) dwArg08 + 0x04) = (word32) *((word32) dwArg08 + 0x04) + 0x01;
		*((word32) dwArg08 + 0x0C) = eax_77 & ~0x10 | 0x01;
		eax_24 = dwArg04 & 0xFF;
		return eax_24;
	}
}

// 004044E0: Register Eq_4 fn004044E0(Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Stack Eq_4 dwArg04, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out (ptr32 Eq_1206) ebpOut, Register out ptr32 esiOut, Register out Eq_1208 ediOut)
Eq_4 fn004044E0(Eq_4 ebx, Eq_4 esi, Eq_4 edi, Eq_4 dwArg04, ptr32 & edxOut, ptr32 & ebxOut, Eq_1206 * & ebpOut, ptr32 & esiOut, Eq_1208 & ediOut)
{
	*ebpOut = ebp;
	*esiOut = esi;
	*ebxOut = ebx;
	*ediOut = edi;
	*edxOut = edx;
	if (globals->t40B4A0 <= 0x01)
		return (word32) globals->ptr40B490[dwArg04].t0000 & 0x08;
	word32 edx_30;
	word32 ebx_31;
	word32 edi_32;
	return fn00404318(ebx, esi, edi, dwArg04, out edx_30, out ebx_31, out edi_32);
}

// 00404509: void fn00404509(Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Stack Eq_4 dwArg0C)
void fn00404509(Eq_4 dwArg04, Eq_4 dwArg08, Eq_4 dwArg0C)
{
	if (dwArg08 == 0x00 || dwArg0C == 0x00)
		return;
	Eq_4 al_63 = *dwArg08;
	if (al_63 == 0x00)
	{
		if (dwArg04 != 0x00)
			dwArg04->u1 = 0x00;
		return;
	}
	if (globals->t40BC54 == 0x00)
	{
		if (dwArg04 != 0x00)
			*dwArg04 = (word16) al_63;
		return;
	}
	if ((globals->ptr40B490[(word32) al_63].b0001 & 0x80) == 0x00)
	{
		if (MultiByteToWideChar(globals->t40BC64, 0x09, dwArg08, 0x01, dwArg04, (word32) (dwArg04 != 0x00)) != 0x00)
			return;
		goto l0040459B;
	}
	bool C_145;
	Eq_4 eax_125 = globals->t40B4A0;
	if (eax_125 > 0x01)
	{
		C_145 = (bool) cond(dwArg0C - eax_125);
		if (dwArg0C < eax_125)
		{
l00404594:
			if (!C_145 && *((word32) dwArg08 + 0x01) != 0x00)
				return;
l0040459B:
			globals->t40BA50.u0 = 0x2A;
			return;
		}
		Eq_4 eax_190 = MultiByteToWideChar(globals->t40BC64, 0x09, dwArg08, eax_125, dwArg04, (word32) (dwArg04 != 0x00));
		eax_125 = globals->t40B4A0;
		if (eax_190 != 0x00)
			return;
	}
	C_145 = (bool) cond(dwArg0C - eax_125);
	goto l00404594;
}

// 004045E0: Register Eq_4 fn004045E0(Stack Eq_4 dwArg04, Stack byte bArg08, Stack Eq_4 dwArg0C)
Eq_4 fn004045E0(Eq_4 dwArg04, byte bArg08, Eq_4 dwArg0C)
{
	Eq_4 edx_3 = dwArg0C;
	if (dwArg0C == 0x00)
		return dwArg0C;
	byte al_22 = bArg08;
	ui32 eax_23 = (word32) bArg08;
	Eq_4 edi_27 = dwArg04;
	if (dwArg0C >= 0x04)
	{
		ui32 ecx_52 = -dwArg04;
		ui32 ecx_53 = ecx_52 & 0x03;
		if ((ecx_52 & 0x03) != 0x00)
		{
			edx_3 = dwArg0C - (ecx_52 & 0x03);
			do
			{
				edi_27->u0 = bArg08;
				edi_27 = (word32) edi_27 + 0x01;
				--ecx_53;
			} while (ecx_53 != 0x00);
		}
		Eq_7354 eax_64 = eax_23 * 0x01010000 + eax_23 * 0x0101;
		al_22 = (byte) eax_64;
		edx_3 &= 0x03;
		uint32 ecx_68 = edx_3 >> 0x02;
		if (ecx_68 != 0x00)
		{
			for (; ecx_68 != 0x00; --ecx_68)
			{
				*edi_27 = eax_64;
				edi_27 = (word32) edi_27 + 0x04;
			}
			if (edx_3 == 0x00)
				return edx_3;
		}
	}
	do
	{
		edi_27->u0 = al_22;
		edi_27 = (word32) edi_27 + 0x01;
		--edx_3;
	} while (edx_3 != 0x00);
	return edx_3;
}

// 00404730: Register word32 fn00404730(Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Stack Eq_4 dwArg0C, Stack uint32 dwArg10, Register out ptr32 edxOut)
word32 fn00404730(Eq_4 dwArg04, Eq_4 dwArg08, Eq_4 dwArg0C, uint32 dwArg10, ptr32 & edxOut)
{
	if ((dwArg10 | dwArg08) != 0x00)
	{
		uint64 edx_eax_40 = dwArg0C * dwArg04;
		word32 edx_43;
		*edxOut = SLICE(edx_eax_40, word32, 32) + (word32) (dwArg0C * dwArg08 + dwArg10 * dwArg04);
		return (word32) edx_eax_40;
	}
	else
	{
		uint64 edx_eax_24 = dwArg0C * dwArg04;
		word32 edx_26;
		*edxOut = SLICE(edx_eax_24, word32, 32);
		return (word32) edx_eax_24;
	}
}

// 00404BE0: Register ui32 fn00404BE0(Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Stack (ptr32 Eq_7414) dwArg0C, Register out (ptr32 Eq_7415) ebpOut, Register out Eq_7416 ediOut)
ui32 fn00404BE0(Eq_4 dwArg04, Eq_4 dwArg08, Eq_7414 * dwArg0C, Eq_7415 * & ebpOut, Eq_7416 & ediOut)
{
}

// 00404F20: Register word32 fn00404F20(Stack Eq_4 dwArg04)
word32 fn00404F20(Eq_4 dwArg04)
{
	word32 edi_7;
	fn00404F95(dwArg04, out edi_7);
	return edi_7;
}

// 00404F30: Register word32 fn00404F30(Stack Eq_4 dwArg04, Register out ptr32 ediOut)
word32 fn00404F30(Eq_4 dwArg04, ptr32 & ediOut)
{
	Eq_4 ecx_22 = dwArg04;
	if ((dwArg04 & 0x03) != 0x00)
	{
		do
		{
			ecx_22 = (word32) ecx_22 + 0x01;
			if (*ecx_22 == 0x00)
				goto l00404F83;
		} while ((ecx_22 & 0x03) != 0x00);
	}
	do
	{
		do
		{
			word32 eax_38 = *ecx_22;
			ecx_22 = (word32) ecx_22 + 0x04;
		} while (((eax_38 ^ ~0x00 ^ eax_38 + 0x7EFEFEFF) & 0x81010100) == 0x00);
		ui32 eax_47 = *(ecx_22 - 0x04);
		byte ah_49 = SLICE(eax_47, byte, 8);
		if ((byte) eax_47 == 0x00)
		{
			word32 edi_69;
			return fn00404F95(ecx_22 - 0x04, out edi_69);
		}
		if (ah_49 == 0x00)
		{
			word32 edi_66;
			return fn00404F95(ecx_22 - 0x03, out edi_66);
		}
		if ((eax_47 & 0x00FF0000) == 0x00)
		{
			word32 edi_63;
			return fn00404F95(ecx_22 - 0x02, out edi_63);
		}
	} while ((eax_47 & 0xFF000000) != 0x00);
l00404F83:
	Eq_4 edi_30 = ecx_22 - 0x01;
	word32 edi_31;
	return fn00404F95(edi_30, out edi_31);
}

// 00404F95: Register Eq_7836 fn00404F95(Register Eq_4 edi, Register out ptr32 ediOut)
Eq_7836 fn00404F95(Eq_4 edi, ptr32 & ediOut)
{
	byte dl_25;
	byte * ecx_3 = v3->ptr000C;
	while ((ecx_3 & 0x03) != 0x00)
	{
		dl_25 = *ecx_3;
		edx = DPB(edx, dl_25, 0);
		++ecx_3;
		if (dl_25 == 0x00)
			goto l00405010;
		edi->u0 = dl_25;
		edi = (word32) edi + 0x01;
	}
l00404FBE:
	edx.u1 = *ecx_3;
	Eq_7867 eax_42 = *ecx_3;
	dl_25 = (byte) edx;
	byte dh_48 = SLICE(edx, byte, 8);
	Eq_7874 dx_49 = (word16) edx;
	ecx_3 += 0x04;
	if (((eax_42 ^ ~0x00 ^ (word32) eax_42 + 0x7EFEFEFF) & 0x81010100) != 0x00)
	{
		if (dl_25 == 0x00)
		{
l00405010:
			edi->u0 = dl_25;
			word32 edi_36;
			*ediOut = v3->dw0000;
			return edx;
		}
		if (dh_48 == 0x00)
		{
			*edi = dx_49;
			word32 edi_83;
			*ediOut = v3->dw0000;
			return edx;
		}
		if ((edx & 0x00FF0000) == 0x00)
		{
			*edi = dx_49;
			((word32) edi + 0x02)->u0 = 0x00;
			word32 edi_79;
			*ediOut = v3->dw0000;
			return edx;
		}
		if ((edx & 0xFF000000) == 0x00)
		{
			*edi = edx;
			word32 edi_74;
			*ediOut = v3->dw0000;
			return edx;
		}
	}
	*edi = edx;
	edi = (word32) edi + 0x04;
	goto l00404FBE;
}

// 0040532E: Register Eq_4 fn0040532E(Register Eq_4 ebx, Register Eq_4 ebp, Stack Eq_4 dwArg04, Register out ptr32 edxOut)
Eq_4 fn0040532E(Eq_4 ebx, Eq_4 ebp, Eq_4 dwArg04, ptr32 & edxOut)
{
	up32 eax_9 = fn00408240(globals->t40BFE8);
	union Eq_4 * ecx_12 = globals->ptr40BFE4;
	Eq_4 eax_14 = globals->t40BFE8;
	up32 edx_16 = ecx_12 - eax_14;
	word32 edx_17;
	*edxOut = edx_16 + 0x04;
	if (eax_9 < edx_16 + 0x04)
	{
		up32 ecx_105 = 0x0800;
		if (eax_9 < 0x0800)
			ecx_105 = eax_9;
		word32 edx_62;
		Eq_4 eax_63 = fn004080DE(ebx, ebp, eax_14, ecx_105 + eax_9, out edx_62);
		if (eax_63 == 0x00)
		{
			word32 edx_94;
			eax_63 = fn004080DE(ebx, ebp, globals->t40BFE8, eax_9 + 0x10, out edx_94);
			if (eax_63 == 0x00)
				return eax_63;
		}
		int32 ecx_81 = globals->ptr40BFE4 - globals->t40BFE8;
		globals->t40BFE8 = eax_63;
		ecx_12 = (word32) eax_63 + (ecx_81 >> 0x02) * 0x04;
		globals->ptr40BFE4 = ecx_12;
	}
	*ecx_12 = (union Eq_4 *) dwArg04;
	globals->ptr40BFE4 = (union Eq_4 *) ((char *) globals->ptr40BFE4 + 0x04);
	return dwArg04;
}

// 004053B0: Register word32 fn004053B0(Register Eq_4 ebx, Register Eq_4 ebp, Stack Eq_4 dwArg04)
word32 fn004053B0(Eq_4 ebx, Eq_4 ebp, Eq_4 dwArg04)
{
	word32 edx_8;
	fn0040532E(ebx, ebp, dwArg04, out edx_8);
	return edx_8;
}

// 004053EA: Register word32 fn004053EA(Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Stack uint32 dwArg0C, Stack byte bArg0E)
word32 fn004053EA(Eq_4 dwArg04, Eq_4 dwArg08, uint32 dwArg0C, byte bArg0E)
{
	word32 eax_199;
	word32 ebx_10 = 0x00;
	if (globals->t40BBE0 != null)
	{
l0040546A:
		ptr32 esp_112 = fp - 0x20;
		Eq_4425 eax_46 = globals->t40BBEC;
		if (eax_46 == null)
		{
l004054AF:
			Eq_4425 eax_86 = globals->t40BBE4;
			if (eax_86 != null)
			{
				word32 ebp_92;
				byte SCZO_93;
				word32 ebx_94;
				byte SZO_95;
				bool C_96;
				word32 esi_97;
				word32 edi_98;
				bool Z_99;
				word32 eax_100;
				word32 ecx_101;
				eax_86();
				ebx_10 = eax_100;
				if (eax_100 != 0x00)
				{
					Eq_4425 eax_106 = globals->t40BBE8;
					if (eax_106 != null)
					{
						*(esp_112 - 0x04) = eax_100;
						word32 ebp_113;
						byte SCZO_114;
						word32 ebx_115;
						byte SZO_116;
						bool C_117;
						word32 esi_118;
						word32 edi_119;
						bool Z_120;
						word32 eax_121;
						word32 ecx_122;
						eax_106();
						ebx_10 = eax_121;
					}
				}
			}
			goto l004054CE;
		}
		else
		{
			word32 ebp_125;
			byte SCZO_126;
			byte SZO_128;
			bool C_129;
			word32 esi_130;
			word32 edi_131;
			bool Z_132;
			word32 eax_133;
			word32 ecx_134;
			eax_46();
			if (eax_133 != 0x00)
			{
				*(esp_112 - 0x04) = fp - 0x08;
				*(esp_112 - 0x08) = 0x0C;
				*(esp_112 - 0x0C) = fp - 0x14;
				*(esp_112 - 0x0010) = 0x01;
				*(esp_112 - 0x0014) = eax_133;
				word32 ebp_170;
				byte SCZO_171;
				byte SZO_173;
				bool C_174;
				word32 esi_175;
				word32 edi_176;
				bool Z_177;
				word32 eax_178;
				word32 ecx_179;
				globals->t40BBF0();
				if (eax_178 != 0x00 && (bLoc0C & 0x01) != 0x00)
					goto l004054AF;
			}
			globals->dw40BA68 < 0x04;
l004054CE:
			uint32 * esp_56 = esp_112 - 0x04;
			*esp_56 = dwArg0C;
			*(esp_56 - 0x04) = (union Eq_4 *) dwArg08;
			*(esp_56 - 0x08) = (union Eq_4 *) dwArg04;
			*(esp_56 - 0x0C) = ebx_10;
			word32 esp_68;
			word32 ebp_69;
			byte SCZO_70;
			word32 ebx_71;
			byte SZO_72;
			bool C_73;
			word32 esi_74;
			word32 edi_75;
			bool Z_76;
			word32 ecx_78;
			globals->t40BBE0();
			return eax_199;
		}
	}
	else
	{
		Eq_4 eax_189 = LoadLibraryA(&globals->t409B80);
		if (eax_189 != 0x00)
		{
			Eq_4425 eax_207 = GetProcAddress(eax_189, &globals->t409B74);
			globals->t40BBE0 = eax_207;
			if (eax_207 != null)
			{
				globals->t40BBE4 = GetProcAddress(eax_189, &globals->t409B64);
				globals->t40BBE8 = GetProcAddress(eax_189, &globals->t409B50);
				if (globals->dw40BA5C == 0x02)
				{
					Eq_4425 eax_233 = GetProcAddress(eax_189, &globals->t409B34);
					globals->t40BBF0 = eax_233;
					if (eax_233 != null)
						globals->t40BBEC = GetProcAddress(eax_189, &globals->t409B1C);
				}
				goto l0040546A;
			}
		}
		eax_199 = 0x00;
		return eax_199;
	}
}

// 004054F0: void fn004054F0(Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Stack uint32 dwArg0C)
void fn004054F0(Eq_4 dwArg04, Eq_4 dwArg08, uint32 dwArg0C)
{
	uint32 ecx_260 = dwArg0C;
	if (dwArg0C == 0x00)
		return;
	uint32 ecx_198;
	uint32 ecx_167;
	byte al_123;
	uint32 ebx_103 = dwArg0C;
	Eq_4 esi_120 = dwArg08;
	Eq_4 edi_105 = dwArg04;
	if ((dwArg08 & 0x03) == 0x00)
	{
		ecx_198 = dwArg0C >> 0x02;
		if (dwArg0C >> 0x02 == 0x00)
			goto l00405543;
	}
	else
	{
		do
		{
			al_123 = (byte) *esi_120;
			edi_105->u0 = al_123;
			esi_120 = (word32) esi_120 + 0x01;
			edi_105 = (word32) edi_105 + 0x01;
			--ecx_260;
			if (ecx_260 == 0x00)
				return;
			if (al_123 == 0x00)
			{
				while ((edi_105 & 0x03) != 0x00)
				{
					edi_105->u0 = al_123;
					edi_105 = (word32) edi_105 + 0x01;
					--ecx_260;
					if (ecx_260 == 0x00)
						return;
				}
				ebx_103 = ecx_260;
				ecx_167 = ecx_260 >> 0x02;
				if (ecx_167 != 0x00)
				{
l004055F7:
					do
					{
						*edi_105 = 0x00;
						edi_105 = (word32) edi_105 + 0x04;
						--ecx_167;
					} while (ecx_167 != 0x00);
l00405603:
					al_123 = 0x00;
					ebx_103 &= 0x03;
					if (ebx_103 == 0x00)
						return;
				}
				do
				{
					edi_105->u0 = al_123;
					edi_105 = (word32) edi_105 + 0x01;
l00405588:
					--ebx_103;
				} while (ebx_103 != 0x00);
				return;
			}
		} while ((esi_120 & 0x03) != 0x00);
		ebx_103 = ecx_260;
		ecx_198 = ecx_260 >> 0x02;
		if (ecx_260 >> 0x02 == 0x00)
		{
l0040553E:
			ebx_103 &= 0x03;
			if (ebx_103 == 0x00)
				return;
l00405543:
			do
			{
				al_123 = (byte) *esi_120;
				edi_105->u0 = al_123;
				esi_120 = (word32) esi_120 + 0x01;
				edi_105 = (word32) edi_105 + 0x01;
				if (al_123 == 0x00)
					goto l00405588;
				--ebx_103;
			} while (ebx_103 != 0x00);
			return;
		}
	}
	do
	{
		Eq_8250 edx_209 = *esi_120;
		Eq_8254 eax_205 = *esi_120;
		byte dl_210 = (byte) edx_209;
		byte dh_211 = SLICE(edx_209, byte, 8);
		esi_120 = (word32) esi_120 + 0x04;
		if (((eax_205 ^ ~0x00 ^ (word32) eax_205 + 0x7EFEFEFF) & 0x81010100) != 0x00)
		{
			if (dl_210 != 0x00)
			{
				if (dh_211 != 0x00)
				{
					if ((edx_209 & 0x00FF0000) != 0x00)
					{
						if ((edx_209 & 0xFF000000) != 0x00)
							goto l00405595;
						*edi_105 = edx_209;
					}
					else
						*edi_105 = edx_209 & 0xFFFF;
				}
				else
					*edi_105 = edx_209 & 0xFF;
			}
			else
				*edi_105 = 0x00;
			edi_105 = (word32) edi_105 + 0x04;
			ecx_167 = ecx_198 - 0x01;
			if (ecx_167 != 0x00)
				goto l004055F7;
			goto l00405603;
		}
l00405595:
		*edi_105 = edx_209;
		edi_105 = (word32) edi_105 + 0x04;
		--ecx_198;
	} while (ecx_198 != 0x00);
	goto l0040553E;
}

// 00405614: Register Eq_4 fn00405614(Register Eq_4 eax)
Eq_4 fn00405614(Eq_4 eax)
{
	if (eax == 0x03A4)
		return 0x0411;
	if (eax == 0x03A8)
		return 0x0804;
	if (eax == 949)
		return 0x0412;
	if (eax == 0x03B6)
		return 0x0404;
	return 0x00;
}

// 00405643: Register word32 fn00405643()
word32 fn00405643()
{
	word32 ecx_11;
	struct Eq_8410 * edi_13 = globals->a40BCA0;
	for (ecx_11 = 0x40; ecx_11 != 0x00; --ecx_11)
	{
		edi_13->b0000 = (byte) 0x00;
		++edi_13;
	}
	edi_13->b0000 = 0x00;
	globals->t40BDA4.u0 = 0x00;
	globals->dw40BC98 = 0x00;
	globals->dw40BC94 = 0x00;
	globals->dw40BDB0 = 0x00;
	globals->dw40BDB4 = 0x00;
	globals->dw40BDB8 = 0x00;
	return ecx_11;
}

// 0040566C: Register Eq_3 fn0040566C(Register Eq_4 ecx, Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 edi)
Eq_3 fn0040566C(Eq_4 ecx, Eq_3 edx, Eq_4 ebx, Eq_4 edi)
{
	Eq_8448 ebp_159 = fp - 0x04;
	if (GetCPInfo(globals->t40BDA4, fp - 0x1C) == 0x01)
	{
		Eq_8467 eax_52 = 0x00;
		byte al_53 = 0x00;
		do
		{
			*((word32) eax_52 + (fp - 0x011C)) = al_53;
			eax_52 = (word32) eax_52 + 0x01;
			al_53 = (byte) eax_52;
		} while (eax_52 < 0x0100);
		byte al_221 = bLoc16;
		if (bLoc16 != 0x00)
		{
			edx = fp - 0x15;
			do
			{
				ecx = (word32) *edx;
				Eq_4 eax_227 = (word32) al_221;
				if (eax_227 <= ecx)
				{
					word32 ecx_249 = ecx - eax_227;
					uint32 ecx_252;
					union Eq_8652 * edi_256 = (word32) eax_227 + (fp - 0x011C);
					for (ecx_252 = ecx_249 + 0x01 >> 0x02; ecx_252 != 0x00; --ecx_252)
					{
						*edi_256 = 0x20202020;
						edi_256 = (union Eq_8652 *) ((char *) edi_256 + 0x04);
					}
					for (ecx = ecx_249 + 0x01 & 0x03; ecx != 0x00; --ecx)
					{
						*edi_256 = (union Eq_8652 *) 0x20;
						edi_256 = (union Eq_8652 *) ((char *) edi_256 + 0x01);
					}
				}
				byte * edx_238 = (word32) edx + 0x01;
				al_221 = *edx_238;
				edx = edx_238 + 0x01;
			} while (al_221 != 0x00);
		}
		Eq_4 ecx_104;
		Eq_3 edx_105;
		Eq_4 ebx_106;
		word32 ebp_107;
		Eq_4 esi_108;
		Eq_4 edi_109;
		fn004070AD(ecx, edx, ebx, 0x0100, edi, out ecx_104, out edx_105, out ebx_106, out ebp_107, out esi_108, out edi_109);
		*(fp - 0x0540) = 0x00;
		*(fp - 0x0544) = (union Eq_4 *) globals->t40BDA4;
		*(fp - 0x0548) = (union Eq_4 *) esi_108;
		*(fp - 0x054C) = ebp_107 - 0x0218;
		*(fp - 0x0550) = (union Eq_4 *) esi_108;
		*(fp - 0x0554) = ebp_107 - 0x0118;
		*(fp - 0x0558) = (union Eq_4 *) esi_108;
		*(fp - 0x055C) = globals->dw40BC94;
		Eq_3 edx_131;
		Eq_4 ebx_132;
		word32 ebp_133;
		Eq_4 esi_134;
		Eq_4 edi_135;
		Eq_4 ecx_136 = fn00407455(ecx_104, edx_105, ebx_106, esi_108, edi_109, out edx_131, out ebx_132, out ebp_133, out esi_134, out edi_135);
		*(fp - 0x0560) = 0x00;
		*(fp - 0x0564) = (union Eq_4 *) globals->t40BDA4;
		*(fp - 0x0568) = (union Eq_4 *) esi_134;
		*(fp - 1388) = ebp_133 - 0x0318;
		*(fp - 0x0570) = (union Eq_4 *) esi_134;
		*(fp - 0x0574) = ebp_133 - 0x0118;
		*(fp - 1400) = 0x0200;
		*(fp - 1404) = globals->dw40BC94;
		Eq_8622 esi_160;
		fn00407455(ecx_136, edx_131, ebx_132, esi_134, edi_135, out edx, out ebx, out ebp_159, out esi_160, out edi);
		Eq_8622 eax_164 = 0x00;
		do
		{
			Eq_8682 cl_191;
			byte cl_173 = (byte) *((word32) (ebp_159 - 0x0518) + eax_164 * 0x02);
			if ((cl_173 & 0x01) != 0x00)
			{
				*((word32) eax_164 + 4242593) |= 0x10;
				cl_191 = Mem195[ebp_159 - 0x0218 + eax_164:byte];
				goto l0040577E;
			}
			if ((cl_173 & 0x02) != 0x00)
			{
				*((word32) eax_164 + 4242593) |= 0x20;
				cl_191 = Mem205[ebp_159 - 0x0318 + eax_164:byte];
l0040577E:
				*((word32) eax_164 + 4242880) = cl_191;
			}
			else
				*((word32) eax_164 + 4242880) = 0x00;
			eax_164 = (word32) eax_164 + 0x01;
		} while (eax_164 < esi_160);
	}
	else
	{
		struct Eq_8463 * eax_282 = null;
		byte al_283 = 0x00;
		do
		{
			Eq_8682 cl_315;
			if (eax_282 >= (struct Eq_8463 *) 0x41 && eax_282 <= (struct Eq_8463 *) 0x5A)
			{
				eax_282[4242593] = (struct Eq_8463) (eax_282[4242593] | 0x10);
				cl_315 = al_283 + 0x20;
				goto l004057C1;
			}
			if (eax_282 >= (struct Eq_8463 *) 0x61 && eax_282 <= (struct Eq_8463 *) 122)
			{
				eax_282[4242593] = (struct Eq_8463) (eax_282[4242593] | 0x20);
				cl_315 = al_283 - 0x20;
l004057C1:
				eax_282[4242880] = (struct Eq_8463) cl_315;
			}
			else
				eax_282[4242880] = (struct Eq_8463) 0x00;
			++eax_282;
			al_283 = (byte) eax_282;
		} while (eax_282 < (struct Eq_8463 *) 0x0100);
	}
	fn004041A2(*(ebp_159 - 0x04), edx, ebx, *(fp - 0x0520), edi);
	return edx;
}

// 004057F8: Register byte fn004057F8(Register Eq_3 edx, Register Eq_4 edi, Stack Eq_4 dwArg04)
byte fn004057F8(Eq_3 edx, Eq_4 edi, Eq_4 dwArg04)
{
	Eq_4 eax_360;
	globals->dw40BBF4 = 0x00;
	Eq_4 esi_16 = dwArg04;
	Eq_4 ebx_17 = 0x00;
	if (dwArg04 == ~0x01)
	{
		globals->dw40BBF4 = 0x01;
		eax_360 = GetOEMCP();
	}
	else if (dwArg04 == ~0x02)
	{
		globals->dw40BBF4 = 0x01;
		eax_360 = GetACP();
	}
	else
	{
		if (dwArg04 != ~0x03)
		{
l0040585B:
			if (esi_16 == globals->t40BDA4)
			{
l004059CA:
				goto l004059D1;
			}
			Eq_4 ecx_101;
			if (esi_16 != 0x00)
			{
				&edx.u0->b0000 = 0x00;
				struct Eq_8824 * eax_118;
				do
				{
					if (eax_118->dw0000 == esi_16)
					{
						word32 ecx_255;
						struct Eq_8828 * edi_257 = globals->a40BCA0;
						for (ecx_255 = 0x40; ecx_255 != 0x00; --ecx_255)
						{
							edi_257->b0000 = (byte) 0x00;
							++edi_257;
						}
						ui32 ecx_263 = edx * 0x03;
						edi_257->b0000 = 0x00;
						ecx_101 = ecx_263 << 0x04;
						struct Eq_8972 * dwLoc20_266 = null;
						ebx_17 = (ecx_263 << 0x04) + 0x0040B4F8;
						do
						{
							byte al_283 = *ebx_17;
							byte * esi_285 = (word32) ebx_17 + 0x01;
							while (al_283 != 0x00)
							{
								byte dl_326 = *esi_285;
								edx = DPB(edx, dl_326, 0);
								if (dl_326 == 0x00)
									break;
								struct Eq_9064 * eax_331 = (word32) al_283;
								struct Eq_9064 * edi_333 = (word32) dl_326;
								if (eax_331 <= edi_333)
								{
									byte dl_347 = dwLoc20_266[0x0040B4E0];
									edx = DPB(dwLoc20_266, dl_347, 0);
									do
									{
										eax_331[4242593] = (struct Eq_9064) (eax_331[4242593] | dl_347);
										++eax_331;
									} while (eax_331 <= edi_333);
								}
								struct Eq_9069 * esi_341 = esi_285 + 0x01;
								esi_285 = (byte *) &esi_341->b0001;
								al_283 = esi_341->b0001;
							}
							struct Eq_8972 * v19_301 = dwLoc20_266 + 0x01;
							dwLoc20_266 = v19_301;
							ebx_17 = (word32) ebx_17 + 0x08;
						} while (v19_301 < (struct Eq_8972 *) 0x04);
						globals->t40BDA4 = dwArg04;
						globals->dw40BC98 = 0x01;
						word32 eax_310 = fn00405614(dwArg04);
						struct Eq_9042 * esi_311 = (ecx_263 << 0x04) + 4240620;
						globals->dw40BDB0 = esi_311->dw0000;
						globals->dw40BDB4 = esi_311->dw0004;
						globals->dw40BC94 = eax_310;
						globals->dw40BDB8 = esi_311->dw0008;
						edi.u0 = 0x0040BDBC;
						goto l004059C5;
					}
					++eax_118;
					&edx.u0->b0000 = edx.u0 + 0x01;
				} while (eax_118 < (struct Eq_8824 *) ~0x0040B3F7);
				if (GetCPInfo(esi_16, fp - 0x1C) == 0x01)
				{
					ecx_101.u0 = 0x40;
					struct Eq_8852 * edi_153 = globals->a40BCA0;
					for (; ecx_101 != 0x00; --ecx_101)
					{
						edi_153->b0000 = (byte) 0x00;
						++edi_153;
					}
					edi_153->b0000 = 0x00;
					globals->t40BDA4 = esi_16;
					globals->dw40BC94 = 0x00;
					if (dwLoc1C > 0x01)
					{
						if (bLoc16 != 0x00)
						{
							ecx_101 = fp - 0x15;
							do
							{
								byte dl_217 = *ecx_101;
								edx = DPB(edx, dl_217, 0);
								if (dl_217 == 0x00)
									break;
								Eq_3 eax_222 = (word32) *(ecx_101 - 0x01);
								edx = (word32) dl_217;
								while (eax_222 <= edx)
								{
									*((word32) eax_222 + 4242593) |= 0x04;
									eax_222 = (word32) eax_222 + 0x01;
								}
								byte * ecx_232 = (byte) ecx_101.u0 + 0x01;
								ecx_101 = ecx_232 + 0x01;
							} while (*ecx_232 != 0x00);
						}
						struct Eq_8890 * eax_196;
						do
						{
							eax_196[4242593] = (struct Eq_8890) (eax_196[4242593] | 0x08);
							++eax_196;
						} while (eax_196 < (struct Eq_8890 *) 0xFF);
						globals->dw40BC94 = fn00405614(esi_16);
						globals->dw40BC98 = 0x01;
					}
					else
						globals->dw40BC98 = 0x00;
					globals->dw40BDB0 = 0x00;
					globals->dw40BDB4 = 0x00;
					globals->dw40BDB8 = 0x00;
					edi.u0 = 0x0040BDBC;
l004059C5:
					edx = fn0040566C(ecx_101, edx, ebx_17, edi);
					goto l004059CA;
				}
				if (globals->dw40BBF4 == 0x00)
				{
l004059D1:
					Eq_4 ebx_57 = *(fp - 0x24);
					fn004041A2(*(fp - 0x08), edx, ebx_57, *(fp - 0x28), *(fp - 44));
					return (byte) ebx_57;
				}
			}
			ecx_101 = fn00405643();
			goto l004059C5;
		}
		eax_360 = globals->t40BC64;
		globals->dw40BBF4 = 0x01;
	}
	dwArg04 = eax_360;
	esi_16 = eax_360;
	goto l0040585B;
}

// 004059DE: Register word32 fn004059DE(Register Eq_3 edx, Register Eq_4 edi, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out Eq_5031 ediOut)
word32 fn004059DE(Eq_3 edx, Eq_4 edi, ptr32 & ebxOut, ptr32 & ebpOut, HMODULE & ediOut)
{
	*ebxOut = ebx;
	*ebpOut = ebp;
	*ediOut = edi;
	if (globals->dw40BFEC == 0x00)
	{
		word32 ebx_26;
		*ebxOut = DPB(ebx, fn004057F8(edx, edi, ~0x02), 0);
		globals->dw40BFEC = 0x01;
	}
	return 0x00;
}

// 00405A00: Register ui32 fn00405A00(Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Stack Eq_4 dwArg0C, Register out ptr32 ebpOut, Register out Eq_5936 esiOut, Register out Eq_5937 ediOut)
ui32 fn00405A00(Eq_4 dwArg04, Eq_4 dwArg08, Eq_4 dwArg0C, ptr32 & ebpOut, Eq_5936 & esiOut, LPVOID & ediOut)
{
}

// 00405D3D: Register Eq_4 fn00405D3D(Stack Eq_4 dwArg04)
Eq_4 fn00405D3D(Eq_4 dwArg04)
{
	Eq_4 eax_10 = HeapAlloc(globals->t40BEC0, 0x00, 0x0140);
	globals->t40BC80 = eax_10;
	if (eax_10 == 0x00)
		return eax_10;
	globals->t40BC78 &= 0x00;
	globals->dw40BC7C &= 0x00;
	globals->t40BC88 = eax_10;
	globals->t40BC84 = dwArg04;
	globals->dw40BC8C = 0x10;
	return 0x01;
}

// 00405D85: Register Eq_4 fn00405D85(Stack Eq_4 dwArg04, Register out ptr32 edxOut)
Eq_4 fn00405D85(Eq_4 dwArg04, ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_4 eax_14 = globals->t40BC80;
	Eq_4 ecx_6 = (word32) eax_14 + globals->dw40BC7C * 0x14;
	while (eax_14 < ecx_6)
	{
		up32 edx_23 = dwArg04 - *((word32) eax_14 + 0x0C);
		*edxOut = edx_23;
		if (edx_23 < 0x00100000)
			return eax_14;
		eax_14.u0 = (byte) eax_14.u0 + 0x0014;
	}
	eax_14.u0 = 0x00;
	return eax_14;
}

// 00405DB0: Register Eq_4 fn00405DB0(Register Eq_4 ebp, Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Stack byte bArg0B, Register out ptr32 edxOut)
Eq_4 fn00405DB0(Eq_4 ebp, Eq_4 dwArg04, Eq_4 dwArg08, byte bArg0B, ptr32 & edxOut)
{
	*edxOut = edx;
	uint32 edi_20 = dwArg08 - *((word32) dwArg04 + 0x0C);
	Eq_4 eax_10 = *((word32) dwArg04 + 0x0010);
	word32 ecx_27 = *((word32) dwArg08 - 0x04);
	struct Eq_9533 * ebp_182 = fp - 0x04;
	struct Eq_7414 * esi_124 = (word32) dwArg08 - 0x04;
	Eq_9539 edi_180 = edi_20 >> 0x0F;
	Eq_4 ecx_25 = (word32) eax_10 + ((edi_20 >> 0x0F) *s 0x0204 + 0x0144);
	int32 ecx_28 = ecx_27 - 0x01;
	int32 dwLoc08_114 = ecx_27 - 0x01;
	if (((byte) (ecx_27 - 0x01) & 0x01) == 0x00)
	{
		struct Eq_7414 * ebx_77 = ecx_27 - 0x01 + ((word32) dwArg08 - 0x04);
		int32 edx_78 = ebx_77->dw0000;
		int32 edx_80 = *(dwArg08 - 0x08);
		struct Eq_7414 * dwArg08_113 = ebx_77;
		if (((byte) edx_78 & 0x01) == 0x00)
		{
			Eq_9589 edx_455 = (edx_78 >> 0x04) - 0x01;
			if (edx_455 > 0x3F)
				edx_455.u0 = 0x3F;
			if (ebx_77->ptr0004 == ebx_77->ptr0008)
			{
				if (edx_455 < 0x20)
				{
					uint32 ebx_495 = ~(0x80000000 >> (byte) edx_455);
					*((word32) eax_10 + ((edi_20 >> 0x0F) * 0x04 + 0x0044)) &= ebx_495;
					word32 ecx_494 = edx_455 + 0x04 + eax_10;
					Eq_9650 v18_500 = *ecx_494 - 0x01;
					*ecx_494 = v18_500;
					if (v18_500 == 0x00)
						*dwArg04 &= ebx_495;
				}
				else
				{
					uint32 ebx_513 = ~(0x80000000 >> (byte) (edx_455 - 0x20));
					*((word32) eax_10 + ((edi_20 >> 0x0F) * 0x04 + 0x00C4)) &= ebx_513;
					word32 ecx_512 = edx_455 + 0x04 + eax_10;
					Eq_9650 v21_518 = *ecx_512 - 0x01;
					*ecx_512 = v21_518;
					if (v21_518 == 0x00)
						*((word32) dwArg04 + 0x04) &= ebx_513;
				}
			}
			ebx_77->ptr0008->ptr0004 = ebx_77->ptr0004;
			ebx_77->ptr0004->ptr0008 = ebx_77->ptr0008;
			ecx_28 = ecx_27 - 0x01 + edx_78;
			dwLoc08_114 = ecx_28;
		}
		Eq_9580 edx_98 = ecx_28 >> 0x04;
		Eq_4 edx_104;
		*edxOut = edx_98 - 0x01;
		if (edx_98 > 0x40)
			*edxOut = 0x3F;
		Eq_4 ebx_123;
		if ((edx_80 & 0x01) == 0x00)
		{
			struct Eq_7414 * esi_360 = (word32) dwArg08 - 0x04 - edx_80;
			dwArg08_113 = esi_360;
			ebx_123 = (edx_80 >> 0x04) - 0x01;
			if (ebx_123 > 0x3F)
				ebx_123.u0 = 0x3F;
			int32 ecx_372 = ecx_28 + edx_80;
			edx_104 = (ecx_372 >> 0x04) - 0x01;
			*edxOut = edx_104;
			dwLoc08_114 = ecx_372;
			if (edx_104 > 0x3F)
				*edxOut = 0x3F;
			if (ebx_123 != edx_104)
			{
				if (esi_360->ptr0004 == esi_360->ptr0008)
				{
					if (ebx_123 < 0x20)
					{
						uint32 esi_414 = ~(0x80000000 >> (byte) ebx_123);
						*((word32) eax_10 + ((edi_20 >> 0x0F) * 0x04 + 0x0044)) &= esi_414;
						byte v25_419 = *((word32) eax_10 + ((byte) ebx_123.u0 + 0x04)) - 0x01;
						((word32) eax_10 + ((byte) ebx_123.u0 + 0x04))->u0 = v25_419;
						if (v25_419 == 0x00)
							*dwArg04 &= esi_414;
					}
					else
					{
						uint32 esi_431 = ~(0x80000000 >> (byte) (ebx_123 - 0x20));
						*((word32) eax_10 + ((edi_20 >> 0x0F) * 0x04 + 0x00C4)) &= esi_431;
						byte v29_436 = *((word32) eax_10 + ((byte) ebx_123.u0 + 0x04)) - 0x01;
						((word32) eax_10 + ((byte) ebx_123.u0 + 0x04))->u0 = v29_436;
						if (v29_436 == 0x00)
							*((word32) dwArg04 + 0x04) &= esi_431;
					}
				}
				esi_360->ptr0008->ptr0004 = esi_360->ptr0004;
				esi_360->ptr0004->ptr0008 = esi_360->ptr0008;
			}
			esi_124 = esi_360;
		}
		else
			ebx_123 = dwArg04;
		if ((edx_80 & 0x01) != 0x00 || ebx_123 != edx_104)
		{
			struct Eq_7414 * ecx_300 = (word32) ecx_25 + edx_104 * 0x08;
			struct Eq_7414 * ebx_301 = ecx_300->ptr0004;
			esi_124->ptr0008 = ecx_300;
			esi_124->ptr0004 = ebx_301;
			ecx_300->ptr0004 = esi_124;
			esi_124->ptr0004->ptr0008 = esi_124;
			if (esi_124->ptr0004 == esi_124->ptr0008)
			{
				byte cl_310 = Mem306[edx_104 + 0x04 + eax_10:byte];
				Mem315[edx_104 + 0x04 + eax_10:byte] = cl_310 + 0x01;
				if (edx_104 < 0x20)
				{
					if (cl_310 == 0x00)
						*dwArg04 |= 0x80000000 >> (byte) edx_104;
					word32 eax_322 = eax_10 + 0x44 + (edi_20 >>u 0x0F) * 0x04;
					*eax_322 |= 0x80000000 >> (byte) edx_104;
				}
				else
				{
					if (cl_310 == 0x00)
						*((word32) dwArg04 + 0x04) |= 0x80000000 >> (byte) (edx_104 - (union Eq_9650 *) 0x20);
					uint32 edx_342 = 0x80000000 >> (byte) (edx_104 - (union Eq_9650 *) 0x20);
					*edxOut = edx_342;
					word32 eax_344 = eax_10 + 0xC4 + (edi_20 >>u 0x0F) * 0x04;
					*eax_344 |= edx_342;
				}
			}
		}
		esi_124->dw0000 = dwLoc08_114;
		esi_124[(dwLoc08_114 - 0x04) / 0x0C] = (struct Eq_7414) dwLoc08_114;
		Eq_9650 v33_140 = *ecx_25 - 0x01;
		*ecx_25 = v33_140;
		eax_10 = ecx_25;
		if (v33_140 == 0x00)
		{
			Eq_4 eax_163 = globals->t40BC78;
			if (eax_163 != 0x00)
			{
				VirtualFree((word32) *((word32) eax_163 + 0x0C) + (globals->t40BC90 << 0x0F), 0x8000, 0x4000);
				Eq_4 eax_202 = globals->t40BC78;
				uint32 edx_204 = 0x80000000 >> (byte) globals->t40BC90;
				*edxOut = edx_204;
				*((word32) eax_202 + 0x08) |= edx_204;
				Eq_4 eax_210 = *((word32) globals->t40BC78 + 0x0010);
				Eq_9539 ecx_211 = globals->t40BC90;
				*((word32) eax_210 + (ecx_211 * 0x04 + 0x00C4)) &= 0x00;
				Eq_4 eax_216 = *((word32) globals->t40BC78 + 0x0010);
				((word32) eax_216 + 0x0043)->u0 = *((word32) eax_216 + 0x0043) - 0x01;
				Eq_4 eax_219 = globals->t40BC78;
				if (*((word32) *((word32) eax_219 + 0x0010) + 0x0043) == 0x00)
				{
					*((word32) eax_219 + 0x04) &= ~0x01;
					eax_219 = globals->t40BC78;
				}
				if (*((word32) eax_219 + 0x08) == ~0x00)
				{
					VirtualFree(esp_233->t0000, esp_233->t0004, esp_233->t0008);
					*(esp_235 - 0x04) = (union Eq_4 *) *((word32) globals->t40BC78 + 0x0010);
					*(esp_235 - 0x08) = 0x00;
					*(esp_235 - 0x0C) = (union Eq_4 *) globals->t40BEC0;
					HeapFree(*(esp_235 - 0x0C), *(esp_235 - 0x08), *(esp_235 - 0x04));
					Eq_4 eax_266 = globals->t40BC78;
					*(esp_235 - 0x04) = (word32) globals->t40BC80 + ((globals->dw40BC7C * 0x14 - eax_266) - 0x14);
					*(esp_235 - 0x08) = (word32) eax_266 + 0x0014;
					*(esp_235 - 0x0C) = (union Eq_4 *) eax_266;
					word32 edx_280;
					*edxOut = fn00404BE0(dwArg00, dwArg04, dwArg08_113, out ebp_182, out edi_180);
					Eq_4 eax_282 = ebp_182->t0008;
					--globals->dw40BC7C;
					if (eax_282 > globals->t40BC78)
						ebp_182->t0008 -= 0x14;
					globals->t40BC88 = globals->t40BC80;
				}
			}
			eax_10 = ebp_182->t0008;
			globals->t40BC78 = eax_10;
			globals->t40BC90 = edi_180;
		}
	}
	return eax_10;
}

// 004060C8: Register (ptr32 Eq_10191) fn004060C8()
Eq_10191 * fn004060C8()
{
	ui32 eax_129 = globals->dw40BC7C;
	ui32 ecx_4 = globals->dw40BC8C;
	if (eax_129 == ecx_4)
	{
		Eq_4 eax_116 = HeapReAlloc(globals->t40BEC0, 0x00, globals->t40BC80, ecx_4 + 0x50 + ecx_4 * 0x04 << 0x02);
		if (eax_116 == 0x00)
			return null;
		globals->dw40BC8C += 0x10;
		globals->t40BC80 = eax_116;
		eax_129 = globals->dw40BC7C;
	}
	struct Eq_10191 * eax_103;
	struct Eq_10191 * esi_38 = (word32) globals->t40BC80 + eax_129 * 0x14;
	Eq_4 eax_39 = HeapAlloc(globals->t40BEC0, 0x08, 0x41C4);
	esi_38->t0010 = eax_39;
	if (eax_39 != 0x00)
	{
		Eq_4 eax_76 = VirtualAlloc(0x00, 0x00100000, 0x2000, 0x04);
		esi_38->t000C = eax_76;
		if (eax_76 != 0x00)
		{
			esi_38->dw0008 |= ~0x00;
			esi_38->dw0000 = 0x00;
			esi_38->dw0004 = 0x00;
			++globals->dw40BC7C;
			Eq_4 eax_98 = esi_38->t0010;
			*eax_98 |= ~0x00;
			eax_103 = esi_38;
			return eax_103;
		}
		HeapFree(globals->t40BEC0, 0x00, esi_38->t0010);
	}
	eax_103 = null;
	return eax_103;
}

// 0040617F: Register int32 fn0040617F(Stack Eq_4 dwArg04, Register out ptr32 edxOut)
int32 fn0040617F(Eq_4 dwArg04, ptr32 & edxOut)
{
	int32 eax_15;
	Eq_10316 esi_23 = *((word32) dwArg04 + 0x0010);
	int32 ebx_178 = 0x00;
	for (eax_15 = *((word32) dwArg04 + 0x08); eax_15 >= 0x00; eax_15 <<= 0x01)
		++ebx_178;
	struct Eq_10328 * eax_41 = (word32) esi_23 + (ebx_178 *s 0x0204 + 0x0144);
	word32 edx_46 = 0x3F;
	eax_49 = eax_41;
	do
	{
		struct Eq_10328 * eax_49;
		eax_49[0x01] = (struct Eq_10328) eax_49;
		eax_49->dw0004 = eax_49;
		++eax_49;
		--edx_46;
		*edxOut = edx_46;
	} while (edx_46 != 0x00);
	int32 eax_138;
	ui32 edi_63 = ebx_178 << 0x0F;
	Eq_4 edi_64 = (word32) *((word32) dwArg04 + 0x0C) + edi_63;
	Eq_4 eax_69 = VirtualAlloc(edi_64, 0x8000, 0x1000, 0x04);
	if (eax_69 == 0x00)
		eax_138 = eax_69 | ~0x00;
	else
	{
		if (edi_64 <=u edi_64 + 0x7000)
		{
			word32 eax_148 = edi_64 + 0x10;
			word32 ecx_150;
			do
			{
				*(eax_148 - 0x08) |= ~0x00;
				*((word32) eax_148 + 0x0FEC) |= ~0x00;
				Mem162[eax_148 + 0x00:word32] = eax_148 + 0x0FFC;
				*(eax_148 - 0x04) = 0x0FF0;
				Mem165[eax_148 + 0x04:word32] = eax_148 + ~0x1003;
				*((word32) eax_148 + 0x0FE8) = 0x0FF0;
				eax_148 += 0x1000;
				--ecx_150;
			} while (ecx_150 != 0x00);
		}
		struct Eq_10372 * edx_105 = (struct Eq_16356 *) 0x7000 + ((word32) (*((word32) dwArg04 + 0x0C)) + edi_63) / 0x00001000;
		Mem109[eax_41 + 0x01FC:word32] = edi_64 + 0x0C;
		*((word32) edi_64 + 0x0014) = eax_41 + 0x003F;
		eax_41[0x0040] = (struct Eq_10328) ((char *) edx_105 + 0x0C);
		edx_105->ptr0010 = eax_41 + 0x003F;
		*((word32) esi_23 + (ebx_178 * 0x04 + 0x0044)) &= 0x00;
		*((word32) esi_23 + (ebx_178 * 0x04 + 0x00C4)) = 0x01;
		byte al_120 = *((word32) esi_23 + 0x0043);
		*((word32) esi_23 + 0x0043) = al_120 + 0x01;
		if (al_120 == 0x00)
			*((word32) dwArg04 + 0x04) |= 0x01;
		uint32 edx_133 = ~(0x80000000 >> (byte) ebx_178);
		*edxOut = edx_133;
		*((word32) dwArg04 + 0x08) &= edx_133;
		eax_138 = ebx_178;
	}
	return eax_138;
}

// 00406285: Register word32 fn00406285(Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Stack byte bArg0B, Stack Eq_4 dwArg0C, Stack byte bArg0F, Register out ptr32 edxOut)
word32 fn00406285(Eq_4 dwArg04, Eq_4 dwArg08, byte bArg0B, Eq_4 dwArg0C, byte bArg0F, ptr32 & edxOut)
{
	word32 eax_100;
	int32 ecx_32 = *(dwArg08 - 0x04);
	struct Eq_10516 * edi_42 = (word32) dwArg08 + (ecx_32 - 0x05);
	Eq_10520 edx_25 = dwArg08 - *((word32) dwArg04 + 0x0C);
	Eq_10316 eax_10 = *((word32) dwArg04 + 0x0010);
	int32 ebx_43 = edi_42->dw0000;
	uint32 edx_27 = edx_25 >> 0x0F;
	*edxOut = edx_27;
	int32 ecx_30 = (word32) eax_10 + ((edx_25 >> 0x0F) *s 0x0204 + 0x0144);
	int32 esi_33 = (word32) dwArg0C + 0x0017 & ~0x0F;
	byte bl_44 = (byte) ebx_43;
	if (esi_33 > ecx_32 - 0x01)
	{
		if ((bl_44 & 0x01) != 0x00 || esi_33 > ebx_43 + (ecx_32 - 0x01))
		{
			eax_100 = 0x00;
			return eax_100;
		}
		Eq_10564 ecx_112 = (ebx_43 >> 0x04) - 0x01;
		byte cl_113 = (byte) ecx_112;
		Eq_10564 dwLoc0C_116 = ecx_112;
		if (ecx_112 > 0x3F)
		{
			ecx_112.u0 = 0x3F;
			cl_113 = 0x3F;
			dwLoc0C_116.u0 = 0x3F;
		}
		if (edi_42->ptr0004 == edi_42->ptr0008)
		{
			if (ecx_112 < 0x20)
			{
				uint32 ebx_257 = ~(0x80000000 >> cl_113);
				*((word32) eax_10 + ((edx_25 >> 0x0F) * 0x04 + 0x0044)) &= ebx_257;
				byte * ecx_256 = (word32) eax_10 + ((word32) dwLoc0C_116.u0 + 0x04);
				byte v20_263 = *ecx_256 - 0x01;
				*ecx_256 = v20_263;
				if (v20_263 == 0x00)
					*dwArg04 &= ebx_257;
			}
			else
			{
				uint32 ebx_277 = ~(0x80000000 >> (byte) ((word32) ecx_112.u0 - 0x0020));
				*((word32) eax_10 + ((edx_25 >> 0x0F) * 0x04 + 0x00C4)) &= ebx_277;
				byte * ecx_276 = (word32) eax_10 + ((word32) dwLoc0C_116.u0 + 0x04);
				byte v26_283 = *ecx_276 - 0x01;
				*ecx_276 = v26_283;
				if (v26_283 == 0x00)
					*((word32) dwArg04 + 0x04) &= ebx_277;
			}
		}
		edi_42->ptr0008->ptr0004 = edi_42->ptr0004;
		edi_42->ptr0004->ptr0008 = edi_42->ptr0008;
		int32 v31_137 = ebx_43 + ((ecx_32 - 0x01) - esi_33);
		if (v31_137 > 0x00)
		{
			union Eq_10816 * edi_161 = (v31_137 >> 0x04) - 0x01;
			struct Eq_10887 * ecx_164 = dwArg08 - 0x04 + esi_33;
			if (edi_161 > (union Eq_10816 *) 0x3F)
				edi_161 = (union Eq_10816 *) 0x3F;
			struct Eq_10887 * ebx_170 = ecx_30 + edi_161 * 0x08;
			ecx_164->ptr0004 = ebx_170->ptr0004;
			ecx_164->ptr0008 = ebx_170;
			ebx_170->ptr0004 = ecx_164;
			ecx_164->ptr0004->ptr0008 = ecx_164;
			if (ecx_164->ptr0004 == ecx_164->ptr0008)
			{
				Eq_10977 eax_204;
				byte cl_202;
				byte cl_194 = Mem178[edi_161 + 0x04 + eax_10:byte];
				Mem199[edi_161 + 0x04 + eax_10:byte] = cl_194 + 0x01;
				if (edi_161 < (union Eq_10816 *) 0x20)
				{
					if (cl_194 == 0x00)
						*dwArg04 |= 0x80000000 >> (byte) edi_161;
					eax_204 = eax_10 + 0x44 + (edx_25 >>u 0x0F) * 0x04;
					cl_202 = (byte) edi_161;
				}
				else
				{
					if (cl_194 == 0x00)
						*((word32) dwArg04 + 0x04) |= 0x80000000 >> (byte) (edi_161 - (union Eq_10816 *) 0x20);
					eax_204 = eax_10 + 0xC4 + (edx_25 >>u 0x0F) * 0x04;
					cl_202 = (byte) (edi_161 - (union Eq_10816 *) 0x20);
				}
				*eax_204 |= 0x80000000 >> cl_202;
			}
			int32 * eax_191 = dwArg08 - 0x04 + esi_33;
			*eax_191 = v31_137;
			eax_191[v31_137 - 0x04] = v31_137;
		}
		*(dwArg08 - 0x04) = esi_33 + 0x01;
		(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(dwArg08 - 0x08)[esi_33].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] = esi_33 + 0x01;
		word32 edx_148;
		*edxOut = dwArg08;
	}
	else if (esi_33 < ecx_32 - 0x01)
	{
		int32 v17_299 = ecx_32 - 0x01 - esi_33;
		*(dwArg08 - 0x04) = esi_33 + 0x01;
		struct Eq_10595 * ebx_303 = dwArg08 - 0x04 + esi_33;
		*(ebx_303 - 0x04) = esi_33 + 0x01;
		int32 dwArg0C_300 = v17_299;
		union Eq_10816 * esi_307 = (v17_299 >> 0x04) - 0x01;
		if (esi_307 > (union Eq_10816 *) 0x3F)
			esi_307 = (union Eq_10816 *) 0x3F;
		if ((bLoc08 & 0x01) == 0x00)
		{
			Eq_10649 esi_406 = (ebx_43 >> 0x04) - 0x01;
			if (esi_406 > 0x3F)
				esi_406.u0 = 0x3F;
			if (edi_42->ptr0004 == edi_42->ptr0008)
			{
				if (esi_406 < 0x20)
				{
					uint32 ebx_453 = ~(0x80000000 >> (byte) esi_406);
					*((word32) eax_10 + ((edx_25 >> 0x0F) * 0x04 + 0x0044)) &= ebx_453;
					word32 esi_452 = esi_406 + 0x04 + eax_10;
					Eq_10816 v23_459 = *esi_452 - 0x01;
					*esi_452 = v23_459;
					if (v23_459 == 0x00)
						*dwArg04 &= ebx_453;
				}
				else
				{
					uint32 ebx_472 = ~(0x80000000 >> (byte) (esi_406 - 0x20));
					*((word32) eax_10 + ((edx_25 >> 0x0F) * 0x04 + 0x00C4)) &= ebx_472;
					word32 ecx_471 = esi_406 + 0x04 + eax_10;
					Eq_10816 v29_478 = *ecx_471 - 0x01;
					*ecx_471 = v29_478;
					if (v29_478 == 0x00)
						*((word32) dwArg04 + 0x04) &= ebx_472;
				}
			}
			edi_42->ptr0008->ptr0004 = edi_42->ptr0004;
			edi_42->ptr0004->ptr0008 = edi_42->ptr0008;
			int32 esi_428 = v17_299 + ebx_43;
			dwArg0C_300 = esi_428;
			esi_307 = (esi_428 >> 0x04) - 0x01;
			if (esi_307 > (union Eq_10816 *) 0x3F)
				esi_307 = (union Eq_10816 *) 0x3F;
		}
		struct Eq_10595 * ecx_330 = ecx_30 + esi_307 * 0x08;
		struct Eq_10595 * edi_331 = ecx_330->ptr0004;
		ebx_303->ptr0008 = ecx_330;
		ebx_303->ptr0004 = edi_331;
		ecx_330->ptr0004 = ebx_303;
		ebx_303->ptr0004->ptr0008 = ebx_303;
		if (ebx_303->ptr0004 == ebx_303->ptr0008)
		{
			Eq_10930 eax_362;
			byte cl_360;
			byte cl_352 = Mem336[esi_307 + 0x04 + eax_10:byte];
			Mem357[esi_307 + 0x04 + eax_10:byte] = cl_352 + 0x01;
			if (esi_307 < (union Eq_10816 *) 0x20)
			{
				if (cl_352 == 0x00)
					*dwArg04 |= 0x80000000 >> (byte) esi_307;
				eax_362 = eax_10 + 0x44 + (edx_25 >>u 0x0F) * 0x04;
				cl_360 = (byte) esi_307;
			}
			else
			{
				if (cl_352 == 0x00)
					*((word32) dwArg04 + 0x04) |= 0x80000000 >> (byte) (esi_307 - (union Eq_10816 *) 0x20);
				eax_362 = eax_10 + 0xC4 + (edx_25 >>u 0x0F) * 0x04;
				cl_360 = (byte) (esi_307 - (union Eq_10816 *) 0x20);
			}
			uint32 edx_365 = 0x80000000 >> cl_360;
			*edxOut = edx_365;
			*eax_362 |= edx_365;
		}
		ebx_303->dw0000 = dwArg0C_300;
		ebx_303[(dwArg0C_300 - 0x04) / 0x0C] = (struct Eq_10595) dwArg0C_300;
	}
	eax_100 = 0x01;
	return eax_100;
}

// 00406564: Register ptr32 fn00406564(Register Eq_4 esi, Stack Eq_4 dwArg04, Stack byte bArg07, Register out ptr32 edxOut)
ptr32 fn00406564(Eq_4 esi, Eq_4 dwArg04, byte bArg07, ptr32 & edxOut)
{
	uint32 esi_35;
	uint32 dwLoc0C_32;
	int32 ecx_13 = (word32) dwArg04 + 0x0017 & ~0x0F;
	int32 ecx_26 = (ecx_13 >> 0x04) - 0x01;
	ui32 eax_10 = globals->dw40BC7C;
	Eq_4 edx_11 = globals->t40BC80;
	*edxOut = edx_11;
	byte cl_27 = (byte) ecx_26;
	Eq_4 edi_30 = (word32) edx_11 + eax_10 * 0x14;
	if (ecx_26 < 0x20)
	{
		esi_35 = (esi | ~0x00) >> cl_27;
		dwLoc0C_32 = dwLoc0C | ~0x00;
	}
	else
	{
		esi_35 = 0x00;
		dwLoc0C_32 = (eax_10 * 0x05 | ~0x00) >> (byte) (ecx_26 + ~0x1F);
	}
	Eq_4 eax_36 = globals->t40BC88;
	Eq_4 ebx_146 = eax_36;
	bool C_43 = (bool) cond(eax_36 - edi_30);
	while (true)
	{
		Eq_4 dwArg04_398 = ebx_146;
		if (!C_43 || (*((word32) ebx_146 + 0x04) & dwLoc0C_32 | *ebx_146 & esi_35) != 0x00)
			break;
		ebx_146 = (word32) ebx_146 + 0x0014;
		C_43 = (bool) cond(ebx_146 - edi_30);
	}
	ptr32 eax_165;
	if (ebx_146 != edi_30)
	{
l004065FE:
		globals->t40BC88 = ebx_146;
		struct Eq_11156 * eax_94 = *((word32) ebx_146 + 0x0010);
		Eq_9539 edx_100 = eax_94->t0000;
		Eq_9539 dwLoc08_349 = edx_100;
		if (edx_100 == ~0x00 || ((eax_94->a00C4)[edx_100] & dwLoc0C_32 | (eax_94->a0044)[edx_100] & esi_35) == 0x00)
		{
			dwLoc08_349 = edx_100 & 0x00;
			ui32 * ecx_351 = eax_94->a0044 + 33;
			if ((eax_94->a00C4[0x00] & dwLoc0C_32 | (eax_94->a0044)[0x00] & esi_35) == 0x00)
			{
				do
				{
					ecx_351 = ecx_499 + 0x01;
					dwLoc08_349 = (word32) dwLoc08_349 + 0x01;
					ui32 * ecx_499 = ecx_351;
				} while ((*ecx_499 & dwLoc0C_32 | *ecx_351 & esi_35) == 0x00);
			}
			edx_100 = dwLoc08_349;
		}
		struct Eq_11218 * ecx_104 = eax_94 + (edx_100 *s 0x0204 + 0x0144) / 0x00C4;
		int32 edi_107 = 0x00;
		int32 ecx_108 = eax_94->a0044[edx_100] & esi_35;
		if (ecx_108 == 0x00)
		{
			ecx_108 = eax_94->a00C4[edx_100] & dwLoc0C_32;
			edi_107 = 0x20;
		}
		for (; ecx_108 >= 0x00; ecx_108 <<= 0x01)
			++edi_107;
		struct Eq_11264 * edx_123 = ecx_104->a0004[edi_107].ptr0000.dw0000;
		int32 ecx_125 = edx_123->dw0000 - ecx_13;
		int32 esi_129 = (ecx_125 >> 0x04) - 0x01;
		if (esi_129 > 0x3F)
			esi_129 = 0x3F;
		if (esi_129 == edi_107)
		{
l0040680E:
			if (ecx_125 != 0x00)
			{
				edx_123->dw0000 = ecx_125;
				edx_123[(ecx_125 - 0x04) / 0x0C] = (struct Eq_11264) ecx_125;
			}
			goto l0040681D;
		}
		if (edx_123->ptr0004 == edx_123->ptr0008)
		{
			if (edi_107 < 0x20)
			{
				uint32 ebx_290 = ~(0x80000000 >> (byte) edi_107);
				eax_94->a0044[dwLoc08_349] = ebx_290 & (eax_94->a0044)[dwLoc08_349];
				byte * edi_289 = (char *) &eax_94->t0000 + 0x04 + edi_107;
				byte v19_295 = *edi_289 - 0x01;
				*edi_289 = v19_295;
				if (v19_295 == 0x00)
				{
					*dwArg04_398 &= ebx_290;
					ebx_146 = dwArg04_398;
					goto l00406771;
				}
l0040676E:
				ebx_146 = dwArg04_398;
				goto l00406771;
			}
			ui32 * ecx_309 = eax_94->a00C4 + dwLoc08_349;
			uint32 ebx_311 = ~(0x80000000 >> (byte) (edi_107 - 0x20));
			*ecx_309 &= ebx_311;
			byte * edi_310 = (char *) &eax_94->t0000 + 0x04 + edi_107;
			byte v23_316 = *edi_310 - 0x01;
			*edi_310 = v23_316;
			if (v23_316 != 0x00)
				goto l0040676E;
			*((word32) dwArg04_398 + 0x04) &= ebx_311;
			ebx_146 = dwArg04_398;
		}
l00406771:
		edx_123->ptr0008->ptr0004 = edx_123->ptr0004;
		edx_123->ptr0004->ptr0008 = edx_123->ptr0008;
		if (ecx_125 == 0x00)
		{
l0040681D:
			int32 * edx_148 = edx_123 + ecx_125 / 0x0C;
			*edxOut = edx_148;
			*edx_148 = ecx_13 + 0x01;
			(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(edx_148 - 0x04)[ecx_13].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00] = ecx_13 + 0x01;
			word32 ecx_153 = ecx_104->dw0000;
			ecx_104->dw0000 = ecx_153 + 0x01;
			if (ecx_153 == 0x00 && (ebx_146 == globals->t40BC78 && dwLoc08_349 == globals->t40BC90))
				globals->t40BC78 &= 0x00;
			eax_94->t0000 = dwLoc08_349;
			eax_165 = edx_148 + 0x01;
			return eax_165;
		}
		struct Eq_11264 * ecx_207 = ecx_104 + esi_129 * 0x02;
		struct Eq_11264 * edi_208 = ecx_207->ptr0004;
		edx_123->ptr0008 = ecx_207;
		edx_123->ptr0004 = edi_208;
		ecx_207->ptr0004 = edx_123;
		edx_123->ptr0004->ptr0008 = edx_123;
		if (edx_123->ptr0004 == edx_123->ptr0008)
		{
			byte cl_227 = eax_94[(esi_129 + 0x04) / 0x00C4];
			eax_94[(esi_129 + 0x04) / 0x00C4] = (struct Eq_11156) (cl_227 + 0x01);
			if (esi_129 < 0x20)
			{
				if (cl_227 == 0x00)
					*ebx_146 |= 0x80000000 >> (byte) esi_129;
				eax_94->a0044[dwLoc08_349] |= 0x80000000 >> (byte) esi_129;
			}
			else
			{
				if (cl_227 == 0x00)
					*((word32) ebx_146 + 0x04) |= 0x80000000 >> (byte) (esi_129 - 0x20);
				ui32 * edi_255 = eax_94->a00C4 + dwLoc08_349;
				*edi_255 |= 0x80000000 >> (byte) (esi_129 - 0x20);
			}
		}
		goto l0040680E;
	}
	ebx_146 = edx_11;
	while (true)
	{
		dwArg04_398 = ebx_146;
		if (ebx_146 >= eax_36 || (*((word32) ebx_146 + 0x04) & dwLoc0C_32 | *ebx_146 & esi_35) != 0x00)
			break;
		ebx_146 = (word32) ebx_146 + 0x0014;
	}
	if (ebx_146 != eax_36)
		goto l004065FE;
	while (ebx_146 < edi_30 && *((word32) ebx_146 + 0x08) == 0x00)
	{
		ebx_146 = (word32) ebx_146 + 0x0014;
		dwArg04_398 = ebx_146;
	}
	if (ebx_146 == edi_30)
	{
		ebx_146 = edx_11;
		while (true)
		{
			dwArg04_398 = ebx_146;
			if (ebx_146 >= eax_36 || *((word32) ebx_146 + 0x08) != 0x00)
				break;
			ebx_146 = (word32) ebx_146 + 0x0014;
		}
		if (ebx_146 == eax_36)
		{
			Eq_4 eax_446 = fn004060C8();
			ebx_146 = eax_446;
			dwArg04_398 = eax_446;
			if (eax_446 == 0x00)
			{
l004066DA:
				eax_165 = 0x00;
				return eax_165;
			}
		}
	}
	word32 edx_429;
	**((word32) ebx_146 + 0x0010) = fn0040617F(ebx_146, out edx_429);
	if (**((word32) ebx_146 + 0x0010) != ~0x00)
		goto l004065FE;
	goto l004066DA;
}

// 00406B77: Register word32 fn00406B77(Stack Eq_4 dwArg04)
word32 fn00406B77(Eq_4 dwArg04)
{
	<anonymous> * eax_3 = globals->ptr40BC44;
	if (eax_3 == null)
		return 0x00;
	word32 esp_27;
	word32 eax_28;
	byte SZO_29;
	bool C_30;
	bool Z_31;
	word32 ecx_32;
	eax_3();
	if (eax_28 == 0x00)
		return 0x00;
	return 0x01;
}

// 00406B92: Register ui32 fn00406B92(Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Stack Eq_4 dwArg0C)
ui32 fn00406B92(Eq_3 edx, Eq_4 ebx, Eq_4 esi, Eq_4 edi, Eq_4 dwArg04, Eq_4 dwArg08, Eq_4 dwArg0C)
{
	Eq_4 eax_111;
	ui32 eax_169;
	Eq_4 eax_12 = globals->t40B498;
	eax_111 = eax_12;
	if (dwArg04 < globals->t40BEC8)
	{
		union Eq_4 * ebx_133 = (dwArg04 >> 0x05) * 0x04 + 0x0040BEE0;
		Eq_4 eax_134 = *ebx_133;
		int32 esi_137 = (dwArg04 & 0x1F) << 0x03;
		byte al_138 = (word32) eax_134 + 0x04 + esi_137;
		eax_111 = DPB(eax_134, al_138, 0);
		if ((al_138 & 0x01) != 0x00)
		{
			Eq_4 dwLoc0414_148 = 0x00;
			word32 dwLoc041C_149 = 0x00;
			if (dwArg0C == 0x00)
			{
l00406BF5:
				eax_169 = 0x00;
				goto l00406D6C;
			}
			if ((al_138 & 0x20) != 0x00)
				edx = fn004082D7(edx, dwArg04, 0x00, 0x00, 0x02);
			Eq_4 dwArg04_233;
			struct Eq_11658 * eax_185 = (char *) *ebx_133 + esi_137;
			if ((eax_185->b0004 & 0x80) != 0x00)
			{
				Eq_4 dwLoc0410_270 = dwArg08;
				dwArg04_233.u0 = 0x00;
				if (dwArg0C <= 0x00)
					goto l00406D29;
				do
				{
					int32 edi_286 = 0x00;
					Eq_4 ecx_290 = dwLoc0410_270 - dwArg08;
					Eq_11711 eax_292 = fp - 0x040C;
					while (ecx_290 < dwArg0C)
					{
						Eq_11732 dl_364 = *dwLoc0410_270;
						++dwLoc0410_270;
						edx = DPB(dwLoc0410_270, dl_364, 0);
						++ecx_290;
						if (dl_364 == 0x0A)
						{
							*eax_292 = 0x0D;
							++dwLoc041C_149;
							++eax_292;
							++edi_286;
						}
						*eax_292 = dl_364;
						++eax_292;
						++edi_286;
						if (edi_286 >= 0x0400)
							break;
					}
					Eq_4 edi_320 = eax_292 - (fp - 0x040C);
					if (WriteFile(*((char *) *ebx_133 + esi_137), fp - 0x040C, edi_320, fp - 0x0418, null) == 0x00)
					{
						dwArg04_233 = GetLastError();
l00406CBB:
						break;
					}
					dwLoc0414_148 += dwLoc0418;
					if (dwLoc0418 < edi_320)
						goto l00406CBB;
				} while (dwLoc0410_270 - dwArg08 < dwArg0C);
			}
			else if (WriteFile(eax_185->t0000, dwArg08, dwArg0C, fp - 0x0418, null) != 0x00)
			{
				dwArg04_233.u0 = 0x00;
				dwLoc0414_148 = dwLoc0418;
			}
			else
				dwArg04_233 = GetLastError();
			if (dwLoc0414_148 != 0x00)
			{
				eax_169 = dwLoc0414_148 - dwLoc041C_149;
l00406D6C:
				fn004041A2(eax_12, edx, ebx, esi, edi);
				return eax_169;
			}
			if (dwArg04_233 != 0x00)
			{
				eax_111.u0 = 0x05;
				if (dwArg04_233 != 0x05)
				{
					eax_111 = fn00408278(dwArg04_233);
					goto l00406D69;
				}
				globals->t40BA54.u0 = 0x05;
l00406D5F:
				globals->t40BA50.u0 = 0x09;
				goto l00406D69;
			}
l00406D29:
			eax_111 = *ebx_133;
			if (((word32) eax_111 + 0x04 + esi_137 & 0x40) != 0x00)
			{
				eax_111 = dwArg08;
				if (*dwArg08 == 0x1A)
					goto l00406BF5;
			}
			globals->t40BA50.u0 = 0x1C;
			globals->t40BA54.u0 = 0x00;
l00406D69:
			eax_169 = eax_111 | ~0x00;
			goto l00406D6C;
		}
	}
	globals->t40BA54 &= 0x00;
	goto l00406D5F;
}

// 00406DD9: void fn00406DD9(Stack Eq_4 dwArg04, Stack Eq_11674 dwArg08, Stack Eq_4 dwArg0C)
void fn00406DD9(Eq_4 dwArg04, LONG dwArg08, Eq_4 dwArg0C)
{
	if (dwArg04 < globals->t40BEC8)
	{
		struct Eq_11829 ** edi_76 = (dwArg04 >> 0x05) * 0x04 + 0x0040BEE0;
		int32 esi_78 = (dwArg04 & 0x1F) << 0x03;
		if ((((char *) *edi_76 + 0x04)[esi_78] & 0x01) != 0x00)
		{
			Eq_4 eax_84 = fn004083F0(dwArg04);
			if (eax_84 != ~0x00)
			{
				Eq_4 eax_106;
				if (SetFilePointer(eax_84, dwArg08, null, dwArg0C) == ~0x00)
					eax_106 = GetLastError();
				else
					eax_106.u0 = 0x00;
				if (eax_106 == 0x00)
				{
					byte * eax_116 = (char *) *edi_76 + 0x04 + esi_78;
					*eax_116 &= ~0x02;
					return;
				}
				else
				{
					fn00408278(eax_106);
					return;
				}
			}
l00406E54:
			globals->t40BA50.u0 = 0x09;
			return;
		}
	}
	globals->t40BA54 &= 0x00;
	goto l00406E54;
}

// 00406E65: Register Eq_4 fn00406E65(Stack Eq_4 dwArg04, Register out ptr32 edxOut)
Eq_4 fn00406E65(Eq_4 dwArg04, ptr32 & edxOut)
{
	++globals->dw40BA3C;
	word32 edx_8;
	Eq_4 eax_9 = fn00403DDF(0x1000, out edx_8);
	*((word32) dwArg04 + 0x08) = eax_9;
	if (eax_9 != 0x00)
	{
		*((word32) dwArg04 + 0x0C) |= 0x08;
		*((word32) dwArg04 + 0x0018) = 0x1000;
	}
	else
	{
		*((word32) dwArg04 + 0x0C) |= 0x04;
		*((word32) dwArg04 + 0x08) = (word32) dwArg04 + 0x0014;
		*((word32) dwArg04 + 0x0018) = 0x02;
	}
	Eq_4 eax_18 = *((word32) dwArg04 + 0x08);
	*((word32) dwArg04 + 0x04) &= 0x00;
	*dwArg04 = eax_18;
	return eax_18;
}

// 00406F0F: Register Eq_4 fn00406F0F(Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi)
Eq_4 fn00406F0F(Eq_3 edx, Eq_4 ebx, Eq_4 esi, Eq_4 edi)
{
	ptr32 esp_152;
	Eq_3 edx_148;
	Eq_4 ebp_10 = fn00403BD0(ebx, esi, edi, dwLoc0C, 4234544, 0x0118);
	*(ebp_10 - 0x1C) = (union Eq_4 *) globals->t40B498;
	<anonymous> * eax_14 = globals->ptr40BC6C;
	if (eax_14 != null)
	{
		*(ebp_10 - 0x04) = 0x00;
		word32 esp_133;
		word32 eax_134;
		word32 ecx_136;
		byte SZO_137;
		bool C_138;
		byte SCZO_139;
		bool Z_140;
		word32 edi_141;
		word32 esi_142;
		byte al_143;
		byte cl_144;
		byte SO_145;
		word32 ebx_146;
		byte CZ_147;
		eax_14();
		*(ebp_10 - 0x04) |= ~0x00;
		esp_152 = esp_133 + 0x08;
	}
	else
	{
		word32 edi_161;
		word32 esi_162;
		if (*((word32) ebp_10 + 0x08) != 0x01)
		{
			*(ebp_10 - 0x0128) = 4234328;
			edi_161 = 0x00409D0C;
			esi_162 = 212;
		}
		else
		{
			*(ebp_10 - 0x0128) = 0x00409B98;
			edi_161 = 4234296;
			esi_162 = 0xB9;
		}
		*(ebp_10 - 0x20) = 0x00;
		if (GetModuleFileNameA(0x00, ebp_10 - 292, 0x0104) == 0x00)
			edi_161 = fn00404F20(ebp_10 - 292);
		*(fp - 0x0C) = ebp_10 - 292;
		ptr32 ebx_180 = ebp_10 - 292;
		word32 edx_184;
		if (fn00404080(dwArg00, out edx_184) > ~0x30)
		{
			*(fp - 0x0C) = ebp_10 - 292;
			word32 edx_258;
			ebx_180 = (word32) fn00404080(dwArg00, out edx_258) + (ebp_10 - 0x0155);
			*(fp - 0x10) = 0x03;
			*(fp - 0x14) = 4232648;
			*(fp - 0x18) = ebx_180;
			fn004054F0(dwArg00, dwArg04, dwArg08);
		}
		*(fp - 0x0C) = ebx_180;
		word32 edx_195;
		fn00403D30((word32) fn00404080(dwArg00, out edx_195) + 0x0C + esi_162 + 0x03 & ~0x03, 0x0118);
		*(ebp_10 - 0x18) = fp - 0x08;
		*(fp - 0x0C) = edi_161;
		*(fp - 0x10) = fp - 0x08;
		fn00404F20(dwArg00);
		*(fp - 0x14) = 4232616;
		*(fp - 0x18) = fp - 0x08;
		word32 edi_216;
		fn00404F30(dwArg00, out edi_216);
		*(fp - 0x1C) = 4234124;
		*(fp - 0x20) = fp - 0x08;
		word32 edi_222;
		fn00404F30(dwArg00, out edi_222);
		*(fp - 0x24) = ebx_180;
		*(fp - 0x28) = fp - 0x08;
		word32 edi_228;
		fn00404F30(dwArg00, out edi_228);
		*(fp - 44) = edi_228;
		*(fp - 0x30) = fp - 0x08;
		word32 edi_234;
		fn00404F30(dwArg00, out edi_234);
		*(fp - 0x34) = *(ebp_10 - 0x0128);
		*(fp - 0x38) = fp - 0x08;
		word32 edi_241;
		edx_148 = fn00404F30(dwArg00, out edi_241);
		*(fp - 0x3C) = 0x00012010;
		*(fp - 0x40) = 0x00409580;
		*(fp - 0x44) = fp - 0x08;
		fn004053EA(dwArg00, dwArg04, dwArg08, bArg0A);
		esp_152 = fp - 0x08;
	}
	struct Eq_12004 * esp_31 = esp_152 - 0x04;
	esp_31->dw0000 = 0x03;
	word32 edi_34;
	word32 esi_35 = fn004031EB(ebp_10, dwArg00, out edi_34);
	int3();
	*(esp_31 - 0x04) = esi_35;
	struct Eq_12026 * esi_38 = esp_31->ptr0004;
	byte al_40 = (byte) esi_38->dw000C;
	*(esp_31 - 0x08) = edi_34;
	if ((al_40 & 0x40) == 0x00)
	{
		if ((al_40 & 131) != 0x00)
		{
			*(esp_31 - 0x0C) = (struct Eq_12026 **) esi_38;
			fn00403E18(edx_148, dwArg00);
			*(esp_31 - 0x0010) = (struct Eq_12026 **) esi_38;
			word32 edi_88;
			Eq_4 eax_89 = fn004084DF(ebp_10, dwArg00, out ebp_10, out edi_88);
			*(esp_31 - 0x0014) = esi_38->dw0010;
			if (fn0040842C(eax_89, dwArg00) >= 0x00)
			{
				ui32 eax_101 = esi_38->dw001C;
				if (eax_101 != 0x00)
				{
					*(esp_31 - 0x0C) = eax_101;
					word32 edx_108;
					word32 ebx_109;
					word32 edi_111;
					fn0040403C(ebp_10, dwArg00, out edx_108, out ebx_109, out ebp_10, out edi_111);
					esi_38->dw001C &= 0x00;
				}
			}
		}
	}
	esi_38->dw000C &= 0x00;
	return ebp_10;
}

// 004070AD: Register Eq_4 fn004070AD(Register Eq_4 ecx, Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Register out ptr32 ecxOut, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out (ptr32 Eq_6896) ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_4 fn004070AD(Eq_4 ecx, Eq_3 edx, Eq_4 ebx, Eq_4 esi, Eq_4 edi, ptr32 & ecxOut, ptr32 & edxOut, ptr32 & ebxOut, Eq_6896 * & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	*edxOut = edx;
	Eq_4 ebp_10 = fn00403BD0(ebx, esi, edi, dwLoc0C, 0x00409D40, 0x1C);
	if (globals->dw40BC70 == 0x00)
	{
		if (GetStringTypeW(0x01, &globals->t409D3C, 0x01, ebp_10 - 0x1C) != 0x00)
			globals->dw40BC70 = 0x01;
		else if (GetLastError() == 0x78)
			globals->dw40BC70 = 0x02;
	}
	Eq_4 eax_139;
	word32 eax_28 = globals->dw40BC70;
	if (eax_28 != 0x02 && eax_28 != 0x00)
	{
		if (eax_28 == 0x01)
		{
			*(ebp_10 - 0x24) = 0x00;
			*(ebp_10 - 0x20) = 0x00;
			if (*((word32) ebp_10 + 0x0018) == 0x00)
				*((word32) ebp_10 + 0x0018) = globals->t40BC64;
			Eq_4 eax_206 = MultiByteToWideChar(*((word32) ebp_10 + 0x0018), (word32) (*((word32) ebp_10 + 0x0020) != 0x00) * 0x08 + 0x01, *((word32) ebp_10 + 0x0C), *((word32) ebp_10 + 0x0010), 0x00, 0x00);
			*(ebp_10 - 0x28) = (union Eq_4 *) eax_206;
			if (eax_206 != 0x00)
			{
				*(ebp_10 - 0x04) &= 0x00;
				fn00403D30(eax_206 * 0x02 + 0x03 & ~0x03, 0x00);
				*(ebp_10 - 0x18) = fp - 0x08;
				*(ebp_10 - 44) = fp - 0x08;
				*(fp - 0x0C) = eax_206 * 0x02;
				*(fp - 0x10) = 0x00;
				*(fp - 0x14) = fp - 0x08;
				word32 edx_232;
				*edxOut = fn004045E0(dwArg00, bArg04, dwArg08);
				*(ebp_10 - 0x04) |= ~0x00;
				Eq_4 esi_223 = fp - 0x08;
				if (fp != 0x08)
				{
l004071B6:
					*(fp - 0x0C) = (union Eq_4 *) eax_206;
					*(fp - 0x10) = (union Eq_4 *) esi_223;
					*(fp - 0x14) = (union Eq_4 *) *((word32) ebp_10 + 0x0010);
					*(fp - 0x18) = (union Eq_4 *) *((word32) ebp_10 + 0x0C);
					*(fp - 0x1C) = 0x01;
					*(fp - 0x20) = (union Eq_4 *) *((word32) ebp_10 + 0x0018);
					Eq_4 eax_260 = MultiByteToWideChar(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
					if (eax_260 != 0x00)
					{
						*(fp - 0x0C) = (union Eq_4 *) *((word32) ebp_10 + 0x0014);
						*(fp - 0x10) = (union Eq_4 *) eax_260;
						*(fp - 0x14) = (union Eq_4 *) esi_223;
						*(fp - 0x18) = (union Eq_4 *) *((word32) ebp_10 + 0x08);
						*(ebp_10 - 0x24) = (union Eq_4 *) GetStringTypeW(*(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
					}
					if (*(ebp_10 - 0x20) != 0x00)
					{
						*(fp - 0x0C) = (union Eq_4 *) esi_223;
						word32 edx_280;
						word32 ebx_281;
						word32 edi_283;
						fn0040403C(ebp_10, dwArg00, out edx_280, out ebx_281, out ebp_10, out edi_283);
					}
					eax_139 = *(ebp_10 - 0x24);
					goto l0040725E;
				}
				*(fp - 0x0C) = (union Eq_4 *) eax_206;
				*(fp - 0x10) = 0x02;
				word32 edx_304;
				Eq_4 eax_305 = fn00404245(dwArg00, dwArg04, out edx_304);
				esi_223 = eax_305;
				if (eax_305 != 0x00)
				{
					*(ebp_10 - 0x20) = 0x01;
					goto l004071B6;
				}
			}
		}
		goto l00407216;
	}
	Eq_4 ebx_176 = *((word32) ebp_10 + 0x001C);
	if (ebx_176 == 0x00)
		ebx_176 = globals->t40BC54;
	Eq_4 edi_175 = *((word32) ebp_10 + 0x0018);
	if (edi_175 == 0x00)
		edi_175 = globals->t40BC64;
	Eq_3 edx_93;
	Eq_4 edi_96;
	Eq_4 ebx_109;
	Eq_4 esi_111;
	Eq_4 eax_97 = fn0040850A(ecx, edx, ebx_176, 0x00, edi_175, ebx_176, out edx_93, out ebx_109, out esi_111, out edi_96);
	if (eax_97 != ~0x00)
	{
		if (eax_97 != edi_96)
		{
			*(fp - 0x0C) = 0x00;
			*(fp - 0x0010) = 0x00;
			*(fp - 0x0014) = (word32) ebp_10 + 0x0010;
			*(fp - 0x0018) = (union Eq_4 *) *((word32) ebp_10 + 0x0C);
			*(fp - 0x001C) = (union Eq_4 *) eax_97;
			*(fp - 0x0020) = (union Eq_4 *) edi_96;
			word32 edx_164;
			word32 edi_167;
			Eq_4 eax_168 = fn0040854D(edx_93, ebx_109, esi_111, edi_96, out edx_164, out ebx_109, out ebp_10, out edi_167);
			esi_111 = eax_168;
			if (eax_168 == 0x00)
				goto l00407216;
			*((word32) ebp_10 + 0x0C) = eax_168;
		}
		*(fp - 0x0C) = (union Eq_4 *) *((word32) ebp_10 + 0x0014);
		*(fp - 0x0010) = (union Eq_4 *) *((word32) ebp_10 + 0x0010);
		*(fp - 0x0014) = (union Eq_4 *) *((word32) ebp_10 + 0x0C);
		*(fp - 0x0018) = (union Eq_4 *) *((word32) ebp_10 + 0x08);
		*(fp - 0x001C) = (union Eq_4 *) ebx_109;
		Eq_4 edi_129 = GetStringTypeA(*(fp - 0x001C), *(fp - 0x0018), *(fp - 0x0014), *(fp - 0x0010), *(fp - 0x0C));
		if (esi_111 != 0x00)
		{
			*(fp - 0x0C) = (union Eq_4 *) esi_111;
			word32 edx_143;
			word32 ebx_144;
			fn0040403C(ebp_10, dwArg00, out edx_143, out ebx_144, out ebp_10, out edi_129);
		}
		eax_139 = edi_129;
l0040725E:
		word32 ebx_50;
		word32 ebp_51;
		word32 esi_52;
		word32 edi_53;
		word32 ecx_54;
		*ecxOut = fn00403C0B(ebp_10, 0x1C, dwArg00, dwArg04, dwArg08, out ebx_50, out ebp_51, out esi_52, out edi_53);
		return eax_139;
	}
	else
	{
l00407216:
		eax_139.u0 = 0x00;
		goto l0040725E;
	}
}

// 00407267: Register Eq_4 fn00407267(Register Eq_4 eax, Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Stack Eq_4 dwArg0C, Register out ptr32 edxOut)
Eq_4 fn00407267(Eq_4 eax, Eq_4 dwArg04, Eq_4 dwArg08, Eq_4 dwArg0C, ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_4 eax_146;
	if (dwArg04 < globals->t40BEC8)
	{
		struct Eq_12933 ** edi_116 = (dwArg04 >> 0x05) * 0x04 + 0x0040BEE0;
		int32 esi_119 = (dwArg04 & 0x1F) << 0x03;
		eax = (char *) *edi_116 + esi_119;
		Eq_9710 dl_122 = *((word32) eax + 0x04);
		word32 edx_123 = DPB(edx, dl_122, 0);
		*edxOut = edx_123;
		if ((dl_122 & 0x01) != 0x00)
		{
			ui32 dwLoc10_128 = dwLoc10 & 0x00;
			Eq_4 ebx_133 = dwArg08;
			Eq_4 ecx_134 = dwArg08;
			if (dwArg0C != 0x00 && (dl_122 & 0x02) == 0x00)
			{
				if ((dl_122 & 0x48) != 0x00 && *((word32) eax + 0x05) != 0x0A)
				{
					*dwArg08 = ((char *) *edi_116 + 0x05)[esi_119];
					((char *) *edi_116 + 0x05)[esi_119] = 0x0A;
					--dwArg0C;
					ecx_134 = (word32) dwArg08 + 0x01;
					dwLoc10_128 = 0x01;
				}
				if (ReadFile(*((char *) *edi_116 + esi_119), ecx_134, dwArg0C, fp - 0x14, null) != 0x00)
				{
					Eq_4 v20_201 = dwLoc10_128 + dwLoc14;
					struct Eq_12933 * ecx_200 = *edi_116;
					Eq_4 dwLoc10_202 = v20_201;
					if ((ecx_200->a0004[esi_119] & 0x80) != 0x00)
					{
						if (dwLoc14 != 0x00 && *dwArg08 == 0x0A)
						{
							byte * eax_423 = ecx_200->a0004 + esi_119;
							*eax_423 |= 0x04;
						}
						else
						{
							byte * eax_415 = (char *) *edi_116 + 0x04 + esi_119;
							*eax_415 &= ~0x04;
						}
						word32 ecx_230 = v20_201 + dwArg08;
						Eq_4 dwLoc0C_233 = dwArg08;
						if (dwArg08 < ecx_230)
						{
							do
							{
								byte al_265 = *dwLoc0C_233;
								if (al_265 == 0x1A)
								{
									struct Eq_12933 * eax_402 = *edi_116;
									if ((eax_402->a0004[esi_119] & 0x40) == 0x00)
									{
										byte * esi_407 = eax_402->a0004 + esi_119;
										*esi_407 |= 0x02;
									}
									break;
								}
								if (al_265 != 0x0D)
								{
									ebx_133->u0 = al_265;
									ebx_133 = (word32) ebx_133 + 0x01;
									dwLoc0C_233 = (word32) dwLoc0C_233 + 0x01;
									goto l00407413;
								}
								if (dwLoc0C_233 < ecx_230 - 0x01)
								{
									Eq_4 eax_338 = (word32) dwLoc0C_233 + 0x01;
									if (*eax_338 == 0x0A)
									{
										dwLoc0C_233 = (word32) dwLoc0C_233 + 0x02;
										goto l004073F5;
									}
									dwLoc0C_233 = eax_338;
									goto l0040740F;
								}
								dwLoc0C_233 = (word32) dwLoc0C_233 + 0x01;
								if (ReadFile(*((char *) *edi_116 + esi_119), fp - 0x05, 0x01, fp - 0x14, null) == 0x00 && GetLastError() != 0x00 || dwLoc14 == 0x00)
								{
l0040740F:
									ebx_133->u0 = 0x0D;
									goto l00407412;
								}
								if ((((char *) *edi_116 + 0x04)[esi_119] & 0x48) != 0x00)
								{
									if (bLoc05 == 0x0A)
										goto l004073F5;
									ebx_133->u0 = 0x0D;
									((char *) *edi_116 + 0x05)[esi_119] = bLoc05;
									goto l00407412;
								}
								if (ebx_133 == dwArg08 && bLoc05 == 0x0A)
								{
l004073F5:
									ebx_133->u0 = 0x0A;
l00407412:
									ebx_133 = (word32) ebx_133 + 0x01;
									goto l00407413;
								}
								fn00406DD9(dwArg04, ~0x00, 0x01);
								if (bLoc05 != 0x0A)
									goto l0040740F;
l00407413:
							} while (dwLoc0C_233 < ecx_230);
						}
						dwLoc10_202 = ebx_133 - dwArg08;
					}
					eax_146 = dwLoc10_202;
					return eax_146;
				}
				eax = GetLastError();
				if (eax == 0x05)
				{
					globals->t40BA54.u0 = 0x05;
l00407443:
					globals->t40BA50.u0 = 0x09;
					goto l0040744D;
				}
				if (eax != 0x6D)
				{
					eax = fn00408278(eax);
l0040744D:
					eax_146 = eax | ~0x00;
					return eax_146;
				}
			}
			eax_146.u0 = 0x00;
			return eax_146;
		}
	}
	globals->t40BA54 &= 0x00;
	goto l00407443;
}

// 00407455: Register Eq_4 fn00407455(Register Eq_4 ecx, Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_4 fn00407455(Eq_4 ecx, Eq_3 edx, Eq_4 ebx, Eq_4 esi, Eq_4 edi, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	*edxOut = edx;
	Eq_4 ebp_10 = fn00403BD0(ebx, esi, edi, dwLoc0C, 0x00409D50, 0x38);
	word32 ebx_11 = 0x00;
	if (globals->dw40BC74 == 0x00)
	{
		esi.u0 = 0x01;
		if (LCMapStringW(0x00, 0x0100, &globals->t409D3C, 0x01, 0x00, 0x00) != 0x00)
			globals->dw40BC74 = 0x01;
		else if (GetLastError() == 0x78)
			globals->dw40BC74 = 0x02;
	}
	if (*((word32) ebp_10 + 0x0014) > 0x00)
	{
		ecx = *((word32) ebp_10 + 0x0014);
		Eq_4 eax_614 = *((word32) ebp_10 + 0x0010);
		do
		{
			--ecx;
			if (*eax_614 == 0x00)
				goto l004074BB;
			eax_614 = (word32) eax_614 + 0x01;
		} while (ecx != 0x00);
		ecx |= ~0x00;
l004074BB:
		*((word32) ebp_10 + 0x0014) = (word32) *((word32) ebp_10 + 0x0014) + ((eax_614 | ~0x00) - ecx);
	}
	word32 eax_40 = globals->dw40BC74;
	if (eax_40 != 0x02 && eax_40 != 0x00)
	{
		if (eax_40 == 0x01)
		{
			*(ebp_10 - 44) = 0x00;
			*(ebp_10 - 0x38) = 0x00;
			*(ebp_10 - 0x34) = 0x00;
			if (*((word32) ebp_10 + 0x0020) == 0x00)
				*((word32) ebp_10 + 0x0020) = globals->t40BC64;
			Eq_4 eax_381 = MultiByteToWideChar(*((word32) ebp_10 + 0x0020), (word32) (*((word32) ebp_10 + 0x0024) != 0x00) * 0x08 + 0x01, *((word32) ebp_10 + 0x0010), *((word32) ebp_10 + 0x0014), 0x00, 0x00);
			*(ebp_10 - 0x30) = (union Eq_4 *) eax_381;
			if (eax_381 != 0x00)
			{
				*(ebp_10 - 0x04) = 0x01;
				fn00403D30(eax_381 * 0x02 + 0x03 & ~0x03, 0x00);
				*(ebp_10 - 0x18) = fp - 0x08;
				*(ebp_10 - 0x1C) = fp - 0x08;
				*(ebp_10 - 0x04) |= ~0x00;
				if (*(ebp_10 - 0x1C) != 0x00)
				{
l00407587:
					*(fp - 0x0C) = (union Eq_4 *) eax_381;
					*(fp - 0x10) = *(ebp_10 - 0x1C);
					*(fp - 0x14) = (union Eq_4 *) *((word32) ebp_10 + 0x0014);
					*(fp - 0x18) = (union Eq_4 *) *((word32) ebp_10 + 0x0010);
					*(fp - 0x1C) = 0x01;
					*(fp - 0x20) = (union Eq_4 *) *((word32) ebp_10 + 0x0020);
					if (MultiByteToWideChar(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C)) != 0x00)
					{
						*(fp - 0x0C) = 0x00;
						*(fp - 0x10) = 0x00;
						*(fp - 0x14) = (union Eq_4 *) eax_381;
						*(fp - 0x18) = *(ebp_10 - 0x1C);
						*(fp - 0x1C) = (union Eq_4 *) *((word32) ebp_10 + 0x0C);
						*(fp - 0x20) = (union Eq_4 *) *((word32) ebp_10 + 0x08);
						Eq_4 eax_487 = LCMapStringW(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
						*(ebp_10 - 44) = (union Eq_4 *) eax_487;
						if (eax_487 == 0x00)
							goto l0040768A;
						if ((*((word32) ebp_10 + 0x0D) & 0x04) != 0x00)
						{
							if (*((word32) ebp_10 + 0x001C) != 0x00 && eax_487 <= *((word32) ebp_10 + 0x001C))
							{
								*(fp - 0x0C) = (union Eq_4 *) *((word32) ebp_10 + 0x001C);
								*(fp - 0x10) = (union Eq_4 *) *((word32) ebp_10 + 0x0018);
								*(fp - 0x14) = (union Eq_4 *) eax_381;
								*(fp - 0x18) = *(ebp_10 - 0x1C);
								*(fp - 0x1C) = (union Eq_4 *) *((word32) ebp_10 + 0x0C);
								*(fp - 0x20) = (union Eq_4 *) *((word32) ebp_10 + 0x08);
								LCMapStringW(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
							}
							goto l0040768A;
						}
						*(ebp_10 - 0x04) = 0x02;
						fn00403D30(eax_487 * 0x02 + 0x03 & ~0x03, 0x38);
						*(ebp_10 - 0x18) = fp - 0x08;
						*(ebp_10 - 0x20) = fp - 0x08;
						*(ebp_10 - 0x04) |= ~0x00;
						if (*(ebp_10 - 0x20) != 0x00)
						{
l00407651:
							*(fp - 0x0C) = (union Eq_4 *) eax_487;
							*(fp - 0x10) = *(ebp_10 - 0x20);
							*(fp - 0x14) = (union Eq_4 *) eax_381;
							*(fp - 0x18) = *(ebp_10 - 0x1C);
							*(fp - 0x1C) = (union Eq_4 *) *((word32) ebp_10 + 0x0C);
							*(fp - 0x20) = (union Eq_4 *) *((word32) ebp_10 + 0x08);
							if (LCMapStringW(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C)) != 0x00)
							{
								*(fp - 0x0C) = 0x00;
								*(fp - 0x10) = 0x00;
								if (*((word32) ebp_10 + 0x001C) == 0x00)
								{
									*(fp - 0x14) = 0x00;
									*(fp - 0x18) = 0x00;
								}
								else
								{
									*(fp - 0x14) = (union Eq_4 *) *((word32) ebp_10 + 0x001C);
									*(fp - 0x18) = (union Eq_4 *) *((word32) ebp_10 + 0x0018);
								}
								*(fp - 0x1C) = (union Eq_4 *) eax_487;
								*(fp - 0x20) = *(ebp_10 - 0x20);
								*(fp - 0x24) = 0x00;
								*(fp - 0x28) = (union Eq_4 *) *((word32) ebp_10 + 0x0020);
								WideCharToMultiByte(*(fp - 0x28), *(fp - 0x24), *(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
							}
							goto l0040768A;
						}
						*(fp - 0x0C) = eax_487 * 0x02;
						word32 edx_592;
						Eq_4 eax_593 = fn00403DDF(dwArg00, out edx_592);
						*(ebp_10 - 0x20) = (union Eq_4 *) eax_593;
						if (eax_593 != 0x00)
						{
							*(ebp_10 - 0x34) = 0x01;
							goto l00407651;
						}
					}
l0040768A:
					if (*(ebp_10 - 0x34) != 0x00)
					{
						*(fp - 0x0C) = *(ebp_10 - 0x20);
						word32 edx_465;
						word32 edi_468;
						fn0040403C(ebp_10, dwArg00, out edx_465, out ebx_11, out ebp_10, out edi_468);
					}
					if (*(ebp_10 - 0x38) != ebx_11)
					{
						*(fp - 0x0C) = *(ebp_10 - 0x1C);
						word32 edx_455;
						word32 ebx_456;
						word32 edi_458;
						fn0040403C(ebp_10, dwArg00, out edx_455, out ebx_456, out ebp_10, out edi_458);
					}
					goto l00407808;
				}
				*(fp - 0x0C) = eax_381 * 0x02;
				word32 edx_603;
				Eq_4 eax_604 = fn00403DDF(dwArg00, out edx_603);
				*(ebp_10 - 0x1C) = (union Eq_4 *) eax_604;
				if (eax_604 != 0x00)
				{
					*(ebp_10 - 0x38) = 0x01;
					goto l00407587;
				}
			}
		}
		goto l004076E0;
	}
	*(ebp_10 - 0x28) = 0x00;
	*(ebp_10 - 0x3C) = 0x00;
	if (*((word32) ebp_10 + 0x08) == 0x00)
		*((word32) ebp_10 + 0x08) = globals->t40BC54;
	if (*((word32) ebp_10 + 0x0020) == 0x00)
		*((word32) ebp_10 + 0x0020) = globals->t40BC64;
	Eq_3 edx_103;
	Eq_4 esi_105;
	Eq_4 edi_106;
	Eq_4 ebx_104;
	Eq_4 eax_107 = fn0040850A(ecx, edx, 0x00, esi, 0x00, *((word32) ebp_10 + 0x08), out edx_103, out ebx_104, out esi_105, out edi_106);
	*(ebp_10 - 0x40) = (union Eq_4 *) eax_107;
	if (eax_107 == ~0x00)
	{
l004076E0:
		goto l00407808;
	}
	if (eax_107 == *((word32) ebp_10 + 0x0020))
	{
		*(fp - 0x0C) = (union Eq_4 *) *((word32) ebp_10 + 0x001C);
		*(fp - 0x0010) = (union Eq_4 *) *((word32) ebp_10 + 0x0018);
		*(fp - 0x0014) = (union Eq_4 *) *((word32) ebp_10 + 0x0014);
		*(fp - 0x0018) = (union Eq_4 *) *((word32) ebp_10 + 0x0010);
		*(fp - 0x001C) = (union Eq_4 *) *((word32) ebp_10 + 0x0C);
		*(fp - 0x0020) = (union Eq_4 *) *((word32) ebp_10 + 0x08);
		LCMapStringA(*(fp - 0x0020), *(fp - 0x001C), *(fp - 0x0018), *(fp - 0x0014), *(fp - 0x0010), *(fp - 0x0C));
		goto l004077F8;
	}
	*(fp - 0x0C) = (union Eq_4 *) ebx_104;
	*(fp - 0x0010) = (union Eq_4 *) ebx_104;
	*(fp - 0x0014) = (word32) ebp_10 + 0x0014;
	*(fp - 0x0018) = (union Eq_4 *) *((word32) ebp_10 + 0x0010);
	*(fp - 0x001C) = (union Eq_4 *) eax_107;
	*(fp - 0x0020) = (union Eq_4 *) *((word32) ebp_10 + 0x0020);
	word32 edx_161;
	Eq_4 edi_164;
	Eq_4 eax_165 = fn0040854D(edx_103, ebx_104, esi_105, edi_106, out edx_161, out ebx_104, out ebp_10, out edi_164);
	*(ebp_10 - 0x28) = (union Eq_4 *) eax_165;
	if (eax_165 == ebx_104)
		goto l004076E0;
	*(fp - 0x0C) = (union Eq_4 *) ebx_104;
	*(fp - 0x10) = (union Eq_4 *) ebx_104;
	*(fp - 0x14) = (union Eq_4 *) *((word32) ebp_10 + 0x0014);
	*(fp - 0x18) = (union Eq_4 *) eax_165;
	*(fp - 0x1C) = (union Eq_4 *) *((word32) ebp_10 + 0x0C);
	*(fp - 0x20) = (union Eq_4 *) *((word32) ebp_10 + 0x08);
	Eq_4 eax_186 = LCMapStringA(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
	*(ebp_10 - 0x24) = (union Eq_4 *) eax_186;
	if (eax_186 != ebx_104)
	{
		*(ebp_10 - 0x04) = (union Eq_4 *) ebx_104;
		fn00403D30((word32) eax_186 + 0x03 & ~0x03, 0x38);
		*(ebp_10 - 0x18) = fp - 0x08;
		*(ebp_10 - 0x44) = fp - 0x08;
		*(fp - 0x0C) = (union Eq_4 *) eax_186;
		*(fp - 0x10) = (union Eq_4 *) ebx_104;
		*(fp - 0x14) = fp - 0x08;
		edi_164 = fp - 0x08;
		Eq_3 edx_229;
		*edxOut = fn004045E0(dwArg00, bArg04, dwArg08);
		*(ebp_10 - 0x04) |= ~0x00;
		if (fp - 0x08 == ebx_104)
		{
			*(fp - 0x0C) = *(ebp_10 - 0x24);
			word32 edx_306;
			Eq_4 eax_307 = fn00403DDF(dwArg00, out edx_306);
			edi_164 = eax_307;
			if (eax_307 == ebx_104)
			{
l004077A6:
				goto l004077D0;
			}
			*(fp - 0x0C) = *(ebp_10 - 0x24);
			*(fp - 0x10) = (union Eq_4 *) ebx_104;
			*(fp - 0x14) = (union Eq_4 *) eax_307;
			*edxOut = fn004045E0(dwArg00, bArg04, dwArg08);
			*(ebp_10 - 0x3C) = 0x01;
		}
		*(fp - 0x0C) = *(ebp_10 - 0x24);
		*(fp - 0x10) = (union Eq_4 *) edi_164;
		*(fp - 0x14) = (union Eq_4 *) *((word32) ebp_10 + 0x0014);
		*(fp - 0x18) = *(ebp_10 - 0x28);
		*(fp - 0x1C) = (union Eq_4 *) *((word32) ebp_10 + 0x0C);
		*(fp - 0x20) = (union Eq_4 *) *((word32) ebp_10 + 0x08);
		Eq_4 eax_268 = LCMapStringA(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
		*(ebp_10 - 0x24) = (union Eq_4 *) eax_268;
		if (eax_268 == ebx_104)
			goto l004077A6;
		*(fp - 0x0C) = (union Eq_4 *) *((word32) ebp_10 + 0x001C);
		*(fp - 0x10) = (union Eq_4 *) *((word32) ebp_10 + 0x0018);
		*(fp - 0x14) = ebp_10 - 0x24;
		*(fp - 0x18) = (union Eq_4 *) edi_164;
		*(fp - 0x1C) = (union Eq_4 *) *((word32) ebp_10 + 0x0020);
		*(fp - 0x20) = *(ebp_10 - 0x40);
		word32 edx_290;
		fn0040854D(edx_229, ebx_104, eax_186, edi_164, out edx_290, out ebx_104, out ebp_10, out edi_164);
	}
l004077D0:
	if (*(ebp_10 - 0x3C) != ebx_104)
	{
		*(fp - 0x0C) = (union Eq_4 *) edi_164;
		word32 edx_207;
		word32 edi_210;
		fn0040403C(ebp_10, dwArg00, out edx_207, out ebx_104, out ebp_10, out edi_210);
	}
l004077F8:
	if (*(ebp_10 - 0x28) != ebx_104)
	{
		*(fp - 0x0C) = *(ebp_10 - 0x28);
		word32 edx_139;
		word32 ebx_140;
		word32 edi_142;
		fn0040403C(ebp_10, dwArg00, out edx_139, out ebx_140, out ebp_10, out edi_142);
	}
l00407808:
	word32 ebx_62;
	word32 ebp_63;
	word32 esi_64;
	word32 edi_65;
	return fn00403C0B(ebp_10, 0x38, dwArg00, dwArg04, dwArg08, out ebx_62, out ebp_63, out esi_64, out edi_65);
}

// 004080DE: Register Eq_4 fn004080DE(Register Eq_4 ebx, Register Eq_4 ebp, Stack Eq_4 dwArg04, Stack Eq_4 dwArg08, Register out ptr32 edxOut)
Eq_4 fn004080DE(Eq_4 ebx, Eq_4 ebp, Eq_4 dwArg04, Eq_4 dwArg08, ptr32 & edxOut)
{
	*edxOut = edx;
	Eq_4 eax_132;
	if (dwArg04 == 0x00)
	{
		word32 edx_43;
		eax_132 = fn00403DDF(dwArg08, out edx_43);
	}
	else
	{
		Eq_4 esi_112 = dwArg08;
		if (dwArg08 == 0x00)
		{
			word32 edx_97;
			word32 ebx_98;
			word32 ebp_99;
			word32 edi_100;
			fn0040403C(ebp, dwArg04, out edx_97, out ebx_98, out ebp_99, out edi_100);
		}
		else if (globals->dw40BEC4 == 0x03)
		{
			do
			{
				Eq_4 edi_118 = 0x00;
				if (esi_112 <= ~0x1F)
				{
					*(fp - 0x0014) = (union Eq_4 *) dwArg04;
					word32 edx_156;
					Eq_4 eax_157 = fn00405D85(dwArg00, out edx_156);
					Eq_4 ebp_158 = eax_157;
					if (eax_157 != 0x00)
					{
						if (esi_112 <= globals->t40BC84)
						{
							*(fp - 0x0014) = (union Eq_4 *) esi_112;
							*(fp - 0x0018) = (union Eq_4 *) dwArg04;
							*(fp - 0x001C) = (union Eq_4 *) eax_157;
							word32 edx_281;
							if (fn00406285(dwArg00, dwArg04, bArg07, dwArg08, bArg0B, out edx_281) != 0x00)
							{
								edi_118 = dwArg04;
								goto l00408182;
							}
							*(fp - 0x0014) = (union Eq_4 *) esi_112;
							word32 edx_302;
							Eq_4 eax_303 = fn00406564(esi_112, dwArg00, bArg03, out edx_302);
							if (eax_303 == 0x00)
								goto l00408186;
							up32 eax_310 = *(dwArg04 - 0x04);
							Eq_4 eax_311 = eax_310 - 0x01;
							if (eax_310 - 0x01 >= esi_112)
								eax_311 = esi_112;
							*(fp - 0x0014) = (union Eq_4 *) eax_311;
							*(fp - 0x0018) = (union Eq_4 *) dwArg04;
							*(fp - 0x001C) = (union Eq_4 *) eax_303;
							word32 ebp_321;
							fn00405A00(dwArg00, dwArg04, dwArg08, out ebp_321, out esi_112, out edi_118);
							*(fp - 0x0020) = (union Eq_4 *) dwArg04;
							word32 edx_327;
							Eq_4 eax_328 = fn00405D85(dwArg00, out edx_327);
							*(fp - 0x0024) = (union Eq_4 *) dwArg04;
							*(fp - 0x0028) = (union Eq_4 *) eax_328;
							word32 edx_334;
							fn00405DB0(eax_328, dwArg00, dwArg04, bArg07, out edx_334);
							ebp_158 = eax_328;
l00408182:
							if (edi_118 == 0x00)
								goto l00408186;
						}
						else
						{
l00408186:
							if (esi_112 == 0x00)
								++esi_112;
							word32 esi_232 = esi_112 + 0x0F;
							*(fp - 0x0014) = esi_232 & ~0x0F;
							*(fp - 0x0018) = 0x00;
							*(fp - 0x001C) = (union Eq_4 *) globals->t40BEC0;
							Eq_4 eax_241 = HeapAlloc(*(fp - 0x001C), *(fp - 0x0018), *(fp - 0x0014));
							esi_112 = esi_232 & ~0x0F;
							edi_118 = eax_241;
							if (eax_241 != 0x00)
							{
								up32 eax_247 = *(dwArg04 - 0x04);
								ui32 eax_248 = eax_247 - 0x01;
								if (eax_247 - 0x01 >= (esi_232 & ~0x0F))
									eax_248 = esi_232 & ~0x0F;
								*(fp - 0x0014) = eax_248;
								*(fp - 0x0018) = (union Eq_4 *) dwArg04;
								*(fp - 0x001C) = (union Eq_4 *) eax_241;
								fn00405A00(dwArg00, dwArg04, dwArg08, out ebp_158, out esi_112, out edi_118);
								*(fp - 0x0020) = (union Eq_4 *) dwArg04;
								*(fp - 0x0024) = (union Eq_4 *) ebp_158;
								word32 edx_267;
								fn00405DB0(ebp_158, dwArg00, dwArg04, bArg07, out edx_267);
							}
						}
						if (ebp_158 == 0x00)
							goto l004081C6;
					}
					else
					{
l004081C6:
						if (esi_112 == 0x00)
							++esi_112;
						word32 esi_189 = esi_112 + 0x0F;
						*(fp - 0x0014) = esi_189 & ~0x0F;
						*(fp - 0x0018) = (union Eq_4 *) dwArg04;
						*(fp - 0x001C) = 0x00;
						*(fp - 0x0020) = (union Eq_4 *) globals->t40BEC0;
						esi_112 = esi_189 & ~0x0F;
						edi_118 = HeapReAlloc(*(fp - 0x0020), *(fp - 0x001C), *(fp - 0x0018), *(fp - 0x0014));
					}
					if (edi_118 == 0x00)
						goto l004081E7;
l00408201:
					eax_132 = edi_118;
					goto l0040823B;
				}
l004081E7:
				if (globals->dw40BC48 == 0x00)
					goto l00408201;
				*(fp - 0x0014) = (union Eq_4 *) esi_112;
			} while (fn00406B77(dwArg00) != 0x00);
		}
		else
		{
			do
			{
				eax_132.u0 = 0x00;
				if (esi_112 <= ~0x1F)
				{
					if (esi_112 == 0x00)
						++esi_112;
					eax_132 = HeapReAlloc(globals->t40BEC0, 0x00, dwArg04, esi_112);
					if (eax_132 != 0x00)
						goto l0040823B;
				}
				if (globals->dw40BC48 == 0x00)
					goto l0040823B;
			} while (fn00406B77(esi_112) != 0x00);
		}
		eax_132.u0 = 0x00;
l0040823B:
	}
	return eax_132;
}

// 00408240: Register Eq_4 fn00408240(Stack Eq_4 dwArg04)
Eq_4 fn00408240(Eq_4 dwArg04)
{
	if (globals->dw40BEC4 != 0x03)
		return HeapSize(globals->t40BEC0, 0x00, dwArg04);
	word32 edx_39;
	if (fn00405D85(dwArg04, out edx_39) == 0x00)
		return HeapSize(globals->t40BEC0, 0x00, dwArg04);
	return *(dwArg04 - 0x04) - 0x09;
}

// 00408278: Register Eq_4 fn00408278(Stack Eq_4 dwArg04)
Eq_4 fn00408278(Eq_4 dwArg04)
{
	globals->t40BA54 = dwArg04;
	uint32 ecx_17;
	for (ecx_17 = 0x00; ecx_17 < 0x2D; ++ecx_17)
	{
		if (dwArg04 == (globals->a40B5F8)[ecx_17])
		{
			Eq_4 eax_37 = globals->a40B5FC[ecx_17];
			globals->t40BA50 = eax_37;
			return eax_37;
		}
	}
	if (dwArg04 < 0x13 || dwArg04 > 0x24)
	{
		if (dwArg04 >= 188)
		{
			globals->t40BA50.u0 = 0x08;
			if (dwArg04 <= 202)
				return dwArg04;
		}
		globals->t40BA50.u0 = 22;
		return dwArg04;
	}
	else
	{
		globals->t40BA50.u0 = 0x0D;
		return dwArg04;
	}
}

// 004082D7: Register Eq_3 fn004082D7(Register Eq_3 edx, Stack Eq_4 dwArg04, Stack Eq_11674 dwArg08, Stack Eq_3 dwArg0C, Stack Eq_4 dwArg10)
Eq_3 fn004082D7(Eq_3 edx, Eq_4 dwArg04, LONG dwArg08, Eq_3 dwArg0C, Eq_4 dwArg10)
{
	Eq_3 edx_133;
	if (dwArg04 < globals->t40BEC8)
	{
		struct Eq_14983 ** edi_89 = (dwArg04 >> 0x05) * 0x04 + 0x0040BEE0;
		int32 esi_91 = (dwArg04 & 0x1F) << 0x03;
		if ((((char *) *edi_89 + 0x04)[esi_91] & 0x01) != 0x00)
		{
			Eq_4 eax_103 = fn004083F0(dwArg04);
			if (eax_103 != ~0x00)
			{
				if (SetFilePointer(eax_103, dwArg08, fp - 0x08, dwArg10) == ~0x00)
				{
					Eq_4 eax_134 = GetLastError();
					if (eax_134 != 0x00)
					{
						fn00408278(eax_134);
l0040836C:
						edx_133 = edx | ~0x00;
						return edx_133;
					}
				}
				byte * eax_127 = (char *) *edi_89 + 0x04 + esi_91;
				*eax_127 &= ~0x02;
				edx_133 = dwArg0C;
				return edx_133;
			}
l00408362:
			globals->t40BA50.u0 = 0x09;
			goto l0040836C;
		}
	}
	globals->t40BA54 &= 0x00;
	goto l00408362;
}

// 00408376: void fn00408376(Register Eq_4 eax, Stack Eq_4 dwArg04)
void fn00408376(Eq_4 eax, Eq_4 dwArg04)
{
	if (dwArg04 < globals->t40BEC8)
	{
		Eq_15084 (** edi_44)[] = (dwArg04 >> 0x05) * 0x04 + 0x0040BEE0;
		Eq_15084 (* esi_47)[] = (dwArg04 & 0x1F) << 0x03;
		word32 eax_48 = Mem0[edi_44 + 0x00:word32] + esi_47;
		if ((eax_48->b0004 & 0x01) != 0x00 && eax_48->dw0000 != ~0x00)
		{
			if (globals->dw40B0BC == 0x01)
			{
				Eq_4 dwLoc10_76;
				if (dwArg04 != 0x00)
				{
					if (dwArg04 != 0x01)
					{
						if (dwArg04 != 0x02)
							goto l004083CF;
						dwLoc10_76.u0 = ~0x0B;
					}
					else
						dwLoc10_76.u0 = ~0x0A;
				}
				else
					dwLoc10_76.u0 = ~0x09;
				SetStdHandle(dwLoc10_76, 0x00);
			}
l004083CF:
			Eq_15084 (* eax_62)[] = *edi_44;
			Mem64[esi_47 + eax_62:word32] = Mem0[esi_47 + eax_62:word32] | ~0x00;
			return;
		}
	}
	globals->t40BA54 &= 0x00;
	globals->t40BA50.u0 = 0x09;
}

// 004083F0: Register ui32 fn004083F0(Stack Eq_4 dwArg04)
ui32 fn004083F0(Eq_4 dwArg04)
{
	Eq_4 eax_16 = dwArg04;
	if (dwArg04 < globals->t40BEC8)
	{
		eax_16 = (&globals->t40BEE0)[dwArg04 >> 0x05] + (dwArg04 & 0x1F) * 0x08;
		if ((*((word32) eax_16 + 0x04) & 0x01) != 0x00)
			return *eax_16;
	}
	globals->t40BA54 &= 0x00;
	globals->t40BA50.u0 = 0x09;
	return eax_16 | ~0x00;
}

// 0040842C: Register Eq_4 fn0040842C(Register Eq_4 eax, Stack Eq_4 dwArg04)
Eq_4 fn0040842C(Eq_4 eax, Eq_4 dwArg04)
{
	Eq_4 eax_26;
	if (dwArg04 < globals->t40BEC8)
	{
		union Eq_4 * ebx_66 = (dwArg04 >> 0x05) * 0x04 + 0x0040BEE0;
		eax = *ebx_66;
		int32 esi_68 = (dwArg04 & 0x1F) << 0x03;
		if (((word32) eax + 0x04 + esi_68 & 0x01) != 0x00)
		{
			Eq_4 ebp_107;
			Eq_4 eax_105 = fn004083F0(dwArg04);
			if (eax_105 != ~0x00)
			{
				if (dwArg04 == 0x01 || dwArg04 == 0x02)
				{
					Eq_4 eax_131 = fn004083F0(0x02);
					eax_105 = fn004083F0(0x01);
					if (eax_105 == eax_131)
						goto l004084A5;
				}
				eax_105 = CloseHandle(fn004083F0(dwArg04));
				if (eax_105 == 0x00)
				{
					eax_105 = GetLastError();
					ebp_107 = eax_105;
l004084A7:
					fn00408376(eax_105, dwArg04);
					((char *) *ebx_66 + 0x04)[esi_68] = 0x00;
					if (ebp_107 == 0x00)
					{
						eax_26.u0 = 0x00;
						return eax_26;
					}
					eax = fn00408278(ebp_107);
l004084D7:
					eax_26 = eax | ~0x00;
					return eax_26;
				}
			}
l004084A5:
			ebp_107.u0 = 0x00;
			goto l004084A7;
		}
	}
	globals->t40BA54 &= 0x00;
	globals->t40BA50.u0 = 0x09;
	goto l004084D7;
}

// 004084DF: Register Eq_4 fn004084DF(Register Eq_4 ebp, Stack Eq_4 dwArg04, Register out (ptr32 Eq_12124) ebpOut, Register out ptr32 ediOut)
Eq_4 fn004084DF(Eq_4 ebp, Eq_4 dwArg04, Eq_12124 * & ebpOut, ptr32 & ediOut)
{
	*ebpOut = ebp;
	*ediOut = edi;
	Eq_4 eax_25 = *((word32) dwArg04 + 0x0C);
	byte al_9 = (byte) eax_25;
	if ((al_9 & 131) != 0x00 && (al_9 & 0x08) != 0x00)
	{
		word32 edx_41;
		word32 ebx_42;
		word32 ebp_43;
		word32 edi_44;
		fn0040403C(ebp, *((word32) dwArg04 + 0x08), out edx_41, out ebx_42, out ebp_43, out edi_44);
		*((word32) dwArg04 + 0x0C) &= ~0x0408;
		*dwArg04 = 0x00;
		((word32) dwArg04 + 0x08)->u0 = 0x00;
		*((word32) dwArg04 + 0x04) = 0x00;
		eax_25.u0 = 0x00;
	}
	return eax_25;
}

// 0040850A: Register ui32 fn0040850A(Register Eq_4 ecx, Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Stack Eq_4 dwArg04, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
ui32 fn0040850A(Eq_4 ecx, Eq_3 edx, Eq_4 ebx, Eq_4 esi, Eq_4 edi, Eq_4 dwArg04, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & esiOut, ptr32 & ediOut)
{
	*esiOut = esi;
	*edxOut = edx;
	*ebxOut = ebx;
	*ediOut = edi;
	ui32 eax_31;
	ptr32 ebp_34 = fp - 0x04;
	int32 eax_22 = GetLocaleInfoA(dwArg04, 0x1004, fp - 0x10, 0x06);
	if (eax_22 == 0x00)
		eax_31 = eax_22 | ~0x00;
	else
		eax_31 = fn004089CE(ecx, edx, ebx, esi, edi, fp - 0x10, out edx, out ebx, out ebp_34, out edi);
	fn004041A2(*(ebp_34 - 0x04), edx, ebx, esi, edi);
	return eax_31;
}

// 0040854D: Register word32 fn0040854D(Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out (ptr32 Eq_12862) ebpOut, Register out ptr32 ediOut)
word32 fn0040854D(Eq_3 edx, Eq_4 ebx, Eq_4 esi, Eq_4 edi, ptr32 & edxOut, ptr32 & ebxOut, Eq_12862 * & ebpOut, ptr32 & ediOut)
{
	*edxOut = edx;
	word32 eax_133;
	Eq_4 ebp_10 = fn00403BD0(ebx, esi, edi, dwLoc0C, 4234648, 0x38);
	*(ebp_10 - 0x1C) = (union Eq_4 *) globals->t40B498;
	*(ebp_10 - 0x34) = 0x00;
	*(ebp_10 - 0x44) = 0x00;
	Eq_4 ebx_130 = **((word32) ebp_10 + 0x0014);
	*(ebp_10 - 0x40) = (union Eq_4 *) ebx_130;
	*(ebp_10 - 0x3C) = 0x00;
	Eq_4 edi_14 = 0x00;
	Eq_4 eax_21 = *((word32) ebp_10 + 0x08);
	if (eax_21 == *((word32) ebp_10 + 0x0C))
	{
		ebx_130 = *(ebp_10 - 0x48);
		goto l004086F6;
	}
	if (GetCPInfo(eax_21, ebp_10 - 0x30) != 0x00 && (*(ebp_10 - 0x30) == 0x01 && (GetCPInfo(*((word32) ebp_10 + 0x0C), ebp_10 - 0x30) != 0x00 && *(ebp_10 - 0x30) == 0x01)))
		*(ebp_10 - 0x3C) = 0x01;
	Eq_4 dwLoc0C_107 = ebp_10 - 0x30;
	if (*(ebp_10 - 0x3C) != 0x00)
	{
		if (ebx_130 != ~0x00)
			esi = ebx_130;
		else
		{
			Eq_4 v23_345 = *((word32) ebp_10 + 0x0010);
			dwLoc0C_107 = v23_345;
			esi = (word32) fn00404080(v23_345, out edx) + 0x01;
		}
		*(ebp_10 - 0x38) = (union Eq_4 *) esi;
	}
	else
		esi = *(ebp_10 - 0x38);
	if (*(ebp_10 - 0x3C) == 0x00)
	{
		Eq_4 eax_327 = MultiByteToWideChar(*((word32) ebp_10 + 0x08), 0x01, *((word32) ebp_10 + 0x0010), ebx_130, 0x00, 0x00);
		*(ebp_10 - 0x38) = (union Eq_4 *) eax_327;
		dwLoc0C_107.u0 = 0x00;
		esi = eax_327;
		if (eax_327 == 0x00)
			goto l0040864A;
	}
	*(ebp_10 - 0x04) = 0x00;
	fn00403D30(esi * 0x02 + 0x03 & ~0x03, dwLoc0C_107);
	*(ebp_10 - 0x18) = fp - 0x08;
	*(ebp_10 - 0x48) = fp - 0x08;
	*(fp - 0x0C) = esi * 0x02;
	*(fp - 0x10) = 0x00;
	*(fp - 0x14) = fp - 0x08;
	*edxOut = fn004045E0(dwArg00, bArg04, dwArg08);
	*(ebp_10 - 0x04) |= ~0x00;
	ebx_130 = fp - 0x08;
	if (fp == 0x08)
	{
		*(fp - 0x0C) = (union Eq_4 *) esi;
		*(fp - 0x10) = 0x02;
		Eq_4 eax_304 = fn00404245(dwArg00, dwArg04, out edx);
		ebx_130 = eax_304;
		if (eax_304 == 0x00)
		{
l0040864A:
			eax_133 = 0x00;
			goto l00408705;
		}
		*(ebp_10 - 0x44) = 0x01;
	}
	*(fp - 0x0C) = (union Eq_4 *) esi;
	*(fp - 0x10) = (union Eq_4 *) ebx_130;
	*(fp - 0x14) = *(ebp_10 - 0x40);
	*(fp - 0x18) = (union Eq_4 *) *((word32) ebp_10 + 0x0010);
	*(fp - 0x1C) = 0x01;
	*(fp - 0x20) = (union Eq_4 *) *((word32) ebp_10 + 0x08);
	if (MultiByteToWideChar(*(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C)) != 0x00)
	{
		if (*((word32) ebp_10 + 0x0018) != 0x00)
		{
			*(fp - 0x0C) = 0x00;
			*(fp - 0x10) = 0x00;
			*(fp - 0x14) = (union Eq_4 *) *((word32) ebp_10 + 0x001C);
			*(fp - 0x18) = (union Eq_4 *) *((word32) ebp_10 + 0x0018);
			*(fp - 0x1C) = (union Eq_4 *) esi;
			*(fp - 0x20) = (union Eq_4 *) ebx_130;
			*(fp - 0x24) = 0x00;
			*(fp - 0x28) = (union Eq_4 *) *((word32) ebp_10 + 0x0C);
			if (WideCharToMultiByte(*(fp - 0x28), *(fp - 0x24), *(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C)) != 0x00)
				*(ebp_10 - 0x34) = (union Eq_4 *) *((word32) ebp_10 + 0x0018);
			goto l004086F6;
		}
		if (*(ebp_10 - 0x3C) != 0x00)
		{
l004086B3:
			*(fp - 0x0C) = (union Eq_4 *) esi;
			*(fp - 0x10) = 0x01;
			Eq_4 eax_233 = fn00404245(dwArg00, dwArg04, out edx);
			*(ebp_10 - 0x34) = (union Eq_4 *) eax_233;
			if (eax_233 != 0x00)
			{
				*(fp - 0x0C) = 0x00;
				*(fp - 0x10) = 0x00;
				*(fp - 0x14) = (union Eq_4 *) esi;
				*(fp - 0x18) = (union Eq_4 *) eax_233;
				*(fp - 0x1C) = (union Eq_4 *) esi;
				*(fp - 0x20) = (union Eq_4 *) ebx_130;
				*(fp - 0x24) = 0x00;
				*(fp - 0x28) = (union Eq_4 *) *((word32) ebp_10 + 0x0C);
				Eq_4 eax_258 = WideCharToMultiByte(*(fp - 0x28), *(fp - 0x24), *(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
				if (eax_258 == 0x00)
				{
					*(fp - 0x0C) = *(ebp_10 - 0x34);
					fn0040403C(ebp_10, dwArg00, out edx, out ebx_130, out ebp_10, out edi_14);
					*(ebp_10 - 0x34) = (union Eq_4 *) edi_14;
				}
				else if (*(ebp_10 - 0x40) != ~0x00)
					**((word32) ebp_10 + 0x0014) = eax_258;
			}
			goto l004086F6;
		}
		*(fp - 0x0C) = 0x00;
		*(fp - 0x10) = 0x00;
		*(fp - 0x14) = 0x00;
		*(fp - 0x18) = 0x00;
		*(fp - 0x1C) = (union Eq_4 *) esi;
		*(fp - 0x20) = (union Eq_4 *) ebx_130;
		*(fp - 0x24) = 0x00;
		*(fp - 0x28) = (union Eq_4 *) *((word32) ebp_10 + 0x0C);
		Eq_4 eax_294 = WideCharToMultiByte(*(fp - 0x28), *(fp - 0x24), *(fp - 0x20), *(fp - 0x1C), *(fp - 0x18), *(fp - 0x14), *(fp - 0x10), *(fp - 0x0C));
		esi = eax_294;
		if (eax_294 != 0x00)
			goto l004086B3;
	}
l004086F6:
	if (*(ebp_10 - 0x44) != edi_14)
	{
		*(fp - 0x0C) = (union Eq_4 *) ebx_130;
		fn0040403C(ebp_10, dwArg00, out edx, out ebx_130, out ebp_10, out edi_14);
	}
	eax_133 = *(ebp_10 - 0x34);
l00408705:
	fn004041A2(*(ebp_10 - 0x1C), edx, ebx_130, esi, edi_14);
	word32 ebx_45;
	word32 ebp_46;
	word32 esi_47;
	word32 edi_48;
	fn00403C0B(ebp_10, 0x38, dwArg00, dwArg04, dwArg08, out ebx_45, out ebp_46, out esi_47, out edi_48);
	return eax_133;
}

// 004089CE: Register int32 fn004089CE(Register Eq_4 ecx, Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Stack Eq_4 dwArg04, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 ediOut)
int32 fn004089CE(Eq_4 ecx, Eq_3 edx, Eq_4 ebx, Eq_4 esi, Eq_4 edi, Eq_4 dwArg04, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & ediOut)
{
	*ediOut = edi;
	*ebpOut = ebp;
	Eq_4 esi_14 = dwArg04;
	while (true)
	{
		*(fp - 0x08) = (word32) *esi_14;
		struct Eq_16048 * esi_25;
		word32 eax_26 = fn00408A26(ecx, edx, ebx, esi_14, edi, dwArg00, bArg02, bArg03, out edx, out ebx, out esi_25);
		ecx = *(fp - 0x08);
		if (eax_26 == 0x00)
			break;
		esi_14 = &esi_25->b0001;
	}
	int32 ecx_39;
	int32 ecx_32 = (word32) esi_25->b0000;
	byte * esi_33 = &esi_25->b0001;
	word32 edx_36;
	*edxOut = ecx_32;
	if (ecx_32 != 0x2D)
	{
		ecx_39 = ecx_32;
		if (ecx_32 != 0x2B)
		{
l004089F8:
			int32 eax_41 = 0x00;
			while (true)
			{
				int32 ecx_53;
				if (ecx_39 >= 0x30 && ecx_39 <= 0x39)
					ecx_53 = ecx_39 - 0x30;
				else
					ecx_53 = ecx_39 | ~0x00;
				if (ecx_53 == ~0x00)
					break;
				eax_41 = ecx_53 + eax_41 * 0x0A;
				ecx_39 = (word32) *esi_33;
				++esi_33;
			}
			if (ecx_32 == 0x2D)
				eax_41 = -eax_41;
			return eax_41;
		}
	}
	ecx_39 = (word32) esi_25->b0001;
	esi_33 = (byte *) (&esi_25->b0001 + 0x01);
	goto l004089F8;
}

// 00408A26: Register Eq_4 fn00408A26(Register Eq_4 ecx, Register Eq_3 edx, Register Eq_4 ebx, Register Eq_4 esi, Register Eq_4 edi, Stack Eq_4 dwArg04, Stack byte bArg06, Stack byte bArg07, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 esiOut)
Eq_4 fn00408A26(Eq_4 ecx, Eq_3 edx, Eq_4 ebx, Eq_4 esi, Eq_4 edi, Eq_4 dwArg04, byte bArg06, byte bArg07, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & esiOut)
{
	*edxOut = edx;
	*ebxOut = ebx;
	*esiOut = esi;
	if (dwArg04 <= 0xFF)
	{
		if (globals->t40B4A0 <= 0x01)
			return (word32) globals->ptr40B490[dwArg04].t0000 & 0x08;
		word32 edx_144;
		word32 ebx_145;
		word32 edi_146;
		return fn00404318(ebx, esi, edi, dwArg04, out edx_144, out ebx_145, out edi_146);
	}
	else
	{
		if (globals->dw40BC98 == 0x00)
			return 0x00;
		word32 ecx_113;
		word32 edx_114;
		word32 ebx_115;
		ptr32 ebp_116;
		word32 esi_117;
		word32 edi_118;
		if (fn004070AD(dwArg04, edx, ebx, esi, edi, out ecx_113, out edx_114, out ebx_115, out ebp_116, out esi_117, out edi_118) == 0x00 || (*(ebp_116 - 0x02) != 0x00 || (*(ebp_116 - 0x04) & 0x08) == 0x00))
			return 0x00;
		return 0x01;
	}
}

