// subject_fini.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_fini.h"

// 0804894C: void _fini()
void _fini()
{
	struct Eq_125 * ecx_9 = g_ptr804999C;
	if (ecx_9->ptrFFFFFFEC != null)
		ecx_9->ptrFFFFFFEC();
}

// subject_init.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_init.h"

// 08048924: void _init()
// Called from:
//      _start
void _init()
{
	struct Eq_114 * ecx_9 = g_ptr8049998;
	if (ecx_9->ptrFFFFFFF8 != null)
		ecx_9->ptrFFFFFFF8();
}

// subject_plt.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_plt.h"

// 080487A4: void atexit()
void atexit()
{
}

// 080487B4: void __fpstart()
void __fpstart()
{
}

// 080487C4: void exit()
void exit()
{
}

// 080487D4: void printf()
void printf()
{
}

// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_text.h"

// 080487E4: void _start(Register (ptr32 Eq_2) edx, Stack int32 dwArg00)
void _start(void (* edx)(), int32 dwArg00)
{
	if (0x080499A0 != 0x00)
		atexit(edx);
	atexit(&g_t804894C);
	ptr32 edx_21 = fp + 0x08 + dwArg00 * 0x04;
	g_ptr8049A8C = edx_21;
	g_ptr8049AA8 = fp + 0x04;
	__fpstart();
	fn0804884C();
	_init();
	exit(main(dwArg00));
}

// 08048848: void _mcount()
void _mcount()
{
}

// 0804884C: void fn0804884C()
// Called from:
//      _start
void fn0804884C()
{
	if (0x00 != 0x00)
	{
		cui16 wLoc10_89;
		__wait();
		uint16 wLoc10_83 = __fstcw();
		cui16 wLoc10_88 = SEQ(SLICE(wLoc10_83 & 0xF0C0, byte, 8), (byte) (wLoc10_83 & 0xF0C0) | g_b8049AD3);
		if (!__bt(0x00, 0x0A))
			wLoc10_89 = wLoc10_88;
		else
		{
			word32 edx_36;
			__btc(0x00, 11, out edx_36);
			wLoc10_89 = wLoc10_88 | (word16) edx_36;
		}
		cui16 v16_55 = wLoc10_89 | 0x0300;
		__fldcw(v16_55 | 0x02);
		__fldcw(v16_55 | 0x02);
		if (false)
			g_dw8049AB0 = 0x01;
	}
}

// 080488F0: Register word32 main(Stack int32 dwArg04)
// Called from:
//      _start
word32 main(int32 dwArg04)
{
	int32 eax_13 = dwArg04;
	if (dwArg04 < ~0x01)
		eax_13 = ~0x01;
	else if (dwArg04 > 0x03)
		eax_13 = 0x03;
	printf(&g_b8049AD4, eax_13);
	return 0x00;
}

