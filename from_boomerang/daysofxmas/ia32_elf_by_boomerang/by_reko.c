// subject_fini.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_fini.h"

// 080484F0: void _fini()
void _fini()
{
	__do_global_dtors_aux();
}

// subject_init.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_init.h"

// 08048258: void _init(Register word32 edx)
void _init(word32 edx)
{
	call_gmon_start();
	frame_dummy();
	__do_global_ctors_aux(edx);
}

// subject_plt.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_plt.h"

// 08048280: void __libc_start_main()
void __libc_start_main()
{
}

// 08048290: void _IO_putc()
void _IO_putc()
{
}

// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_text.h"

// 080482A0: void _start(Register (ptr32 Eq_13) edx, Stack int32 dwArg00)
void _start(void (* edx)(), int32 dwArg00)
{
	__align((char *) fp + 4);
	__libc_start_main(&g_t8048350, dwArg00, (char *) fp + 4, &g_t8048258, &g_t80484F0, edx, fp);
	__hlt();
}

// 080482C4: void call_gmon_start()
// Called from:
//      _init
void call_gmon_start()
{
	<anonymous> * eax_16 = g_ptr804981C;
	if (eax_16 != null)
		eax_16();
}

// 080482E8: void __do_global_dtors_aux()
// Called from:
//      _fini
void __do_global_dtors_aux()
{
	if (g_b8049824 == 0x00)
	{
		<anonymous> ** eax_11 = g_ptr8049724;
		<anonymous> * edx_12 = *eax_11;
		while (edx_12 != null)
		{
			<anonymous> ** eax_19 = (char *) eax_11 + 4;
			g_ptr8049724 = eax_19;
			edx_12();
			eax_11 = g_ptr8049724;
			edx_12 = (<anonymous> *) *eax_11;
		}
		g_b8049824 = 0x01;
	}
}

// 08048324: void frame_dummy()
// Called from:
//      _init
void frame_dummy()
{
	if (g_dw8049804 != 0x00 && 0x00 != 0x00)
		fn00000000();
}

// 08048350: Register (ptr32 Eq_81) main(Stack (ptr32 Eq_81) dwArg04, Stack (ptr32 Eq_81) dwArg08, Stack (ptr32 Eq_81) dwArg0C)
// Called from:
//      main
struct Eq_81 * main(struct Eq_81 * dwArg04, struct Eq_81 * dwArg08, struct Eq_81 * dwArg0C)
{
	struct Eq_81 * ebx_114;
	struct Eq_81 * eax_258;
	__align(fp - 0x1C);
	if (dwArg04 > (struct Eq_81 *) 0x01)
	{
		if (dwArg04 <= (struct Eq_81 *) 0x02)
			main((struct Eq_81 *) ~0x4E, (struct Eq_81 *) ~0x0C, main((struct Eq_81 *) ~0x56, 0x01 - dwArg08, main((struct Eq_81 *) ~0x55, null, &dwArg0C->b0000 + 1) + dwArg0C) + dwArg0C);
		if (dwArg04 < dwArg08)
			main(&dwArg04->b0000 + 1, dwArg08, dwArg0C);
		if (main((struct Eq_81 *) ~0x5D, dwArg04 - 0x1B, dwArg0C) == null || dwArg04 != (struct Eq_81 *) 0x02)
		{
			ebx_114 = (struct Eq_81 *) 0x10;
			return ebx_114;
		}
		if (dwArg08 > (struct Eq_81 *) 0x0C)
		{
			ebx_114 = (struct Eq_81 *) 0x09;
			return ebx_114;
		}
	}
	else
	{
		if (dwArg04 < null)
		{
			if (dwArg04 >= (struct Eq_81 *) ~0x47)
			{
				if (dwArg04 < (struct Eq_81 *) ~0x31)
				{
					if (dwArg08 == (int32) dwArg0C->b0000)
					{
						eax_258 = _IO_putc((int32) dwArg0C->b001F, g_ptr8049820);
						goto l080483BF;
					}
				}
				else
					dwArg0C->b0000 == 0x2F;
			}
			goto l080483BA;
		}
		if (dwArg04 <= null)
		{
			byte dl_77 = dwArg0C->b0000;
			ebx_114 = null;
			if (dl_77 != 0x2F)
			{
				// Failed to bind call argument.
				// Please report this issue at https://github.com/uxmal/reko
				struct Eq_81 * stackArg12 = (struct Eq_81 *) <invalid>;
				if (main(null, main((struct Eq_81 *) ~0x3C, (int32) dl_77, &g_t8048540), stackArg12) == null)
					return ebx_114;
			}
			ebx_114 = (struct Eq_81 *) 0x01;
			return ebx_114;
		}
	}
l080483BA:
	// Failed to bind call argument.
	// Please report this issue at https://github.com/uxmal/reko
	// Failed to bind call argument.
	// Please report this issue at https://github.com/uxmal/reko
	// Failed to bind call argument.
	// Please report this issue at https://github.com/uxmal/reko
	struct Eq_81 * stackArg4 = (struct Eq_81 *) <invalid>;
	struct Eq_81 * stackArg8 = (struct Eq_81 *) <invalid>;
	struct Eq_81 * stackArg12 = (struct Eq_81 *) <invalid>;
	eax_258 = main(stackArg4, stackArg8, stackArg12);
l080483BF:
	ebx_114 = eax_258;
	return ebx_114;
}

// 080484CC: void __do_global_ctors_aux(Register word32 edx)
// Called from:
//      _init
void __do_global_ctors_aux(word32 edx)
{
	<anonymous> * eax_14 = g_ptr80497F4;
	word32 * ebx_16 = &g_ptr80497F4;
	while (eax_14 != (<anonymous> *) ~0x00)
	{
		eax_14();
		ebx_16 -= 0x04;
		eax_14 = *ebx_16;
	}
}

