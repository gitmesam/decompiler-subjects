// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 004019E0: Register Eq_2 Win32CrtStartup()
DWORD Win32CrtStartup()
{
	fs->ptr0000 = fp - 0x0014;
	__set_app_type(0x02);
	globals->dw40312C = ~0x00;
	globals->dw403130 = ~0x00;
	*__p__fmode() = globals->dw403120;
	*__p__commode() = globals->dw40311C;
	globals->dw403128 = *adjust_fdiv;
	fn00401BE0();
	if (globals->dw403040 == 0x00)
		__setusermatherr(&globals->t401BD0);
	fn00401BB0();
	_initterm(&globals->t403010, &globals->t403014);
	int32 eax_71 = __getmainargs(fp - 100, fp - 116, fp - 0x68, globals->dw403114);
	_initterm(&globals->t403000, &globals->t40300C);
	ptr32 esp_79;
	word32 ebp_80;
	cu8 ** eax_81;
	struct Eq_83 * fs_82;
	byte SCZO_83;
	word32 ebx_84;
	word32 esi_85;
	word32 edi_86;
	word32 ecx_87;
	word32 edx_88;
	byte SZO_89;
	bool C_90;
	bool Z_91;
	byte al_92;
	byte CZ_93;
	_p__acmdln();
	cu8 * esi_101 = *eax_81;
	if (*esi_101 == 0x22)
	{
		do
		{
			++esi_101;
			cu8 al_161 = *esi_101;
		} while (al_161 != 0x00 && al_161 != 0x22);
		if (*esi_101 == 0x22)
			++esi_101;
	}
	else
	{
		while (*esi_101 > 0x20)
			++esi_101;
	}
	while (true)
	{
		cu8 al_103 = *esi_101;
		if (al_103 == 0x00 || al_103 > 0x20)
			break;
		++esi_101;
	}
	ui32 eax_121;
	*(esp_79 - 0x04) = fp - 0x60;
	GetStartupInfoA(*(esp_79 - 0x04));
	if (0x00 != 0x00)
		eax_121 = dwLoc30 & 0xFFFF;
	else
		eax_121 = 0x0A;
	*(esp_79 - 0x04) = eax_121;
	*(esp_79 - 0x08) = (cu8 **) esi_101;
	*(esp_79 - 0x0C) = 0x00;
	*(esp_79 - 0x0010) = 0x00;
	Eq_190 eax_131 = GetModuleHandleA(*(esp_79 - 0x0010));
	*(esp_79 - 0x10) = (HMODULE *) eax_131;
	fn00401BFC(dwArg00, dwArg04, dwArg08, dwArg0C);
	*(esp_79 - 0x04) = (HMODULE *) eax_131;
	exit(*(esp_79 - 0x04));
}

// 00401BB0: void fn00401BB0()
void fn00401BB0()
{
	_controlfp(0x00010000, 0x00030000);
}

// 00401BE0: void fn00401BE0()
void fn00401BE0()
{
}

// 00401BFC: void fn00401BFC(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
void fn00401BFC(word32 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10)
{
	word32 esp_18;
	MFC42.DLL!Ordinal_1576();
}

