// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0001095C: void _start(Register (ptr Eq_2) g1, Register int32 o7, Stack int32 dwArg40)
void _start( * g1, int32 o7, int32 dwArg40)
{
	if (g1 == null)
	{
		atexit(&globals->t11668);
		_init(o7);
		globals->ptr219E0 = fp + 0x44 + ((dwArg40 << 0x02) + 0x04);
		main();
		exit(dwArg40);
	}
	else
		atexit(g1);
}

// 000109D0: void __do_global_dtors_aux(Register int32 o7)
void __do_global_dtors_aux(int32 o7)
{
	fn000109DC(o7, 0x00010C00);
}

// 000109DC: void fn000109DC(Register int32 o7, Register ui32 l7)
void fn000109DC(int32 o7, ui32 l7)
{
	struct Eq_42 * l7_24 = (l7 | 0xF0) + o7;
	word32 ** o1_9 = l7_24->ptr000C;
	if (**o1_9 != 0x00)
	{
		word32 ** l0_40 = o1_9;
		word32 * o0_41 = *o1_9;
		while (true)
		{
			struct Eq_71 * o0_44 = o0_41 + 0x01;
			*l0_40 = (word32 **) o0_44;
			<anonymous> * o0_46 = o0_44->ptrFFFFFFFC;
			word32 sp_60;
			word32 o0_63;
			word32 o1_64;
			word32 g0_65;
			byte NZVC_66;
			bool Z_67;
			word32 i7_69;
			word32 i0_70;
			word32 i1_71;
			word32 o2_72;
			word32 i2_73;
			word32 o3_74;
			word32 i3_75;
			word32 o4_76;
			word32 i4_77;
			word32 o5_78;
			word32 i5_79;
			word32 i6_80;
			o0_46();
			if (**l0_40 == 0x00)
				break;
			o0_41 = *l0_40;
		}
	}
	__deregister_frame_info(l7_24->dw0004, o7);
}

// 00010A4C: void fini_dummy()
void fini_dummy()
{
}

// 00010A58: void frame_dummy(Register int32 o7)
void frame_dummy(int32 o7)
{
	fn00010A64(o7, 0x00010C00);
}

// 00010A64: void fn00010A64(Register int32 o7, Register ui32 l7)
void fn00010A64(int32 o7, ui32 l7)
{
	struct Eq_117 * l7_5 = (l7 | 0x68) + o7;
	__register_frame_info(l7_5->dw0004, l7_5->ptr0008, o7);
}

// 00010A90: void init_dummy()
void init_dummy()
{
}

// 00010A9C: Register int32 fib(Register int32 o0, Register out ptr32 l0Out, Register out ptr32 i0Out)
int32 fib(int32 o0, ptr32 & l0Out, ptr32 & i0Out)
{
	int32 i0_24;
	*i0Out = o0;
	word32 l0_19;
	*l0Out = o0;
	if (o0 > 0x01)
	{
		word32 l0_36;
		word32 i0_37;
		fib(o0 + ~0x00, out l0_36, out i0_37);
		word32 l0_41;
		word32 i0_42;
		word32 o0_43 = fib(l0_36 + ~0x01, out l0_41, out i0_42);
		*i0Out = i0_42 + o0_43;
	}
	return i0_24;
}

// 00010AD0: void main()
void main()
{
}

// 00010B30: Register (ptr byte) decode_uleb128(Register (ptr byte) o0, Register (ptr ui32) o1)
byte * decode_uleb128(byte * o0, ui32 * o1)
{
	word32 o2_17 = 0x00;
	ui32 o3_16 = 0x00;
	while (true)
	{
		ui32 g3_9 = (word32) *o0;
		o0 = o0 + 0x01;
		ui32 g2_12 = (g3_9 & 0x7F) << o2_17;
		if ((g3_9 & 0x80) == 0x00)
			break;
		o3_16 = o3_16 | g2_12;
		o2_17 = o2_17 + 0x07;
	}
	ui32 o3_18 = o3_16 | g2_12;
	*o1 = o3_18;
	return o0;
}

// 00010B64: Register (ptr byte) decode_sleb128(Register (ptr byte) o0, Register (ptr ui32) o1)
byte * decode_sleb128(byte * o0, ui32 * o1)
{
	word32 g3_2 = 0x07;
	ui32 o2_13 = 0x00;
	while (true)
	{
		ui32 o3_9 = (word32) *o0;
		o0 = o0 + 0x01;
		o2_13 = o2_13 | (o3_9 & 0x7F) << g3_2;
		if ((o3_9 & 0x80) == 0x00)
			break;
		g3_2 = g3_2 + 0x07;
	}
	up32 g3_17 = g3_2 + 0x00;
	if (g3_17 < 0x1F && (o3_9 & 0x40) != 0x00)
		o2_13 = o2_13 | ~0x00 << g3_17;
	*o1 = o2_13;
	return o0;
}

// 00010BB0: void fde_insert(Register (arr (ptr Eq_231)) o0, Register ui32 o1, Register (ptr Eq_231) o2)
void fde_insert(Eq_231 * o0[], ui32 o1, Eq_231 * o2)
{
}

// 00010BF8: Register (ptr Eq_231) count_fdes(Register (ptr Eq_231) o0)
Eq_231 * count_fdes(Eq_231 * o0)
{
	struct Eq_231 * o1_17 = null;
	if (o0->dw0000 != 0x00)
	{
		while (true)
		{
			int32 g2_25;
			if (o0[0x01] != 0x00)
			{
				if (o0[0x02] != 0x00)
					o1_17 = (struct Eq_231 *) ((char *) &o1_17->dw0000 + 0x01);
				g2_25 = o0->dw0000;
			}
			else
				g2_25 = o0->dw0000;
			struct Eq_287 * g2_26 = o0 + g2_25 / 0x04;
			if (g2_26->dw0004 == 0x00)
				break;
			o0 = (struct Eq_231 *) &g2_26->dw0004;
		}
	}
	return o1_17;
}

// 00010C4C: Register ui32 add_fdes(Register (ptr Eq_231) o0, Register (ptr (arr (ptr Eq_231))) o1, Register (ptr ui32) o2, Register (ptr word32) o3, Register (ptr word32) o4, Register out ptr32 l1Out, Register out (ptr Eq_316) i0Out, Register out (ptr Eq_317) i6Out)
ui32 add_fdes(Eq_231 * o0, Eq_231 * * o1[], ui32 * o2, word32 * o3, word32 * o4, ptr32 & l1Out, Eq_316 * & i0Out, Eq_317 * & i6Out)
{
	up32 l1_106;
	struct Eq_231 * i0_4 = o0;
	*i0Out = i0_4;
	word32 i6_15;
	*i6Out = fp;
	ui32 l0_107 = *o2;
	up32 l2_100 = *o3;
	if (o0->dw0000 != 0x00)
	{
		*l1Out = *o4;
		while (true)
		{
			int32 o0_111;
			if (i0_4[0x01] != 0x00)
			{
				if (i0_4[0x02] != 0x00)
				{
					fde_insert(o1, l0_107, i0_4);
					up32 o1_95 = i0_4[0x02];
					if (o1_95 - l2_100 < 0x00)
					{
						l0_107 = l0_107 + 0x01;
						l2_100 = o1_95;
					}
					else
						l0_107 = l0_107 + 0x01;
					up32 o0_102 = (word32) i0_4[0x03].dw0000 + o1_95;
					if (o0_102 - l1_106 >= 0x00)
						*l1Out = o0_102;
				}
				o0_111 = i0_4->dw0000;
			}
			else
				o0_111 = i0_4->dw0000;
			struct Eq_360 * o0_71 = i0_4 + o0_111 / 0x04;
			if (o0_71->dw0004 == 0x00)
				break;
			i0_4 = (struct Eq_231 *) &o0_71->dw0004;
		}
		word32 i0_76;
		*i0Out = (word32 *) &o0_71->dw0004;
	}
	else
		*l1Out = *o4;
	*o2 = l0_107;
	*o3 = l2_100;
	*o4 = l1_106;
	return l0_107;
}

// 00010CE8: Register (ptr Eq_405) frame_init(Register (ptr Eq_406) o0, Register out ptr32 l1Out)
Eq_405 * frame_init(Eq_406 * o0, ptr32 & l1Out)
{
	uint32 o0_102;
	struct Eq_406 * i0_38 = o0;
	struct Eq_410 * i6_15 = fp;
	struct Eq_405 * o0_20 = o0[0x03];
	if (o0_20 != null)
	{
		struct Eq_405 * l0_104 = o0_20;
		uint32 dwLoc14_105 = 0x00;
		if (o0_20->dw0000 != 0x00)
		{
			do
			{
				uint32 o1_117 = dwLoc14_105 + count_fdes(l0_104->dw0000);
				l0_104 = l0_104 + 0x01;
				dwLoc14_105 = o1_117;
			} while (l0_104->dw0000 != 0x00);
			o0_102 = o1_117;
			o0[0x04] = (struct Eq_406) o1_117;
l00010D54:
			struct Eq_405 * l0_40;
			word32 o1_44;
			struct Eq_231 * (* l1_37)[];
			struct Eq_231 * (* o0_27)[] = malloc(o0_102 << 0x02);
			struct Eq_405 * o1_33 = o0[0x03];
			if (o1_33 != null)
			{
				*l1Out = o0_27;
				l0_40 = o1_33;
				if (o1_33->dw0000 != 0x00)
				{
					struct Eq_231 * (* o1_65)[] = o0_27;
					while (true)
					{
						struct Eq_405 * l0_76 = add_fdes(l0_40->dw0000, o1_65, &i6_15->dwFFFFFFE8 + 0x01, &i6_15->dwFFFFFFE8, &i6_15->dwFFFFFFE4, out l1_37, out i0_38, out i6_15);
						l0_40 = l0_76 + 0x01;
						if (l0_76[0x01] == 0x00)
							break;
						o1_65 = l1_37;
					}
					o1_44 = i6_15->dwFFFFFFE8;
				}
				else
					o1_44 = ~0x00;
			}
			else
			{
				l0_40 = add_fdes(o0[0x02], o0_27, &fp->dwFFFFFFE8 + 0x01, &fp->dwFFFFFFE8, &fp->dwFFFFFFE4, out l1_37, out i0_38, out i6_15);
				o1_44 = i6_15->dwFFFFFFE8;
			}
			i0_38[0x03] = (struct Eq_406) l1_37;
			word32 o0_46 = i6_15->dwFFFFFFE4;
			i0_38->dw0000 = o1_44;
			i0_38[0x01] = (struct Eq_406) o0_46;
			return l0_40;
		}
		o0_102 = 0x00;
	}
	else
		o0_102 = count_fdes(o0[0x02]);
	o0[0x04] = (struct Eq_406) o0_102;
	goto l00010D54;
}

// 00010DF8: void find_fde(Register (ptr Eq_531) o0, Register int32 o7)
void find_fde(Eq_531 * o0, int32 o7)
{
	fn00010E04(o7, 0x00010800, o0);
}

// 00010E04: void fn00010E04(Register int32 o7, Register ui32 l7, Register (ptr Eq_531) i0)
void fn00010E04(int32 o7, ui32 l7, Eq_531 * i0)
{
}

// 00010EE0: void extract_cie_info(Register (ptr Eq_531) o0, Register (ptr Eq_636) o1, Register int32 o7)
void extract_cie_info(Eq_531 * o0, Eq_636 * o1, int32 o7)
{
	fn00010EEC(o7, 0x00010400, o0, o1, fp);
}

// 00010EEC: void fn00010EEC(Register int32 o7, Register ui32 l7, Register (ptr Eq_531) i0, Register (ptr Eq_636) i1, Register ptr32 i6)
void fn00010EEC(int32 o7, ui32 l7, Eq_531 * i0, Eq_636 * i1, ptr32 i6)
{
	struct Eq_648 * l7_5 = (l7 | 992) + o7;
	char * o1_9 = l7_5->ptr0010;
	word32 o0_13 = i0 - i0->dw0004;
	i1->ptr0000 = o0_13 + 0x0D;
	if (strcmp(o0_13 + 0x0D, o1_9) == 0x00 || (strcmp(i1->ptr0000, l7_5->ptr0014) == 0x00 || (int32) (*i1->ptr0000) == 122))
	{
		Eq_458 o0_43 = strlen(i1->ptr0000);
		char * o2_46 = i1->ptr0000;
		word32 l0_49 = o2_46 + o0_43;
		byte * i0_50 = &l0_49->b0001;
		if (strcmp(o2_46, l7_5->ptr0014) == 0x00)
		{
			i1->dw0004 = (word32) l0_49->b0004 | ((word32) l0_49->b0003 << 0x08 | ((word32) l0_49->b0002 << 0x10 | (word32) l0_49->b0001 << 0x18));
			i0_50 = (byte *) (&l0_49->b0004 + 0x01);
		}
		else
			i1->dw0004 = 0x00;
		byte * o0_63 = decode_sleb128(decode_uleb128(i0_50, &i1->dw0004 + 0x01), &i1->dw0004 + 0x02);
		char * o1_66 = i1->ptr0000;
		i1->dw0010 = (word32) *o0_63;
		if ((int32) *o1_66 == 122)
			decode_uleb128(o0_63 + 0x01, i6 + ~0x13);
	}
}

// 00011008: Register (ptr Eq_531) execute_cfa_insn(Register (ptr Eq_531) o0, Register ptr32 o1, Register (ptr word32) o2, Register (ptr word32) o3, Register int32 o7, Register out ptr32 i0Out, Register out (ptr void) i1Out, Register out (ptr Eq_792) i6Out)
Eq_531 * execute_cfa_insn(Eq_531 * o0, ptr32 o1, word32 * o2, word32 * o3, int32 o7, ptr32 & i0Out, void, Eq_792 * & i6Out)
{
	struct Eq_531 * i0_38;
	ptr32 i1_6 = o1;
	*i1Out = i1_6;
	ptr32 i6_15 = fp;
	*i6Out = i6_15;
	uint32 o2_20 = (word32) o0->t0000;
	if ((o2_20 & 0x40) == 0x00)
	{
		*i0Out = (char *) &o0->t0000 + 0x01;
		if ((o2_20 & 0x80) == 0x00)
		{
			if ((o2_20 & 0xC0) == 0x00)
			{
				if (o2_20 >= 0x2E)
					abort();
				else
					fn0001107C(o7 + 0x14, o2_20 << 0x02);
			}
			else
			{
				(o1 + (o2_20 & 0x3F))->b01AC = 0x00;
				return i0_38;
			}
		}
		else
		{
			decode_uleb128((char *) &o0->t0000 + 0x01, fp + ~0x13);
			word32 sp_93;
			word32 o0_95;
			ptr32 i1_96;
			word32 o1_97;
			word32 i2_98;
			word32 o2_99;
			word32 i3_100;
			word32 o3_101;
			word32 i4_102;
			word32 o4_103;
			word32 i5_104;
			word32 o5_105;
			word32 i6_106;
			word32 i7_107;
			word32 o7_108;
			word32 g0_109;
			byte NZVC_110;
			bool Z_111;
			byte ZC_112;
			.umul();
			struct Eq_871 * o1_117 = i1_96 + (o2_20 & 0x3F);
			o1_117->b01AC = 0x01;
			(i1_96 + (DPB(qwLoc18, o0_95, 32) << 0x02))->ptr0010 = o1_117;
			return i0_38;
		}
	}
	else
	{
		word32 sp_57;
		word32 o0_59;
		word32 i1_60;
		word32 o1_61;
		word32 i2_62;
		word32 o2_63;
		word32 * i3_64;
		word32 o3_65;
		word32 i4_66;
		word32 o4_67;
		word32 i5_68;
		word32 o5_69;
		word32 i6_70;
		word32 i7_71;
		word32 o7_72;
		word32 g0_73;
		byte NZVC_74;
		bool Z_75;
		byte ZC_76;
		.umul();
		*i3_64 = *i3_64 + o0_59;
		return i0_38;
	}
}

// 0001107C: void fn0001107C(Register word32 o0, Register ui32 o1)
void fn0001107C(word32 o0, ui32 o1)
{
}

// 000113B4: void __register_frame_info(Register word32 o0, Register (ptr Eq_124) o1, Register int32 o7)
void __register_frame_info(word32 o0, Eq_124 * o1, int32 o7)
{
	fn000113C0(o7, 0x00010000, o0, o1);
}

// 000113C0: void fn000113C0(Register int32 o7, Register ui32 l7, Register word32 i0, Register (ptr Eq_124) i1)
void fn000113C0(int32 o7, ui32 l7, word32 i0, Eq_124 * i1)
{
	i1->dw0008 = i0;
	i1->dw0004 = 0x00;
	i1->dw0000 = 0x00;
	struct Eq_124 ** o1_11 = (word32) (l7 | 0x030C) + o7 + 0x18;
	i1->dw000C = 0x00;
	struct Eq_124 * o0_13 = *o1_11;
	i1->dw0010 = 0x00;
	i1->ptr0014 = o0_13;
	*o1_11 = (struct Eq_124 **) i1;
}

// 000113FC: void __register_frame_info_table(Register word32 o0, Register (ptr Eq_952) o1, Register int32 o7)
void __register_frame_info_table(word32 o0, Eq_952 * o1, int32 o7)
{
	fn00011408(o7, 0x00010000, o0, o1);
}

// 00011408: void fn00011408(Register int32 o7, Register ui32 l7, Register word32 i0, Register (ptr Eq_952) i1)
void fn00011408(int32 o7, ui32 l7, word32 i0, Eq_952 * i1)
{
	i1->dw0008 = i0;
	i1->dw000C = i0;
	i1->dw0004 = 0x00;
	struct Eq_952 ** o1_11 = (word32) (l7 | 0x02C4) + o7 + 0x18;
	i1->dw0000 = 0x00;
	struct Eq_952 * o0_13 = *o1_11;
	i1->dw0010 = 0x00;
	i1->ptr0014 = o0_13;
	*o1_11 = (struct Eq_952 **) i1;
}

// 00011444: void __deregister_frame_info(Register word32 o0, Register int32 o7)
void __deregister_frame_info(word32 o0, int32 o7)
{
	fn00011450(o7, 0x00010000, o0);
}

// 00011450: void fn00011450(Register int32 o7, Register ui32 l7, Register word32 i0)
void fn00011450(int32 o7, ui32 l7, word32 i0)
{
	struct Eq_1013 ** o2_9 = (word32) (l7 | 636) + o7 + 0x18;
	if (*o2_9 == null)
		abort();
	else
	{
		struct Eq_1013 * o1_14 = *o2_9;
		if (o1_14->dw0008 - i0 == 0x00)
		{
			struct Eq_1013 * o0_20 = o1_14->ptr0014;
			*o2_9 = (struct Eq_1013 **) o0_20;
			if (o1_14->dw0000 != 0x00)
				free(o1_14->ptr000C);
		}
	}
}

// 000114C4: void __frame_state_for(Register (ptr Eq_531) o0, Register (ptr void) o1, Register int32 o7)
void __frame_state_for(Eq_531 * o0, void, int32 o7)
{
}

// 000115EC: void __do_global_ctors_aux(Register int32 o7)
void __do_global_ctors_aux(int32 o7)
{
	fn000115F8(o7, 0x00010000);
}

// 000115F8: void fn000115F8(Register int32 o7, Register ui32 l7)
void fn000115F8(int32 o7, ui32 l7)
{
	struct Eq_1211 * l7_5 = (l7 | 212) + o7;
	struct Eq_1215 * o0_9 = l7_5->ptr001C;
	word32 o1_10 = o0_9->dwFFFFFFFC;
	if (o1_10 != ~0x00)
	{
		word32 * l0_35 = &o0_9->dwFFFFFFFC;
		do
		{
			<anonymous> * o0_37 = *l0_35;
			word32 sp_52;
			word32 l7_53;
			word32 o7_54;
			word32 o0_55;
			word32 o1_56;
			word32 g0_57;
			byte NZVC_58;
			bool Z_59;
			word32 i7_61;
			word32 i0_62;
			word32 i1_63;
			word32 o2_64;
			word32 i2_65;
			word32 o3_66;
			word32 i3_67;
			word32 o4_68;
			word32 i4_69;
			word32 o5_70;
			word32 i5_71;
			word32 i6_72;
			o0_37();
		} while (*l0_35 != (<anonymous> *) ~0x00);
	}
}

// 00011640: void init_dummy()
void init_dummy()
{
}

// 0001164C: void _init(Register int32 o7)
void _init(int32 o7)
{
	frame_dummy(o7);
	__do_global_ctors_aux(o7);
}

// 00011668: void _fini(Register int32 o7)
void _fini(int32 o7)
{
	__do_global_dtors_aux(o7);
}

