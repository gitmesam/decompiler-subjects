// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 00000000004003C8: void _init()
void _init()
{
	word64 rax_4 = globals->qw601FF8;
	if (rax_4 != 0x00)
	{
		word64 rsp_15;
		byte SCZO_16;
		word64 rax_17;
		byte SZO_18;
		bool C_19;
		bool Z_20;
		__gmon_start__();
	}
}

// 0000000000400400: void _start(Register (ptr64 Eq_17) rdx, Stack Eq_18 qwArg00)
void _start( * rdx, Eq_18 qwArg00)
{
	__align((char *) fp + 0x08);
	__libc_start_main(&globals->t400990, qwArg00, (char *) fp + 0x08, &globals->t400A20, &globals->t400A90, rdx, fp);
	__hlt();
}

// 0000000000400430: void deregister_tm_clones(Register word64 r8)
void deregister_tm_clones(word64 r8)
{
	if (false || 0x00 == 0x00)
		return;
	word64 rsp_42;
	word32 eax_43;
	word64 rax_44;
	word64 rbp_45;
	word64 r8_46;
	byte SCZO_47;
	byte CZ_48;
	byte SZO_49;
	bool C_50;
	bool Z_51;
	word32 edi_52;
	word64 rdi_53;
	null();
}

// 0000000000400470: void register_tm_clones()
void register_tm_clones()
{
	if (0x00 == 0x00 || 0x00 == 0x00)
		return;
	word64 rsp_40;
	word64 rsi_41;
	word64 rbp_42;
	byte SCZO_43;
	word64 rax_44;
	bool Z_45;
	byte SZO_46;
	bool C_47;
	word64 rdi_48;
	null();
}

// 00000000004004B0: void __do_global_dtors_aux(Register word64 r8)
void __do_global_dtors_aux(word64 r8)
{
	if (globals->b602070 == 0x00)
	{
		deregister_tm_clones(r8);
		globals->b602070 = 0x01;
	}
}

// 00000000004004D0: void frame_dummy()
void frame_dummy()
{
	if (globals->qw601E18 != 0x00 && 0x00 != 0x00)
	{
		word64 rsp_39;
		word32 edi_40;
		word64 rdi_41;
		byte SCZO_42;
		bool Z_43;
		word32 eax_44;
		word64 rax_45;
		byte SZO_46;
		bool C_47;
		word64 rbp_48;
		word32 esi_49;
		word64 rsi_50;
		fn0000000000000000();
		register_tm_clones();
	}
	else
		register_tm_clones();
}

// 0000000000400500: void use(Register Eq_118 xmm0)
void use(Eq_118 xmm0)
{
	printf("%f", xmm0);
}

// 0000000000400530: void use_int(Register word32 edi)
void use_int(word32 edi)
{
	printf("%d", (uint64) edi);
}

// 0000000000400560: void read_ints(Register Eq_132 xmm0)
void read_ints(Eq_132 xmm0)
{
	Eq_133 xmm0_11 = __xorps(xmm0, xmm0);
	use(DPB(xmm0_11, (real64) globals->qw602040 + ((real64) globals->qw602038 + ((real64) globals->dw602034 + ((real64) ((int32) globals->w602032) + ((real64) ((int32) globals->b602030) + (real64) xmm0_11)))), 0));
}

// 00000000004005F0: void write_ints(Register word128 xmm0)
void write_ints(word128 xmm0)
{
	globals->b602030 = (byte) (int32) xmm0;
	real64 rLoc10_8 = (real64) xmm0;
	globals->w602032 = (word16) (int32) rLoc10_8;
	globals->dw602034 = (int32) rLoc10_8;
	globals->qw602038 = DPB(rdi, (int32) rLoc10_8, 0);
	globals->qw602040 = DPB(rdi, (int32) rLoc10_8, 0);
}

// 0000000000400650: void read_floats(Register Eq_132 xmm1)
void read_floats(Eq_132 xmm1)
{
	real64 v6_12 = (real64) DPB(xmm0, globals->r602048, 0);
	Eq_133 xmm1_17 = __xorps(xmm1, xmm1);
	use(DPB(xmm0, (real64) globals->r602060 + ((v6_12 + xmm1_17) + DPB(xmm1_17, globals->r602050, 0)), 0));
}

// 00000000004006C0: void write_floats(Register word128 xmm0)
void write_floats(word128 xmm0)
{
	globals->r602048 = (real32) xmm0;
	real64 rLoc10_7 = (real64) xmm0;
	globals->r602050 = rLoc10_7;
	globals->r602060 = (real80) rLoc10_7;
}

// 00000000004006F0: void converting_between_floats_f1()
void converting_between_floats_f1()
{
	globals->r602048 = (real32) globals->r602050;
}

// 0000000000400710: void converting_between_floats_f2()
void converting_between_floats_f2()
{
	globals->r602048 = (real32) (real64) globals->r602060;
}

// 0000000000400730: void converting_between_floats_d1()
void converting_between_floats_d1()
{
	globals->r602050 = (real64) globals->r602048;
}

// 0000000000400750: void converting_between_floats_d2()
void converting_between_floats_d2()
{
	globals->r602050 = (real64) globals->r602060;
}

// 0000000000400770: void converting_between_floats_l1()
void converting_between_floats_l1()
{
	globals->r602060 = (real80) (real64) globals->r602048;
}

// 0000000000400790: void converting_between_floats_l2()
void converting_between_floats_l2()
{
	globals->r602060 = (real80) globals->r602050;
}

// 00000000004007B0: void basic_operations(Register word128 xmm0, Register word128 xmm1)
void basic_operations(word128 xmm0, word128 xmm1)
{
	real64 rLoc10_9 = (real64) xmm0;
	real64 rLoc18_11 = (real64) xmm1;
	use(DPB(xmm0, rLoc10_9 + rLoc18_11, 0));
	use(DPB(xmm0, rLoc10_9 - rLoc18_11, 0));
	use(DPB(xmm0, rLoc18_11 - rLoc10_9, 0));
	use(DPB(xmm0, rLoc10_9 * rLoc18_11, 0));
	use(DPB(xmm0, rLoc10_9 / rLoc18_11, 0));
	use(DPB(xmm0, rLoc18_11 / rLoc10_9, 0));
	use((word128) (DPB(xmm0, rLoc10_9, 0) ^ 0x00));
}

// 0000000000400850: void compare_floats(Register word128 xmm0, Register word128 xmm1)
void compare_floats(word128 xmm0, word128 xmm1)
{
	ptr64 fp;
	word64 rbp;
	word128 xmm0;
	word128 xmm1;
	rsp_1 = fp;
	rsp_2 = fp - 0x08;
	qwLoc08_4 = rbp;
	rbp_5 = fp - 0x08;
	rsp_6 = fp - 0x18;
	rLoc10_8 = (real64) xmm0;
	rLoc18_10 = (real64) xmm1;
	xmm0_11 = DPB(xmm0, rLoc10_8, 0);
	CZP_12 = cond((real64) xmm0_11 - rLoc18_10);
	Z_13 = (bool) CZP_12;
	P_14 = (bool) CZP_12;
	al_15 = (real64) xmm0_11 == rLoc18_10;
	cl_16 = Test(PO,P_14);
	al_17 = al_15 & cl_16;
	al_18 = al_17 & 0x01;
	SZO_19 = cond(al_18);
	C_20 = false;
	edi_21 = (word32) al_18;
	use_int(edi_21);
	xmm0_22 = DPB(xmm0_11, rLoc10_8, 0);
	CZP_23 = cond((real64) xmm0_22 - rLoc18_10);
	Z_24 = (bool) CZP_23;
	P_25 = (bool) CZP_23;
	al_26 = Test(NE,Z_24);
	cl_27 = Test(PE,P_25);
	al_28 = al_26 | cl_27;
	al_29 = al_28 & 0x01;
	SZO_30 = cond(al_29);
	C_31 = false;
	edi_32 = (word32) al_29;
	use_int(edi_32);
	xmm0_33 = DPB(xmm0_22, rLoc10_8, 0);
	CZP_34 = cond((real64) xmm0_33 - rLoc18_10);
	CZ_35 = CZP_34;
	al_36 = Test(UGT,CZ_35);
	al_37 = al_36 & 0x01;
	SZO_38 = cond(al_37);
	C_39 = false;
	edi_40 = (word32) al_37;
	use_int(edi_40);
	xmm0_41 = DPB(xmm0_33, rLoc10_8, 0);
	CZP_42 = cond((real64) xmm0_41 - rLoc18_10);
	C_43 = (bool) CZP_42;
	al_44 = Test(UGE,C_43);
	al_45 = al_44 & 0x01;
	SZO_46 = cond(al_45);
	C_47 = false;
	edi_48 = (word32) al_45;
	use_int(edi_48);
	xmm0_49.u1 = DPB(xmm0_41, rLoc10_8, 0);
	xmm1_50 = DPB(xmm1, rLoc18_10, 0);
	CZP_51 = cond((real64) xmm1_50 - xmm0_49);
	CZ_52 = CZP_51;
	al_53 = Test(UGT,CZ_52);
	al_54 = al_53 & 0x01;
	SZO_55 = cond(al_54);
	C_56 = false;
	edi_57 = (word32) al_54;
	use_int(edi_57);
	xmm0_58.u1 = DPB(xmm0_49, rLoc10_8, 0);
	xmm1_59 = DPB(xmm1_50, rLoc18_10, 0);
	CZP_60 = cond((real64) xmm1_59 - xmm0_58);
	C_61 = (bool) CZP_60;
	al_62 = Test(UGE,C_61);
	al_63 = al_62 & 0x01;
	SZO_64 = cond(al_63);
	C_65 = false;
	edi_66 = (word32) al_63;
	use_int(edi_66);
	rax_67 = 0x7C;
	rsp_68 = fp - 0x08;
	SCZO_69 = cond(fp - 0x08);
	rbp_70 = qwLoc08_4;
	rsp_71 = fp;
}

// 0000000000400910: void constants(Register word128 xmm0)
void constants(word128 xmm0)
{
	real64 rLoc10_12 = (real64) xmm0;
	use(DPB(xmm1, globals->r400AD0 * rLoc10_12, 0));
	use(DPB(xmm1, globals->r400AC8 * rLoc10_12, 0));
	use(DPB(xmm1, globals->r400AC0 * rLoc10_12, 0));
	use(DPB(xmm1, globals->r400AB8 * rLoc10_12, 0));
	use(DPB(xmm1, globals->r400AB0 * rLoc10_12, 0));
}

// 0000000000400990: void main(Register ptr64 r13)
void main(ptr64 r13)
{
	*(r13 - 0x10) = 0x08;
	printf("%zu %zu %zu %zu %zu\n", 0x01, 0x02, 0x04, 0x08, *(r13 - 0x10));
	printf("%zu %zu %zu\n", 0x04, 0x08, 0x10);
}

// 0000000000400A20: void __libc_csu_init(Register word32 edi)
void __libc_csu_init(word32 edi)
{
	_init();
	if (0x00601E10 - 0x00601E08 >> 0x03 != 0x00)
	{
		do
		{
			word64 rsp_72;
			word64 r15_73;
			word64 r14_74;
			word32 r15d_75;
			word32 edi_76;
			word64 r13_77;
			word64 r12_78;
			word64 rbp_79;
			word64 rbx_80;
			word64 rsi_81;
			word64 rdx_82;
			byte SCZO_83;
			byte SZO_84;
			bool C_85;
			bool Z_86;
			word32 ebx_87;
			word64 rdi_88;
			globals->ptr601E08();
		} while (rbp_79 != rbx_80 + 0x01);
	}
}

// 0000000000400A90: void __libc_csu_fini()
void __libc_csu_fini()
{
}

// 0000000000400A94: void _fini()
void _fini()
{
}

