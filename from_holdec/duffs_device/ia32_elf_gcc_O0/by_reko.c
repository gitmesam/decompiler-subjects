// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 080482B4: void _init()
void _init()
{
	word32 edx_13 = globals->dw8049A58;
	if (edx_13 != 0x00)
	{
		word32 esp_31;
		word32 ebp_32;
		word32 ebx_33;
		byte SCZO_34;
		word32 edx_35;
		byte SZO_36;
		bool C_37;
		bool Z_38;
		word32 eax_39;
		__gmon_start__();
	}
	frame_dummy();
	__do_global_ctors_aux();
}

// 080482F4: void memcmp()
void memcmp()
{
}

// 08048314: void __libc_start_main()
void __libc_start_main()
{
}

// 08048324: void malloc()
void malloc()
{
}

// 08048340: void _start(Register (ptr32 Eq_26) edx, Stack int32 dwArg00)
void _start( * edx, int32 dwArg00)
{
	__align((char *) fp + 0x04);
	__libc_start_main(&globals->t8048704, dwArg00, (char *) fp + 0x04, &globals->t80487E0, &globals->t80487D0, edx, fp);
	__hlt();
}

// 08048370: void __do_global_dtors_aux(Register word32 esi)
void __do_global_dtors_aux(word32 esi)
{
	if (globals->b8049A74 == 0x00)
	{
		uint32 eax_26 = globals->dw8049A78;
		while (eax_26 < 0x00)
		{
			uint32 eax_44 = eax_26 + 0x01;
			globals->dw8049A78 = eax_44;
			word32 esp_47;
			word32 ebp_48;
			word32 ebx_49;
			byte SCZO_50;
			bool Z_51;
			word32 eax_52;
			bool C_53;
			word32 esi_54;
			(*((char *) globals->a804997C + eax_44 * 0x04))();
			eax_26 = globals->dw8049A78;
		}
		globals->b8049A74 = 0x01;
	}
}

// 080483D0: void frame_dummy()
void frame_dummy()
{
	if (globals->dw8049984 != 0x00 && 0x00 != 0x00)
	{
		word32 esp_28;
		word32 ebp_29;
		byte SCZO_30;
		word32 eax_31;
		byte SZO_32;
		bool C_33;
		bool Z_34;
		fn00000000();
	}
}

// 080483F4: void copy1_four_times(Stack (ptr32 word16) dwArg04, Stack (ptr32 word16) dwArg08, Stack int32 dwArg0C)
void copy1_four_times(word16 * dwArg04, word16 * dwArg08, int32 dwArg0C)
{
	int32 eax_118 = dwArg0C + 0x03;
	if (dwArg0C < 0x03)
		eax_118 = dwArg0C + 0x06;
	uint32 edx_21 = dwArg0C >> 0x1F >> 0x1E;
	int32 dwLoc08_17 = eax_118 >> 0x02;
	int32 eax_24 = (dwArg0C + edx_21 & 0x03) - edx_21;
	if (eax_24 == 0x01)
	{
l08048478:
		*dwArg04 = (word16) (word32) *dwArg08;
		int32 v14_57 = dwLoc08_17 - 0x01;
		++dwArg04;
		++dwArg08;
		dwLoc08_17 = v14_57;
		if (v14_57 <= 0x00)
			return;
		goto l0804843C;
	}
	if (eax_24 <= 0x01)
	{
		if (eax_24 != 0x00)
			return;
l0804843C:
		*dwArg04 = (word16) (word32) *dwArg08;
		++dwArg04;
		++dwArg08;
	}
	else
	{
		if (eax_24 == 0x02)
			goto l08048464;
		if (eax_24 != 0x03)
			return;
	}
	*dwArg04 = (word16) (word32) *dwArg08;
	++dwArg04;
	++dwArg08;
l08048464:
	*dwArg04 = (word16) (word32) *dwArg08;
	++dwArg04;
	++dwArg08;
	goto l08048478;
}

// 08048498: void copy1_eight_times(Stack (ptr32 word16) dwArg04, Stack (ptr32 word16) dwArg08, Stack int32 dwArg0C)
void copy1_eight_times(word16 * dwArg04, word16 * dwArg08, int32 dwArg0C)
{
	int32 eax_15 = dwArg0C + 0x07;
	if (dwArg0C < 0x07)
		eax_15 = dwArg0C + 0x0E;
	uint32 edx_21 = dwArg0C >> 0x1F >> 0x1D;
	int32 dwLoc08_102 = eax_15 >> 0x03;
	uint32 eax_24 = (dwArg0C + edx_21 & 0x07) - edx_21;
	if (eax_24 <= 0x07)
	{
		switch (globals->a8048894[eax_24 * 0x04])
		{
		case 0x00:
l080484D6:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
			goto l080484EA;
		case 0x01:
l08048562:
			*dwArg04 = (word16) (word32) *dwArg08;
			int32 v14_54 = dwLoc08_102 - 0x01;
			++dwArg04;
			++dwArg08;
			dwLoc08_102 = v14_54;
			if (v14_54 > 0x00)
				goto l080484D6;
			break;
		case 0x02:
l0804854E:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
			goto l08048562;
		case 0x03:
l0804853A:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
			goto l0804854E;
		case 0x04:
l08048526:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
			goto l0804853A;
		case 0x05:
l08048512:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
			goto l08048526;
		case 0x06:
l080484FE:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
			goto l08048512;
		case 0x07:
l080484EA:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
			goto l080484FE;
		}
	}
}

// 08048586: void copy2_four_times(Stack (ptr32 word16) dwArg04, Stack (ptr32 word16) dwArg08, Stack int32 dwArg0C)
void copy2_four_times(word16 * dwArg04, word16 * dwArg08, int32 dwArg0C)
{
	if (dwArg0C > 0x00)
	{
		for (; dwArg0C != 0x00; dwArg0C -= 0x04)
		{
			word32 eax_33 = 0x04 - dwArg0C;
			if (eax_33 != 0x02)
			{
				if (eax_33 == 0x03)
					goto l080485F1;
				if (eax_33 != 0x01)
				{
					*dwArg04 = (word16) (word32) *dwArg08;
					++dwArg04;
					++dwArg08;
				}
				*dwArg04 = (word16) (word32) *dwArg08;
				++dwArg04;
				++dwArg08;
			}
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
l080485F1:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
		}
	}
}

// 08048612: void copy2_eight_times(Stack (ptr32 word16) dwArg04, Stack (ptr32 word16) dwArg08, Stack int32 dwArg0C)
void copy2_eight_times(word16 * dwArg04, word16 * dwArg08, int32 dwArg0C)
{
	if (dwArg0C > 0x00)
	{
		for (; dwArg0C != 0x00; dwArg0C -= 0x08)
		{
			uint32 eax_36 = 0x08 - dwArg0C;
			if (eax_36 > 0x07)
				goto l0804863F;
			switch (globals->a80488B4[eax_36 * 0x04])
			{
			case 0x00:
l0804863F:
				*dwArg04 = (word16) (word32) *dwArg08;
				++dwArg04;
				++dwArg08;
				goto l08048656;
			case 0x01:
l08048656:
				*dwArg04 = (word16) (word32) *dwArg08;
				++dwArg04;
				++dwArg08;
				break;
			case 0x02:
				break;
			case 0x03:
				goto l08048684;
			case 0x04:
				goto l0804869B;
			case 0x05:
				goto l080486B2;
			case 0x06:
				goto l080486C9;
			case 0x07:
				goto l080486E0;
			}
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
l08048684:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
l0804869B:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
l080486B2:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
l080486C9:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
l080486E0:
			*dwArg04 = (word16) (word32) *dwArg08;
			++dwArg04;
			++dwArg08;
		}
	}
}

// 08048704: void main()
void main()
{
	__align(fp - 0x04);
	word16 * eax_11 = malloc(200);
	word16 * eax_15 = malloc(200);
	copy1_four_times(eax_15, eax_11, 100);
	copy1_eight_times(eax_15, eax_11, 100);
	copy2_four_times(eax_15, eax_11, 100);
	copy2_eight_times(eax_15, eax_11, 100);
	memcmp(eax_11, eax_15, 200);
}

// 080487D0: void __libc_csu_fini()
void __libc_csu_fini()
{
}

// 080487E0: void __libc_csu_init(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void __libc_csu_init(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	_init();
	if (0x08049B34 - 0x08049B34 >> 0x02 != 0x00)
	{
		do
		{
			word32 esp_59;
			word32 ebp_60;
			up32 edi_61;
			up32 esi_62;
			word32 ebx_63;
			byte SCZO_64;
			word32 eax_65;
			byte SZO_66;
			bool C_67;
			bool Z_68;
			(0x08049B34 + 0x08049A54)();
		} while (esi_62 + 0x01 < edi_61);
	}
}

// 0804883A: void __i686.get_pc_thunk.bx(Stack word32 dwArg00)
void __i686.get_pc_thunk.bx(word32 dwArg00)
{
}

// 08048840: void __do_global_ctors_aux()
void __do_global_ctors_aux()
{
	<anonymous> * eax_11 = globals->ptr8049974;
	if (eax_11 != (<anonymous> *) ~0x00)
	{
		do
		{
			word32 esp_26;
			word32 ebp_27;
			word32 * ebx_28;
			byte SCZO_29;
			word32 eax_30;
			bool Z_31;
			eax_11();
		} while (*ebx_28 != ~0x00);
	}
}

// 0804886C: void _fini(Register word32 esi)
void _fini(word32 esi)
{
	__do_global_dtors_aux(esi);
}

