//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>
#include <string.h>

// ------------------- Function Prototypes --------------------

void copy1_eight_times(int16_t * to, int16_t * from, int32_t count);
void copy1_four_times(int16_t * to, int16_t * from, int32_t count);
void copy2_eight_times(int16_t * to, int16_t * from, int32_t n);
void copy2_four_times(int16_t * to, int16_t * from, int32_t n);

// --------------------- Global Variables ---------------------

int64_t g1;

// ------------------------ Functions -------------------------

// From module:   /mnt/from_holdec/./duffs_device/source.c
// Address range: 0x400640 - 0x4006a8
// Line range:    4 - 19
void copy1_four_times(int16_t * to, int16_t * from, int32_t count) {
    // 0x400640
    return;
}

// From module:   /mnt/from_holdec/./duffs_device/source.c
// Address range: 0x4006a8 - 0x400730
// Line range:    21 - 44
void copy1_eight_times(int16_t * to, int16_t * from, int32_t count) {
    // 0x4006a8
    return;
}

// From module:   /mnt/from_holdec/./duffs_device/source.c
// Address range: 0x400730 - 0x400788
// Line range:    46 - 75
void copy2_four_times(int16_t * to, int16_t * from, int32_t n) {
    if (n < 1) {
        // 0x400784
        return;
    }
    int64_t v1 = (int64_t)to; // 0x40073c
    int64_t v2 = (int64_t)from; // 0x40073c
    int64_t v3 = 4 - n; // 0x40073c
    int64_t v4; // 0x400730
    int64_t v5; // 0x400730
    int64_t v6; // 0x400730
    int64_t v7; // 0x400730
    int64_t v8; // 0x400730
    int64_t v9; // 0x400730
    while (true) {
      lab_0x400740:;
        int64_t v10 = v2;
        int64_t v11 = v1;
        v4 = v11;
        v7 = v10;
        v5 = v11;
        v8 = v10;
        v6 = v11;
        v9 = v10;
        int64_t v12; // 0x400730
        switch ((int32_t)v12) {
            case 1: {
                goto lab_0x400784;
            }
            case 2: {
                goto lab_0x400768;
            }
            case 3: {
                goto lab_0x400770;
            }
            default: {
                // 0x400758
                *(int16_t *)v11 = *(int16_t *)v10;
                v4 = v11 + 2;
                v7 = v10 + 2;
                goto lab_0x400784;
            }
        }
    }
  lab_0x400784:
    // 0x400760
    *(int16_t *)v4 = *(int16_t *)v7;
    v5 = v4 + 2;
    v8 = v7 + 2;
    goto lab_0x400768;
  lab_0x400768:
    // 0x400768
    *(int16_t *)v5 = *(int16_t *)v8;
    v6 = v5 + 2;
    v9 = v8 + 2;
    goto lab_0x400770;
  lab_0x400770:;
    int64_t v13 = v3 + 4; // 0x400774
    *(int16_t *)v6 = *(int16_t *)v9;
    v1 = v6 + 2;
    v2 = v9 + 2;
    v3 = v13 & 0xffffffff;
    if ((int32_t)v13 == 4) {
        // break -> 0x400784
        goto lab_0x400784;
    }
    goto lab_0x400740;
}

// From module:   /mnt/from_holdec/./duffs_device/source.c
// Address range: 0x400788 - 0x400804
// Line range:    79 - 112
void copy2_eight_times(int16_t * to, int16_t * from, int32_t n) {
    if (n < 1) {
        // 0x400800
        return;
    }
    int64_t v1 = (int64_t)to; // 0x40079c
    int64_t v2 = (int64_t)from; // 0x40079c
    int64_t v3 = 8 - n; // 0x40079c
    int64_t v4; // 0x400788
    int64_t v5; // 0x400788
    int64_t v6; // 0x400788
    int64_t v7; // 0x400788
    int64_t v8; // 0x400788
    int64_t v9; // 0x400788
    int64_t v10; // 0x400788
    int64_t v11; // 0x400788
    int64_t v12; // 0x400788
    int64_t v13; // 0x400788
    int64_t v14; // 0x400788
    int64_t v15; // 0x400788
    int64_t v16; // 0x400788
    int64_t v17; // 0x400788
    while (true) {
      lab_0x4007a0:;
        int64_t v18 = v2;
        int64_t v19 = v1;
        int64_t v20 = v3 + 0xffffffff; // 0x4007a0
        g1 = v20 & 0xffffffff;
        v4 = v19;
        v11 = v18;
        v5 = v19;
        v12 = v18;
        v6 = v19;
        v13 = v18;
        v7 = v19;
        v14 = v18;
        v8 = v19;
        v15 = v18;
        v9 = v19;
        v16 = v18;
        v10 = v19;
        v17 = v18;
        switch ((int32_t)v20) {
            case 0: {
                goto lab_0x400800;
            }
            case 1: {
                goto lab_0x4007c4;
            }
            case 2: {
                goto lab_0x4007cc;
            }
            case 3: {
                goto lab_0x4007d4;
            }
            case 4: {
                goto lab_0x4007dc;
            }
            case 5: {
                goto lab_0x4007e4;
            }
            case 6: {
                goto lab_0x4007ec;
            }
            default: {
                // 0x4007b4
                *(int16_t *)v19 = *(int16_t *)v18;
                v4 = v19 + 2;
                v11 = v18 + 2;
                goto lab_0x400800;
            }
        }
    }
  lab_0x400800:
    // 0x4007bc
    *(int16_t *)v4 = *(int16_t *)v11;
    v5 = v4 + 2;
    v12 = v11 + 2;
    goto lab_0x4007c4;
  lab_0x4007c4:
    // 0x4007c4
    *(int16_t *)v5 = *(int16_t *)v12;
    v6 = v5 + 2;
    v13 = v12 + 2;
    goto lab_0x4007cc;
  lab_0x4007cc:
    // 0x4007cc
    *(int16_t *)v6 = *(int16_t *)v13;
    v7 = v6 + 2;
    v14 = v13 + 2;
    goto lab_0x4007d4;
  lab_0x4007d4:
    // 0x4007d4
    *(int16_t *)v7 = *(int16_t *)v14;
    v8 = v7 + 2;
    v15 = v14 + 2;
    goto lab_0x4007dc;
  lab_0x4007dc:
    // 0x4007dc
    *(int16_t *)v8 = *(int16_t *)v15;
    v9 = v8 + 2;
    v16 = v15 + 2;
    goto lab_0x4007e4;
  lab_0x4007e4:
    // 0x4007e4
    *(int16_t *)v9 = *(int16_t *)v16;
    v10 = v9 + 2;
    v17 = v16 + 2;
    goto lab_0x4007ec;
  lab_0x4007ec:;
    int64_t v21 = v3 + 8; // 0x4007f0
    *(int16_t *)v10 = *(int16_t *)v17;
    v1 = v10 + 2;
    v2 = v17 + 2;
    v3 = v21 & 0xffffffff;
    if ((int32_t)v21 == 8) {
        // break -> 0x400800
        goto lab_0x400800;
    }
    goto lab_0x4007a0;
}

// From module:   /mnt/from_holdec/./duffs_device/source.c
// Address range: 0x400804 - 0x40087c
// Line range:    115 - 123
int main(int argc, char ** argv) {
    int64_t * mem = malloc(200); // 0x400814
    int64_t * mem2 = malloc(200); // 0x400820
    copy1_four_times((int16_t *)mem2, (int16_t *)mem, 100);
    copy1_eight_times((int16_t *)mem2, (int16_t *)mem, 100);
    copy2_four_times((int16_t *)mem2, (int16_t *)mem, 100);
    copy2_eight_times((int16_t *)mem2, (int16_t *)mem, 100);
    return memcmp(mem, mem2, 200);
}

// --------------- Dynamically Linked Functions ---------------

// void * malloc(size_t size);
// int memcmp(const void * s1, const void * s2, size_t n);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: llvm (3.8.1)
// Detected functions: 5

