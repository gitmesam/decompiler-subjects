//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>
#include <string.h>

// ------------------- Function Prototypes --------------------

void copy1_eight_times(int16_t * to, int16_t * from, int32_t count);
void copy1_four_times(int16_t * to, int16_t * from, int32_t count);
void copy2_eight_times(int16_t * to, int16_t * from, uint32_t n);
void copy2_four_times(int16_t * to, int16_t * from, uint32_t n);

// --------------------- Global Variables ---------------------

int64_t g1;

// ------------------------ Functions -------------------------

// From module:   /mnt/from_holdec/./duffs_device/source.c
// Address range: 0x400640 - 0x400754
// Line range:    4 - 19
void copy1_four_times(int16_t * to, int16_t * from, int32_t count) {
    // 0x400640
    return;
}

// From module:   /mnt/from_holdec/./duffs_device/source.c
// Address range: 0x400754 - 0x4008e8
// Line range:    21 - 44
void copy1_eight_times(int16_t * to, int16_t * from, int32_t count) {
    // 0x400754
    return;
}

// From module:   /mnt/from_holdec/./duffs_device/source.c
// Address range: 0x4008e8 - 0x400a08
// Line range:    46 - 75
void copy2_four_times(int16_t * to, int16_t * from, uint32_t n) {
    int32_t v1 = n; // 0x400900
    int16_t * v2 = from; // 0x400900
    if (n <= 0) {
        // 0x400a00
        return;
    }
    int16_t * v3 = to; // 0x400900
    int16_t * v4; // 0x4008e8
    int16_t * v5; // 0x4008e8
    int16_t * v6; // 0x4008e8
    int16_t * v7; // 0x4008e8
    int16_t * v8; // 0x4008e8
    int16_t * v9; // 0x4008e8
    while (true) {
      lab_0x400918:;
        int16_t * v10 = v3;
        int16_t * v11 = v2;
        v7 = v10;
        v4 = v11;
        v8 = v10;
        v5 = v11;
        v9 = v10;
        v6 = v11;
        int32_t v12; // 0x4008e8
        switch (4 - v12) {
            case 1: {
                goto lab_0x400a00;
            }
            case 2: {
                goto lab_0x4009b0;
            }
            case 3: {
                goto lab_0x4009d0;
            }
            default: {
                // 0x400970
                *v10 = *v11;
                v7 = (int16_t *)((int64_t)v10 + 2);
                v4 = (int16_t *)((int64_t)v11 + 2);
                goto lab_0x400a00;
            }
        }
    }
  lab_0x400a00:
    // 0x400990
    *v7 = *v4;
    v8 = (int16_t *)((int64_t)v7 + 2);
    v5 = (int16_t *)((int64_t)v4 + 2);
    goto lab_0x4009b0;
  lab_0x4009b0:
    // 0x4009b0
    *v8 = *v5;
    v9 = (int16_t *)((int64_t)v8 + 2);
    v6 = (int16_t *)((int64_t)v5 + 2);
    goto lab_0x4009d0;
  lab_0x4009d0:
    // 0x4009d0
    *v9 = *v6;
    v1 -= 4;
    v2 = (int16_t *)((int64_t)v6 + 2);
    v3 = (int16_t *)((int64_t)v9 + 2);
    if (v1 == 0) {
        // break -> 0x400a00
        goto lab_0x400a00;
    }
    goto lab_0x400918;
}

// From module:   /mnt/from_holdec/./duffs_device/source.c
// Address range: 0x400a08 - 0x400ba0
// Line range:    79 - 112
void copy2_eight_times(int16_t * to, int16_t * from, uint32_t n) {
    int32_t v1 = n; // 0x400a20
    int16_t * v2 = from; // 0x400a20
    if (n <= 0) {
        // 0x400b98
        return;
    }
    int16_t * v3 = to; // 0x400a20
    int16_t * v4; // 0x400a08
    int16_t * v5; // 0x400a08
    int16_t * v6; // 0x400a08
    int16_t * v7; // 0x400a08
    int16_t * v8; // 0x400a08
    int16_t * v9; // 0x400a08
    int16_t * v10; // 0x400a08
    int16_t * v11; // 0x400a08
    int16_t * v12; // 0x400a08
    int16_t * v13; // 0x400a08
    int16_t * v14; // 0x400a08
    int16_t * v15; // 0x400a08
    int16_t * v16; // 0x400a08
    int16_t * v17; // 0x400a08
    while (true) {
      lab_0x400a38:;
        int16_t * v18 = v3;
        int16_t * v19 = v2;
        uint32_t v20 = 7 - v1; // 0x400a40
        g1 = v20;
        v11 = v18;
        v4 = v19;
        v12 = v18;
        v5 = v19;
        v13 = v18;
        v6 = v19;
        v14 = v18;
        v7 = v19;
        v15 = v18;
        v8 = v19;
        v16 = v18;
        v9 = v19;
        v17 = v18;
        v10 = v19;
        switch (v20) {
            case 0: {
                goto lab_0x400b98;
            }
            case 1: {
                goto lab_0x400ac8;
            }
            case 2: {
                goto lab_0x400ae8;
            }
            case 3: {
                goto lab_0x400b08;
            }
            case 4: {
                goto lab_0x400b28;
            }
            case 5: {
                goto lab_0x400b48;
            }
            case 6: {
                goto lab_0x400b68;
            }
            default: {
                // 0x400a88
                *v18 = *v19;
                v11 = (int16_t *)((int64_t)v18 + 2);
                v4 = (int16_t *)((int64_t)v19 + 2);
                goto lab_0x400b98;
            }
        }
    }
  lab_0x400b98:
    // 0x400aa8
    *v11 = *v4;
    v12 = (int16_t *)((int64_t)v11 + 2);
    v5 = (int16_t *)((int64_t)v4 + 2);
    goto lab_0x400ac8;
  lab_0x400ac8:
    // 0x400ac8
    *v12 = *v5;
    v13 = (int16_t *)((int64_t)v12 + 2);
    v6 = (int16_t *)((int64_t)v5 + 2);
    goto lab_0x400ae8;
  lab_0x400ae8:
    // 0x400ae8
    *v13 = *v6;
    v14 = (int16_t *)((int64_t)v13 + 2);
    v7 = (int16_t *)((int64_t)v6 + 2);
    goto lab_0x400b08;
  lab_0x400b08:
    // 0x400b08
    *v14 = *v7;
    v15 = (int16_t *)((int64_t)v14 + 2);
    v8 = (int16_t *)((int64_t)v7 + 2);
    goto lab_0x400b28;
  lab_0x400b28:
    // 0x400b28
    *v15 = *v8;
    v16 = (int16_t *)((int64_t)v15 + 2);
    v9 = (int16_t *)((int64_t)v8 + 2);
    goto lab_0x400b48;
  lab_0x400b48:
    // 0x400b48
    *v16 = *v9;
    v17 = (int16_t *)((int64_t)v16 + 2);
    v10 = (int16_t *)((int64_t)v9 + 2);
    goto lab_0x400b68;
  lab_0x400b68:
    // 0x400b68
    *v17 = *v10;
    v1 -= 8;
    v2 = (int16_t *)((int64_t)v10 + 2);
    v3 = (int16_t *)((int64_t)v17 + 2);
    if (v1 == 0) {
        // break -> 0x400b98
        goto lab_0x400b98;
    }
    goto lab_0x400a38;
}

// From module:   /mnt/from_holdec/./duffs_device/source.c
// Address range: 0x400ba0 - 0x400c40
// Line range:    115 - 123
int main(int argc, char ** argv) {
    int64_t * mem = malloc(200); // 0x400bc4
    int64_t * mem2 = malloc(200); // 0x400bd0
    copy1_four_times((int16_t *)mem2, (int16_t *)mem, 100);
    copy1_eight_times((int16_t *)mem2, (int16_t *)mem, 100);
    copy2_four_times((int16_t *)mem2, (int16_t *)mem, 100);
    copy2_eight_times((int16_t *)mem2, (int16_t *)mem, 100);
    return memcmp(mem, mem2, 200);
}

// --------------- Dynamically Linked Functions ---------------

// void * malloc(size_t size);
// int memcmp(const void * s1, const void * s2, size_t n);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: llvm (3.8.1)
// Detected functions: 5

