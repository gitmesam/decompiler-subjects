// subject_fini.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_fini.h"

// 08049294: void _fini()
void _fini()
{
}

// subject_init.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_init.h"

// 08048308: void _init()
// Called from:
//      __libc_csu_init
void _init()
{
	if (g_dw804B004 != 0x00)
		fn08048390();
}

// subject_plt.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_plt.h"

// 08048340: void time()
void time()
{
}

// 08048350: void puts()
void puts()
{
}

// 08048360: void __libc_start_main()
void __libc_start_main()
{
}

// 08048370: void putchar()
void putchar()
{
}

// 08048380: void rand()
void rand()
{
}

// subject_plt_got.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_plt_got.h"

// 08048390: void fn08048390()
// Called from:
//      _init
void fn08048390()
{
	g_ptr804AFFC();
}

// subject_text.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject_text.h"

// 080483A0: void main(Stack Eq_11 dwArg04)
void main(Eq_11 dwArg04)
{
	__align(fp);
	basic_1_if(dwArg04);
	basic_2_if_else(dwArg04);
	basic_3_if_elseif(dwArg04);
	basic_4_if_elseif_else(dwArg04);
	basic_5_head_controlled_loop(dwArg04);
	basic_6_tail_controlled_loop(dwArg04);
	basic_7_for_loop();
	basic_8_forever_loop(dwArg04);
	basic_9_dead_block();
	ui32 esi_32 = ~dwArg04;
	uint32 eax_98 = (uint32) (uint8) (dwArg04 > 0x04);
	intermediate_1_short_circuit_and(eax_98, esi_32 & 0x01);
	intermediate_2_short_circuit_or(eax_98, esi_32 & 0x01);
	intermediate_10_loop_with_one_break(dwArg04);
	intermediate_11_loop_with_two_breaks(dwArg04);
	intermediate_12_loop_with_break_and_block(dwArg04);
	intermediate_13_loop_with_one_continue(dwArg04);
	intermediate_14_loop_with_two_continues(dwArg04);
	intermediate_15_loop_with_continue_and_block(dwArg04);
	intermediate_16_loop_with_breaks_and_continues(dwArg04);
	intermediate_17_forever_loop_with_extra_statement();
}

// 080484BB: void _start(Register (ptr32 Eq_102) edx, Stack int32 dwArg00)
void _start(void (* edx)(), int32 dwArg00)
{
	__align((char *) fp + 4);
	__libc_start_main(&g_t80483A0, dwArg00, (char *) fp + 4, &g_t8049230, &g_t8049290, edx, fp);
	__hlt();
}

// 080484E0: void __x86.get_pc_thunk.bx()
void __x86.get_pc_thunk.bx()
{
}

// 080484F0: void deregister_tm_clones()
// Called from:
//      __do_global_dtors_aux
void deregister_tm_clones()
{
	if (true && 0x00 != 0x00)
		fn00000000();
}

// 08048520: void register_tm_clones()
// Called from:
//      frame_dummy
void register_tm_clones()
{
	if (0 != 0x00 && 0x00 != 0x00)
		fn00000000();
}

// 08048560: void __do_global_dtors_aux()
void __do_global_dtors_aux()
{
	if (g_b804B024 == 0x00)
	{
		deregister_tm_clones();
		g_b804B024 = 0x01;
	}
}

// 08048580: void frame_dummy()
void frame_dummy()
{
	if (g_dw804AF10 != 0x00 && 0x00 != 0x00)
	{
		fn00000000();
		register_tm_clones();
	}
	else
		register_tm_clones();
}

// 080485B0: void basic_1_if(Stack Eq_11 dwArg04)
// Called from:
//      main
void basic_1_if(Eq_11 dwArg04)
{
	if (dwArg04 != 0x2A)
		return;
	puts("if block");
}

// 080485E0: void basic_2_if_else(Stack Eq_11 dwArg04)
// Called from:
//      main
void basic_2_if_else(Eq_11 dwArg04)
{
	if (dwArg04 == 0x2A)
		puts("if block");
	else
		puts("else block");
}

// 08048620: void basic_3_if_elseif(Stack Eq_11 dwArg04)
// Called from:
//      main
void basic_3_if_elseif(Eq_11 dwArg04)
{
	if (dwArg04 == 0x2A)
		puts("if block");
	else
	{
		if (dwArg04 != 0x2B)
			return;
		puts("else-if block");
	}
}

// 08048680: void basic_4_if_elseif_else(Stack Eq_11 dwArg04)
// Called from:
//      main
void basic_4_if_elseif_else(Eq_11 dwArg04)
{
	if (dwArg04 == 0x2A)
		puts("if block");
	else if (dwArg04 == 0x2B)
		puts("else-if block");
	else
		puts("else block");
}

// 080486F0: void basic_7_for_loop()
// Called from:
//      main
void basic_7_for_loop()
{
	int32 ebx_15;
	for (ebx_15 = 0x30; ebx_15 != 0x3A; ++ebx_15)
		putchar(ebx_15);
}

// 08048720: void intermediate_1_short_circuit_and(Stack uint32 dwArg04, Stack Eq_11 dwArg08)
// Called from:
//      main
void intermediate_1_short_circuit_and(uint32 dwArg04, Eq_11 dwArg08)
{
	Eq_11 eax_5 = rand();
	if (dwArg04 != 0x00 && eax_5 == dwArg08)
		puts("both true");
}

// 08048750: void intermediate_2_short_circuit_or(Stack uint32 dwArg04, Stack Eq_11 dwArg08)
// Called from:
//      main
void intermediate_2_short_circuit_or(uint32 dwArg04, Eq_11 dwArg08)
{
	Eq_11 eax_5 = rand();
	if (dwArg04 == 0x00 && eax_5 != dwArg08)
		return;
	puts("at least one is true");
}

// 08048790: void intermediate_10_loop_with_one_break(Stack Eq_11 dwArg04)
// Called from:
//      main
void intermediate_10_loop_with_one_break(Eq_11 dwArg04)
{
	while (true)
	{
		puts("head");
		if (time(null) == dwArg04)
			break;
		puts("tail");
	}
}

// 080487E0: void intermediate_11_loop_with_two_breaks(Stack Eq_11 dwArg04)
// Called from:
//      main
void intermediate_11_loop_with_two_breaks(Eq_11 dwArg04)
{
	Eq_11 ebx_19 = dwArg04;
	if (dwArg04 > 0x00)
	{
		do
		{
			puts("head");
			if (time(null) == ebx_19)
				return;
			puts("tail");
			--ebx_19;
		} while (ebx_19 != 0x00);
	}
}

// 08048830: void intermediate_12_loop_with_break_and_block(Stack Eq_11 dwArg04)
// Called from:
//      main
void intermediate_12_loop_with_break_and_block(Eq_11 dwArg04)
{
	while (true)
	{
		puts("head");
		if (time(null) == dwArg04)
			break;
		puts("barrier");
		if (dwArg04 == rand())
			return;
		puts("tail");
	}
	puts("will break");
}

// 080488A0: void intermediate_13_loop_with_one_continue(Stack Eq_11 dwArg04)
// Called from:
//      main
void intermediate_13_loop_with_one_continue(Eq_11 dwArg04)
{
	if (dwArg04 <= 0x7B)
		return;
	while (true)
	{
		puts("head");
		if (dwArg04 != time(null))
			puts("tail");
	}
}

// 080488F0: void intermediate_14_loop_with_two_continues(Stack Eq_11 dwArg04)
// Called from:
//      main
void intermediate_14_loop_with_two_continues(Eq_11 dwArg04)
{
	if (dwArg04 <= 0x7B)
		return;
	while (true)
	{
		puts("head");
		if (dwArg04 != time(null))
		{
			puts("barrier");
			if (dwArg04 != rand())
				puts("tail");
		}
	}
}

// 08048960: void intermediate_15_loop_with_continue_and_block(Stack Eq_11 dwArg04)
// Called from:
//      main
void intermediate_15_loop_with_continue_and_block(Eq_11 dwArg04)
{
	if (dwArg04 <= 0x7B)
		return;
	while (true)
	{
		puts("head");
		if (dwArg04 != time(null))
		{
			puts("barrier");
			if (dwArg04 != rand())
				puts("tail");
		}
		else
			puts("will continue");
	}
}

// 080489E0: void intermediate_16_loop_with_breaks_and_continues(Stack Eq_11 dwArg04)
// Called from:
//      main
void intermediate_16_loop_with_breaks_and_continues(Eq_11 dwArg04)
{
	while (true)
	{
		do
			puts("head");
		while (time(null) + 0x01 == dwArg04);
		puts("after first continue");
		if (dwArg04 == time(null) + 0x02)
			break;
		puts("after first break");
		if (dwArg04 == time(null) + 0x03)
			continue;
		puts("after second continue");
		if (dwArg04 == time(null) + 0x04)
			return;
		puts("after second break; tail");
	}
}

// 08048AA0: void intermediate_20_nested_loops(Stack Eq_11 dwArg04)
// Called from:
//      main
void intermediate_20_nested_loops(Eq_11 dwArg04)
{
	puts("before");
	do
	{
		puts("outer loop");
		do
			puts("inner loop");
		while (time(null) != dwArg04);
	} while (dwArg04 != rand());
	puts("after");
}

// 08048B10: void intermediate_30_switch_case(Stack up32 dwArg04)
// Called from:
//      main
void intermediate_30_switch_case(up32 dwArg04)
{
	if (dwArg04 <= 0x09)
	{
		switch (dwArg04)
		{
		case 0x00:
			puts("0");
			break;
		case 0x01:
			puts("1");
			break;
		case 0x02:
		case 0x03:
			puts("2 or 3");
			break;
		case 0x04:
			puts("4");
			break;
		case 0x05:
			puts("5");
			break;
		case 0x06:
			puts("6");
			break;
		case 0x07:
			puts("7 with fall through");
			goto l08048B40;
		case 0x08:
l08048B40:
			puts("8");
			break;
		case 0x09:
			puts("9");
			break;
		}
	}
	else
		puts("some other value");
	puts("common exit");
}

// 08048C30: void advanced_1_loop_with_multiple_entries(Stack int32 dwArg04)
// Called from:
//      main
void advanced_1_loop_with_multiple_entries(int32 dwArg04)
{
	ptr32 esp_14 = fp - 0x0C;
	int32 ebx_11 = dwArg04;
	if (dwArg04 != 0x2A)
	{
		if (dwArg04 <= 0x00)
			return;
l08048C41:
		struct Eq_436 * esp_15 = esp_14 - 0x0C;
		esp_15->ptrFFFFFFFC = (char *) "body 1";
		puts(esp_15->ptrFFFFFFFC);
		--ebx_11;
		esp_14 = (char *) &esp_15->ptrFFFFFFFC + 16;
	}
	else
		ebx_11 = 0x29;
	struct Eq_452 * esp_24 = esp_14 - 0x0C;
	esp_24->ptrFFFFFFFC = (char *) "body 2";
	puts(esp_24->ptrFFFFFFFC);
	esp_14 = (char *) &esp_24->ptrFFFFFFFC + 16;
	if (ebx_11 <= 0x00)
		return;
	goto l08048C41;
}

// 08048C80: void advanced_2_loop_with_multiple_exits(Stack int32 dwArg04)
// Called from:
//      main
void advanced_2_loop_with_multiple_exits(int32 dwArg04)
{
	int32 ebx_40 = dwArg04;
	if (dwArg04 > 0x00)
	{
		do
		{
			puts("body 1");
			if (time(null) == 0x01)
			{
				puts("took exit 1");
				return;
			}
			puts("body 2");
			if (time(null) == 0x02)
			{
				puts("took exit 2");
				return;
			}
			--ebx_40;
		} while (ebx_40 != 0x00);
	}
	puts("normal exit");
}

// 08048D30: void advanced_10_irreducible(Stack time_t dwArg04)
// Called from:
//      main
void advanced_10_irreducible(time_t dwArg04)
{
	puts("b1");
	if (time(null) != dwArg04)
	{
		puts("b2");
		if (time(null) == (word32) dwArg04 + 1)
		{
			puts("b4");
l08048D88:
			puts("b5");
			return;
		}
	}
	puts("b3");
	goto l08048D88;
}

// 08048DC0: void advanced_11_nested_loops_complex_condition(Stack Eq_11 dwArg04)
// Called from:
//      main
void advanced_11_nested_loops_complex_condition(Eq_11 dwArg04)
{
	puts("b0");
	Eq_11 eax_18 = time(null);
	if (eax_18 == dwArg04)
	{
l08048E08:
		puts("b2");
		do
		{
			puts("b3");
			if (time(null) == eax_18 + 0x02)
			{
				puts("b1");
				if (time(null) != eax_18 + 0x01)
					break;
				goto l08048E08;
			}
		} while (time(null) == eax_18 + 0x03);
	}
	puts("b9");
}

// 08048E80: void advanced_12_nested_if_in_loop(Stack time_t dwArg04)
// Called from:
//      main
void advanced_12_nested_if_in_loop(time_t dwArg04)
{
	puts("b0");
	do
	{
		puts("b1");
		if (time(null) != dwArg04)
		{
			puts("b3");
			if (time(null) != (word32) dwArg04 + 2)
				break;
			continue;
		}
		puts("b2");
	} while (time(null) == (word32) dwArg04 + 1);
	puts("b4");
}

// 08048F30: void advanced_20_jump_table_on_stack(Stack uint32 dwArg04)
// Called from:
//      main
void advanced_20_jump_table_on_stack(uint32 dwArg04)
{
	if (dwArg04 > 0x05)
		puts("is something else");
	else
		(fp - 0x24)[dwArg04]();
}

// 08049050: void advanced_21_computed_jumps(Stack up32 dwArg04)
// Called from:
//      main
void advanced_21_computed_jumps(up32 dwArg04)
{
	puts("start");
	if (dwArg04 > 0x02)
		puts("is something else");
	else if (dwArg04 == 0x00)
		puts("is 0");
	else
	{
		switch (dwArg04)
		{
		case 0x00:
			puts("is 1");
			return;
		}
	}
}

// 08049110: void basic_5_head_controlled_loop(Stack Eq_11 dwArg04)
// Called from:
//      main
void basic_5_head_controlled_loop(Eq_11 dwArg04)
{
	puts("before");
	time_t ebx_14 = dwArg04;
	while (ebx_14 != 0x2A)
	{
		puts("body");
		ebx_14 = (Eq_11) ((word32) ebx_14 + 1);
	}
	puts("after");
}

// 08049160: void basic_6_tail_controlled_loop(Stack Eq_11 dwArg04)
// Called from:
//      main
void basic_6_tail_controlled_loop(Eq_11 dwArg04)
{
	puts("before");
	time_t ebx_16 = dwArg04;
	do
	{
		puts("body");
		ebx_16 = (Eq_11) ((word32) ebx_16 + 1);
	} while (ebx_16 != 0x2A);
	puts("after");
}

// 080491B0: void basic_8_forever_loop(Stack Eq_11 dwArg04)
// Called from:
//      main
void basic_8_forever_loop(Eq_11 dwArg04)
{
	if (dwArg04 != 0x2A)
		return;
	while (true)
		puts("loop body");
}

// 080491D2: void basic_9_dead_block()
// Called from:
//      main
void basic_9_dead_block()
{
	puts("entry");
	puts("exit");
}

// 08049211: void intermediate_17_forever_loop_with_extra_statement()
// Called from:
//      main
void intermediate_17_forever_loop_with_extra_statement()
{
	while (true)
		;
}

// 08049230: void __libc_csu_init(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void __libc_csu_init(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	_init();
	int32 esi_28 = 0x0804B0F4 - 0x0804B0F8;
	if (esi_28 >> 0x02 != 0x00)
	{
		int32 edi_33;
		do
		{
			((<anonymous> *[]) 0x0804B0F8)[edi_33]();
			++edi_33;
		} while (esi_28 >> 0x02 != edi_33);
	}
}

// 08049290: void __libc_csu_fini()
void __libc_csu_fini()
{
}

