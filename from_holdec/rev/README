Source from https://github.com/karelzak/util-linux/blob/25ed963d021c3db1d8a07c0a548b595047bdeb96/text-utils/rev.c
