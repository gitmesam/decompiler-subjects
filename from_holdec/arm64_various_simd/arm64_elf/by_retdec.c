//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) Retargetable Decompiler <info@retdec.com>
//

#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>

// ---------------- Integer Types Definitions -----------------

typedef int64_t int128_t;

// ----------------- Float Types Definitions ------------------

typedef float float32_t;
typedef double float64_t;
typedef long double float128_t;

// ------------------- Function Prototypes --------------------

int64_t _24_x(int64_t a1, int64_t a2, char * a3);
int64_t __do_global_dtors_aux(void);
int64_t _fini(void);
int64_t _init(void);
int64_t _start(void);
void _start_c(int64_t * p);
int64_t cmp_bytes(int64_t a1, int64_t a2, char * a3);
int64_t deregister_tm_clones(int64_t a1);
void dump(char * msg);
int64_t frame_dummy(int64_t a1);
int64_t function_634(int64_t a1, int64_t a2);
int32_t function_660(char * format, ...);
int32_t function_670(char * s);
void function_680(int64_t * d);
int64_t function_690(int64_t * a1);
int32_t function_6a0(int64_t main2, int32_t argc, char ** ubp_av, void (*init)(), void (*fini)(), void (*rtld_fini)());
int64_t function_6b0(int64_t * a1, int64_t * a2);
int64_t function_bf4(int64_t a1, int64_t a2);
int64_t modify2(int64_t a1, int64_t a2, char * a3);
int64_t modify3(int64_t a1, int64_t a2, char * a3);
int64_t modify4(int64_t a1, int64_t a2, char * a3);
int64_t register_tm_clones(int64_t a1);

// --------------------- Global Variables ---------------------

int64_t g1 = 0; // 0x11fa0
void (*g2)() = (void (*)())1584; // 0x11fa8
int64_t g3 = 0; // 0x11fb0
int64_t g4; // 0x11fc0
char (*g5)[50] = "LoRem iPSUM is simply dummy text of the printing "; // 0x11fc8
int32_t g6 = 0x12058; // 0x11fd0
int32_t g7 = 2472; // 0x11fe0
void (*g8)() = (void (*)())3056; // 0x11fe8
char (*g9)[50] = "Lorem Ipsum is simply dummy text of the printing "; // 0x11ff0
int64_t g10 = 0; // 0x11ff8
int64_t g11; // 0x12000
int64_t g12 = 0; // 0x12018
int64_t g13 = 0; // 0x12020
char * g14; // 0xc70
int64_t g15 = 16; // 0xea0
int32_t g16;

// ------------------------ Functions -------------------------

// Address range: 0x630 - 0x634
int64_t _init(void) {
    // 0x630
    int64_t result; // 0x630
    return result;
}

// Address range: 0x634 - 0x640
int64_t function_634(int64_t a1, int64_t a2) {
    // 0x634
    int64_t result; // 0x634
    return result;
}

// Address range: 0x660 - 0x670
int32_t function_660(char * format, ...) {
    // 0x660
    return printf(format);
}

// Address range: 0x670 - 0x680
int32_t function_670(char * s) {
    // 0x670
    return puts(s);
}

// Address range: 0x680 - 0x690
void function_680(int64_t * d) {
    // 0x680
    __cxa_finalize(d);
}

// Address range: 0x690 - 0x6a0
int64_t function_690(int64_t * a1) {
    // 0x690
    return __deregister_frame_info();
}

// Address range: 0x6a0 - 0x6b0
int32_t function_6a0(int64_t main2, int32_t argc, char ** ubp_av, void (*init)(), void (*fini)(), void (*rtld_fini)()) {
    // 0x6a0
    return __libc_start_main(main2, argc, ubp_av, init, fini, rtld_fini);
}

// Address range: 0x6b0 - 0x6c0
int64_t function_6b0(int64_t * a1, int64_t * a2) {
    // 0x6b0
    return __register_frame_info();
}

// Address range: 0x6c0 - 0x6dc
int64_t _start(void) {
    // 0x6c0
    int64_t v1; // 0x6c0
    _start_c(&v1);
    return &g16;
}

// From module:   /home/buildozer/aports/main/musl/src/musl-1.1.24/crt/crt1.c
// Address range: 0x6dc - 0x704
// Line range:    14 - 18
void _start_c(int64_t * p) {
    int32_t v1 = g7; // 0x6f8
    __libc_start_main((int64_t)v1, v1, (char **)((int64_t)p + 8), g2, g8, NULL);
}

// Address range: 0x704 - 0x734
int64_t deregister_tm_clones(int64_t a1) {
    // 0x704
    return &g12;
}

// Address range: 0x734 - 0x770
int64_t register_tm_clones(int64_t a1) {
    // 0x734
    return &g12;
}

// Address range: 0x770 - 0x7d8
int64_t __do_global_dtors_aux(void) {
    // 0x770
    if (*(char *)&g12 != 0) {
        // 0x7d4
        return &g11;
    }
    int64_t v1 = 0; // 0x794
    if (g1 != 0) {
        // 0x798
        __cxa_finalize((int64_t *)g11);
        v1 = &g16;
    }
    // 0x7a4
    deregister_tm_clones(v1);
    if (g3 != 0) {
        // 0x7b4
        function_690(&g15);
    }
    // 0x7c0
    *(char *)&g12 = 1;
    return 1;
}

// Address range: 0x7d8 - 0x808
int64_t frame_dummy(int64_t a1) {
    int64_t v1 = 0; // 0x7e0
    if (g10 != 0) {
        // 0x7e4
        v1 = function_6b0(&g15, &g13);
    }
    // 0x804
    return register_tm_clones(v1);
}

// From module:   /home/foobar/work2/source.c
// Address range: 0x808 - 0x9a8
// Line range:    15 - 41
void dump(char * msg) {
    // 0x808
    printf("===== %s\n", msg);
    int64_t v1 = *(int64_t *)*(int64_t *)0x11fc0; // 0x82c
    printf("x1/x0 (high/low):       0x%016lx 0x%016lx\n", (int32_t)v1, g6);
    printf("memory:                 0x");
    for (int64_t i = 0; i < 16; i++) {
        unsigned char v2 = *(char *)(i + (int64_t)"\x11\"3DUfw\x88\x99\xaa\x00\x00\x00\x00\x00"); // 0x86c
        printf("%02x", (int32_t)v2);
        if (i == 7) {
            // 0x88c
            printf(" 0x");
        }
    }
    // 0x8b0
    puts((char *)&g14);
    printf("as float (s, 4 byte):   ");
    int64_t v3 = 0; // 0x808
    int128_t v4; // 0x808
    printf("[%d]=%f ", v3, (float64_t)(int64_t)v4);
    int64_t v5 = v3 + 1; // 0x908
    v3 = v5 & 0xffffffff;
    while ((int32_t)v5 < 4) {
        // 0x8dc
        printf("[%d]=%f ", v3, (float64_t)(int64_t)v4);
        v5 = v3 + 1;
        v3 = v5 & 0xffffffff;
    }
    // 0x91c
    puts((char *)&g14);
    printf("as double (d, 8 byte):  ");
    for (int64_t i = 0; i < 2; i++) {
        // 0x948
        printf("[%d]=%f ", i, (float64_t)(int64_t)v4);
    }
    // 0x984
    puts((char *)&g14);
    puts((char *)&g14);
}

// From module:   /home/foobar/work2/source.c
// Address range: 0x9a8 - 0xaac
// Line range:    43 - 64
int main() {
    // 0x9a8
    _24_x(g4, (int64_t)(uint32_t)g6, "\x11\"3DUfw\x88\x99\xaa\x00\x00\x00\x00\x00");
    dump("2x double values of 0.75");
    modify2(g4, (int64_t)g6, "\x11\"3DUfw\x88\x99\xaa\x00\x00\x00\x00\x00");
    dump("4x float values of 0.75");
    modify3(g4, (int64_t)g6, "\x11\"3DUfw\x88\x99\xaa\x00\x00\x00\x00\x00");
    dump("4x float values of 123, 456, 789, 543 divided by 100");
    modify4(g4, (int64_t)g6, "\x11\"3DUfw\x88\x99\xaa\x00\x00\x00\x00\x00");
    dump("4x float values of 123, 456, 789, 543 divided by 100 and than add 2 to every byte");
    printf("first input:  '%s'\n", g9);
    printf("second input: '%s'\n", g5);
    cmp_bytes(g4, (int64_t)g6, "\x11\"3DUfw\x88\x99\xaa\x00\x00\x00\x00\x00");
    dump("compare first 16 bytes of two strings (ff=eq, 00=ne)");
    return 0;
}

// Address range: 0xab0 - 0xad4
int64_t _24_x(int64_t a1, int64_t a2, char * a3) {
    // 0xab0
    int128_t v1; // 0xab0
    __asm_ins(0.0, (float64_t)(int64_t)v1);
    *(int64_t *)a2 = __asm_fmov(0.0);
    *(int64_t *)a1 = 0x3fe8000000000000;
    return 0;
}

// Address range: 0xad4 - 0xaf8
int64_t modify2(int64_t a1, int64_t a2, char * a3) {
    // 0xad4
    int128_t v1; // 0xad4
    __asm_dup((float32_t)(int32_t)v1);
    *(int64_t *)a2 = __asm_fmov(0.0);
    float64_t v2; // 0xad4
    *(int64_t *)a1 = (int64_t)v2;
    return 0;
}

// Address range: 0xaf8 - 0xb50
int64_t modify3(int64_t a1, int64_t a2, char * a3) {
    // 0xaf8
    int128_t v1; // 0xaf8
    __asm_ins_7((float32_t)(int32_t)(v1 / 0x100000000), (float32_t)(int32_t)v1);
    __asm_ins_7(0.0f, (float32_t)(int32_t)v1);
    int128_t v2 = __asm_ins_7(0.0f, (float32_t)(int32_t)v1); // 0xb20
    __asm_fdiv(v2, __asm_dup((float32_t)(int32_t)v1));
    *(int64_t *)a2 = __asm_fmov(0.0);
    float64_t v3; // 0xaf8
    *(int64_t *)a1 = (int64_t)v3;
    return 0;
}

// Address range: 0xb50 - 0xbb8
int64_t modify4(int64_t a1, int64_t a2, char * a3) {
    // 0xb50
    int128_t v1; // 0xb50
    __asm_ins_7((float32_t)(int32_t)(v1 / 0x100000000), (float32_t)(int32_t)v1);
    __asm_ins_7(0.0f, (float32_t)(int32_t)v1);
    int128_t v2 = __asm_ins_7(0.0f, (float32_t)(int32_t)v1); // 0xb78
    int128_t v3 = __asm_dup((float32_t)(int32_t)v1); // 0xb84
    __asm_fdiv(v2, v3);
    __asm_dup_8((char)v3);
    *(int64_t *)a2 = __asm_fmov(0.0);
    float64_t v4; // 0xb50
    *(int64_t *)a1 = (int64_t)v4;
    return 0;
}

// Address range: 0xbb8 - 0xbf0
int64_t cmp_bytes(int64_t a1, int64_t a2, char * a3) {
    // 0xbb8
    int128_t v1; // 0xbb8
    __asm_cmeq(v1, v1);
    *(float128_t *)a3 = *(float128_t *)"Lorem Ipsum is simply dummy text of the printing ";
    *(int64_t *)a2 = __asm_fmov(0.0);
    float64_t v2; // 0xbb8
    *(int64_t *)a1 = (int64_t)v2;
    return 0;
}

// Address range: 0xbf0 - 0xbf4
int64_t _fini(void) {
    // 0xbf0
    int64_t result; // 0xbf0
    return result;
}

// Address range: 0xbf4 - 0xc00
int64_t function_bf4(int64_t a1, int64_t a2) {
    // 0xbf4
    int64_t result; // 0xbf4
    return result;
}

// --------------- Dynamically Linked Functions ---------------

// void __cxa_finalize(void * d);
// int64_t __deregister_frame_info(void);
// int __libc_start_main(int *(main)(int, char **, char **), int argc, char ** ubp_av, void(* init)(void), void(* fini)(void), void(* rtld_fini)(void), void(* stack_end));
// int64_t __register_frame_info(void);
// int printf(const char * restrict format, ...);
// int puts(const char * s);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (9.3.0)
// Detected functions: 23

