// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 0804A00C: void _init()
void _init()
{
	word32 edx_13 = globals->dw805AFF8;
	if (edx_13 != 0x00)
	{
		word32 esp_31;
		word32 ebp_32;
		word32 ebx_33;
		byte SCZO_34;
		word32 edx_35;
		byte SZO_36;
		byte C_37;
		byte Z_38;
		word32 eax_39;
		!__gmon_start__();
	}
	frame_dummy();
	__do_global_ctors_aux();
}

// 0804AAD0: void _start(Register (ptr Eq_25) edx, Stack int32 dwArg00)
void _start( * edx, int32 dwArg00)
{
	__align((char *) fp + 0x04);
	__libc_start_main(&globals->t804BFA5, dwArg00, (char *) fp + 0x04, &globals->t8054730, &globals->t8054720, edx, fp);
	__hlt();
}

// 0804AB00: void __do_global_dtors_aux(Register word32 esi)
void __do_global_dtors_aux(word32 esi)
{
	if (globals->b805B3C4 != 0x00)
		return;
	up32 eax_23 = globals->dw805B3C8;
	if (eax_23 >= 0x00)
		globals->b805B3C4 = 0x01;
	else
		globals->dw805B3C8 = eax_23 + 0x01;
}

// 0804AB60: void frame_dummy()
void frame_dummy()
{
	if (globals->dw805AF0C != 0x00 && 0x00 != 0x00)
	{
		word32 esp_28;
		word32 ebp_29;
		byte SCZO_30;
		word32 eax_31;
		byte SZO_32;
		byte C_33;
		byte Z_34;
		null();
	}
}

// 0804AB84: void parse_args_from_string(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack Eq_83 dwArg0C, Stack Eq_83 dwArg10)
void parse_args_from_string(Eq_83 dwArg04, Eq_83 dwArg08, Eq_83 dwArg0C, Eq_83 dwArg10)
{
	if (dwArg08 != 0x00 && (byte) ((word32) (*dwArg08)) != 0x00)
	{
		word32 eax_65 = malloc(strlen(dwArg08) + 0x01);
		strcpy(eax_65, dwArg08);
		Eq_83 dwLoc10_131 = eax_65;
		ui32 dwLoc18_77 = 0x01;
		while (true)
		{
			(fp - 0x021C)[dwLoc18_77] = dwLoc10_131;
			ui32 v12_88 = dwLoc18_77 + 0x01;
			dwLoc18_77 = v12_88;
			while ((byte) (word32) *dwLoc10_131 != 0x20 && (byte) ((word32) (*dwLoc10_131)) != 0x00)
				dwLoc10_131 = (word32) dwLoc10_131 + 0x01;
			if ((byte) (word32) *dwLoc10_131 == 0x00)
				break;
			*dwLoc10_131 = 0x00;
			dwLoc10_131 = (word32) dwLoc10_131 + 0x01;
		}
		(fp - 0x021C)[v12_88] = 0x00;
		real64 rArg0_122;
		*(fp - 0x1C) = parse_args(fp - 0x04, dwArg04, fp - 0x021C, dwArg0C, dwArg10, rArg0, out rArg0_122);
		*(fp - 0x023C) = *(fp - 0x14);
		free(*(fp - 0x023C));
	}
}

// 0804AC92: Register word32 init_files(Register (ptr Eq_200) gs, Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack Eq_83 dwArg0C, Stack Eq_83 dwArg10, Stack Eq_83 dwArg14)
word32 init_files(Eq_200 * gs, Eq_83 dwArg04, Eq_83 dwArg08, Eq_83 dwArg0C, Eq_83 dwArg10, Eq_83 dwArg14)
{
	word32 eax_25;
	if (strcmp(0x08054866, dwArg0C) != 0x00 && strcmp(dwArg08, dwArg0C) == 0x00)
	{
		error_printf(0x08054868);
		eax_25 = 0x00;
	}
	else
	{
		init_infile(gs, dwArg04, dwArg08, dwArg10, dwArg14);
		word32 esp_46;
		word32 ebp_47;
		byte SCZO_48;
		word32 eax_49;
		byte SZO_50;
		byte C_51;
		byte Z_52;
		struct Eq_230 * gs_53;
		!lame_get_decode_only();
		word32 eax_57 = init_outfile(dwArg0C);
		if (eax_57 == 0x00)
		{
			error_printf(0x08054899);
			eax_25 = 0x00;
		}
		else
			eax_25 = eax_57;
	}
	return eax_25;
}

// 0804AD3A: Register (ptr Eq_253) lame_decoder(Register (ptr Eq_200) gs, Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack Eq_83 dwArg0C, Stack Eq_83 dwArg10, Stack Eq_83 dwArg14, Register out ptr32 ebpOut)
Eq_253 * lame_decoder(Eq_200 * gs, Eq_83 dwArg04, Eq_83 dwArg08, Eq_83 dwArg0C, Eq_83 dwArg10, Eq_83 dwArg14, ptr32 & ebpOut)
{
	Eq_261 dwLoc14_14 = 0x00;
	word32 esp_18;
	word32 ebp_19;
	word32 esi_20;
	word32 ebx_21;
	byte SCZO_22;
	Eq_268 eax_23;
	byte SZO_24;
	byte Z_25;
	byte CZ_26;
	bcuisposr0 None_27;
	real64 rLoc1_28;
	real64 rLoc2_29;
	byte C_30;
	word32 edx_31;
	byte S_32;
	word32 ecx_33;
	byte CZP_34;
	byte al_35;
	byte SO_36;
	byte ah_37;
	word16 ax_38;
	struct Eq_284 * gs_39;
	!lame_get_num_channels();
	if (globals->dw805C54C <= 0x09)
	{
		word32 esp_795;
		word32 ebp_796;
		word32 esi_797;
		word32 ebx_798;
		byte SCZO_799;
		word32 eax_800;
		byte SZO_801;
		byte Z_802;
		byte CZ_803;
		bcuisposr0 None_804;
		real64 rLoc1_805;
		real64 rLoc2_806;
		byte C_807;
		word32 edx_808;
		byte S_809;
		word32 ecx_810;
		byte CZP_811;
		byte al_812;
		byte SO_813;
		byte ah_814;
		word16 ax_815;
		struct Eq_318 * gs_816;
		!lame_get_in_samplerate();
		console_printf(0x080548C4);
	}
	Eq_290 eax_76 = globals->t805C544;
	if (eax_76 > 0x07)
	{
		if (globals->dw805C54C <= 0x09)
			console_printf(134564174);
		word32 esp_166;
		word32 ebp_167;
		word32 esi_168;
		word32 ebx_169;
		byte SCZO_170;
		word32 eax_171;
		byte SZO_172;
		byte Z_173;
		byte CZ_174;
		bcuisposr0 None_175;
		real64 rLoc1_176;
		real64 rLoc2_177;
		byte C_178;
		word32 edx_179;
		byte S_180;
		word32 ecx_181;
		byte CZP_182;
		byte al_183;
		byte SO_184;
		byte ah_185;
		word16 ax_186;
		struct Eq_381 * gs_187;
		!lame_get_num_samples();
		globals->dw805C57C = eax_171;
		globals->t805C578.u0 = 0x0480;
		Eq_388 dwArg0C_190 = 0x00;
		if (globals->dw805C54C <= 0x09)
		{
			console_printf(0x08054960);
			if (false)
				console_printf(0x08054988);
			if (false)
				console_printf(0x080549C0);
		}
		if (globals->dw805C558 == 0x00)
		{
			word32 esp_723;
			word32 ebp_724;
			word32 esi_725;
			word32 ebx_726;
			byte SCZO_727;
			Eq_429 eax_728;
			byte SZO_729;
			byte Z_730;
			byte CZ_731;
			bcuisposr0 None_732;
			real64 rLoc1_733;
			real64 rLoc2_734;
			byte C_735;
			word32 edx_736;
			byte S_737;
			word32 ecx_738;
			byte CZP_739;
			byte al_740;
			byte SO_741;
			byte ah_742;
			word16 ax_743;
			!lame_get_in_samplerate();
			WriteWaveHeader(dwArg08, 0x7FFFFFFF, eax_728, eax_23, 0x10);
		}
		<anonymous> * eax_236;
		Eq_416 rLoc2C_231 = (real64) -0x00;
		if (globals->dw805B3E8 != 0x00)
			eax_236 = &globals->t8052CD3;
		else
			eax_236 = &globals->t8052C9E;
		globals->t805C580 = (uint32) ((uint64) (uint32) globals->dw805C57C /u globals->t805C578);
		do
		{
			Eq_388 eax_278 = get_audio16(gs_187, dwArg04, fp->aFFFFEDD4);
			Eq_388 dwLoc10_279 = eax_278;
			if (eax_278 >= 0x00)
			{
				globals->t805C584 = (word32) globals->t805C584 + (int32) (SEQ(eax_278 >> 0x1F, eax_278) / globals->t805C578);
				rLoc2C_231 = (real64) eax_278 + rLoc2C_231;
				if (globals->dw805C54C <= 0x00)
				{
					decoder_progress(&globals->t805C560);
					console_flush();
				}
				Eq_388 eax_523 = dwArg0C_190;
				if (eax_278 <= dwArg0C_190)
					eax_523 = eax_278;
				Eq_388 dwLoc18_535 = eax_523;
				dwArg0C_190 = dwArg0C_190 - eax_523;
				if (dwLoc14_14 > 0x0480 && (word32) globals->t805C584 + 0x02 > globals->t805C580)
				{
					dwLoc10_279 = eax_278 + (0x0480 - dwLoc14_14);
					dwLoc14_14.u0 = 0x0480;
				}
				else if (globals->t805C584 == globals->t805C580 && eax_278 != 0x00)
					dwLoc10_279 = eax_278 - dwLoc14_14;
				while (dwLoc18_535 < dwLoc10_279)
				{
					if (globals->dw805C558 != 0x00)
					{
						word32 esp_616;
						word32 ebp_617;
						word32 esi_618;
						word32 ebx_619;
						byte SCZO_620;
						word32 eax_621;
						byte SZO_622;
						byte Z_623;
						byte CZ_624;
						bcuisposr0 None_625;
						real64 rLoc1_626;
						real64 rLoc2_627;
						byte C_628;
						word32 edx_629;
						byte S_630;
						word32 ecx_631;
						byte CZP_632;
						byte al_633;
						byte SO_634;
						byte ah_635;
						word16 ax_636;
						eax_236();
						if (eax_23 == 0x02)
						{
							word32 esp_651;
							word32 ebp_652;
							word32 esi_653;
							word32 ebx_654;
							byte SCZO_655;
							word32 eax_656;
							byte SZO_657;
							byte Z_658;
							byte CZ_659;
							bcuisposr0 None_660;
							real64 rLoc1_661;
							real64 rLoc2_662;
							byte C_663;
							word32 edx_664;
							byte S_665;
							word32 ecx_666;
							byte CZP_667;
							byte al_668;
							byte SO_669;
							byte ah_670;
							word16 ax_671;
							eax_236();
						}
					}
					else
					{
						Write16BitsLowHigh(dwArg08, (int32) (word16) (word32) fp->aFFFFEDD4[dwLoc18_535]);
						if (eax_23 == 0x02)
							Write16BitsLowHigh(dwArg08, (int32) (word16) (word32) fp->aFFFFEDD4[(word32) dwLoc18_535 + 1152]);
					}
					dwLoc18_535 = (word32) dwLoc18_535.u0 + 0x01;
				}
				if (globals->dw805B3F0 == 0x01)
					fflush(dwArg08);
			}
		} while (dwLoc10_279 > 0x00);
		real64 rLoc2C_331;
		if (0.0 >= rLoc2C_231 != 0x00)
		{
			if (globals->dw805C54C <= 0x09)
				error_printf(134564348);
			rLoc2C_331 = 0.0;
		}
		else if (rLoc2C_231 > (real64) DPB(qwLoc123C, 0x00, 32) != 0x00)
		{
			if (globals->dw805C54C <= 0x09)
				error_printf(0x08054A20);
			rLoc2C_331 = globals->r8054F10;
		}
		else
			rLoc2C_331 = (real64) (eax_23 * 0x02) * rLoc2C_231;
		if (globals->dw805C558 == 0x00 && strcmp(0x08054866, dwArg14) != 0x00)
		{
			word32 esp_399;
			word32 ebp_400;
			word32 esi_401;
			word32 ebx_402;
			byte SCZO_403;
			word32 eax_404;
			byte SZO_405;
			byte Z_406;
			byte CZ_407;
			bcuisposr0 None_408;
			real64 rLoc1_409;
			real64 rLoc2_410;
			byte C_411;
			word32 edx_412;
			byte S_413;
			word32 ecx_414;
			byte CZP_415;
			byte al_416;
			byte SO_417;
			byte ah_418;
			word16 ax_419;
			struct Eq_677 * gs_420;
			!fseek();
			if (eax_404 == 0x00)
			{
				word32 esp_426;
				word32 ebp_427;
				word32 esi_428;
				word32 ebx_429;
				byte SCZO_430;
				Eq_429 eax_431;
				byte SZO_432;
				byte Z_433;
				byte CZ_434;
				bcuisposr0 None_435;
				real64 rLoc1_436;
				real64 rLoc2_437;
				byte C_438;
				word32 edx_439;
				byte S_440;
				word32 ecx_441;
				byte CZP_442;
				byte al_443;
				byte SO_444;
				byte ah_445;
				word16 ax_446;
				struct Eq_702 * gs_447;
				!lame_get_in_samplerate();
				uint16 wLoc122E_450 = __fstcw();
				__fldcw(DPB(ax_446, 0x0C, 8));
				__fldcw(wLoc122E_450);
				WriteWaveHeader(dwArg08, (int32) rLoc2C_331, eax_431, eax_23, 0x10);
			}
		}
		fclose(dwArg08);
		if (globals->dw805C54C <= 0x00)
			decoder_progress_finish();
		word32 ebp_385;
		*ebpOut = ebp;
		return fp;
	}
	else
	{
		<anonymous> * eax_125 = *((char *) globals->a8054A58 + eax_76 * 0x04);
		struct Eq_253 * esp_138;
		word32 ebp_139;
		word32 esi_140;
		word32 ebx_141;
		byte SCZO_142;
		word32 eax_143;
		byte SZO_144;
		byte Z_145;
		byte CZ_146;
		bcuisposr0 None_147;
		real64 rLoc1_148;
		real64 rLoc2_149;
		byte C_150;
		word32 edx_151;
		byte S_152;
		word32 ecx_153;
		byte CZP_154;
		byte al_155;
		byte SO_156;
		byte ah_157;
		word16 ax_158;
		struct Eq_354 * gs_159;
		eax_125();
		return esp_138;
	}
}

// 0804B4F0: void print_lame_tag_leading_info(Stack Eq_83 dwArg04)
void print_lame_tag_leading_info(Eq_83 dwArg04)
{
	word32 esp_11;
	word32 ebp_12;
	byte SCZO_13;
	word32 eax_14;
	byte SZO_15;
	byte C_16;
	byte Z_17;
	!lame_get_bWriteVbrTag();
	if (eax_14 != 0x00)
		console_printf(0x08054A78);
}

// 0804B513: FpuStack Eq_765 print_trailing_info(Stack Eq_83 dwArg04, FpuStack Eq_765 rArg0)
Eq_765 print_trailing_info(Eq_83 dwArg04, Eq_765 rArg0)
{
	word32 esp_11;
	word32 ebp_12;
	byte SCZO_13;
	word32 eax_14;
	byte SZO_15;
	byte C_16;
	byte Z_17;
	real64 rLoc1_18;
	real64 rLoc2_19;
	real64 rArg0_20;
	byte CZP_21;
	byte al_22;
	byte CZ_23;
	byte SO_24;
	!lame_get_bWriteVbrTag();
	if (eax_14 != 0x00)
		console_printf(0x08054A8C);
	word32 esp_30;
	word32 ebp_31;
	byte SCZO_32;
	word32 eax_33;
	byte SZO_34;
	byte C_35;
	byte Z_36;
	real64 rLoc1_37;
	real64 rLoc2_38;
	byte CZP_40;
	byte al_41;
	byte CZ_42;
	byte SO_43;
	Eq_765 rArg0_104;
	!lame_get_findReplayGain();
	if (eax_33 != 0x00)
	{
		word32 esp_207;
		word32 ebp_208;
		byte SCZO_209;
		int32 eax_210;
		byte SZO_211;
		byte C_212;
		byte Z_213;
		real64 rLoc1_214;
		real64 rLoc2_215;
		byte CZP_217;
		byte al_218;
		byte CZ_219;
		byte SO_220;
		!lame_get_RadioGain();
		console_printf(0x08054A94);
		if (eax_210 > 0x01FE || eax_210 < ~0x01FD)
			error_printf(134564524);
	}
	if (globals->dw805C554 != 0x00)
	{
		word32 esp_95;
		word32 ebp_96;
		byte SCZO_97;
		word32 eax_98;
		byte SZO_99;
		byte C_100;
		byte Z_101;
		real64 rLoc1_102;
		real64 rLoc2_103;
		byte CZP_105;
		byte al_106;
		byte CZ_107;
		byte SO_108;
		!lame_get_decode_on_the_fly();
		if (eax_98 != 0x00)
		{
			word32 esp_114;
			word32 ebp_115;
			byte SCZO_116;
			word32 eax_117;
			byte SZO_118;
			byte C_119;
			byte Z_120;
			real64 rLoc1_121;
			real64 rLoc2_122;
			real64 rArg0_123;
			byte CZP_124;
			byte al_125;
			byte CZ_126;
			byte SO_127;
			!lame_get_noclipGainChange();
			real32 rLoc14_132 = (real32) ((real64) eax_117 / (real64) globals->r8054F20);
			word32 esp_135;
			word32 ebp_136;
			byte SCZO_137;
			word32 eax_138;
			byte SZO_139;
			byte C_140;
			byte Z_141;
			real64 rLoc1_142;
			real64 rLoc2_143;
			real64 rArg0_144;
			byte CZP_145;
			byte al_146;
			byte CZ_147;
			byte SO_148;
			!lame_get_noclipScale();
			real32 rLoc18_149 = (real32) rArg0_144;
			if ((real64) rLoc14_132 > 0.0 != 0x00)
			{
				console_printf(134564644);
				Eq_765 v16_168 = 0.0;
				rArg0_104 = v16_168;
				if ((real64) rLoc18_149 > v16_168 != 0x00)
				{
					console_printf(0x08054BA8);
					console_printf(0x08054BC0);
					rArg0_104 = (real64) rLoc18_149;
				}
				else
					console_printf(0x08054BFC);
			}
			else
			{
				Eq_765 rLoc1_187 = globals->t8054F28;
				rArg0_104 = rLoc1_187;
				if ((real64) rLoc14_132 > rLoc1_187 != 0x00)
					console_printf(0x08054C80);
				else
				{
					console_printf(0x08054CCC);
					rArg0_104 = -(real64) rLoc14_132;
				}
			}
		}
	}
	return rArg0_104;
}

// 0804B68B: void write_xing_frame(Register (ptr Eq_381) gs, Stack Eq_83 dwArg04, Stack Eq_83 dwArg08)
void write_xing_frame(Eq_381 * gs, Eq_83 dwArg04, Eq_83 dwArg08)
{
	word32 esp_25;
	word32 ebp_26;
	byte SCZO_27;
	Eq_83 eax_28;
	struct Eq_935 * gs_29;
	byte SZO_30;
	byte C_31;
	byte CZ_32;
	byte Z_33;
	word32 edx_34;
	!lame_get_lametag_frame();
	word32 eax_15 = gs->dw0014;
	if (eax_28 > 0x00024000)
		error_printf(134565144);
	else if (eax_28 != 0x00)
	{
		if (fwrite(fp + ~0x0002400F, 0x01, eax_28, dwArg08) != eax_28)
			error_printf(134565223);
		else if (globals->dw805B3F0 == 0x01)
			fflush(dwArg08);
	}
	if ((eax_15 ^ gs_29->dw0014) == 0x00)
		return;
	__stack_chk_fail();
}

// 0804B79A: Register word32 lame_encoder(Register (ptr Eq_200) gs, Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack Eq_83 dwArg0C, Stack Eq_83 dwArg10, Stack Eq_83 dwArg14)
word32 lame_encoder(Eq_200 * gs, Eq_83 dwArg04, Eq_83 dwArg08, Eq_83 dwArg0C, Eq_83 dwArg10, Eq_83 dwArg14)
{
}

// 0804BC85: void brhist_init_package(Stack Eq_83 dwArg04)
void brhist_init_package(Eq_83 dwArg04)
{
	if (globals->dw805C55C != 0x00)
	{
		word32 esp_34;
		word32 ebp_35;
		word32 ebx_36;
		byte SCZO_37;
		word32 eax_38;
		byte SZO_39;
		byte C_40;
		byte Z_41;
		!lame_get_VBR_max_bitrate_kbps();
		word32 esp_45;
		word32 ebp_46;
		word32 ebx_47;
		byte SCZO_48;
		word32 eax_49;
		byte SZO_50;
		byte C_51;
		byte Z_52;
		!lame_get_VBR_min_bitrate_kbps();
		if (brhist_init(dwArg04, eax_49, ebx_47) != 0x00)
			globals->dw805C55C = 0x00;
	}
	else
		brhist_init(dwArg04, 0x80, 0x80);
}

// 0804BCF1: void parse_nogap_filenames(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack Eq_83 dwArg0C, Stack Eq_83 dwArg10)
void parse_nogap_filenames(Eq_83 dwArg04, Eq_83 dwArg08, Eq_83 dwArg0C, Eq_83 dwArg10)
{
	strcpy(dwArg0C, dwArg10);
	if (dwArg04 == 0x00)
	{
		strncpy(dwArg0C, dwArg08, 0x0FFD);
		Eq_83 eax_39 = strlen(dwArg0C);
		if ((byte) (word32) Mem0[eax_39 - 0x03 + dwArg0C:byte] == 0x77 && ((byte) ((word32) Mem0[(eax_39 - 0x02) + dwArg0C:byte]) == 0x61 && ((byte) ((word32) Mem0[(eax_39 - 0x01) + dwArg0C:byte]) == 118 && (byte) ((word32) Mem0[(eax_39 - 0x04) + dwArg0C:byte]) == 0x2E)))
		{
			Mem97[eax_39 - 0x03 + dwArg0C:byte] = 0x6D;
			Mem101[eax_39 - 0x02 + dwArg0C:byte] = 0x70;
			Mem106[eax_39 - 0x01 + dwArg0C:byte] = 0x33;
		}
		else
		{
			Mem54[dwArg0C + eax_39:byte] = 0x2E;
			Mem58[eax_39 + 0x01 + dwArg0C:byte] = 0x6D;
			Mem62[eax_39 + 0x02 + dwArg0C:byte] = 0x70;
			Mem66[eax_39 + 0x03 + dwArg0C:byte] = 0x33;
			Mem71[eax_39 + 0x04 + dwArg0C:byte] = 0x00;
		}
	}
	else
	{
		Eq_83 dwLoc10_111 = (word32) dwArg08 + 0x0FFD;
		while ((byte) (word32) *dwLoc10_111 != 0x2F && ((byte) ((word32) (*dwLoc10_111)) != 0x5C && (dwLoc10_111 != dwArg08 && (byte) ((word32) (*dwLoc10_111)) != 0x3A)))
			dwLoc10_111 = dwLoc10_111 - 0x01;
		if (dwLoc10_111 == dwArg08 || (byte) ((word32) Mem0[(strlen(dwArg0C) - 0x01) + dwArg0C:byte]) != 0x2F && ((byte) ((word32) Mem0[(strlen(dwArg0C) - 0x01) + dwArg0C:byte]) != 0x5C && (byte) ((word32) Mem0[(strlen(dwArg0C) - 0x01) + dwArg0C:byte]) != 0x3A))
		{
			if (dwLoc10_111 == dwArg08 && ((byte) ((word32) Mem0[(strlen(dwArg0C) - 0x01) + dwArg0C:byte]) != 0x2F && ((byte) ((word32) Mem0[(strlen(dwArg0C) - 0x01) + dwArg0C:byte]) != 0x5C && (byte) ((word32) Mem0[(strlen(dwArg0C) - 0x01) + dwArg0C:byte]) != 0x3A)))
				strcat(dwArg0C, 134565591);
		}
		word32 esp_130;
		word32 ebp_131;
		byte SCZO_132;
		word32 eax_133;
		byte Z_134;
		byte al_135;
		word32 edx_136;
		!strncat();
		Eq_83 eax_139 = strlen(dwArg0C);
		if ((byte) (word32) Mem0[eax_139 - 0x03 + dwArg0C:byte] == 0x77 && ((byte) ((word32) Mem0[(eax_139 - 0x02) + dwArg0C:byte]) == 0x61 && ((byte) ((word32) Mem0[(eax_139 - 0x01) + dwArg0C:byte]) == 118 && (byte) ((word32) Mem0[(eax_139 - 0x04) + dwArg0C:byte]) == 0x2E)))
		{
			Mem195[eax_139 - 0x03 + dwArg0C:byte] = 0x6D;
			Mem199[eax_139 - 0x02 + dwArg0C:byte] = 0x70;
			Mem204[eax_139 - 0x01 + dwArg0C:byte] = 0x33;
		}
		else
		{
			Mem153[dwArg0C + eax_139:byte] = 0x2E;
			Mem157[eax_139 + 0x01 + dwArg0C:byte] = 0x6D;
			Mem161[eax_139 + 0x02 + dwArg0C:byte] = 0x70;
			Mem165[eax_139 + 0x03 + dwArg0C:byte] = 0x33;
			Mem170[eax_139 + 0x04 + dwArg0C:byte] = 0x00;
		}
	}
}

// 0804BFA5: void main(Register word32 ebp, Register (ptr Eq_1542) gs, Stack Eq_83 dwArg04, Stack Eq_83 dwArg08)
void main(word32 ebp, Eq_1542 * gs, Eq_83 dwArg04, Eq_83 dwArg08)
{
	__align(fp - 0x04);
	memset(fp - 832552, 0x00, 0x000C80C8);
	int32 dwLoc3038_29 = 0x00;
	while (dwLoc3038_29 <= 199)
	{
		(fp - 0x3360)[dwLoc3038_29] = fp - 832552 + dwLoc3038_29 * 0x1001;
		dwLoc3038_29 = dwLoc3038_29 + 0x01;
	}
	void * eax_43 = memset(fp - 0x301B, 0x00, 0x1001);
	frontend_open_console(gs);
	globals->t805C544.u0 = 0x00;
	word32 ebp_46;
	word32 ebx_47;
	byte SCZO_48;
	word32 eax_49;
	byte SZO_51;
	byte C_52;
	byte Z_53;
	word32 ecx_54;
	word32 edx_55;
	byte S_56;
	byte al_57;
	real64 rLoc1_58;
	real64 rLoc2_59;
	byte CZP_60;
	byte CZ_61;
	byte SO_62;
	real64 rArg0_63;
	struct Eq_1607 * gs_181;
	struct Eq_1608 * esp_176;
	!lame_init();
	if (true)
	{
		error_printf(134565596);
		frontend_close_console();
	}
	else
	{
		word32 esp_103;
		word32 ebp_104;
		word32 ebx_105;
		byte SCZO_106;
		word32 eax_107;
		struct Eq_1616 * gs_108;
		byte SZO_109;
		byte C_110;
		byte Z_111;
		word32 ecx_112;
		word32 edx_113;
		byte S_114;
		byte al_115;
		real64 rLoc1_116;
		real64 rLoc2_117;
		byte CZP_118;
		byte CZ_119;
		byte SO_120;
		real64 rArg0_121;
		!lame_set_errorf();
		word32 esp_125;
		word32 ebp_126;
		word32 ebx_127;
		byte SCZO_128;
		word32 eax_129;
		struct Eq_1636 * gs_130;
		byte SZO_131;
		byte C_132;
		byte Z_133;
		word32 ecx_134;
		word32 edx_135;
		byte S_136;
		byte al_137;
		real64 rLoc1_138;
		real64 rLoc2_139;
		byte CZP_140;
		byte CZ_141;
		byte SO_142;
		real64 rArg0_143;
		!lame_set_debugf();
		struct Eq_1651 * esp_147;
		struct Eq_155 * ebp_148;
		word32 ebx_149;
		byte SCZO_150;
		word32 eax_151;
		struct Eq_200 * gs_152;
		byte SZO_153;
		byte C_154;
		byte Z_155;
		word32 ecx_156;
		word32 edx_157;
		byte S_158;
		byte al_159;
		real64 rLoc1_160;
		real64 rLoc2_161;
		byte CZP_162;
		byte CZ_163;
		byte SO_164;
		real64 rArg0_165;
		!lame_set_msgf();
		if (dwArg04 <= 0x01)
		{
			Eq_83 edx_170 = *dwArg08;
			usage(globals->t805B3A0, edx_170);
			word32 ebp_177;
			word32 ebx_178;
			byte SCZO_179;
			word32 eax_180;
			byte SZO_182;
			byte C_183;
			byte Z_184;
			word32 ecx_185;
			word32 edx_186;
			byte S_187;
			byte al_188;
			real64 rLoc1_189;
			real64 rLoc2_190;
			byte CZP_191;
			byte CZ_192;
			byte SO_193;
			real64 rArg0_194;
			!lame_close();
			frontend_close_console();
		}
		else
		{
			parse_args_from_string(0x00, getenv("LAMEOPT"), fp - 0x301B, fp - 0x1019);
			esp_147->dw0018 = &esp_147->dwC8430;
			esp_147->ptr0014 = &esp_147->tC8104;
			esp_147->ptr0010 = &esp_147->bCA44B;
			esp_147->ptr000C = (char *) &esp_147->dwC8444 + 0x05;
			esp_147->t0008 = esp_147->t002C;
			esp_147->t0004 = ebp_148->t0008;
			esp_147->t0000 = esp_147->tC8440;
			real64 rArg0_222;
			esp_147->dwC8444 = parse_args(ebp_148, dwArg00, dwArg08, dwArg0C, dwArg10, rArg0_165, out rArg0_222);
			if (esp_147->dwC8444 < 0x00)
			{
				Eq_83 eax_227 = esp_147->tC8440;
				esp_147->t0000 = eax_227;
				word32 ebp_230;
				word32 ebx_231;
				byte SCZO_232;
				word32 eax_233;
				byte SZO_235;
				byte C_236;
				byte Z_237;
				word32 ecx_238;
				word32 edx_239;
				byte S_240;
				byte al_241;
				real64 rLoc1_242;
				real64 rLoc2_243;
				byte CZP_244;
				byte CZ_245;
				byte SO_246;
				real64 rArg0_247;
				!lame_close();
				frontend_close_console();
			}
			else
			{
				if (0.0 > (real64) globals->r805C550 != 0x00)
					globals->r805C550 = 2.0F;
				byte al_262 = (byte) (word32) esp_147->bCA44B;
				if (al_262 != 0x00 && esp_147->dwC8430 > 0x00)
				{
					esp_147->t0008.u0 = 0x1001;
					esp_147->t0004 = &esp_147->bCA44B;
					esp_147->t0000 = (char *) &esp_147->dwC8444 + 0x00001006;
					strncpy(esp_147->t0000, esp_147->t0004, esp_147->t0008);
					esp_147->tC8434.u0 = 0x01;
				}
				if (esp_147->dwC8430 > 0x00)
				{
					Eq_83 eax_613 = esp_147->tC8104;
					esp_147->ptr000C = (char *) &esp_147->dwC8444 + 0x00001006;
					esp_147->t0008 = &esp_147->bCA44B;
					esp_147->t0004 = eax_613;
					esp_147->t0000 = esp_147->tC8434;
					parse_nogap_filenames(dwArg00, dwArg04, dwArg08, dwArg0C);
					Eq_83 eax_621 = esp_147->tC8104;
					esp_147->ptr0010 = (char *) &esp_147->tC8434 + 0x04;
					esp_147->ptr000C = (char *) &esp_147->tC8434 + 0x08;
					esp_147->t0008 = &esp_147->bCA44B;
					esp_147->t0004 = eax_621;
					esp_147->t0000 = esp_147->tC8440;
					esp_147->tC8428 = init_files(gs_152, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
				}
				else
				{
					esp_147->ptr0010 = (char *) &esp_147->tC8434 + 0x04;
					esp_147->ptr000C = (char *) &esp_147->tC8434 + 0x08;
					esp_147->t0008 = &esp_147->bCA44B;
					esp_147->t0004 = (char *) &esp_147->dwC8444 + 0x05;
					esp_147->t0000 = esp_147->tC8440;
					esp_147->tC8428 = init_files(gs_152, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
				}
				if (esp_147->tC8428 == 0x00)
				{
					Eq_83 eax_273 = esp_147->tC8440;
					esp_147->t0000 = eax_273;
					word32 ebp_276;
					word32 ebx_277;
					byte SCZO_278;
					word32 eax_279;
					byte SZO_281;
					byte C_282;
					byte Z_283;
					word32 ecx_284;
					word32 edx_285;
					byte S_286;
					byte al_287;
					real64 rLoc1_288;
					real64 rLoc2_289;
					byte CZP_290;
					byte CZ_291;
					byte SO_292;
					real64 rArg0_293;
					!lame_close();
					frontend_close_console();
				}
				else
				{
					esp_147->t0004.u0 = 0x00;
					Eq_83 eax_296 = esp_147->tC8440;
					esp_147->t0000 = eax_296;
					struct Eq_1977 * esp_298;
					word32 ebp_299;
					word32 ebx_300;
					byte SCZO_301;
					word32 eax_302;
					struct Eq_1982 * gs_303;
					byte SZO_304;
					byte C_305;
					byte Z_306;
					word32 ecx_307;
					word32 edx_308;
					byte S_309;
					byte al_310;
					real64 rLoc1_311;
					real64 rLoc2_312;
					byte CZP_313;
					byte CZ_314;
					byte SO_315;
					real64 rArg0_316;
					!lame_set_write_id3tag_automatic();
					word32 eax_317 = esp_298->dwC8440;
					esp_298->dw0000 = eax_317;
					struct Eq_2004 * esp_319;
					word32 ebp_320;
					word32 ebx_321;
					byte SCZO_322;
					int32 eax_323;
					struct Eq_2009 * gs_324;
					byte SZO_325;
					byte C_326;
					byte Z_327;
					word32 ecx_328;
					word32 edx_329;
					byte S_330;
					byte al_331;
					real64 rLoc1_332;
					real64 rLoc2_333;
					byte CZP_334;
					byte CZ_335;
					byte SO_336;
					real64 rArg0_337;
					!lame_init_params();
					esp_319->dwC842C = eax_323;
					if (esp_319->dwC842C < 0x00)
					{
						if (esp_319->dwC842C == ~0x00)
						{
							esp_319->t0000 = globals->t805B3A0;
							display_bitrates(dwArg00);
						}
						esp_319->t0000.u0 = 134565596;
						error_printf(dwArg00);
						Eq_83 eax_344 = esp_319->tC8440;
						esp_319->t0000 = eax_344;
						word32 ebp_347;
						word32 ebx_348;
						byte SCZO_349;
						word32 eax_350;
						byte SZO_352;
						byte C_353;
						byte Z_354;
						word32 ecx_355;
						word32 edx_356;
						byte S_357;
						byte al_358;
						real64 rLoc1_359;
						real64 rLoc2_360;
						byte CZP_361;
						byte CZ_362;
						byte SO_363;
						real64 rArg0_364;
						!lame_close();
						frontend_close_console();
					}
					else
					{
						if (globals->dw805C54C > 0x00)
							globals->dw805C55C = 0x00;
						Eq_83 eax_371 = esp_319->tC8440;
						esp_319->t0000 = eax_371;
						word32 ebp_374;
						word32 ebx_375;
						byte SCZO_376;
						word32 eax_377;
						struct Eq_200 * gs_378;
						byte SZO_379;
						byte C_380;
						byte Z_381;
						word32 ecx_382;
						word32 edx_383;
						byte S_384;
						byte al_385;
						real64 rLoc1_386;
						real64 rLoc2_387;
						byte CZP_388;
						byte CZ_389;
						byte SO_390;
						real64 rArg0_391;
						struct Eq_2135 * esp_373;
						!lame_get_decode_only();
						if (eax_377 != 0x00)
						{
							if (globals->dw805C548 != 0x00)
							{
								Eq_2171 eax_422 = globals->t805C540;
								esp_373->ptr0018 = (char *) &esp_373->tC8434 + 0x04;
								esp_373->ptr0014 = (char *) &esp_373->tC8434 + 0x08;
								esp_373->ptr0010 = (char *) &esp_373->dwC8444 + 0x00002007;
								esp_373->t000C = (char *) &esp_373->dwC8444 + 0x05;
								esp_373->t0008 = eax_422;
								esp_373->t0004 = esp_373->tC8428;
								esp_373->t0000 = esp_373->tC8440;
								word32 ebp_436;
								esp_373 = lame_decoder(gs_378, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, out ebp_436);
							}
							else
							{
								esp_373->ptr0018 = (char *) &esp_373->tC8434 + 0x04;
								esp_373->ptr0014 = (char *) &esp_373->tC8434 + 0x08;
								esp_373->ptr0010 = (char *) &esp_373->dwC8444 + 0x00002007;
								esp_373->t000C = (char *) &esp_373->dwC8444 + 0x05;
								esp_373->t0008.u0 = 0x00;
								esp_373->t0004 = esp_373->tC8428;
								esp_373->t0000 = esp_373->tC8440;
								word32 ebp_451;
								esp_373 = lame_decoder(gs_378, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10, out ebp_451);
							}
						}
						else if (esp_373->tC8430 > 0x00)
						{
							esp_373->tC842C.u0 = 0x00;
							gs_465 = gs_378;
							while (true)
							{
								struct Eq_200 * gs_465;
								if (esp_373->tC842C >= esp_373->tC8430)
									break;
								bool al_480 = esp_373->tC8430 - 0x01 != esp_373->tC842C;
								esp_373->tC8424 = (word32) al_480;
								if (esp_373->tC842C > 0x00)
								{
									Eq_83 eax_554 = esp_373->aC8104[esp_373->tC842C];
									esp_373->t000C = (char *) &esp_373->dwC8444 + 0x00001006;
									esp_373->t0008 = (char *) &esp_373->dwC8444 + 0x00002007;
									esp_373->t0004 = eax_554;
									esp_373->t0000 = esp_373->tC8434;
									parse_nogap_filenames(dwArg00, dwArg04, dwArg08, dwArg0C);
									Eq_83 eax_563 = esp_373->aC8104[esp_373->tC842C];
									esp_373->ptr0010 = (char *) &esp_373->tC8434 + 0x04;
									esp_373->t000C = (char *) &esp_373->tC8434 + 0x08;
									Eq_2171 edx_568 = (char *) &esp_373->dwC8444 + 0x00002007;
									esp_373->t0008 = edx_568;
									esp_373->t0004 = eax_563;
									esp_373->t0000 = esp_373->tC8440;
									esp_373->tC8428 = init_files(gs_465, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
									Eq_83 eax_575 = esp_373->tC8440;
									esp_373->t0000 = eax_575;
									word32 ebp_578;
									word32 ebx_579;
									byte SCZO_580;
									word32 eax_581;
									struct Eq_2560 * gs_582;
									byte SZO_583;
									byte C_584;
									byte Z_585;
									word32 ecx_586;
									word32 edx_587;
									byte S_588;
									byte al_589;
									real64 rLoc1_590;
									real64 rLoc2_591;
									byte CZP_592;
									byte CZ_593;
									byte SO_594;
									real64 rArg0_595;
									!lame_init_bitstream();
								}
								esp_373->t0000 = esp_373->tC8440;
								brhist_init_package(dwArg00);
								esp_373->t0004 = esp_373->tC8430;
								Eq_83 eax_490 = esp_373->tC8440;
								esp_373->t0000 = eax_490;
								struct Eq_2368 * esp_492;
								word32 ebp_493;
								word32 ebx_494;
								byte SCZO_495;
								word32 eax_496;
								struct Eq_2373 * gs_497;
								byte SZO_498;
								byte C_499;
								byte Z_500;
								word32 ecx_501;
								word32 edx_502;
								byte S_503;
								byte al_504;
								real64 rLoc1_505;
								real64 rLoc2_506;
								byte CZP_507;
								byte CZ_508;
								byte SO_509;
								real64 rArg0_510;
								!lame_set_nogap_total();
								esp_492->dw0004 = esp_492->dwC842C;
								word32 eax_513 = esp_492->dwC8440;
								esp_492->dw0000 = eax_513;
								word32 ebp_516;
								word32 ebx_517;
								byte SCZO_518;
								word32 eax_519;
								byte SZO_521;
								byte C_522;
								byte Z_523;
								word32 ecx_524;
								word32 edx_525;
								byte S_526;
								byte al_527;
								real64 rLoc1_528;
								real64 rLoc2_529;
								byte CZP_530;
								byte CZ_531;
								byte SO_532;
								real64 rArg0_533;
								!lame_set_nogap_currentindex();
								Eq_83 eax_535 = esp_373->aC8104[esp_373->tC842C];
								esp_373->ptr0010 = (char *) &esp_373->dwC8444 + 0x00002007;
								esp_373->t000C = eax_535;
								esp_373->t0008 = esp_373->tC8424;
								esp_373->t0004 = esp_373->tC8428;
								esp_373->t0000 = esp_373->tC8440;
								esp_373->dwC8444 = lame_encoder(gs_465, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
								esp_373->t0000 = esp_373->tC8428;
								fclose(esp_373->t0000);
								close_infile();
								esp_373->tC842C = (word32) esp_373->tC842C + 0x01;
							}
						}
						else
						{
							esp_373->t0000 = esp_373->tC8440;
							brhist_init_package(dwArg00);
							esp_373->ptr0010 = (char *) &esp_373->dwC8444 + 0x00002007;
							esp_373->t000C = (char *) &esp_373->dwC8444 + 0x05;
							esp_373->t0008.u0 = 0x00;
							esp_373->t0004 = esp_373->tC8428;
							esp_373->t0000 = esp_373->tC8440;
							esp_373->dwC8444 = lame_encoder(gs_378, dwArg00, dwArg04, dwArg08, dwArg0C, dwArg10);
							esp_373->t0000 = esp_373->tC8428;
							fclose(esp_373->t0000);
							close_infile();
						}
						Eq_83 eax_396 = esp_373->tC8440;
						esp_373->t0000 = eax_396;
						word32 ebp_399;
						word32 ebx_400;
						byte SCZO_401;
						word32 eax_402;
						byte SZO_404;
						byte C_405;
						byte Z_406;
						word32 ecx_407;
						word32 edx_408;
						byte S_409;
						byte al_410;
						real64 rLoc1_411;
						real64 rLoc2_412;
						byte CZP_413;
						byte CZ_414;
						byte SO_415;
						real64 rArg0_416;
						!lame_close();
						frontend_close_console();
					}
				}
			}
		}
	}
	if ((esp_176->dwCB44C ^ gs_181->dw0014) == 0x00)
		return;
	__stack_chk_fail();
}

// 0804C6C0: Register word32 my_console_printing(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack ptr32 dwArg0C)
word32 my_console_printing(Eq_83 dwArg04, Eq_83 dwArg08, ptr32 dwArg0C)
{
	word32 eax_13;
	if (dwArg04 != 0x00)
	{
		word32 esp_27;
		word32 ebp_28;
		byte SCZO_29;
		byte Z_30;
		!vfprintf();
	}
	else
		eax_13 = 0x00;
	return eax_13;
}

// 0804C6EE: void my_error_printing(Stack Eq_83 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void my_error_printing(Eq_83 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg04 != 0x00)
	{
		word32 esp_27;
		word32 ebp_28;
		byte SCZO_29;
		byte Z_30;
		word32 eax_31;
		!vfprintf();
	}
}

// 0804C71C: void my_report_printing(Stack Eq_83 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void my_report_printing(Eq_83 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	if (dwArg04 != 0x00)
	{
		word32 esp_27;
		word32 ebp_28;
		byte SCZO_29;
		byte Z_30;
		word32 eax_31;
		!vfprintf();
	}
}

// 0804C74A: void apply_termcap_settings(Register (ptr Eq_1542) gs, Stack (ptr Eq_2611) dwArg04)
void apply_termcap_settings(Eq_1542 * gs, Eq_2611 * dwArg04)
{
	word32 eax_12 = gs->dw0014;
	if (getenv("TERM") != 0x00)
	{
		word32 esp_48;
		word32 ebp_49;
		byte SCZO_50;
		word32 eax_51;
		byte SZO_53;
		byte C_54;
		byte Z_55;
		word32 edx_56;
		!tgetent();
		if (fp == (char *) ~0x081A)
		{
			word32 esp_60;
			word32 ebp_61;
			byte SCZO_62;
			int32 eax_63;
			struct Eq_2636 * gs_64;
			byte SZO_65;
			byte C_66;
			byte Z_67;
			word32 edx_68;
			!tgetnum();
			if (eax_63 > 0x27 && eax_63 <= 0x0200)
				dwArg04->dw0014 = eax_63;
			word32 esp_73;
			word32 ebp_74;
			byte SCZO_75;
			int32 eax_76;
			struct Eq_2648 * gs_77;
			byte SZO_78;
			byte C_79;
			byte Z_80;
			word32 edx_81;
			!tgetnum();
			if (eax_76 > 0x0F && eax_76 <= 0x0100)
				dwArg04->dw0018 = eax_76;
			word32 esp_92;
			word32 ebp_93;
			byte SCZO_94;
			word32 eax_95;
			struct Eq_2672 * gs_96;
			byte SZO_97;
			byte C_98;
			byte Z_99;
			word32 edx_100;
			!tgetstr();
			if ((fp + -0x0824 & fp + -0x0824) != 0x00)
				strcpy(&dwArg04->dw0018 + 0x01, fp + -0x0824);
			word32 esp_113;
			word32 ebp_114;
			byte SCZO_115;
			word32 eax_116;
			struct Eq_2693 * gs_117;
			byte SZO_118;
			byte C_119;
			byte Z_120;
			word32 edx_121;
			!tgetstr();
			if ((fp + ~0x0823 & fp + ~0x0823) != 0x00)
				strcpy((char *) &dwArg04->dw0018 + 0x0E, fp + ~0x0823);
			word32 esp_134;
			word32 ebp_135;
			byte SCZO_136;
			word32 eax_137;
			struct Eq_2714 * gs_138;
			byte SZO_139;
			byte C_140;
			byte Z_141;
			word32 edx_142;
			!tgetstr();
			if ((fp + ~0x0823 & fp + ~0x0823) != 0x00)
				strcpy(&dwArg04->dw0018 + 0x06, fp + ~0x0823);
			word32 esp_155;
			word32 ebp_156;
			byte SCZO_157;
			word32 eax_158;
			byte SZO_160;
			byte C_161;
			byte Z_162;
			word32 edx_163;
			!tgetstr();
			if ((fp + ~0x0823 & fp + ~0x0823) != 0x00)
				strcpy((char *) &dwArg04->dw0018 + 0x0022, fp + ~0x0823);
		}
	}
	if ((eax_12 ^ gs->dw0014) == 0x00)
		return;
	__stack_chk_fail();
}

// 0804C978: void init_console(Register (ptr Eq_1542) gs, Stack (ptr Eq_2611) dwArg04)
void init_console(Eq_1542 * gs, Eq_2611 * dwArg04)
{
	dwArg04->dw0014 = 0x50;
	dwArg04->dw0018 = 0x19;
	dwArg04->t0008 = globals->t805B3A0;
	dwArg04->t000C = globals->t805B3A0;
	dwArg04->dw0010 = 0x00;
	setvbuf(dwArg04->t0008, &dwArg04->dw0018 + 0x0B, 0x00, 0x0800);
	memcpy(&dwArg04->dw0018 + 0x01, 0x08054F47, 0x04);
	apply_termcap_settings(gs, dwArg04);
	dwArg04->dw0000 = 0x434F4E53;
	dwArg04->dw0844 = 0x00;
}

// 0804CA23: void deinit_console(Stack (ptr Eq_2815) dwArg04)
void deinit_console(Eq_2815 * dwArg04)
{
	if (dwArg04->t0010 != 0x00)
	{
		fclose(dwArg04->t0010);
		dwArg04->t0010.u0 = 0x00;
	}
	fflush(dwArg04->t0008);
	setvbuf(dwArg04->t0008, null, 0x02, 0x00);
	memset((char *) &dwArg04->t0010 + 0x0034, 0x55, 0x0400);
}

// 0804CA9F: void frontend_open_console(Register (ptr Eq_1542) gs)
void frontend_open_console(Eq_1542 * gs)
{
	init_console(gs, &globals->t805BCE0);
}

// 0804CAB3: void frontend_close_console()
void frontend_close_console()
{
	deinit_console(&globals->t805BCE0);
}

// 0804CAC7: void frontend_debugf(Stack word32 dwArg04, Stack word32 dwArg08)
void frontend_debugf(word32 dwArg04, word32 dwArg08)
{
	my_report_printing(globals->t805BCF0, dwArg04, dwArg08);
}

// 0804CAEA: void frontend_msgf(Stack Eq_83 dwArg04, Stack ptr32 dwArg08)
void frontend_msgf(Eq_83 dwArg04, ptr32 dwArg08)
{
	my_console_printing(globals->t805BCE8, dwArg04, dwArg08);
}

// 0804CB0D: void frontend_errorf(Stack word32 dwArg04, Stack word32 dwArg08)
void frontend_errorf(word32 dwArg04, word32 dwArg08)
{
	my_error_printing(globals->t805BCEC, dwArg04, dwArg08);
}

// 0804CB30: Register word32 console_printf(Stack Eq_83 dwArg04)
word32 console_printf(Eq_83 dwArg04)
{
	return my_console_printing(globals->t805BCE8, dwArg04, fp + 0x08);
}

// 0804CB5F: void error_printf(Stack Eq_83 dwArg04)
void error_printf(Eq_83 dwArg04)
{
	my_console_printing(globals->t805BCEC, dwArg04, fp + 0x08);
}

// 0804CB8E: void report_printf(Stack Eq_83 dwArg04)
void report_printf(Eq_83 dwArg04)
{
	my_console_printing(globals->t805BCF0, dwArg04, fp + 0x08);
}

// 0804CBBD: void console_flush()
void console_flush()
{
	fflush(globals->t805BCE8);
}

// 0804CBD2: void error_flush()
void error_flush()
{
	fflush(globals->t805BCEC);
}

// 0804CBE7: void report_flush()
void report_flush()
{
	fflush(globals->t805BCF0);
}

// 0804CBFC: void console_up(Stack int32 dwArg04)
void console_up(int32 dwArg04)
{
	while (true)
	{
		dwArg04 = dwArg04 - 0x01;
		if (dwArg04 > 0x00 == 0x00)
			break;
		fputs(&globals->b805BCFC, globals->t805BCE8);
	}
	console_flush();
}

// 0804CC31: void set_debug_file(Stack Eq_83 dwArg04)
void set_debug_file(Eq_83 dwArg04)
{
	if (globals->t805BCF0 == 0x00)
	{
		globals->t805BCF0 = fopen64(dwArg04, "a");
		if (globals->t805BCF0 != 0x00)
			error_printf(0x08054F4D);
		else
			error_printf(0x08054F6C);
	}
}

// 0804CC8C: Register Eq_2953 min_size_t(Stack Eq_2953 dwArg04, Stack Eq_2953 dwArg08)
Eq_2953 min_size_t(Eq_2953 dwArg04, Eq_2953 dwArg08)
{
	Eq_2953 eax_11;
	if (dwArg04 < dwArg08)
		eax_11 = dwArg04;
	else
		eax_11 = dwArg08;
	return eax_11;
}

// 0804CCA1: void machine_byte_order()
void machine_byte_order()
{
}

// 0804CCBE: Register word32 fskip(Register (ptr Eq_2959) gs, Stack Eq_83 dwArg04, Stack Eq_2953 dwArg08, Stack word32 dwArg0C)
word32 fskip(Eq_2959 * gs, Eq_83 dwArg04, Eq_2953 dwArg08, word32 dwArg0C)
{
}

// 0804CE8D: Register Eq_83 init_outfile(Stack Eq_83 dwArg04)
Eq_83 init_outfile(Eq_83 dwArg04)
{
	Eq_83 dwLoc10_29;
	Eq_83 eax_21;
	if (strcmp(dwArg04, 0x08055007) == 0x00)
	{
		dwLoc10_29 = globals->t805B3C0;
		lame_set_stream_binary_mode();
	}
	else
	{
		Eq_83 eax_43 = fopen64(dwArg04, "w+b");
		dwLoc10_29 = eax_43;
		if (eax_43 == 0x00)
		{
			eax_21.u0 = 0x00;
			return eax_21;
		}
	}
	eax_21 = dwLoc10_29;
	return eax_21;
}

// 0804CEE8: void init_infile(Register (ptr Eq_200) gs, Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack Eq_83 dwArg0C, Stack Eq_83 dwArg10)
void init_infile(Eq_200 * gs, Eq_83 dwArg04, Eq_83 dwArg08, Eq_83 dwArg0C, Eq_83 dwArg10)
{
	globals->dw805B3CC = 0x00;
	globals->dw805B3DC = 0x00;
	globals->t805B3D0 = globals->t805B2AC;
	globals->dw805B3D4 = globals->dw805B3E8;
	globals->dw805B3D8 = (word32) (globals->dw805B2A8 != 0x01);
	globals->t805B3E0 = OpenSndFile(gs, dwArg04, dwArg08, dwArg0C, dwArg10);
}

// 0804CF50: void close_infile()
void close_infile()
{
	CloseSndFile(globals->t805B3E0);
}

// 0804CF6F: void SwapBytesInWords(Stack (ptr Eq_3118) dwArg04, Stack int32 dwArg08)
void SwapBytesInWords(Eq_3118 * dwArg04, int32 dwArg08)
{
	union Eq_3118 * dwLoc0C_10 = dwArg04;
	while (dwArg08 > 0x01)
	{
		uint32 eax_62 = *dwLoc0C_10;
		*dwLoc0C_10 = eax_62 << 0x08 & 0xFF00FF00 | eax_62 >> 0x08 & 0x00FF00FF;
		dwArg08 = dwArg08 - 0x02;
		dwLoc0C_10 = (union Eq_3118 *) ((char *) dwLoc0C_10 + 0x04);
	}
	union Eq_3118 * dwArg04_22 = dwLoc0C_10;
	while (dwArg08 > 0x00)
	{
		Eq_3146 eax_41 = (int32) (word16) (word32) *dwArg04_22;
		*dwArg04_22 = (union Eq_3118 *) (word16) (DPB(eax_41 >> 0x08, (word16) (eax_41 >> 0x08) & 0xFF, 0) | eax_41 << 0x08);
		dwArg08 = dwArg08 - 0x01;
		dwArg04_22 = (union Eq_3118 *) ((char *) dwArg04_22 + 0x02);
	}
}

// 0804CFF1: Register word32 get_audio(Register (ptr Eq_381) gs, Stack Eq_83 dwArg04, Stack (ptr Eq_1099) dwArg08)
word32 get_audio(Eq_381 * gs, Eq_83 dwArg04, Eq_1099 * dwArg08)
{
	return get_audio_common(gs, dwArg04, dwArg08, null);
}

// 0804D013: Register word32 get_audio16(Register (ptr Eq_381) gs, Stack Eq_83 dwArg04, Stack (ptr Eq_536) dwArg08)
word32 get_audio16(Eq_381 * gs, Eq_83 dwArg04, Eq_536 * dwArg08)
{
	return get_audio_common(gs, dwArg04, null, dwArg08);
}

// 0804D035: Register Eq_3184 get_audio_common(Register (ptr Eq_381) gs, Stack Eq_83 dwArg04, Stack (ptr Eq_1099) dwArg08, Stack (ptr Eq_536) dwArg0C)
Eq_3184 get_audio_common(Eq_381 * gs, Eq_83 dwArg04, Eq_1099 * dwArg08, Eq_536 * dwArg0C)
{
	word32 esp_11;
	word32 ebp_12;
	byte SCZO_13;
	int32 eax_14;
	byte SZO_15;
	byte C_16;
	byte Z_17;
	word32 edx_18;
	byte CZ_19;
	word32 ecx_20;
	byte S_21;
	word16 cx_22;
	word16 ax_23;
	word16 dx_24;
	struct Eq_3199 * gs_25;
	!lame_get_num_channels();
	word32 esp_29;
	word32 ebp_30;
	byte SCZO_31;
	Eq_3204 eax_32;
	byte SZO_33;
	byte C_34;
	byte Z_35;
	word32 edx_36;
	byte CZ_37;
	word32 ecx_38;
	byte S_39;
	word16 cx_40;
	word16 ax_41;
	word16 dx_42;
	struct Eq_3215 * gs_43;
	!lame_get_framesize();
	Eq_3204 dwLoc1C_418 = eax_32;
	word32 esp_49;
	word32 ebp_50;
	byte SCZO_51;
	up32 eax_52;
	byte SZO_53;
	byte C_54;
	byte Z_55;
	word32 edx_56;
	byte CZ_57;
	word32 ecx_58;
	byte S_59;
	word16 cx_60;
	word16 ax_61;
	word16 dx_62;
	struct Eq_3232 * gs_63;
	!lame_get_num_samples();
	if (globals->dw805B3CC != 0x00)
	{
		up32 edx_397 = globals->dw805B3DC;
		up32 eax_399 = eax_52;
		if (edx_397 <= eax_52)
			eax_399 = edx_397;
		Eq_3204 ecx_409 = eax_52 - eax_399;
		if (eax_32 > ecx_409 && eax_52 != 0x00)
			dwLoc1C_418 = ecx_409;
	}
	Eq_3184 dwLoc14_110;
	Eq_3184 eax_102;
	if (is_mpeg_file_format(globals->t805C544) != 0x00)
	{
		if (dwArg08 != null)
			dwLoc14_110 = read_samples_mp3(gs_63, dwArg04, globals->t805B3E0, fp->aFFFFEDD4);
		else
			dwLoc14_110 = read_samples_mp3(gs_63, dwArg04, globals->t805B3E0, dwArg0C);
		if (dwLoc14_110 < 0x00)
		{
			eax_102 = dwLoc14_110;
			return eax_102;
		}
	}
	else
	{
		Eq_3184 eax_246 = read_samples_pcm(globals->t805B3E0, (char *) fp - 13868, eax_14 *s dwLoc1C_418);
		if (eax_246 < 0x00)
		{
			eax_102 = eax_246;
			return eax_102;
		}
		Eq_3184 eax_264 = (int32) (SEQ(eax_246 >> 0x1F, eax_246) / eax_14);
		int32 * dwLoc2C_257 = (char *) fp - 13868 + eax_246 * 0x04;
		dwLoc14_110 = eax_264;
		if (dwArg08 != null)
		{
			if (eax_14 == 0x02)
			{
				Eq_3184 dwLoc28_271 = eax_264;
				while (true)
				{
					Eq_3184 v17_277 = dwLoc28_271 - 0x01;
					dwLoc28_271 = v17_277;
					if (v17_277 < 0x00)
						break;
					ui32 * v19_284 = dwLoc2C_257 - 0x04;
					dwArg08->a1200[v17_277] = *v19_284;
					dwArg08[v17_277 * 0x04 / 0x00001200] = (struct Eq_1099) *(v19_284 - 0x04);
					dwLoc2C_257 = v19_284 - 0x04;
				}
			}
			else if (eax_14 == 0x01)
			{
				memset(dwArg08->a1200, 0x00, eax_264 * 0x04);
				Eq_3184 dwLoc28_309 = eax_264;
				while (true)
				{
					Eq_3184 v22_315 = dwLoc28_309 - 0x01;
					dwLoc28_309 = v22_315;
					if (v22_315 < 0x00)
						break;
					int32 * v28_320 = dwLoc2C_257 - 0x04;
					dwArg08[v22_315 * 0x04 / 0x00001200] = (struct Eq_1099) *v28_320;
					dwLoc2C_257 = v28_320;
				}
			}
		}
		else if (eax_14 == 0x02)
		{
			Eq_3184 dwLoc28_330 = eax_264;
			while (true)
			{
				Eq_3184 v23_338 = dwLoc28_330 - 0x01;
				dwLoc28_330 = v23_338;
				if (v23_338 < 0x00)
					break;
				int32 * v24_345 = dwLoc2C_257 - 0x04;
				dwArg0C->a0900[v23_338] = (word16) (*v24_345 >> 0x10);
				dwArg0C[v23_338 * 0x02 / 0x0900] = (struct Eq_536) (word16) (*(v24_345 - 0x04) >> 0x10);
				dwLoc2C_257 = v24_345 - 0x04;
			}
		}
		else if (eax_14 == 0x01)
		{
			memset(dwArg0C->a0900, 0x00, eax_264 * 0x02);
			Eq_3184 dwLoc28_375 = eax_264;
			while (true)
			{
				Eq_3184 v27_382 = dwLoc28_375 - 0x01;
				dwLoc28_375 = v27_382;
				if (v27_382 < 0x00)
					break;
				int32 * v29_387 = dwLoc2C_257 - 0x04;
				dwArg0C[v27_382 * 0x02 / 0x0900] = (struct Eq_536) (word16) (*v29_387 >> 0x10);
				dwLoc2C_257 = v29_387;
			}
		}
	}
	if (is_mpeg_file_format(globals->t805C544) != 0x00 && dwArg08 != null)
	{
		Eq_3184 dwLoc28_150 = dwLoc14_110;
		while (true)
		{
			Eq_3184 v13_156 = dwLoc28_150 - 0x01;
			dwLoc28_150 = v13_156;
			if (v13_156 < 0x00)
				break;
			dwArg08[v13_156 * 0x04 / 0x00001200] = (struct Eq_1099) ((int32) (word16) (word32) fp->aFFFFEDD4[v13_156] << 0x10);
		}
		if (eax_14 == 0x02)
		{
			Eq_3184 dwLoc28_163 = dwLoc14_110;
			while (true)
			{
				Eq_3184 v16_169 = dwLoc28_163 - 0x01;
				dwLoc28_163 = v16_169;
				if (v16_169 < 0x00)
					break;
				dwArg08->a1200[v16_169] = (int32) (word16) (word32) fp->aFFFFEDD4[(word32) v16_169.u0 + 1152] << 0x10;
			}
		}
		else if (eax_14 == 0x01)
			memset(dwArg08->a1200, 0x00, dwLoc14_110 * 0x04);
	}
	if (eax_52 != ~0x00)
		globals->dw805B3DC = (word32) dwLoc14_110.u0 + globals->dw805B3DC;
	eax_102 = dwLoc14_110;
	return eax_102;
}

// 0804D384: Register int32 read_samples_mp3(Register (ptr Eq_3232) gs, Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack (ptr Eq_536) dwArg0C)
int32 read_samples_mp3(Eq_3232 * gs, Eq_83 dwArg04, Eq_83 dwArg08, Eq_536 * dwArg0C)
{
	int32 eax_33;
	int32 eax_19 = lame_decode_fromfile(gs, dwArg08, dwArg0C, dwArg0C->a0900, 0x0805C560);
	int32 dwLoc10_20 = eax_19;
	if (eax_19 < 0x00)
	{
		memset(dwArg0C, 0x00, 0x1200);
		eax_33 = 0x00;
	}
	else
	{
		word32 esp_48;
		word32 ebp_49;
		byte SCZO_50;
		word32 eax_51;
		word32 edx_52;
		byte S_53;
		byte Z_54;
		byte SZO_55;
		struct Eq_3512 * gs_56;
		!lame_get_num_channels();
		word32 edx_58 = globals->dw805C564;
		if (eax_51 != edx_58)
		{
			if (globals->dw805C54C <= 0x09)
				error_printf(0x08055010);
			dwLoc10_20 = ~0x00;
		}
		word32 esp_65;
		word32 ebp_66;
		byte SCZO_67;
		word32 eax_68;
		word32 edx_69;
		byte S_70;
		byte Z_71;
		byte SZO_72;
		struct Eq_3531 * gs_73;
		!lame_get_in_samplerate();
		if (eax_68 != globals->dw805C568)
		{
			if (globals->dw805C54C <= 0x09)
				error_printf(0x08055050);
			dwLoc10_20 = ~0x00;
		}
		eax_33 = dwLoc10_20;
	}
	return eax_33;
}

// 0804D455: void WriteWaveHeader(Stack Eq_83 dwArg04, Stack Eq_429 dwArg08, Stack Eq_429 dwArg0C, Stack Eq_268 dwArg10, Stack Eq_268 dwArg14)
void WriteWaveHeader(Eq_83 dwArg04, Eq_429 dwArg08, Eq_429 dwArg0C, Eq_268 dwArg10, Eq_268 dwArg14)
{
	int32 eax_14 = (word32) dwArg14.u0 + 0x07;
	if (dwArg14 < 0x07)
		eax_14 = (word32) dwArg14.u0 + 0x0E;
	fwrite(&globals->v805508B, 0x01, 0x04, dwArg04);
	Write32BitsLowHigh(dwArg04, (word32) dwArg08 + 0x0024);
	fwrite(&globals->v8055090, 0x02, 0x04, dwArg04);
	Write32BitsLowHigh(dwArg04, 0x10);
	Write16BitsLowHigh(dwArg04, 0x01);
	Write16BitsLowHigh(dwArg04, dwArg10);
	Write32BitsLowHigh(dwArg04, dwArg0C);
	int32 eax_15 = eax_14 >> 0x03;
	Write32BitsLowHigh(dwArg04, dwArg0C *s dwArg10 *s eax_15);
	Write16BitsLowHigh(dwArg04, dwArg10 *s eax_15);
	Write16BitsLowHigh(dwArg04, dwArg14);
	fwrite(&globals->v8055099, 0x01, 0x04, dwArg04);
	Write32BitsLowHigh(dwArg04, dwArg08);
}

// 0804D5A8: Register Eq_83 unpack_read_samples(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack word32 dwArg0C, Stack Eq_83 dwArg10, Stack Eq_83 dwArg14)
Eq_83 unpack_read_samples(Eq_83 dwArg04, Eq_83 dwArg08, word32 dwArg0C, Eq_83 dwArg10, Eq_83 dwArg14)
{
	Eq_83 eax_28 = fread(dwArg10, dwArg08, dwArg04, dwArg14);
	ui32 * dwLoc18_107 = (word32) dwArg10 + (eax_28 << 0x02);
	if (dwArg0C == 0x00)
	{
		if (dwArg08 == 0x01)
		{
			int32 dwLoc14_301 = dwArg08 *s eax_28;
			while (true)
			{
				int32 v11_309 = dwLoc14_301 - dwArg08;
				dwLoc14_301 = v11_309;
				if (v11_309 < 0x00)
					break;
				ui32 * v31_313 = dwLoc18_107 - 0x04;
				*v31_313 = (word32) (byte) (word32) *((word32) dwArg10 + v11_309) << 0x18;
				dwLoc18_107 = v31_313;
			}
		}
		if (dwArg08 == 0x02)
		{
			int32 dwLoc14_250 = dwArg08 *s eax_28;
			while (true)
			{
				int32 v14_262 = dwLoc14_250 - dwArg08;
				dwLoc14_250 = v14_262;
				if (v14_262 < 0x00)
					break;
				ui32 * v30_266 = dwLoc18_107 - 0x04;
				*v30_266 = (word32) (byte) (word32) *((word32) dwArg10 + v14_262) << 0x10 | (word32) ((byte) ((word32) (*((word32) dwArg10 + (v14_262 + 0x01))))) << 0x18;
				dwLoc18_107 = v30_266;
			}
		}
		if (dwArg08 == 0x03)
		{
			int32 dwLoc14_185 = dwArg08 *s eax_28;
			while (true)
			{
				int32 v21_197 = dwLoc14_185 - dwArg08;
				dwLoc14_185 = v21_197;
				if (v21_197 < 0x00)
					break;
				ui32 * v28_201 = dwLoc18_107 - 0x04;
				*v28_201 = (word32) (byte) (word32) *((word32) dwArg10 + v21_197) << 0x08 | (word32) ((byte) ((word32) (*((word32) dwArg10 + (v21_197 + 0x01))))) << 0x10 | (word32) ((byte) ((word32) (*((word32) dwArg10 + (v21_197 + 0x02))))) << 0x18;
				dwLoc18_107 = v28_201;
			}
		}
		if (dwArg08 == 0x04)
		{
			int32 dwLoc14_105 = dwArg08 *s eax_28;
			while (true)
			{
				int32 v23_117 = dwLoc14_105 - dwArg08;
				dwLoc14_105 = v23_117;
				if (v23_117 < 0x00)
					break;
				ui32 * v26_121 = dwLoc18_107 - 0x04;
				*v26_121 = (word32) (byte) (word32) *((word32) dwArg10 + v23_117) << 0x00 | (word32) ((byte) ((word32) (*((word32) dwArg10 + (v23_117 + 0x01))))) << 0x08 | (word32) ((byte) ((word32) (*((word32) dwArg10 + (v23_117 + 0x02))))) << 0x10 | (word32) ((byte) ((word32) (*((word32) dwArg10 + (v23_117 + 0x03))))) << 0x18;
				dwLoc18_107 = v26_121;
			}
		}
	}
	else
	{
		if (dwArg08 == 0x01)
		{
			int32 dwLoc14_570 = dwArg08 *s eax_28;
			while (true)
			{
				int32 v13_582 = dwLoc14_570 - dwArg08;
				dwLoc14_570 = v13_582;
				if (v13_582 < 0x00)
					break;
				ui32 * v15_586 = dwLoc18_107 - 0x04;
				*v15_586 = (word32) (byte) ((word32) *((word32) dwArg10 + v13_582) ^ ~0x7F) << 0x18 | 0x007F0000;
				dwLoc18_107 = v15_586;
			}
		}
		if (dwArg08 == 0x02)
		{
			int32 dwLoc14_519 = dwArg08 *s eax_28;
			while (true)
			{
				int32 v20_531 = dwLoc14_519 - dwArg08;
				dwLoc14_519 = v20_531;
				if (v20_531 < 0x00)
					break;
				ui32 * v29_535 = dwLoc18_107 - 0x04;
				*v29_535 = (word32) (byte) (word32) *((word32) dwArg10 + v20_531) << 0x18 | (word32) ((byte) ((word32) (*((word32) dwArg10 + (v20_531 + 0x01))))) << 0x10;
				dwLoc18_107 = v29_535;
			}
		}
		if (dwArg08 == 0x03)
		{
			int32 dwLoc14_454 = dwArg08 *s eax_28;
			while (true)
			{
				int32 v22_466 = dwLoc14_454 - dwArg08;
				dwLoc14_454 = v22_466;
				if (v22_466 < 0x00)
					break;
				ui32 * v25_470 = dwLoc18_107 - 0x04;
				*v25_470 = (word32) (byte) (word32) *((word32) dwArg10 + v22_466) << 0x18 | (word32) ((byte) ((word32) (*((word32) dwArg10 + (v22_466 + 0x01))))) << 0x10 | (word32) ((byte) ((word32) (*((word32) dwArg10 + (v22_466 + 0x02))))) << 0x08;
				dwLoc18_107 = v25_470;
			}
		}
		if (dwArg08 == 0x04)
		{
			int32 dwLoc14_375 = dwArg08 *s eax_28;
			while (true)
			{
				int32 v24_387 = dwLoc14_375 - dwArg08;
				dwLoc14_375 = v24_387;
				if (v24_387 < 0x00)
					break;
				ui32 * v27_391 = dwLoc18_107 - 0x04;
				*v27_391 = (word32) (byte) (word32) *((word32) dwArg10 + v24_387) << 0x18 | (word32) ((byte) ((word32) (*((word32) dwArg10 + (v24_387 + 0x01))))) << 0x10 | (word32) ((byte) ((word32) (*((word32) dwArg10 + (v24_387 + 0x02))))) << 0x08 | (word32) ((byte) ((word32) (*((word32) dwArg10 + (v24_387 + 0x03))))) << 0x00;
				dwLoc18_107 = v27_391;
			}
		}
	}
	return eax_28;
}

// 0804D9AB: Register word32 read_samples_pcm(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack Eq_83 dwArg0C)
word32 read_samples_pcm(Eq_83 dwArg04, Eq_83 dwArg08, Eq_83 dwArg0C)
{
	word32 dwLoc10_109;
	Eq_2171 eax_8 = globals->t805B3D0;
	if (eax_8 != 0x10)
	{
		if (eax_8 <= 0x10)
		{
			if (eax_8 != 0x08)
			{
l0804DA8B:
				if (globals->dw805C54C <= 0x09)
					error_printf(0x080550D0);
				exit(0x01);
			}
			dwLoc10_109 = unpack_read_samples(dwArg0C, 0x01, globals->dw805B3D8, dwArg08, dwArg04);
l0804DAAD:
			if (ferror(dwArg04) == 0x00)
				return dwLoc10_109;
			if (globals->dw805C54C <= 0x09)
				error_printf(0x08055102);
			exit(0x01);
		}
		if (eax_8 != 0x18 && eax_8 != 0x20)
			goto l0804DA8B;
	}
	if (globals->dw805B2A8 == 0x00)
	{
		error_printf(0x080550A0);
		exit(0x01);
	}
	word32 eax_50 = (word32) (globals->dw805B3EC != 0x00);
	word32 dwLoc14_51 = eax_50;
	if (globals->dw805B3D4 != 0x00)
		dwLoc14_51 = (word32) (eax_50 == 0x00);
	Eq_2171 eax_59 = globals->t805B3D0;
	if (eax_59 < 0x00)
		eax_59 = (word32) eax_59.u0 + 0x07;
	dwLoc10_109 = unpack_read_samples(dwArg0C, eax_59 >> 0x03, dwLoc14_51, dwArg08, dwArg04);
	goto l0804DAAD;
}

// 0804DAE3: Register word32 parse_wave_header(Register (ptr Eq_2959) gs, Stack Eq_83 dwArg04, Stack Eq_83 dwArg08)
word32 parse_wave_header(Eq_2959 * gs, Eq_83 dwArg04, Eq_83 dwArg08)
{
}

// 0804DDD0: Register word32 aiff_check2(Stack (ptr Eq_4175) dwArg04)
word32 aiff_check2(Eq_4175 * dwArg04)
{
	word32 eax_105;
	if (dwArg04->t0014 != globals->t805512C)
	{
		if (globals->dw805C54C <= 0x09)
			error_printf(0x0805519C);
		eax_105 = 0x01;
	}
	else
	{
		Eq_4183 eax_48 = (int32) (word16) (word32) dwArg04->w0008;
		if (eax_48 <= 0x20 && eax_48 >= 0x08 && (0x01 << (byte) (eax_48 - 0x08) & 0x01010101) != 0x00)
		{
			if ((word16) (word32) dwArg04->w0000 == 0x01 || (word16) ((word32) dwArg04->w0000) == 0x02)
			{
				if (dwArg04->dw001C != 0x00)
				{
					if (globals->dw805C54C <= 0x09)
						error_printf(0x08055228);
					eax_105 = 0x01;
				}
				else
					eax_105 = 0x00;
			}
			else
			{
				if (globals->dw805C54C <= 0x09)
					error_printf(0x080551F8);
				eax_105 = 0x01;
			}
		}
		else
		{
			if (globals->dw805C54C <= 0x09)
				error_printf(0x080551C0);
			eax_105 = 0x01;
		}
	}
	return eax_105;
}

// 0804DEB2: Register Eq_2953 make_even_number_of_bytes_in_length(Stack Eq_2953 dwArg04)
Eq_2953 make_even_number_of_bytes_in_length(Eq_2953 dwArg04)
{
	Eq_2953 eax_13;
	if ((byte) (dwArg04 & 0x01) != 0x00)
		eax_13 = (word32) dwArg04 + 0x01;
	else
		eax_13 = dwArg04;
	return eax_13;
}

// 0804DECC: Register word32 parse_aiff_header(Register (ptr Eq_2959) gs, Stack Eq_83 dwArg04, Stack Eq_83 dwArg08)
word32 parse_aiff_header(Eq_2959 * gs, Eq_83 dwArg04, Eq_83 dwArg08)
{
}

// 0804E2E4: Register word32 parse_file_header(Register (ptr Eq_2959) gs, Stack Eq_83 dwArg04, Stack Eq_83 dwArg08)
word32 parse_file_header(Eq_2959 * gs, Eq_83 dwArg04, Eq_83 dwArg08)
{
	word32 eax_31;
	Eq_2953 eax_11 = Read32BitsHighLow(dwArg08);
	globals->dw805B3CC = 0x00;
	globals->dw805B3D8 = (word32) (globals->dw805B2A8 != 0x01);
	if (eax_11 == globals->t8055140)
	{
		int32 eax_52 = parse_wave_header(gs, dwArg04, dwArg08);
		if (eax_52 > 0x00)
		{
			globals->dw805B3CC = 0x01;
			eax_31 = 0x02;
			return eax_31;
		}
		if (eax_52 < 0x00 && globals->dw805C54C <= 0x09)
			error_printf(0x0805528C);
	}
	else if (eax_11 == globals->t805511C)
	{
		int32 eax_74 = parse_aiff_header(gs, dwArg04, dwArg08);
		if (eax_74 > 0x00)
		{
			globals->dw805B3CC = 0x01;
			eax_31 = 0x03;
			return eax_31;
		}
		if (eax_74 < 0x00 && globals->dw805C54C <= 0x09)
			error_printf(0x080552BC);
	}
	else if (globals->dw805C54C <= 0x09)
		error_printf(134566636);
	eax_31 = 0x00;
	return eax_31;
}

// 0804E3E1: void CloseSndFile(Stack Eq_83 dwArg08)
void CloseSndFile(Eq_83 dwArg08)
{
	if (fclose(dwArg08) == 0x00)
		return;
	if (globals->dw805C54C <= 0x09)
		error_printf(0x08055310);
	exit(0x02);
}

// 0804E41A: Register Eq_83 OpenSndFile(Register (ptr Eq_200) gs, Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack Eq_83 dwArg0C, Stack Eq_83 dwArg10)
Eq_83 OpenSndFile(Eq_200 * gs, Eq_83 dwArg04, Eq_83 dwArg08, Eq_83 dwArg0C, Eq_83 dwArg10)
{
	Eq_83 dwLoc10_36;
	word32 esp_12;
	word32 ebp_13;
	byte SCZO_14;
	word32 eax_15;
	byte SZO_16;
	byte C_17;
	byte Z_18;
	word32 edx_19;
	real64 rLoc1_20;
	real64 rLoc2_21;
	byte CZP_22;
	byte al_23;
	real64 rLoc3_24;
	byte ah_25;
	word16 ax_26;
	struct Eq_2959 * gs_27;
	!lame_set_num_samples();
	if (strcmp(dwArg08, 0x08055007) == 0x00)
	{
		dwLoc10_36 = globals->t805B3A4;
		lame_set_stream_binary_mode();
	}
	else
	{
		Eq_83 eax_413 = fopen64(dwArg08, "rb");
		dwLoc10_36 = eax_413;
		if (eax_413 == 0x00)
		{
			if (globals->dw805C54C <= 0x09)
				error_printf(0x08055335);
			exit(0x01);
		}
	}
	if (is_mpeg_file_format(globals->t805C544) != 0x00)
	{
		if (lame_decode_initfile(gs_27, dwLoc10_36, &globals->t805C560, dwArg0C, dwArg10) == ~0x00)
		{
			if (globals->dw805C54C <= 0x09)
				error_printf(0x0805534C);
			exit(0x01);
		}
		word32 esp_300;
		word32 ebp_301;
		byte SCZO_302;
		word32 eax_303;
		byte SZO_304;
		byte C_305;
		byte Z_306;
		word32 edx_307;
		real64 rLoc1_308;
		real64 rLoc2_309;
		byte CZP_310;
		byte al_311;
		real64 rLoc3_312;
		byte ah_313;
		word16 ax_314;
		struct Eq_4720 * gs_315;
		!lame_set_num_channels();
		if (eax_303 == ~0x00)
		{
			if (globals->dw805C54C <= 0x09)
				error_printf(0x0805537C);
			exit(0x01);
		}
		word32 esp_331;
		word32 ebp_332;
		byte SCZO_333;
		word32 eax_334;
		byte SZO_335;
		byte C_336;
		byte Z_337;
		word32 edx_338;
		real64 rLoc1_339;
		real64 rLoc2_340;
		byte CZP_341;
		byte al_342;
		real64 rLoc3_343;
		byte ah_344;
		word16 ax_345;
		struct Eq_4789 * gs_346;
		!lame_set_in_samplerate();
		word32 esp_351;
		word32 ebp_352;
		byte SCZO_353;
		word32 eax_354;
		byte SZO_355;
		byte C_356;
		byte Z_357;
		word32 edx_358;
		real64 rLoc1_359;
		real64 rLoc2_360;
		byte CZP_361;
		byte al_362;
		real64 rLoc3_363;
		byte ah_364;
		word16 ax_365;
		struct Eq_4806 * gs_366;
		!lame_set_num_samples();
	}
	else
	{
		if (globals->t805C544 == 0x08)
		{
			if (globals->dw805C54C <= 0x09)
				error_printf(0x080553A4);
			exit(0x01);
		}
		if (globals->t805C544 == 0x01)
		{
			if (globals->dw805C54C <= 0x09)
			{
				console_printf(134566866);
				if (globals->dw805B3E8 != 0x00)
					console_printf(0x080553EE);
				else
					console_printf(0x08055408);
			}
			globals->dw805B3D4 = globals->dw805B3E8;
		}
		else
			globals->t805C544 = parse_file_header(gs_27, dwArg04, dwLoc10_36);
	}
	if (globals->t805C544 != 0x00)
	{
		word32 esp_70;
		word32 ebp_71;
		byte SCZO_72;
		word32 eax_73;
		byte SZO_74;
		byte C_75;
		byte Z_76;
		word32 edx_77;
		real64 rLoc1_78;
		real64 rLoc2_79;
		byte CZP_80;
		byte al_81;
		real64 rLoc3_82;
		byte ah_83;
		word16 ax_84;
		struct Eq_4833 * gs_85;
		!lame_get_num_samples();
		if (eax_73 == ~0x00 && dwLoc10_36 != globals->t805B3A4)
		{
			lame_get_file_size(dwArg08);
			int64 qwLoc3C_134 = DPB(qwLoc3C, edx_77, 32);
			Eq_4850 rLoc1_135 = (real64) qwLoc3C_134;
			if (rLoc1_135 >= 0.0 != 0x00)
			{
				if (is_mpeg_file_format(globals->t805C544) != 0x00)
				{
					if (globals->dw805C56C > 0x00)
					{
						word32 esp_170;
						word32 ebp_171;
						byte SCZO_172;
						word32 eax_173;
						byte SZO_174;
						byte C_175;
						byte Z_176;
						word32 edx_177;
						real64 rLoc1_178;
						real64 rLoc2_179;
						byte CZP_180;
						byte al_181;
						real64 rLoc3_182;
						byte ah_183;
						word16 ax_184;
						struct Eq_4925 * gs_185;
						!lame_get_in_samplerate();
						real64 rLoc1_188 = (real64) eax_173 * ((rLoc1_135 * globals->r80554C0) / ((real64) globals->dw805C56C * globals->r80554C8));
						uint16 wLoc32_189 = __fstcw();
						uint16 ax_192 = DPB(ax_184, 0x0C, 8);
						__fldcw(ax_192);
						__fldcw(wLoc32_189);
						int64 qwLoc3C_194 = (int64) rLoc1_188;
						word32 dwLoc3C_195 = (word32) qwLoc3C_194;
						word32 esp_204;
						word32 ebp_205;
						byte SCZO_206;
						word32 eax_207;
						byte SZO_208;
						byte C_209;
						byte Z_210;
						word32 edx_211;
						real64 rLoc1_212;
						real64 rLoc2_213;
						byte CZP_214;
						byte al_215;
						real64 rLoc3_216;
						byte ah_217;
						word16 ax_218;
						struct Eq_4969 * gs_219;
						!lame_set_num_samples();
						globals->dw805C57C = dwLoc3C_195;
					}
				}
				else
				{
					word32 esp_224;
					word32 ebp_225;
					byte SCZO_226;
					word32 eax_227;
					byte SZO_228;
					byte C_229;
					byte Z_230;
					word32 edx_231;
					real64 rLoc1_232;
					real64 rLoc2_233;
					byte CZP_234;
					byte al_235;
					real64 rLoc3_236;
					byte ah_237;
					word16 ax_238;
					struct Eq_4877 * gs_239;
					!lame_get_num_channels();
					uint16 wLoc32_246 = __fstcw();
					uint16 ax_249 = DPB(ax_238, 0x0C, 8);
					__fldcw(ax_249);
					__fldcw(wLoc32_246);
					word32 esp_259;
					word32 ebp_260;
					byte SCZO_261;
					word32 eax_262;
					byte SZO_263;
					byte C_264;
					byte Z_265;
					word32 edx_266;
					real64 rLoc1_267;
					real64 rLoc2_268;
					byte CZP_269;
					byte al_270;
					real64 rLoc3_271;
					byte ah_272;
					word16 ax_273;
					struct Eq_4904 * gs_274;
					!lame_set_num_samples();
				}
			}
		}
		return dwLoc10_36;
	}
	else
		exit(0x01);
}

// 0804E748: Register word32 check_aid(Stack (ptr void) dwArg04)
word32 check_aid(void)
{
	return (word32) (memcmp(dwArg04, &globals->v805540A, 0x04) == 0x00);
}

// 0804E773: Register word32 is_syncword_mp123(Stack (ptr Eq_4991) dwArg04)
word32 is_syncword_mp123(Eq_4991 * dwArg04)
{
	word32 eax_123;
	if ((byte) (word32) dwArg04->b0000 == ~0x00)
	{
		if (((word32) (byte) (word32) dwArg04->b0001 & 0xE0) == 0xE0)
		{
			if (((word32) (byte) (word32) dwArg04->b0001 & 0x18) != 0x08)
			{
				ui32 eax_64 = (word32) (byte) (word32) dwArg04->b0001;
				if ((eax_64 & 0x06) != 0x04)
				{
					if ((eax_64 & 0x06) != 0x06)
					{
						if ((eax_64 & 0x06) != 0x02)
						{
							eax_123 = 0x00;
							return eax_123;
						}
						if (globals->t805C544 != 0x06 && globals->t805C544 != 0x07)
						{
							eax_123 = 0x00;
							return eax_123;
						}
						globals->t805C544.u0 = 0x06;
					}
					else
					{
						if (globals->t805C544 != 0x04 && globals->t805C544 != 0x07)
						{
							eax_123 = 0x00;
							return eax_123;
						}
						globals->t805C544.u0 = 0x04;
					}
				}
				else
				{
					if (globals->t805C544 != 0x05 && globals->t805C544 != 0x07)
					{
						eax_123 = 0x00;
						return eax_123;
					}
					globals->t805C544.u0 = 0x05;
				}
				if (((word32) (byte) (word32) dwArg04->b0001 & 0x06) == 0x00)
					eax_123 = 0x00;
				else if (((word32) (byte) (word32) dwArg04->b0002 & 0xF0) == 0xF0)
					eax_123 = 0x00;
				else if (((word32) (byte) (word32) dwArg04->b0002 & 0x0C) == 0x0C)
					eax_123 = 0x00;
				else if (((word32) (byte) (word32) dwArg04->b0001 & 0x18) == 0x18 && (((word32) ((byte) ((word32) dwArg04->b0001)) & 0x06) == 0x04 && (byte) ((int32) ((byte) ((word32) ((word32) ((byte) ((word32) dwArg04->b0002) >> 0x04))->b80554A5)) >> (byte) ((word32) ((byte) ((word32) dwArg04->b0003) >> 0x06)) & 0x01) != 0x00))
					eax_123 = 0x00;
				else if (((word32) (byte) (word32) dwArg04->b0003 & 0x03) == 0x02)
					eax_123 = 0x00;
				else
					eax_123 = 0x01;
				return eax_123;
			}
			else
			{
				eax_123 = 0x00;
				return eax_123;
			}
		}
		else
		{
			eax_123 = 0x00;
			return eax_123;
		}
	}
	else
	{
		eax_123 = 0x00;
		return eax_123;
	}
}

// 0804E961: Register word32 lame_decode_initfile(Register (ptr Eq_2959) gs, Stack Eq_83 dwArg04, Stack (ptr Eq_536) dwArg08, Stack Eq_83 dwArg0C, Stack Eq_83 dwArg10)
word32 lame_decode_initfile(Eq_2959 * gs, Eq_83 dwArg04, Eq_536 * dwArg08, Eq_83 dwArg0C, Eq_83 dwArg10)
{
}

// 0804EE68: Register int32 lame_decode_fromfile(Register (ptr Eq_3232) gs, Stack Eq_83 dwArg04, Stack (ptr Eq_536) dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10)
int32 lame_decode_fromfile(Eq_3232 * gs, Eq_83 dwArg04, Eq_536 * dwArg08, word32 dwArg0C, word32 dwArg10)
{
}

// 0804F04D: Register word32 is_mpeg_file_format(Stack Eq_290 dwArg04)
word32 is_mpeg_file_format(Eq_290 dwArg04)
{
	word32 eax_13;
	if (dwArg04 == 0x05)
	{
		eax_13 = 0x02;
		return eax_13;
	}
	else
	{
		if (dwArg04 <= 0x05)
		{
			if (dwArg04 == 0x04)
			{
				eax_13 = 0x01;
				return eax_13;
			}
		}
		else
		{
			if (dwArg04 == 0x06)
			{
				eax_13 = 0x03;
				return eax_13;
			}
			if (dwArg04 == 0x07)
			{
				eax_13 = ~0x00;
				return eax_13;
			}
		}
		eax_13 = 0x00;
		return eax_13;
	}
}

// 0804F094: FpuStack real64 GetCPUTime(Register word32 eax)
real64 GetCPUTime(word32 eax)
{
	word32 esp_8;
	word32 ebp_9;
	byte SCZO_10;
	word32 eax_11;
	real64 rLoc1_12;
	real64 rLoc2_13;
	!clock();
	return (real64) eax_11 / globals->r80554D0;
}

// 0804F0AF: Register word32 GetRealTime(FpuStack out Eq_5598 rLoc1Out)
word32 GetRealTime(Eq_5598 & rLoc1Out)
{
	word32 esp_11;
	word32 ebp_12;
	byte SCZO_13;
	word32 eax_14;
	real64 rLoc1_15;
	real64 rLoc2_16;
	real64 rLoc3_17;
	!gettimeofday();
	return dwLoc10;
}

// 0804F0E6: void lame_set_stream_binary_mode()
void lame_set_stream_binary_mode()
{
}

// 0804F0F0: Register byte lame_get_file_size(Stack Eq_83 dwArg04)
byte lame_get_file_size(Eq_83 dwArg04)
{
	byte al_18;
	if (stat64(dwArg04, fp - 0x6C) == 0x00)
		al_18 = (byte) dwLoc40;
	else
		al_18 = ~0x00;
	return al_18;
}

// 0804F120: Register word32 set_id3tag(Stack Eq_83 dwArg08, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 set_id3tag(Eq_83 dwArg08, ptr32 & espOut, ptr32 & ebpOut)
{
	if (dwArg08 > 121 || dwArg08 < 0x61)
	{
		word32 ebp_31;
		*ebpOut = ebp;
		word32 esp_32;
		*espOut = fp;
		return 0x00;
	}
	else
	{
		<anonymous> * eax_21 = *((char *) globals->a80554E0 + (dwArg08 - (_IO_FILE *) 0x61) * 0x04);
		word32 esp_23;
		word32 ebp_24;
		byte SCZO_25;
		word32 eax_26;
		byte CZ_27;
		bcuisposr0 None_28;
		eax_21();
		return eax_26;
	}
}

// 0804F204: Register word32 id3_tag(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack Eq_83 dwArg10)
word32 id3_tag(Eq_83 dwArg04, Eq_83 dwArg08, Eq_83 dwArg10)
{
	word32 esp_12;
	word32 ebp_13;
	byte SCZO_14;
	word32 eax_15;
	!strdup();
	union Eq_83 * esp_25;
	ptr32 ebp_26;
	word32 eax_27 = set_id3tag(dwArg08, out esp_25, out ebp_26);
	*(ebp_26 - 0x10) = eax_27;
	*esp_25 = *(ebp_26 - 0x0C);
	free(*esp_25);
	return *(ebp_26 - 0x10);
}

// 0804F24B: void lame_version_print(Register Eq_83 eax, Stack Eq_83 dwArg04)
void lame_version_print(Eq_83 eax, Eq_83 dwArg04)
{
	word32 esp_8;
	word32 ebp_9;
	byte SCZO_10;
	Eq_83 eax_11;
	word32 edx_12;
	byte CZ_13;
	byte Z_14;
	word32 ecx_15;
	!get_lame_os_bitness();
	word32 esp_17;
	word32 ebp_18;
	byte SCZO_19;
	Eq_83 eax_20;
	word32 edx_21;
	byte CZ_22;
	byte Z_23;
	word32 ecx_24;
	!get_lame_version();
	word32 esp_26;
	word32 ebp_27;
	byte SCZO_28;
	Eq_83 eax_29;
	word32 edx_30;
	byte CZ_31;
	byte Z_32;
	word32 ecx_33;
	!get_lame_url();
	Eq_83 eax_37 = strlen(eax_11);
	Eq_83 eax_41 = strlen(eax_20);
	Eq_83 eax_45 = strlen(eax_29);
	if (eax_37 + eax_41 + eax_45 >u ~0x3F && eax_45 <= ~0x4D)
	{
		if (eax_37 != 0x00)
			fprintf(dwArg04, "LAME %s version %s\n%*s(%s)\n\n", eax_11, eax_20, SLICE(eax_20, <unknown>, 32), 0x50 - eax_45 - 0x02);
		else
			fprintf(dwArg04, "LAME version %s\n%*s(%s)\n\n", eax_20, SLICE(eax_20, <unknown>, 32), 0x50 - eax_45 - 0x02);
	}
	else if (eax_37 != 0x00)
		fprintf(dwArg04, "LAME %s version %s (%s)\n\n", eax_11, eax_20, eax_29);
	else
		fprintf(dwArg04, "LAME version %s (%s)\n\n", eax_20, eax_29);
}

// 0804F3AB: void print_license(Stack Eq_83 dwArg04)
void print_license(Eq_83 dwArg04)
{
	lame_version_print(dwArg04, dwArg04);
	fwrite(&globals->v80555B0, 0x01, 0xFF, dwArg04);
	fwrite(&globals->v80556B0, 0x01, 0xAF, dwArg04);
	fwrite(&globals->v8055760, 0x01, 0x9D, dwArg04);
	fwrite(&globals->v8055800, 0x01, 0x01E7, dwArg04);
	fwrite(&globals->v80559E8, 0x01, 0x6C, dwArg04);
	fwrite(&globals->v8055A58, 0x01, 0x0103, dwArg04);
}

// 0804F49B: void usage(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08)
void usage(Eq_83 dwArg04, Eq_83 dwArg08)
{
	lame_version_print(dwArg04, dwArg04);
	fprintf(dwArg04, "usage: %s [options] <infile> [outfile]\n\n    <infile> and/or <outfile> can be \"-\", which means stdin/stdout.\n\nTry:\n     \"%s --help\"           for general usage information\n or:\n     \"%s --preset help\"    for information on suggested predefined settings\n or:\n     \"%s --longhelp\"\n  or \"%s -?\"              for a complete options list\n\n", dwArg08, dwArg08, dwArg08, dwArg08, dwArg08);
}

// 0804F4EA: void short_help(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack (ptr char) dwArg0C)
void short_help(Eq_83 dwArg04, Eq_83 dwArg08, char * dwArg0C)
{
	lame_version_print(dwArg08, dwArg08);
	fprintf(dwArg08, "usage: %s [options] <infile> [outfile]\n\n    <infile> and/or <outfile> can be \"-\", which means stdin/stdout.\n\nRECOMMENDED:\n    lame -V2 input.wav output.mp3\n\n", dwArg0C);
	word32 esp_22;
	word32 ebp_23;
	byte SCZO_24;
	int32 eax_25;
	word32 edx_26;
	!lame_get_VBR_q();
	fprintf(dwArg08, "OPTIONS:\n    -b bitrate      set the bitrate, default 128 kbps\n    -h              higher quality, but a little slower.  Recommended.\n    -f              fast mode (lower quality)\n    -V n            quality setting for VBR.  default n=%i\n                    0=high quality,bigger files. 9=smaller files\n", eax_25);
	fwrite(&globals->v8055E80, 0x01, 0x0141, dwArg08);
	fwrite(&globals->v8055FC4, 0x01, 0x59, dwArg08);
}

// 0804F588: void wait_for(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08)
void wait_for(Eq_83 dwArg04, Eq_83 dwArg08)
{
	if (dwArg08 != 0x00)
	{
		int32 eax_23 = fflush(dwArg04);
		word32 esp_26;
		word32 ebp_27;
		byte SCZO_28;
		byte Z_29;
		word32 eax_30;
		!getchar();
	}
	else
		fputc(0x0A, dwArg04);
	fputc(0x0A, dwArg04);
}

// 0804F5CE: void long_help(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack (ptr char) dwArg0C, Stack Eq_83 dwArg10)
void long_help(Eq_83 dwArg04, Eq_83 dwArg08, char * dwArg0C, Eq_83 dwArg10)
{
	lame_version_print(dwArg08, dwArg08);
	fprintf(dwArg08, "usage: %s [options] <infile> [outfile]\n\n    <infile> and/or <outfile> can be \"-\", which means stdin/stdout.\n\nRECOMMENDED:\n    lame -V2 input.wav output.mp3\n\n", dwArg0C);
	fwrite(&globals->v8056020, 0x01, 0x02A3, dwArg08);
	fwrite(&globals->v80562C4, 0x01, 0x01A9, dwArg08);
	wait_for(dwArg08, dwArg10);
	fwrite(&globals->v8056470, 0x01, 0x032C, dwArg08);
	fwrite(&globals->v80567A0, 0x01, 0x0169, dwArg08);
	fwrite(&globals->v805690C, 0x01, 226, dwArg08);
	wait_for(dwArg08, dwArg10);
	fwrite(&globals->v80569F0, 0x01, 0x018A, dwArg08);
	fwrite(&globals->v8056B7C, 0x01, 0x0131, dwArg08);
	wait_for(dwArg08, dwArg10);
	fwrite(&globals->v8056CB0, 0x01, 0xFB, dwArg08);
	word32 esp_91;
	word32 ebp_92;
	byte SCZO_93;
	int32 eax_94;
	word32 edx_95;
	!lame_get_VBR_q();
	fprintf(dwArg08, "  VBR options:\n    -V n            quality setting for VBR.  default n=%i\n                    0=high quality,bigger files. 9=smaller files\n    -v              the same as -V 4\n    --vbr-old       use old variable bitrate (VBR) routine\n    --vbr-new       use new variable bitrate (VBR) routine (default)\n", eax_94);
	fwrite(&globals->v8056EE0, 0x01, 0x0170, dwArg08);
	wait_for(dwArg08, dwArg10);
	fwrite(&globals->v8057051, 0x01, 0x0F, dwArg08);
	fwrite(&globals->v8057064, 0x01, 0x01CC, dwArg08);
	fwrite(&globals->v8057234, 0x01, 55, dwArg08);
	wait_for(dwArg08, dwArg10);
	fwrite(&globals->v805726C, 0x01, 0x5A, dwArg08);
	wait_for(dwArg08, dwArg10);
	fwrite(&globals->v80572C8, 0x01, 0x019A, dwArg08);
	fprintf(dwArg08, "  Filter options:\n  --lowpass <freq>        frequency(kHz), lowpass filter cutoff above freq\n  --lowpass-width <freq>  frequency(kHz) - default 15%% of lowpass freq\n  --highpass <freq>       frequency(kHz), highpass filter cutoff below freq\n  --highpass-width <freq> frequency(kHz) - default 15%% of highpass freq\n");
	fwrite(&globals->v80575A0, 0x01, 0x50, dwArg08);
	wait_for(dwArg08, dwArg10);
	fwrite(&globals->v80575F4, 0x01, 886, dwArg08);
	fwrite(&globals->v805796C, 0x01, 0x01DC, dwArg08);
	fwrite(&globals->v8057B4C, 0x01, 0x013C, dwArg08);
	wait_for(dwArg08, dwArg10);
	fwrite(&globals->v8057C8C, 0x01, 0x61, dwArg08);
	wait_for(dwArg08, dwArg10);
	display_bitrates(dwArg08);
}

// 0804F991: void display_bitrate(Stack Eq_83 dwArg04, Stack (ptr char) dwArg08, Stack int32 dwArg0C, Stack ui32 dwArg10)
void display_bitrate(Eq_83 dwArg04, char * dwArg08, int32 dwArg0C, ui32 dwArg10)
{
	int32 dwLoc14_11 = 0x0E;
	if (dwArg0C == 0x04)
		dwLoc14_11 = 0x08;
	fprintf(dwArg04, "\nMPEG-%-3s layer III sample frequencies (kHz):  %2d  %2d  %g\nbitrates (kbps):", dwArg08, (int32) (0x20 / dwArg0C), (int32) (0x30 / dwArg0C), globals->r8059820 / (real64) dwArg0C);
	int32 dwLoc10_45 = 0x01;
	while (dwLoc10_45 <= dwLoc14_11)
	{
		fprintf(dwArg04, " %2i", globals->a805B2E0[((dwArg10 << 0x04) + dwLoc10_45) * 0x04]);
		dwLoc10_45 = dwLoc10_45 + 0x01;
	}
	fputc(0x0A, dwArg04);
}

// 0804FA50: void display_bitrates(Stack Eq_83 dwArg04)
void display_bitrates(Eq_83 dwArg04)
{
	display_bitrate(dwArg04, "1", 0x01, 0x01);
	display_bitrate(dwArg04, "2", 0x02, 0x00);
	display_bitrate(dwArg04, "2.5", 0x04, 0x00);
	fputc(0x0A, dwArg04);
	fflush(dwArg04);
}

// 0804FAE4: void presets_longinfo_dm(Stack Eq_83 dwArg04)
void presets_longinfo_dm(Eq_83 dwArg04)
{
	fwrite(&globals->v8057D4C, 0x01, 0x39, dwArg04);
	fwrite(&globals->v8057D88, 0x01, 0x4B, dwArg04);
	fwrite(&globals->v8057DD4, 0x01, 323, dwArg04);
	fwrite(&globals->v8057F18, 0x01, 0xFF, dwArg04);
	fwrite(&globals->v8058018, 0x01, 0x016A, dwArg04);
	fwrite(&globals->v8058184, 0x01, 299, dwArg04);
	fwrite(&globals->v80582B0, 0x01, 0x0136, dwArg04);
	fwrite(&globals->v80583E8, 0x01, 383, dwArg04);
	fwrite(&globals->v8058568, 0x01, 0x41, dwArg04);
	fwrite(&globals->v80585AC, 0x01, 0x019C, dwArg04);
	fwrite(&globals->v805874C, 0x01, 222, dwArg04);
	fwrite(&globals->v805882C, 0x01, 0xF7, dwArg04);
}

// 0804FC9C: Register word32 presets_set(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack (ptr char) dwArg0C, Stack Eq_83 dwArg10, Stack Eq_83 dwArg14)
word32 presets_set(Eq_83 dwArg04, Eq_83 dwArg08, char * dwArg0C, Eq_83 dwArg10, Eq_83 dwArg14)
{
	word32 eax_143;
	word32 dwLoc10_398 = 0x00;
	if (strcmp(dwArg10, 0x08058924) == 0x00 && (dwArg08 <= 0x00 && dwArg0C <= null))
	{
		Eq_83 eax_436 = globals->t805B3C0;
		lame_version_print(eax_436, eax_436);
		presets_longinfo_dm(globals->t805B3C0);
		eax_143 = ~0x00;
	}
	else
	{
		if (strcmp(dwArg10, 0x08058929) == 0x00)
		{
			dwArg10.u0 = 0x0805892F;
			dwLoc10_398 = 0x01;
		}
		if (strcmp(0x0805892F, 0x08058932) == 0x00 || (strcmp(0x0805892F, 0x08058938) == 0x00 || (strcmp(0x0805892F, 0x0805893B) == 0x00 || strcmp(0x0805892F, 0x08058941) == 0x00)))
		{
			dwArg10.u0 = 0x08058944;
			dwLoc10_398 = 0x01;
		}
		if (strcmp(dwArg10, 0x08058947) == 0x00)
		{
			dwArg10.u0 = 0x0805894D;
			dwLoc10_398 = 0x01;
		}
		if (strcmp(dwArg10, 0x08058950) == 0x00)
		{
			dwArg10.u0 = 0x08058956;
			dwLoc10_398 = 0x01;
		}
		if (strcmp(dwArg10, 0x08058959) == 0x00)
			dwArg10.u0 = 0x0805895C;
		if (strcmp(dwArg10, 0x08058960) == 0x00 || strcmp(dwArg10, 0x08058966) == 0x00)
			dwArg10.u0 = 0x0805895C;
		if (strcmp(dwArg10, 0x0805896B) == 0x00)
			dwArg10.u0 = 0x08058970;
		if (strcmp(dwArg10, 0x08058974) == 0x00)
			dwArg10.u0 = 0x08058977;
		if (strcmp(dwArg10, 0x0805897B) == 0x00)
			dwArg10.u0 = 0x08058982;
		if (strcmp(dwArg10, 0x08058986) == 0x00)
		{
			word32 esp_125;
			word32 ebp_126;
			byte SCZO_127;
			word32 eax_128;
			byte SZO_129;
			byte C_130;
			byte Z_131;
			!lame_set_VBR_q();
			if (dwArg08 > 0x00)
			{
				word32 esp_147;
				word32 ebp_148;
				byte SCZO_149;
				word32 eax_150;
				byte SZO_151;
				byte C_152;
				byte Z_153;
				!lame_set_VBR();
			}
			else
			{
				word32 esp_157;
				word32 ebp_158;
				byte SCZO_159;
				word32 eax_160;
				byte SZO_161;
				byte C_162;
				byte Z_163;
				!lame_set_VBR();
			}
			eax_143 = 0x00;
		}
		else if (strcmp(dwArg10, 0x0805898D) == 0x00)
		{
			word32 esp_174;
			word32 ebp_175;
			byte SCZO_176;
			word32 eax_177;
			byte SZO_178;
			byte C_179;
			byte Z_180;
			!lame_set_VBR_q();
			if (dwArg08 > 0x00)
			{
				word32 esp_195;
				word32 ebp_196;
				byte SCZO_197;
				word32 eax_198;
				byte SZO_199;
				byte C_200;
				byte Z_201;
				!lame_set_VBR();
			}
			else
			{
				word32 esp_205;
				word32 ebp_206;
				byte SCZO_207;
				word32 eax_208;
				byte SZO_209;
				byte C_210;
				byte Z_211;
				!lame_set_VBR();
			}
			eax_143 = 0x00;
		}
		else if (strcmp(dwArg10, 0x08058996) == 0x00)
		{
			word32 esp_222;
			word32 ebp_223;
			byte SCZO_224;
			word32 eax_225;
			byte SZO_226;
			byte C_227;
			byte Z_228;
			!lame_set_VBR_q();
			if (dwArg08 > 0x00)
			{
				word32 esp_243;
				word32 ebp_244;
				byte SCZO_245;
				word32 eax_246;
				byte SZO_247;
				byte C_248;
				byte Z_249;
				!lame_set_VBR();
			}
			else
			{
				word32 esp_253;
				word32 ebp_254;
				byte SCZO_255;
				word32 eax_256;
				byte SZO_257;
				byte C_258;
				byte Z_259;
				!lame_set_VBR();
			}
			eax_143 = 0x00;
		}
		else if (strcmp(dwArg10, 0x0805899E) == 0x00 && dwArg08 <= 0x00)
		{
			word32 esp_371;
			word32 ebp_372;
			byte SCZO_373;
			word32 eax_374;
			byte SZO_375;
			byte C_376;
			byte Z_377;
			!lame_set_preset();
			eax_143 = 0x00;
		}
		else if (atoi(dwArg10) > 0x00 && dwArg08 <= 0x00)
		{
			if (atoi(dwArg10) > 0x07 && atoi(dwArg10) <= 0x0140)
			{
				atoi(dwArg10);
				word32 esp_318;
				word32 ebp_319;
				byte SCZO_320;
				word32 eax_321;
				byte SZO_322;
				byte C_323;
				byte Z_324;
				!lame_set_preset();
				if (dwArg0C == (char *) 0x01)
				{
					word32 esp_359;
					word32 ebp_360;
					byte SCZO_361;
					word32 eax_362;
					byte SZO_363;
					byte C_364;
					byte Z_365;
					!lame_set_VBR();
				}
				if (dwLoc10_398 == 0x01)
				{
					word32 esp_349;
					word32 ebp_350;
					byte SCZO_351;
					word32 eax_352;
					byte SZO_353;
					byte C_354;
					byte Z_355;
					!lame_set_mode();
				}
				eax_143 = 0x00;
			}
			else
			{
				Eq_83 eax_301 = globals->t805BCEC;
				lame_version_print(eax_301, eax_301);
				error_printf(0x080589A8);
				eax_143 = ~0x00;
			}
		}
		else
		{
			Eq_83 eax_276 = globals->t805BCEC;
			lame_version_print(eax_276, eax_276);
			error_printf(0x08058A68);
			error_printf(0x08058C34);
			eax_143 = ~0x00;
		}
	}
	return eax_143;
}

// 080500DE: void genre_list_handler(Stack word32 dwArg04, Stack word32 dwArg08)
void genre_list_handler(word32 dwArg04, word32 dwArg08)
{
	console_printf(0x08058D50);
}

// 08050100: Register word32 local_strcasecmp(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08)
word32 local_strcasecmp(Eq_83 dwArg04, Eq_83 dwArg08)
{
	do
	{
		word32 esp_19;
		word32 ebp_20;
		byte SCZO_21;
		word32 eax_22;
		byte al_23;
		byte Z_24;
		word32 edx_25;
		word32 ecx_26;
		!tolower();
		word32 esp_34;
		word32 ebp_35;
		byte SCZO_36;
		word32 eax_37;
		byte al_38;
		byte Z_39;
		word32 edx_40;
		word32 ecx_41;
		!tolower();
	} while (al_23 != 0x00 && (byte) ((word32) al_23) == al_38);
	return (word32) al_23 - (word32) al_38;
}

// 08050158: Register word32 filename_to_type(Stack Eq_83 dwArg04)
word32 filename_to_type(Eq_83 dwArg04)
{
	word32 eax_21;
	Eq_83 eax_10 = strlen(dwArg04);
	if (eax_10 <= 0x03)
		eax_21 = 0x00;
	else
	{
		word32 v7_32 = dwArg04 + (eax_10 - 0x04);
		if (local_strcasecmp(v7_32, 0x08058D58) == 0x00)
			eax_21 = 0x07;
		else if (local_strcasecmp(v7_32, 0x08058D5D) == 0x00)
			eax_21 = 0x07;
		else if (local_strcasecmp(v7_32, 0x08058D62) == 0x00)
			eax_21 = 0x07;
		else if (local_strcasecmp(v7_32, 0x08058D67) == 0x00)
			eax_21 = 0x07;
		else if (local_strcasecmp(v7_32, 0x08058D6C) == 0x00)
			eax_21 = 0x02;
		else if (local_strcasecmp(v7_32, 0x08058D71) == 0x00)
			eax_21 = 0x03;
		else if (local_strcasecmp(v7_32, 0x08058D76) == 0x00)
			eax_21 = 0x01;
		else if (local_strcasecmp(v7_32, 0x08058D7B) == 0x00)
			eax_21 = 0x08;
		else
			eax_21 = 0x00;
	}
	return eax_21;
}

// 08050285: Register word32 resample_rate(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Register out ptr32 espOut, Register out ptr32 ebpOut)
word32 resample_rate(Eq_83 dwArg04, Eq_83 dwArg08, ptr32 & espOut, ptr32 & ebpOut)
{
	Eq_6541 rLoc14_14 = DPB(rLoc14, dwArg08, 32);
	if (rLoc14_14 >= globals->t8059828 != 0x00)
		rLoc14_14 = rLoc14_14 * globals->t8059830;
	uint16 wLoc16_31 = __fstcw();
	__fldcw(DPB(ax, 0x0C, 8));
	__fldcw(wLoc16_31);
	Eq_6559 dwLoc1C_37 = (int32) rLoc14_14;
	if (dwLoc1C_37 > 0x30 || dwLoc1C_37 < 0x08)
	{
		error_printf(0x08058D80);
		word32 ebp_91;
		*ebpOut = ebp;
		word32 esp_92;
		*espOut = fp;
		return 0x00;
	}
	else
	{
		<anonymous> * eax_63 = *((char *) globals->a8058DA8 + (dwLoc1C_37 - 0x08) * 0x04);
		word32 esp_69;
		word32 ebp_70;
		byte SCZO_71;
		word32 eax_72;
		real64 rLoc1_73;
		real64 rLoc2_74;
		byte CZP_75;
		byte al_76;
		byte C_77;
		byte SZO_78;
		byte Z_79;
		byte ah_80;
		word16 ax_81;
		byte CZ_82;
		eax_63();
		return eax_72;
	}
}

// 08050341: Register int32 set_id3_albumart(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08)
int32 set_id3_albumart(Eq_83 dwArg04, Eq_83 dwArg08)
{
	int32 eax_25;
	if (dwArg08 == 0x00)
		eax_25 = 0x00;
	else
	{
		int32 dwLoc10_125;
		Eq_83 eax_41 = fopen64(dwArg08, "rb");
		if (eax_41 == 0x00)
			dwLoc10_125 = 0x01;
		else
		{
			word32 esp_88;
			word32 ebp_89;
			byte SCZO_90;
			byte Z_91;
			word32 eax_92;
			byte SZO_93;
			byte C_94;
			!fseek();
			word32 esp_97;
			word32 ebp_98;
			byte SCZO_99;
			byte Z_100;
			Eq_83 eax_101;
			byte SZO_102;
			byte C_103;
			!ftell();
			word32 esp_109;
			word32 ebp_110;
			byte SCZO_111;
			byte Z_112;
			word32 eax_113;
			byte SZO_114;
			byte C_115;
			!fseek();
			Eq_83 eax_118 = malloc(eax_101);
			if (eax_118 == 0x00)
				dwLoc10_125 = 0x02;
			else
			{
				if (fread(eax_118, 0x01, eax_101, eax_41) != eax_101)
					dwLoc10_125 = 0x03;
				else
				{
					int32 eax_175;
					word32 esp_165;
					word32 ebp_166;
					byte SCZO_167;
					byte Z_168;
					word32 eax_169;
					byte SZO_170;
					byte C_171;
					!id3tag_set_albumart();
					if (eax_169 != 0x00)
						eax_175 = 0x04;
					else
						eax_175 = 0x00;
					dwLoc10_125 = eax_175;
				}
				free(eax_118);
			}
			fclose(eax_41);
		}
		if (dwLoc10_125 != 0x02)
		{
			if (dwLoc10_125 <= 0x02)
			{
				if (dwLoc10_125 == 0x01)
					error_printf(0x08058E4F);
			}
			else if (dwLoc10_125 != 0x03)
			{
				if (dwLoc10_125 == 0x04)
					error_printf(0x08058EAC);
			}
			else
				error_printf(134581911);
		}
		else
			error_printf(0x08058E68);
		eax_25 = dwLoc10_125;
	}
	return eax_25;
}

// 080504D7: Register word32 parse_args(Register (ptr Eq_155) ebp, Stack Eq_83 dwArg04, Stack Eq_83 dwArg0C, Stack Eq_83 dwArg10, Stack Eq_83 dwArg14, FpuStack real64 rArg0, FpuStack out Eq_161 rArg0Out)
word32 parse_args(Eq_155 * ebp, Eq_83 dwArg04, Eq_83 dwArg0C, Eq_83 dwArg10, Eq_83 dwArg14, real64 rArg0, Eq_161 & rArg0Out)
{
}

// 08052914: void ReadByte(Stack Eq_83 dwArg04)
void ReadByte(Eq_83 dwArg04)
{
}

// 08052945: Register ui32 Read16BitsLowHigh(Stack Eq_83 dwArg04)
ui32 Read16BitsLowHigh(Eq_83 dwArg04)
{
	ui32 eax_20 = ((_IO_getc(dwArg04) & 0xFF) << 0x08) + (_IO_getc(dwArg04) & 0xFF);
	ui32 dwLoc18_21 = eax_20;
	if ((eax_20 & 0x8000) != 0x00)
		dwLoc18_21 = eax_20 - 0x00010000;
	return dwLoc18_21;
}

// 08052995: Register ui32 Read16BitsHighLow(Stack Eq_83 dwArg04)
ui32 Read16BitsHighLow(Eq_83 dwArg04)
{
	ui32 eax_20 = ((_IO_getc(dwArg04) & 0xFF) << 0x08) + (_IO_getc(dwArg04) & 0xFF);
	ui32 dwLoc18_21 = eax_20;
	if ((eax_20 & 0x8000) != 0x00)
		dwLoc18_21 = eax_20 - 0x00010000;
	return dwLoc18_21;
}

// 080529E5: void Write8Bits(Stack Eq_83 dwArg04, Stack word32 dwArg08)
void Write8Bits(Eq_83 dwArg04, word32 dwArg08)
{
	_IO_putc((word32) (byte) dwArg08, dwArg04);
}

// 08052A02: void Write16BitsLowHigh(Stack Eq_83 dwArg04, Stack Eq_268 dwArg08)
void Write16BitsLowHigh(Eq_83 dwArg04, Eq_268 dwArg08)
{
	_IO_putc((word32) (byte) dwArg08, dwArg04);
	_IO_putc((word32) (byte) (dwArg08 >> 0x08), dwArg04);
}

// 08052A37: void Write16BitsHighLow(Stack Eq_83 dwArg04, Stack Eq_13756 dwArg08)
void Write16BitsHighLow(Eq_83 dwArg04, Eq_13756 dwArg08)
{
	_IO_putc((word32) (byte) (dwArg08 >> 0x08), dwArg04);
	_IO_putc((word32) (byte) dwArg08, dwArg04);
}

// 08052A6C: void Read24BitsHighLow(Stack Eq_83 dwArg04)
void Read24BitsHighLow(Eq_83 dwArg04)
{
}

// 08052ADA: Register ui32 Read32Bits(Stack Eq_83 dwArg04)
ui32 Read32Bits(Eq_83 dwArg04)
{
	return ((Read16BitsLowHigh(dwArg04) & 0xFFFF) << 0x10) + (Read16BitsLowHigh(dwArg04) & 0xFFFF);
}

// 08052B17: Register ui32 Read32BitsHighLow(Stack Eq_83 dwArg04)
ui32 Read32BitsHighLow(Eq_83 dwArg04)
{
	return ((Read16BitsHighLow(dwArg04) & 0xFFFF) << 0x10) + (Read16BitsHighLow(dwArg04) & 0xFFFF);
}

// 08052B54: void Write32Bits(Stack Eq_83 dwArg04, Stack uint32 dwArg08)
void Write32Bits(Eq_83 dwArg04, uint32 dwArg08)
{
	Write16BitsLowHigh(dwArg04, dwArg08 & 0xFFFF);
	Write16BitsLowHigh(dwArg04, dwArg08 >> 0x10);
}

// 08052B88: void Write32BitsLowHigh(Stack Eq_83 dwArg04, Stack Eq_429 dwArg08)
void Write32BitsLowHigh(Eq_83 dwArg04, Eq_429 dwArg08)
{
	Write16BitsLowHigh(dwArg04, dwArg08 & 0xFFFF);
	Write16BitsLowHigh(dwArg04, dwArg08 >> 0x10);
}

// 08052BBC: void Write32BitsHighLow(Stack Eq_83 dwArg04, Stack uint32 dwArg08)
void Write32BitsHighLow(Eq_83 dwArg04, uint32 dwArg08)
{
	Write16BitsHighLow(dwArg04, dwArg08 >> 0x10);
	Write16BitsHighLow(dwArg04, dwArg08 & 0xFFFF);
}

// 08052BF0: void ReadBytes(Stack Eq_83 dwArg04, Stack (ptr byte) dwArg08, Stack int32 dwArg0C)
void ReadBytes(Eq_83 dwArg04, byte * dwArg08, int32 dwArg0C)
{
	while (true)
	{
		int32 eax_17 = feof(dwArg04);
		dwArg0C = dwArg0C - 0x01;
		if ((byte) (DPB(eax_17, dwArg0C > 0x00, 0) & DPB(edx, eax_17 == 0x00, 0)) == 0x00)
			break;
		int32 eax_38 = _IO_getc(dwArg04);
		*dwArg08 = (byte) eax_38;
		edx = eax_38;
		dwArg08 = dwArg08 + 0x01;
	}
}

// 08052C31: void ReadBytesSwapped(Stack Eq_83 dwArg04, Stack (ptr byte) dwArg08, Stack int32 dwArg0C)
void ReadBytesSwapped(Eq_83 dwArg04, byte * dwArg08, int32 dwArg0C)
{
	byte * ebx_12 = dwArg08;
	while (true)
	{
		int32 eax_21 = feof(dwArg04);
		edx = DPB(edx, eax_21 == 0x00, 0);
		dwArg0C = dwArg0C - 0x01;
		if ((byte) (DPB(eax_21, dwArg0C > 0x00, 0) & edx) == 0x00)
			break;
		*ebx_12 = (byte) _IO_getc(dwArg04);
		ebx_12 = ebx_12 + 0x01;
	}
	byte * ebx_37 = ebx_12 - 0x01;
	while (dwArg08 < ebx_37)
	{
		int32 eax_58 = (int32) (byte) (word32) *dwArg08;
		*dwArg08 = (byte) (word32) *ebx_37;
		*ebx_37 = (byte) eax_58;
		dwArg08 = dwArg08 + 0x01;
		ebx_37 = ebx_37 - 0x01;
	}
}

// 08052C9E: void WriteBytes(Stack Eq_83 dwArg04, Stack (ptr byte) dwArg08, Stack int32 dwArg0C)
void WriteBytes(Eq_83 dwArg04, byte * dwArg08, int32 dwArg0C)
{
	while (true)
	{
		dwArg0C = dwArg0C - 0x01;
		if (dwArg0C > 0x00 == 0x00)
			break;
		_IO_putc((int32) (byte) (word32) *dwArg08, dwArg04);
		dwArg08 = dwArg08 + 0x01;
	}
}

// 08052CD3: void WriteBytesSwapped(Stack Eq_83 dwArg04, Stack word32 dwArg08, Stack int32 dwArg0C)
void WriteBytesSwapped(Eq_83 dwArg04, word32 dwArg08, int32 dwArg0C)
{
	byte * dwArg08_12 = dwArg08 + (dwArg0C - 0x01);
	while (true)
	{
		dwArg0C = dwArg0C - 0x01;
		if (dwArg0C > 0x00 == 0x00)
			break;
		_IO_putc((int32) (byte) (word32) *dwArg08_12, dwArg04);
		dwArg08_12 = dwArg08_12 - 0x01;
	}
}

// 08052D11: FpuStack real64 ConvertFromIeeeExtended(Stack (ptr Eq_13971) dwArg04, FpuStack real64 rArg0, FpuStack real64 rArg1, FpuStack out Eq_13974 rArg0Out)
real64 ConvertFromIeeeExtended(Eq_13971 * dwArg04, real64 rArg0, real64 rArg1, Eq_13974 & rArg0Out)
{
	real64 rLoc24_118;
	byte al_81 = (byte) (word32) dwArg04->b0009;
	ui32 edx_77 = (int32) (byte) (word32) dwArg04->b0006 << 0x18 | ((int32) ((byte) ((word32) dwArg04->b0007)) & 0xFF) << 0x10 | (int32) ((byte) ((word32) dwArg04->b0008)) << 0x08 & 0xFFFF;
	ui32 eax_22 = (int32) (byte) (word32) dwArg04->b0001 & 0xFF | ((int32) ((byte) ((word32) dwArg04->b0000)) & 0x7F) << 0x08;
	ui32 eax_53 = (int32) (byte) (word32) dwArg04->b0005 & 0xFF | (((int32) ((byte) ((word32) dwArg04->b0002)) << 0x18 | ((int32) ((byte) ((word32) dwArg04->b0003)) & 0xFF) << 0x10) | (int32) ((byte) ((word32) dwArg04->b0004)) << 0x08 & 0xFFFF);
	ui32 eax_84 = (int32) al_81 & 0xFF | edx_77;
	if (eax_22 == 0x00 && (eax_53 == 0x00 && eax_84 == 0x00))
		rLoc24_118 = 0.0;
	else if (eax_22 == 0x7FFF)
		rLoc24_118 = globals->r8059868;
	else
	{
		word32 esp_143;
		word32 ebp_144;
		byte SCZO_145;
		word32 eax_146;
		byte al_147;
		byte SZO_148;
		byte C_149;
		word32 edx_150;
		byte Z_151;
		real64 rLoc1_152;
		byte S_153;
		real64 rLoc2_154;
		real64 rArg0_155;
		real64 rArg1_156;
		!ldexp();
		word32 esp_170;
		word32 ebp_171;
		byte SCZO_172;
		word32 eax_173;
		byte al_174;
		byte SZO_175;
		byte C_176;
		word32 edx_177;
		byte Z_178;
		real64 rLoc1_179;
		byte S_180;
		real64 rLoc2_181;
		real64 rArg0_182;
		real64 rArg1_183;
		!ldexp();
		rLoc24_118 = rArg1_183 + rArg0_155;
	}
	real64 rLoc1_108;
	if ((byte) (word32) dwArg04->b0000 < 0x00)
		rLoc1_108 = -rLoc24_118;
	else
		rLoc1_108 = rLoc24_118;
	return rLoc1_108;
}

// 08052E8B: FpuStack real64 ReadIeeeExtendedHighLow(Register (ptr Eq_2959) gs, Stack Eq_83 dwArg04)
real64 ReadIeeeExtendedHighLow(Eq_2959 * gs, Eq_83 dwArg04)
{
	word32 eax_12 = gs->dw0014;
	ReadBytes(dwArg04, fp - 0x1A, 0x0A);
	real64 rArg0_26;
	real64 rLoc1_27 = ConvertFromIeeeExtended(fp - 0x1A, rArg0, rArg1, out rArg0_26);
	if ((eax_12 ^ gs->dw0014) == 0x00)
		return rLoc1_27;
	__stack_chk_fail();
}

// 08052EDC: void ts_calc_times(Stack (ptr Eq_14157) dwArg04, Stack int32 dwArg08, Stack int32 dwArg0C, Stack int32 dwArg10, Stack int32 dwArg14)
void ts_calc_times(Eq_14157 * dwArg04, int32 dwArg08, int32 dwArg0C, int32 dwArg10, int32 dwArg14)
{
	if (dwArg0C > 0x00 && dwArg04->t0008 > 0.0 != 0x00)
	{
		dwArg04->r0010 = dwArg04->t0008 * (real64) dwArg10 / (real64) dwArg0C;
		dwArg04->r0018 = (real64) (dwArg14 *s dwArg0C) / ((real64) dwArg08 * dwArg04->t0008);
	}
	else
	{
		dwArg04->r0010 = 0.0;
		dwArg04->r0018 = 0.0;
	}
}

// 08052F47: void ts_time_decompose(Stack word32 dwArg04, Stack word32 dwArg08)
void ts_time_decompose(word32 dwArg04, word32 dwArg08)
{
	if (false)
		console_printf(0x08059878);
	else if (true)
		console_printf(134584454);
	else
		console_printf(0x08059897);
}

// 0805303F: void timestatus(Stack Eq_83 dwArg04)
void timestatus(Eq_83 dwArg04)
{
	word32 esp_11;
	word32 ebp_12;
	byte SCZO_13;
	int32 eax_14;
	byte SO_15;
	byte Z_16;
	real64 rLoc1_17;
	real64 rLoc2_18;
	byte CZP_19;
	byte al_20;
	byte CZ_21;
	byte SZO_22;
	byte C_23;
	byte ah_24;
	word16 ax_25;
	word32 edx_26;
	real64 rLoc3_27;
	!lame_get_out_samplerate();
	word32 esp_31;
	word32 ebp_32;
	byte SCZO_33;
	int32 eax_34;
	byte SO_35;
	byte Z_36;
	real64 rLoc1_37;
	real64 rLoc2_38;
	byte CZP_39;
	byte al_40;
	byte CZ_41;
	byte SZO_42;
	byte C_43;
	byte ah_44;
	word16 ax_45;
	word32 edx_46;
	real64 rLoc3_47;
	!lame_get_frameNum();
	word32 esp_51;
	word32 ebp_52;
	byte SCZO_53;
	int32 eax_54;
	byte SO_55;
	byte Z_56;
	real64 rLoc1_57;
	real64 rLoc2_58;
	byte CZP_59;
	byte al_60;
	byte CZ_61;
	byte SZO_62;
	byte C_63;
	byte ah_64;
	word16 ax_65;
	word32 edx_66;
	real64 rLoc3_67;
	!lame_get_totalframes();
	int32 dwLoc1C_367 = eax_54;
	word32 esp_71;
	word32 ebp_72;
	byte SCZO_73;
	int32 eax_74;
	byte SO_75;
	byte Z_76;
	real64 rLoc1_77;
	real64 rLoc2_78;
	byte CZP_79;
	byte al_80;
	byte CZ_81;
	byte SZO_82;
	byte C_83;
	byte ah_84;
	word16 ax_85;
	word32 edx_86;
	real64 rLoc3_87;
	!lame_get_framesize();
	if (eax_54 < eax_34)
		dwLoc1C_367 = eax_34;
	if (eax_34 == 0x00)
	{
		real64 rLoc1_357;
		word32 eax_358 = GetRealTime(out rLoc1_357);
		globals->r805B420 = rLoc1_357;
		globals->r805B440 = GetCPUTime(eax_358);
		globals->r805B428 = 0.0;
		globals->r805B448 = 0.0;
	}
	real64 rLoc1_96;
	word32 eax_97 = GetRealTime(out rLoc1_96);
	Eq_14296 rLoc1_103 = rLoc1_96 - globals->r805B420;
	bool al_110 = 0.0 > rLoc1_103;
	Eq_14296 rLoc34_104 = rLoc1_103;
	word32 eax_111 = DPB(eax_97, al_110, 0);
	word16 ax_112 = DPB(ax_85, al_110, 0);
	if (al_110 != 0x00)
		rLoc34_104.u0 = 0.0;
	globals->r805B428 = globals->r805B428 + rLoc34_104;
	globals->r805B420 = rLoc1_96;
	real64 rLoc1_122 = GetCPUTime(eax_111);
	Eq_14338 rLoc1_126 = rLoc1_122 - globals->r805B440;
	Eq_14338 rLoc34_127 = rLoc1_126;
	if (0.0 > rLoc1_126 != 0x00)
		rLoc34_127.u0 = 0.0;
	globals->r805B448 = globals->r805B448 + rLoc34_127;
	globals->r805B440 = rLoc1_122;
	if (eax_34 == 0x00 && globals->dw805B460 == 0x00)
	{
		console_printf(0x080598A0);
		globals->dw805B460 = 0x01;
	}
	else
	{
		if (eax_34 > 0x00)
			globals->dw805B460 = 0x00;
		int32 dwLoc10_200;
		ts_calc_times(&globals->r805B420, eax_14, eax_34, dwLoc1C_367, eax_74);
		ts_calc_times(&globals->r805B440, eax_14, eax_34, dwLoc1C_367, eax_74);
		if (eax_34 < dwLoc1C_367)
		{
			real64 rLoc1_326 = (real64) eax_34 * globals->r8059AE8 / (real64) dwLoc1C_367 + globals->r8059AF0;
			uint16 wLoc3E_327 = __fstcw();
			__fldcw(DPB(ax_112, 0x0C, 8));
			__fldcw(wLoc3E_327);
			dwLoc10_200 = (int32) rLoc1_326;
		}
		else
			dwLoc10_200 = 100;
		Eq_83 eax_216;
		word16 ax_215;
		console_printf(0x0805993B);
		if (dwLoc10_200 <= 99)
		{
			eax_216.u0 = 0x08059945;
			ax_215 = 0x9945;
		}
		else
		{
			eax_216.u0 = 0x0805994F;
			ax_215 = ~0x66B0;
		}
		Eq_83 eax_285;
		word16 ax_284;
		console_printf(eax_216);
		real64 rLoc1_221 = globals->r805B448;
		uint16 wLoc3E_222 = __fstcw();
		__fldcw(DPB(ax_215, 0x0C, 8));
		__fldcw(wLoc3E_222);
		ts_time_decompose((word32) (int64) rLoc1_221, 0x2F);
		real64 rLoc1_234 = globals->r805B450;
		uint16 wLoc3E_235 = __fstcw();
		__fldcw(DPB(ax_215, 0x0C, 8));
		__fldcw(wLoc3E_235);
		ts_time_decompose((word32) (int64) rLoc1_234, 0x7C);
		real64 rLoc1_247 = globals->r805B428;
		uint16 wLoc3E_248 = __fstcw();
		__fldcw(DPB(ax_215, 0x0C, 8));
		__fldcw(wLoc3E_248);
		ts_time_decompose((word32) (int64) rLoc1_247, 0x2F);
		real64 rLoc1_260 = globals->r805B430;
		uint16 wLoc3E_261 = __fstcw();
		__fldcw(DPB(ax_215, 0x0C, 8));
		__fldcw(wLoc3E_261);
		ts_time_decompose((word32) (int64) rLoc1_260, 0x7C);
		if (1.0 >= globals->t805B458 != 0x00)
		{
			eax_285.u0 = 0x0805995A;
			ax_284 = 0x995A;
		}
		else
		{
			eax_285.u0 = 0x08059962;
			ax_284 = 0x9962;
		}
		console_printf(eax_285);
		real64 rLoc1_291 = globals->r805B430 - globals->r805B428;
		uint16 wLoc3E_292 = __fstcw();
		__fldcw(DPB(ax_284, 0x0C, 8));
		__fldcw(wLoc3E_292);
		ts_time_decompose((word32) (int64) rLoc1_291, 0x20);
	}
}

// 08053376: void timestatus_finish()
void timestatus_finish()
{
	console_printf(0x0805996B);
}

// 0805338A: FpuStack real64 encoder_progress_begin(Stack Eq_83 dwArg04, Stack Eq_83 dwArg08, Stack Eq_83 dwArg0C, FpuStack real64 rArg0)
real64 encoder_progress_begin(Eq_83 dwArg04, Eq_83 dwArg08, Eq_83 dwArg0C, real64 rArg0)
{
	if (globals->dw805C54C > 0x09)
		return rArg0;
	word32 esp_97;
	word32 ebp_98;
	word32 edi_99;
	word32 esi_100;
	word32 ebx_101;
	byte SCZO_102;
	word32 eax_103;
	byte SZO_104;
	byte C_105;
	byte Z_106;
	byte CZ_107;
	real64 rLoc1_108;
	real64 rLoc2_109;
	real64 rArg0_110;
	byte ah_111;
	word16 ax_112;
	word32 edx_113;
	word32 ecx_114;
	byte SO_115;
	!lame_print_config();
	console_printf(0x08059988);
	word32 esp_152;
	word32 ebp_153;
	word32 edi_154;
	word32 esi_155;
	word32 ebx_156;
	byte SCZO_157;
	word32 eax_158;
	byte SZO_159;
	byte C_160;
	byte Z_161;
	byte CZ_162;
	real64 rLoc1_163;
	real64 rLoc2_164;
	real64 rArg0_165;
	byte ah_166;
	word16 ax_167;
	word32 edx_168;
	word32 ecx_169;
	byte SO_170;
	!lame_get_out_samplerate();
	console_printf(0x0805999D);
	word32 esp_182;
	word32 ebp_183;
	word32 edi_184;
	word32 esi_185;
	word32 ebx_186;
	byte SCZO_187;
	up32 eax_188;
	byte SZO_189;
	byte C_190;
	byte Z_191;
	byte CZ_192;
	real64 rLoc1_193;
	real64 rLoc2_194;
	real64 rArg0_195;
	byte ah_196;
	word16 ax_197;
	word32 edx_198;
	word32 ecx_199;
	byte SO_200;
	!lame_get_VBR();
	if (eax_188 == 0x02)
	{
		word32 esp_775;
		word32 ebp_776;
		word32 edi_777;
		word32 esi_778;
		word32 ebx_779;
		byte SCZO_780;
		word32 eax_781;
		byte SZO_782;
		byte C_783;
		byte Z_784;
		byte CZ_785;
		real64 rLoc1_786;
		real64 rLoc2_787;
		real64 rArg0_788;
		byte ah_789;
		word16 ax_790;
		word32 edx_791;
		word32 ecx_792;
		byte SO_793;
		!lame_get_quality();
		word32 esp_797;
		word32 ebp_798;
		word32 edi_799;
		word32 esi_800;
		word32 ebx_801;
		byte SCZO_802;
		word32 eax_803;
		byte SZO_804;
		byte C_805;
		byte Z_806;
		byte CZ_807;
		real64 rLoc1_808;
		real64 rLoc2_809;
		real64 rArg0_810;
		byte ah_811;
		word16 ax_812;
		word32 edx_813;
		word32 ecx_814;
		byte SO_815;
		!lame_get_VBR_quality();
		word32 esp_819;
		word32 ebp_820;
		word32 edi_821;
		word32 esi_822;
		word32 ebx_823;
		byte SCZO_824;
		int32 eax_825;
		byte SZO_826;
		byte C_827;
		byte Z_828;
		byte CZ_829;
		real64 rLoc1_830;
		real64 rLoc2_831;
		real64 rArg0_832;
		byte ah_833;
		word16 ax_834;
		word32 edx_835;
		word32 ecx_836;
		byte SO_837;
		!lame_get_out_samplerate();
		word32 esp_842;
		word32 ebp_843;
		word32 edi_844;
		word32 esi_845;
		word32 ebx_846;
		byte SCZO_847;
		word32 eax_848;
		byte SZO_849;
		byte C_850;
		byte Z_851;
		byte CZ_852;
		real64 rLoc1_853;
		real64 rLoc2_854;
		real64 rArg0_855;
		byte ah_856;
		word16 ax_857;
		word32 edx_858;
		word32 ecx_859;
		byte SO_860;
		!lame_get_version();
		word32 esp_868;
		word32 ebp_869;
		word32 edi_870;
		word32 esi_871;
		word32 ebx_872;
		byte SCZO_873;
		word32 eax_874;
		byte SZO_875;
		byte C_876;
		byte Z_877;
		byte CZ_878;
		real64 rLoc1_879;
		real64 rLoc2_880;
		real64 rArg0_881;
		byte ah_882;
		word16 ax_883;
		word32 edx_884;
		word32 ecx_885;
		byte SO_886;
		!lame_get_force_ms();
		word32 esp_890;
		word32 ebp_891;
		word32 edi_892;
		word32 esi_893;
		word32 ebx_894;
		byte SCZO_895;
		word32 eax_896;
		byte SZO_897;
		byte C_898;
		byte Z_899;
		byte CZ_900;
		real64 rLoc1_901;
		real64 rLoc2_902;
		real64 rArg0_903;
		byte ah_904;
		word16 ax_905;
		word32 edx_906;
		word32 ecx_907;
		byte SO_908;
		!lame_get_mode();
		console_printf(0x080599B4);
		rArg0 = rArg0_810;
		goto l080537A1;
	}
	if (eax_188 <= 0x02)
	{
		if (eax_188 != 0x01)
			goto l080536B6;
	}
	else
	{
		if (eax_188 == 0x03)
		{
			word32 esp_586;
			word32 ebp_587;
			word32 edi_588;
			word32 esi_589;
			word32 ebx_590;
			byte SCZO_591;
			word32 eax_592;
			byte SZO_593;
			byte C_594;
			byte Z_595;
			byte CZ_596;
			real64 rLoc1_597;
			real64 rLoc2_598;
			real64 rArg0_599;
			byte ah_600;
			word16 ax_601;
			word32 edx_602;
			word32 ecx_603;
			byte SO_604;
			!lame_get_quality();
			word32 esp_608;
			word32 ebp_609;
			word32 edi_610;
			word32 esi_611;
			word32 ebx_612;
			byte SCZO_613;
			word32 eax_614;
			byte SZO_615;
			byte C_616;
			byte Z_617;
			byte CZ_618;
			real64 rLoc1_619;
			real64 rLoc2_620;
			real64 rArg0_621;
			byte ah_622;
			word16 ax_623;
			word32 edx_624;
			word32 ecx_625;
			byte SO_626;
			!lame_get_VBR_mean_bitrate_kbps();
			word32 esp_630;
			word32 ebp_631;
			word32 edi_632;
			word32 esi_633;
			word32 ebx_634;
			byte SCZO_635;
			word32 eax_636;
			byte SZO_637;
			byte C_638;
			byte Z_639;
			byte CZ_640;
			real64 rLoc1_641;
			real64 rLoc2_642;
			real64 rArg0_643;
			byte ah_644;
			word16 ax_645;
			word32 edx_646;
			word32 ecx_647;
			byte SO_648;
			!lame_get_compression_ratio();
			real64 rArg0_652 = rArg0_643 * globals->r8059B00 + globals->r8059AF0;
			uint16 wLoc1E_653 = __fstcw();
			uint16 ax_656 = DPB(ax_645, 0x0C, 8);
			__fldcw(ax_656);
			__fldcw(wLoc1E_653);
			word32 esp_667;
			word32 ebp_668;
			word32 edi_669;
			word32 esi_670;
			word32 ebx_671;
			byte SCZO_672;
			int32 eax_673;
			byte SZO_674;
			byte C_675;
			byte Z_676;
			byte CZ_677;
			real64 rLoc1_678;
			real64 rLoc2_679;
			real64 rArg0_680;
			byte ah_681;
			word16 ax_682;
			word32 edx_683;
			word32 ecx_684;
			byte SO_685;
			!lame_get_out_samplerate();
			real64 rArg0_663 = (real64) (int32) rArg0_652 * globals->r8059B08;
			word32 esp_690;
			word32 ebp_691;
			word32 edi_692;
			word32 esi_693;
			word32 ebx_694;
			byte SCZO_695;
			word32 eax_696;
			byte SZO_697;
			byte C_698;
			byte Z_699;
			byte CZ_700;
			real64 rLoc1_701;
			real64 rLoc2_702;
			real64 rArg0_703;
			byte ah_704;
			word16 ax_705;
			word32 edx_706;
			word32 ecx_707;
			byte SO_708;
			!lame_get_version();
			word32 esp_716;
			word32 ebp_717;
			word32 edi_718;
			word32 esi_719;
			word32 ebx_720;
			byte SCZO_721;
			word32 eax_722;
			byte SZO_723;
			byte C_724;
			byte Z_725;
			byte CZ_726;
			real64 rLoc1_727;
			real64 rLoc2_728;
			real64 rArg0_729;
			byte ah_730;
			word16 ax_731;
			word32 edx_732;
			word32 ecx_733;
			byte SO_734;
			!lame_get_force_ms();
			word32 esp_738;
			word32 ebp_739;
			word32 edi_740;
			word32 esi_741;
			word32 ebx_742;
			byte SCZO_743;
			word32 eax_744;
			byte SZO_745;
			byte C_746;
			byte Z_747;
			byte CZ_748;
			real64 rLoc1_749;
			real64 rLoc2_750;
			real64 rArg0_751;
			byte ah_752;
			word16 ax_753;
			word32 edx_754;
			word32 ecx_755;
			byte SO_756;
			!lame_get_mode();
			console_printf(0x08059A04);
			rArg0 = rArg0_663;
l080537A1:
			if (globals->dw805C54C < ~0x08)
			{
				word32 esp_243;
				word32 ebp_244;
				word32 edi_245;
				word32 esi_246;
				word32 ebx_247;
				byte SCZO_248;
				word32 eax_249;
				byte SZO_250;
				byte C_251;
				byte Z_252;
				byte CZ_253;
				real64 rLoc1_254;
				real64 rLoc2_255;
				byte ah_257;
				word16 ax_258;
				word32 edx_259;
				word32 ecx_260;
				byte SO_261;
				!lame_print_internals();
			}
			return rArg0;
		}
		if (eax_188 != 0x04)
		{
l080536B6:
			word32 esp_266;
			word32 ebp_267;
			word32 edi_268;
			word32 esi_269;
			word32 ebx_270;
			byte SCZO_271;
			word32 eax_272;
			byte SZO_273;
			byte C_274;
			byte Z_275;
			byte CZ_276;
			real64 rLoc1_277;
			real64 rLoc2_278;
			real64 rArg0_279;
			byte ah_280;
			word16 ax_281;
			word32 edx_282;
			word32 ecx_283;
			byte SO_284;
			!lame_get_quality();
			word32 esp_288;
			word32 ebp_289;
			word32 edi_290;
			word32 esi_291;
			word32 ebx_292;
			byte SCZO_293;
			word32 eax_294;
			byte SZO_295;
			byte C_296;
			byte Z_297;
			byte CZ_298;
			real64 rLoc1_299;
			real64 rLoc2_300;
			real64 rArg0_301;
			byte ah_302;
			word16 ax_303;
			word32 edx_304;
			word32 ecx_305;
			byte SO_306;
			!lame_get_brate();
			word32 esp_310;
			word32 ebp_311;
			word32 edi_312;
			word32 esi_313;
			word32 ebx_314;
			byte SCZO_315;
			word32 eax_316;
			byte SZO_317;
			byte C_318;
			byte Z_319;
			byte CZ_320;
			real64 rLoc1_321;
			real64 rLoc2_322;
			real64 rArg0_323;
			byte ah_324;
			word16 ax_325;
			word32 edx_326;
			word32 ecx_327;
			byte SO_328;
			!lame_get_compression_ratio();
			real64 rArg0_332 = rArg0_323 * globals->r8059B00 + globals->r8059AF0;
			uint16 wLoc1E_333 = __fstcw();
			uint16 ax_336 = DPB(ax_325, 0x0C, 8);
			__fldcw(ax_336);
			__fldcw(wLoc1E_333);
			word32 esp_347;
			word32 ebp_348;
			word32 edi_349;
			word32 esi_350;
			word32 ebx_351;
			byte SCZO_352;
			int32 eax_353;
			byte SZO_354;
			byte C_355;
			byte Z_356;
			byte CZ_357;
			real64 rLoc1_358;
			real64 rLoc2_359;
			real64 rArg0_360;
			byte ah_361;
			word16 ax_362;
			word32 edx_363;
			word32 ecx_364;
			byte SO_365;
			!lame_get_out_samplerate();
			real64 rArg0_343 = (real64) (int32) rArg0_332 * globals->r8059B08;
			word32 esp_370;
			word32 ebp_371;
			word32 edi_372;
			word32 esi_373;
			word32 ebx_374;
			byte SCZO_375;
			word32 eax_376;
			byte SZO_377;
			byte C_378;
			byte Z_379;
			byte CZ_380;
			real64 rLoc1_381;
			real64 rLoc2_382;
			real64 rArg0_383;
			byte ah_384;
			word16 ax_385;
			word32 edx_386;
			word32 ecx_387;
			byte SO_388;
			!lame_get_version();
			word32 esp_396;
			word32 ebp_397;
			word32 edi_398;
			word32 esi_399;
			word32 ebx_400;
			byte SCZO_401;
			word32 eax_402;
			byte SZO_403;
			byte C_404;
			byte Z_405;
			byte CZ_406;
			real64 rLoc1_407;
			real64 rLoc2_408;
			real64 rArg0_409;
			byte ah_410;
			word16 ax_411;
			word32 edx_412;
			word32 ecx_413;
			byte SO_414;
			!lame_get_force_ms();
			word32 esp_418;
			word32 ebp_419;
			word32 edi_420;
			word32 esi_421;
			word32 ebx_422;
			byte SCZO_423;
			word32 eax_424;
			byte SZO_425;
			byte C_426;
			byte Z_427;
			byte CZ_428;
			real64 rLoc1_429;
			real64 rLoc2_430;
			real64 rArg0_431;
			byte ah_432;
			word16 ax_433;
			word32 edx_434;
			word32 ecx_435;
			byte SO_436;
			!lame_get_mode();
			console_printf(0x08059A3C);
			rArg0 = rArg0_343;
			goto l080537A1;
		}
	}
	word32 esp_455;
	word32 ebp_456;
	word32 edi_457;
	word32 esi_458;
	word32 ebx_459;
	byte SCZO_460;
	word32 eax_461;
	byte SZO_462;
	byte C_463;
	byte Z_464;
	byte CZ_465;
	real64 rLoc1_466;
	real64 rLoc2_467;
	real64 rArg0_468;
	byte ah_469;
	word16 ax_470;
	word32 edx_471;
	word32 ecx_472;
	byte SO_473;
	!lame_get_VBR_quality();
	word32 esp_477;
	word32 ebp_478;
	word32 edi_479;
	word32 esi_480;
	word32 ebx_481;
	byte SCZO_482;
	int32 eax_483;
	byte SZO_484;
	byte C_485;
	byte Z_486;
	byte CZ_487;
	real64 rLoc1_488;
	real64 rLoc2_489;
	real64 rArg0_490;
	byte ah_491;
	word16 ax_492;
	word32 edx_493;
	word32 ecx_494;
	byte SO_495;
	!lame_get_out_samplerate();
	word32 esp_500;
	word32 ebp_501;
	word32 edi_502;
	word32 esi_503;
	word32 ebx_504;
	byte SCZO_505;
	word32 eax_506;
	byte SZO_507;
	byte C_508;
	byte Z_509;
	byte CZ_510;
	real64 rLoc1_511;
	real64 rLoc2_512;
	real64 rArg0_513;
	byte ah_514;
	word16 ax_515;
	word32 edx_516;
	word32 ecx_517;
	byte SO_518;
	!lame_get_version();
	word32 esp_525;
	word32 ebp_526;
	word32 edi_527;
	word32 esi_528;
	word32 ebx_529;
	byte SCZO_530;
	word32 eax_531;
	byte SZO_532;
	byte C_533;
	byte Z_534;
	byte CZ_535;
	real64 rLoc1_536;
	real64 rLoc2_537;
	real64 rArg0_538;
	byte ah_539;
	word16 ax_540;
	word32 edx_541;
	word32 ecx_542;
	byte SO_543;
	!lame_get_force_ms();
	word32 esp_547;
	word32 ebp_548;
	word32 edi_549;
	word32 esi_550;
	word32 ebx_551;
	byte SCZO_552;
	word32 eax_553;
	byte SZO_554;
	byte C_555;
	byte Z_556;
	byte CZ_557;
	real64 rLoc1_558;
	real64 rLoc2_559;
	real64 rArg0_560;
	byte ah_561;
	word16 ax_562;
	word32 edx_563;
	word32 ecx_564;
	byte SO_565;
	!lame_get_mode();
	console_printf(0x080599E0);
	rArg0 = rArg0_468;
	goto l080537A1;
}

// 080537BE: void encoder_progress(Register (ptr Eq_381) gs, Stack Eq_83 dwArg04)
void encoder_progress(Eq_381 * gs, Eq_83 dwArg04)
{
	if (globals->dw805C54C > 0x00)
		return;
	word32 esp_55;
	word32 ebp_56;
	word32 ebx_57;
	byte SCZO_58;
	int32 eax_59;
	byte SZO_60;
	byte C_61;
	real64 rLoc1_62;
	real64 rLoc2_63;
	byte CZP_64;
	byte al_65;
	byte Z_66;
	word32 ecx_67;
	word32 edx_68;
	byte CZ_69;
	struct Eq_381 * gs_70;
	!lame_get_frameNum();
	if (0.0 >= (real64) globals->r805C550 != 0x00)
	{
		if (eax_59 - (42949672 - (eax_59 >> 0x1F)) *s 100 != 0x00)
			return;
	}
	else
	{
		if (eax_59 != 0x00 && eax_59 != 0x09)
		{
			real64 rLoc1_141;
			GetRealTime(out rLoc1_141);
			Eq_15273 rLoc1_146 = rLoc1_141 - globals->r805B408;
			if (rLoc1_146 >= 0.0 != 0x00 && (real64) globals->r805C550 > rLoc1_146 != 0x00)
				return;
		}
		real64 rLoc1_136;
		GetRealTime(out rLoc1_136);
		globals->r805B408 = rLoc1_136;
	}
	if (globals->dw805C55C != 0x00)
		brhist_jump_back();
	timestatus(dwArg04);
	if (globals->dw805C55C != 0x00)
		brhist_disp(gs_70, dwArg04);
	console_flush();
}

// 080538AF: void encoder_progress_end(Register (ptr Eq_381) gs, Stack Eq_83 dwArg04)
void encoder_progress_end(Eq_381 * gs, Eq_83 dwArg04)
{
	if (globals->dw805C54C <= 0x00)
	{
		if (globals->dw805C55C != 0x00)
			brhist_jump_back();
		timestatus(dwArg04);
		if (globals->dw805C55C != 0x00)
			brhist_disp(gs, dwArg04);
		timestatus_finish();
	}
}

// 080538F2: void decoder_progress(Stack (ptr Eq_502) dwArg04)
void decoder_progress(Eq_502 * dwArg04)
{
	console_printf(134584939);
	if (dwArg04->dw0010 == 0x01)
	{
		ui32 eax_39 = dwArg04->dw0014;
		console_printf(0x08059A93);
		globals->dw805B400 = eax_39;
	}
	else
	{
		console_printf(0x08059A9C);
		globals->dw805B400 = 0x00;
	}
	console_printf(0x08059AA6);
}

// 080539F8: void decoder_progress_finish()
void decoder_progress_finish()
{
	console_printf(0x0805996B);
}

// 08053A0C: Register int32 calculate_index(Stack (arr word32) dwArg04, Stack int32 dwArg08, Stack word32 dwArg0C)
int32 calculate_index(word32 dwArg04[], int32 dwArg08, word32 dwArg0C)
{
}

// 08053A43: Register word32 brhist_init(Stack Eq_83 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
word32 brhist_init(Eq_83 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	word32 eax_40;
	globals->dw805B4C0 = 0x00;
	word32 esp_13;
	word32 ebp_14;
	byte SCZO_15;
	word32 eax_16;
	byte SZO_17;
	!lame_bitrate_kbps();
	globals->dw805B480 = calculate_index(globals->a805B488, 0x0E, dwArg08);
	globals->dw805B484 = calculate_index(globals->a805B488, 0x0E, dwArg0C);
	if (globals->dw805B480 <= 0x0D && globals->dw805B484 <= 0x0D)
	{
		memset(&globals->t805B4C4, 0x2A, 0x0200);
		memset(&globals->t805B6C5, 0x25, 0x0200);
		memset(&globals->t805BAC7, 0x2D, 0x0200);
		memset(&globals->t805B8C6, 0x2D, 0x0200);
		eax_40 = 0x00;
	}
	else
	{
		error_printf(0x08059B10);
		eax_40 = ~0x00;
	}
	return eax_40;
}

// 08053B52: Register word32 digits(Stack Eq_15452 dwArg04)
word32 digits(Eq_15452 dwArg04)
{
	word32 dwLoc08_18 = 0x01;
	if (dwArg04 > 99999999)
	{
		dwLoc08_18 = 0x09;
		dwArg04.u0 = 0x2A;
	}
	if (true)
	{
		dwLoc08_18 = dwLoc08_18 + 0x04;
		dwArg04.u0 = 429496;
	}
	if (dwArg04 > 99)
	{
		dwLoc08_18 = dwLoc08_18 + 0x02;
		dwArg04.u0 = 42949672;
	}
	if (dwArg04 > 0x09)
		dwLoc08_18 = dwLoc08_18 + 0x01;
	return dwLoc08_18;
}

// 08053BDA: void brhist_disp_line(Register (ptr Eq_15472) gs, Stack int32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack int32 dwArg10, Stack Eq_15452 dwArg14)
void brhist_disp_line(Eq_15472 * gs, int32 dwArg04, word32 dwArg08, word32 dwArg0C, int32 dwArg10, Eq_15452 dwArg14)
{
	word32 eax_9 = gs->dw0014;
	digits(dwArg14);
	digits(dwArg14);
	sprintf(fp - 0x1E, " [%*i]", tLoc70);
	if ((byte) (word32) globals->b805BD06 != 0x00)
		console_printf(134585181);
	else
		console_printf(0x08059B70);
	globals->dw805B4C0 = globals->dw805B4C0 + 0x01;
	if ((eax_9 ^ gs->dw0014) == 0x00)
		return;
	__stack_chk_fail();
}

// 08053D7C: void progress_line(Register (ptr Eq_15526) gs, Stack Eq_83 dwArg04, Stack Eq_15452 dwArg08, Stack Eq_15452 dwArg0C)
void progress_line(Eq_15526 * gs, Eq_83 dwArg04, Eq_15452 dwArg08, Eq_15452 dwArg0C)
{
	real32 dwLoc38_30 = 0.0F;
	word32 esp_33;
	word32 ebp_34;
	byte SCZO_35;
	word32 eax_36;
	struct Eq_15536 * gs_37;
	byte SZO_38;
	byte C_39;
	word16 ax_40;
	byte SO_41;
	word32 edx_42;
	word32 ecx_43;
	real64 rLoc1_44;
	real64 rLoc2_45;
	byte ah_46;
	byte Z_47;
	byte al_48;
	!lame_get_framesize();
	word32 esp_52;
	word32 ebp_53;
	byte SCZO_54;
	int32 eax_55;
	struct Eq_15553 * gs_56;
	byte SZO_57;
	byte C_58;
	word16 ax_59;
	byte SO_60;
	word32 edx_61;
	word32 ecx_62;
	real64 rLoc1_63;
	real64 rLoc2_64;
	byte ah_65;
	byte Z_66;
	byte al_67;
	!lame_get_out_samplerate();
	word32 eax_12 = gs->dw0014;
	if (dwArg08 < dwArg0C)
		dwArg08 = dwArg0C;
	if (eax_55 > 0x00)
		dwLoc38_30 = (real32) ((real64) (real32) ((real64) eax_36 * (real64) ((real32) ((real64) (dwArg08 - dwArg0C)))) / (real64) eax_55);
	real64 rLoc1_83 = (real64) dwLoc38_30 / (real64) globals->r8059C48;
	uint16 wLoc52_84 = __fstcw();
	uint16 ax_87 = DPB(ax_59, 0x0C, 8);
	__fldcw(ax_87);
	__fldcw(wLoc52_84);
	__fldcw(ax_87);
	__fldcw(wLoc52_84);
	__fldcw(ax_87);
	__fldcw(wLoc52_84);
	Eq_15452 dwLoc5C_90 = (word32) (int64) rLoc1_83;
	if (dwArg08 != 0x00)
	{
		int32 dwLoc34_205;
		if (dwLoc5C_90 != 0x00)
		{
			digits(dwLoc5C_90);
			sprintf(fp - 0x24, "%*d:%02u:%02u", tLoc90);
			dwLoc34_205 = digits(dwLoc5C_90) + 0x07;
		}
		else
		{
			sprintf(fp - 0x24, "%02u:%02u", tLoc90);
			dwLoc34_205 = 0x06;
		}
		Eq_15634 eax_215 = (globals->dw805BCF4 - dwLoc34_205 + 0x01) *s dwArg08;
		Eq_15641 eax_227 = (word32) dwArg08.u0 + (globals->dw805BCF4 - dwLoc34_205) *s dwArg0C;
		if ((int32) (SEQ(eax_215 - 0x01 >> 0x1F, eax_215 - 0x01) / dwArg08) - (int32) (SEQ(eax_227 - 0x01 >> 0x1F, eax_227 - 0x01) / dwArg08) == 0x00)
			sprintf(fp - 0x24, "%.*s", tLoc90);
	}
	if ((byte) (word32) globals->b805BD06 != 0x00)
		console_printf(0x08059BA0);
	else
		console_printf(0x08059BAE);
	globals->dw805B4C0 = globals->dw805B4C0 + 0x01;
	if ((eax_12 ^ gs_56->dw0014) == 0x00)
		return;
	__stack_chk_fail();
}

// 0805409D: Register word32 stats_value(Stack word32 dwArg04, Stack word32 dwArg08)
word32 stats_value(word32 dwArg04, word32 dwArg08)
{
	word32 eax_30;
	if (DPB(rLoc14, dwArg08, 32) > 0.0 != 0x00)
	{
		console_printf(0x08059BD1);
		eax_30 = 0x06;
	}
	else
		eax_30 = 0x00;
	return eax_30;
}

// 080540E2: Register word32 stats_head(Stack word32 dwArg04, Stack word32 dwArg08, Stack Eq_83 dwArg0C)
word32 stats_head(word32 dwArg04, word32 dwArg08, Eq_83 dwArg0C)
{
	word32 eax_28;
	if (DPB(rLoc14, dwArg08, 32) > 0.0 != 0x00)
	{
		console_printf(dwArg0C);
		eax_28 = 0x06;
	}
	else
		eax_28 = 0x00;
	return eax_28;
}

// 0805411F: void stats_line(Stack (ptr Eq_15726) dwArg04)
void stats_line(Eq_15726 * dwArg04)
{
	console_printf(0x08059BD8);
	real64 rLoc1_18 = dwArg04->r0008;
	stats_head((word32) rLoc1_18, SLICE(rLoc1_18, word32, 32), 134585318);
	real64 rLoc1_29 = dwArg04->r0010;
	stats_head((word32) rLoc1_29, SLICE(rLoc1_29, word32, 32), 134585325);
	real64 rLoc1_40 = dwArg04->r0018;
	stats_head((word32) rLoc1_40, SLICE(rLoc1_40, word32, 32), 134585332);
	real64 rLoc1_51 = dwArg04->r0020;
	stats_head((word32) rLoc1_51, SLICE(rLoc1_51, word32, 32), 0x08059BFB);
	console_printf(0x08059C02);
	real64 rLoc1_67 = dwArg04->r0028;
	stats_head((word32) rLoc1_67, SLICE(rLoc1_67, word32, 32), 134585354);
	real64 rLoc1_78 = dwArg04->r0030;
	stats_head((word32) rLoc1_78, SLICE(rLoc1_78, word32, 32), 0x08059C11);
	real64 rLoc1_89 = dwArg04->r0038;
	stats_head((word32) rLoc1_89, SLICE(rLoc1_89, word32, 32), 0x08059C18);
	real64 rLoc1_100 = dwArg04->r0040;
	stats_head((word32) rLoc1_100, SLICE(rLoc1_100, word32, 32), 134585375);
	console_printf(134585382);
	if ((byte) (word32) globals->b805BD06 != 0x00)
		console_printf(134585386);
	else
		console_printf(134585389);
	globals->dw805B4C0 = globals->dw805B4C0 + 0x01;
	console_printf(134585393);
	real64 rLoc1_134 = dwArg04->r0008;
	stats_value((word32) rLoc1_134, SLICE(rLoc1_134, word32, 32));
	real64 rLoc1_144 = dwArg04->r0010;
	stats_value((word32) rLoc1_144, SLICE(rLoc1_144, word32, 32));
	real64 rLoc1_154 = dwArg04->r0018;
	stats_value((word32) rLoc1_154, SLICE(rLoc1_154, word32, 32));
	real64 rLoc1_164 = dwArg04->r0020;
	stats_value((word32) rLoc1_164, SLICE(rLoc1_164, word32, 32));
	console_printf(0x08059C3F);
	real64 rLoc1_179 = dwArg04->r0028;
	stats_value((word32) rLoc1_179, SLICE(rLoc1_179, word32, 32));
	real64 rLoc1_189 = dwArg04->r0030;
	stats_value((word32) rLoc1_189, SLICE(rLoc1_189, word32, 32));
	real64 rLoc1_199 = dwArg04->r0038;
	stats_value((word32) rLoc1_199, SLICE(rLoc1_199, word32, 32));
	real64 rLoc1_209 = dwArg04->r0040;
	stats_value((word32) rLoc1_209, SLICE(rLoc1_209, word32, 32));
	if ((byte) (word32) globals->b805BD06 != 0x00)
		console_printf(134585386);
	else
		console_printf(134585389);
	globals->dw805B4C0 = globals->dw805B4C0 + 0x01;
}

// 08054399: void brhist_disp(Register (ptr Eq_381) gs, Stack Eq_83 dwArg04)
void brhist_disp(Eq_381 * gs, Eq_83 dwArg04)
{
	int32 dwLoc14_114 = 0x00;
	word32 * edi_20 = fp - 212;
	word32 ecx_21 = 0x12;
	while (ecx_21 != 0x00)
	{
		*edi_20 = 0x00;
		edi_20 = edi_20 + 0x01;
		ecx_21 = ecx_21 - 0x01;
	}
	globals->dw805B4C0 = 0x00;
	int32 dwLoc20_145 = 0x00;
	word32 esp_34;
	word32 ebp_35;
	word32 edi_36;
	word32 ebx_37;
	byte SCZO_38;
	real64 rLoc1_39;
	word32 eax_40;
	word32 edx_41;
	word32 ecx_42;
	byte SZO_43;
	real64 rLoc2_44;
	byte C_45;
	byte Z_46;
	byte SO_47;
	struct Eq_15943 * gs_48;
	!lame_bitrate_stereo_mode_hist();
	word32 esp_53;
	word32 ebp_54;
	word32 edi_55;
	word32 ebx_56;
	byte SCZO_57;
	real64 rLoc1_58;
	word32 eax_59;
	word32 edx_60;
	word32 ecx_61;
	byte SZO_62;
	real64 rLoc2_63;
	byte C_64;
	byte Z_65;
	byte SO_66;
	struct Eq_15959 * gs_67;
	!lame_bitrate_hist();
	word32 esp_72;
	word32 ebp_73;
	word32 edi_74;
	word32 ebx_75;
	byte SCZO_76;
	real64 rLoc1_77;
	word32 eax_78;
	word32 edx_79;
	word32 ecx_80;
	byte SZO_81;
	real64 rLoc2_82;
	byte C_83;
	byte Z_84;
	byte SO_85;
	struct Eq_15975 * gs_86;
	!lame_stereo_mode_hist();
	word32 esp_91;
	word32 ebp_92;
	word32 edi_93;
	word32 ebx_94;
	byte SCZO_95;
	real64 rLoc1_96;
	word32 eax_97;
	word32 edx_98;
	word32 ecx_99;
	byte SZO_100;
	real64 rLoc2_101;
	byte C_102;
	byte Z_103;
	byte SO_104;
	struct Eq_15472 * gs_105;
	!lame_block_type_hist();
	int32 dwLoc1C_106 = 0x00;
	Eq_15452 dwLoc18_108 = 0x00;
	int32 dwLoc10_109 = 0x00;
	while (dwLoc10_109 <= 0x0D)
	{
		dwLoc18_108 = (word32) dwLoc18_108.u0 + (fp - 0x8C)[dwLoc10_109];
		if ((fp - 0x8C)[dwLoc10_109] > dwLoc1C_106)
			dwLoc1C_106 = (fp - 0x8C)[dwLoc10_109];
		if ((fp - 0x8C)[dwLoc10_109] != 0x00)
			dwLoc14_114 = dwLoc14_114 + 0x01;
		dwLoc10_109 = dwLoc10_109 + 0x01;
	}
	int32 dwLoc10_125 = 0x00;
	while (dwLoc10_125 <= 0x0D)
	{
		word32 eax_315;
		if ((fp - 0x8C)[dwLoc10_125] != 0x00 && dwLoc14_114 > 0x01)
			eax_315 = 0x01;
		else
			eax_315 = 0x00;
		if (eax_315 != 0x00 || globals->dw805B480 <= dwLoc10_125 && globals->dw805B484 >= dwLoc10_125)
			brhist_disp_line(gs_105, dwLoc10_125, (fp - 0x8C)[dwLoc10_125], *((dwLoc10_125 << 0x04) + (fp - 0x0C) - 424), dwLoc1C_106, dwLoc18_108);
		dwLoc10_125 = dwLoc10_125 + 0x01;
	}
	int32 dwLoc10_144 = 0x00;
	while (dwLoc10_144 <= 0x03)
	{
		dwLoc20_145 = dwLoc20_145 + (fp - 0x3C)[dwLoc10_144];
		dwLoc10_144 = dwLoc10_144 + 0x01;
	}
	word32 esp_188;
	word32 ebp_189;
	word32 edi_190;
	word32 ebx_191;
	byte SCZO_192;
	real64 rLoc1_193;
	Eq_15452 eax_194;
	word32 edx_195;
	word32 ecx_196;
	byte SZO_197;
	real64 rLoc2_198;
	byte C_199;
	byte Z_200;
	byte SO_201;
	struct Eq_15526 * gs_202;
	!lame_get_totalframes();
	progress_line(gs_202, dwArg04, eax_194, dwLoc18_108);
	stats_line(fp - 212);
}

// 080546F4: void brhist_jump_back()
void brhist_jump_back()
{
	console_up(globals->dw805B4C0);
	globals->dw805B4C0 = 0x00;
}

// 08054720: void __libc_csu_fini()
void __libc_csu_fini()
{
}

// 08054730: void __libc_csu_init(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void __libc_csu_init(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	struct Eq_16137 * ebx_16 = __i686.get_pc_thunk.bx(dwLoc14);
	_init();
	if (&ebx_16->ptr67C1 - &ebx_16->ptr67C1 >> 0x02 != 0x00)
	{
		do
		{
			word32 esp_60;
			word32 ebp_61;
			up32 edi_62;
			up32 esi_63;
			word32 ebx_64;
			byte SCZO_65;
			word32 eax_66;
			byte SZO_67;
			byte C_68;
			byte Z_69;
			ebx_16->ptr67C1();
		} while (esi_63 + 0x01 < edi_62);
	}
}

// 0805478A: Register word32 __i686.get_pc_thunk.bx(Stack word32 dwArg00)
word32 __i686.get_pc_thunk.bx(word32 dwArg00)
{
	return dwArg00;
}

// 08054790: Register word32 stat64(Stack Eq_83 dwArg04, Stack ptr32 dwArg08)
word32 stat64(Eq_83 dwArg04, ptr32 dwArg08)
{
	__i686.get_pc_thunk.bx(dwLoc18);
	word32 esp_22;
	word32 ebp_23;
	word32 ebx_24;
	byte SCZO_25;
	word32 eax_26;
	!__xstat64();
	return eax_26;
}

// 080547D0: Register word32 fstat64(Stack int32 dwArg04, Stack ptr32 dwArg08)
word32 fstat64(int32 dwArg04, ptr32 dwArg08)
{
	__i686.get_pc_thunk.bx(dwLoc18);
	word32 esp_22;
	word32 ebp_23;
	word32 ebx_24;
	byte SCZO_25;
	word32 eax_26;
	!__fxstat64();
	return eax_26;
}

// 08054810: void __do_global_ctors_aux()
void __do_global_ctors_aux()
{
	<anonymous> * eax_11 = globals->ptr805AEFC;
	if (eax_11 != (<anonymous> *) ~0x00)
	{
		do
		{
			word32 esp_26;
			word32 ebp_27;
			word32 * ebx_28;
			byte SCZO_29;
			word32 eax_30;
			byte Z_31;
			eax_11();
		} while (*ebx_28 != ~0x00);
	}
}

// 0805483C: void _fini(Register word32 esi)
void _fini(word32 esi)
{
	__do_global_dtors_aux(esi);
}

