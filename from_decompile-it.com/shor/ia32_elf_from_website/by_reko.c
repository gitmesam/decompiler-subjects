// subject.c
// Generated by decompiling subject.exe
// using Reko decompiler version VERSION

#include "subject.h"

// 080487E4: void _init()
void _init()
{
	word32 edx_13 = globals->dw8055FFC;
	if (edx_13 != 0x00)
	{
		word32 esp_31;
		word32 ebp_32;
		word32 ebx_33;
		byte SCZO_34;
		word32 edx_35;
		byte SZO_36;
		byte C_37;
		byte Z_38;
		word32 eax_39;
		!__gmon_start__();
	}
	frame_dummy();
	__do_global_ctors_aux();
}

// 08048A30: void _start(Register (ptr Eq_25) edx, Stack int32 dwArg00)
void _start( * edx, int32 dwArg00)
{
	__align((char *) fp + 0x04);
	__libc_start_main(&globals->t8052614, dwArg00, (char *) fp + 0x04, &globals->t8054180, &globals->t8054170, edx, fp);
	__hlt();
}

// 08048A60: void __do_global_dtors_aux(Register word32 esi)
void __do_global_dtors_aux(word32 esi)
{
	if (globals->b80560C4 != 0x00)
		return;
	up32 edx_25 = globals->dw80560C8;
	if (edx_25 >= 0x00)
		globals->b80560C4 = 0x01;
	else
		globals->dw80560C8 = edx_25 + 0x01;
}

// 08048AC0: void frame_dummy()
void frame_dummy()
{
	if (globals->dw8055F10 != 0x00 && 0x00 != 0x00)
	{
		word32 esp_28;
		word32 ebp_29;
		byte SCZO_30;
		word32 eax_31;
		byte SZO_32;
		byte C_33;
		byte Z_34;
		null();
	}
}

// 08048AE4: Register int32 quantum_ipow(Stack Eq_84 dwArg04, Stack int32 dwArg08)
int32 quantum_ipow(Eq_84 dwArg04, int32 dwArg08)
{
	int32 dwLoc0C_10 = 0x01;
	int32 dwLoc08_11 = 0x00;
	while (dwLoc08_11 < dwArg08)
	{
		dwLoc0C_10 = dwLoc0C_10 *s dwArg04;
		dwLoc08_11 = dwLoc08_11 + 0x01;
	}
	return dwLoc0C_10;
}

// 08048B15: Register Eq_84 quantum_gcd(Stack Eq_84 dwArg04, Stack Eq_84 dwArg08)
Eq_84 quantum_gcd(Eq_84 dwArg04, Eq_84 dwArg08)
{
	while (dwArg08 != 0x00)
	{
		dwArg04 = dwArg08;
		dwArg08 = (int32) (SEQ(dwArg04 >> 0x1F, dwArg04) % dwArg08);
	}
	return dwArg04;
}

// 08048B42: void quantum_frac_approx(Stack (ptr int32) dwArg04, Stack (ptr int32) dwArg08, Stack Eq_106 dwArg0C)
void quantum_frac_approx(int32 * dwArg04, int32 * dwArg08, Eq_106 dwArg0C)
{
}

// 08048C63: Register word32 quantum_getwidth(Stack Eq_84 dwArg04)
word32 quantum_getwidth(Eq_84 dwArg04)
{
	word32 dwLoc08_22 = 0x01;
	while (0x01 << (byte) dwLoc08_22 < dwArg04)
		dwLoc08_22 = dwLoc08_22 + 0x01;
	return dwLoc08_22;
}

// 08048C8A: Register int32 quantum_inverse_mod(Stack Eq_84 dwArg04, Stack Eq_208 dwArg08)
int32 quantum_inverse_mod(Eq_84 dwArg04, Eq_208 dwArg08)
{
	int32 dwLoc08_30 = 0x01;
	while (true)
	{
		Eq_211 edx_13 = dwLoc08_30 *s dwArg08;
		if ((int32) (SEQ(edx_13 >> 0x1F, edx_13) % dwArg04) == 0x01)
			break;
		dwLoc08_30 = dwLoc08_30 + 0x01;
	}
	return dwLoc08_30;
}

// 08048CBC: void quantum_conj(Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_conj(Eq_106 dwArg04, Eq_106 dwArg08)
{
	quantum_real(dwArg04);
	__mulsc3((real32) quantum_imag(dwArg08), 0x00, 0x80000000, 0xBF800000);
}

// 08048D63: FpuStack real64 quantum_real(Stack Eq_106 dwArg04)
real64 quantum_real(Eq_106 dwArg04)
{
	return (real64) dwArg04;
}

// 08048D7C: FpuStack real64 quantum_imag(Stack Eq_106 dwArg08)
real64 quantum_imag(Eq_106 dwArg08)
{
	return (real64) dwArg08;
}

// 08048D98: FpuStack real64 quantum_prob(Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
real64 quantum_prob(Eq_106 dwArg04, Eq_106 dwArg08)
{
	return (real64) (real32) quantum_prob_inline(dwArg04, dwArg08);
}

// 08048DBE: FpuStack real64 quantum_prob_inline(Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
real64 quantum_prob_inline(Eq_106 dwArg04, Eq_106 dwArg08)
{
	Eq_258 rLoc08_15 = (real32) quantum_real(dwArg04);
	Eq_262 rLoc0C_21 = (real32) quantum_imag(dwArg08);
	return (real64) rLoc08_15 * rLoc08_15 + (real64) rLoc0C_21 * rLoc0C_21;
}

// 08048DFE: void quantum_cexp(Stack Eq_106 rArg04, FpuStack real64 rArg0, FpuStack real64 rArg1)
void quantum_cexp(Eq_106 rArg04, real64 rArg0, real64 rArg1)
{
	word32 esp_14;
	word32 ebp_15;
	word32 ebx_16;
	byte SCZO_17;
	real64 rLoc1_18;
	real64 rArg0_19;
	word32 eax_20;
	real64 rArg1_21;
	real64 rLoc2_22;
	word32 edx_23;
	word32 ecx_24;
	!cos();
	word32 esp_30;
	word32 ebp_31;
	word32 ebx_32;
	byte SCZO_33;
	real64 rLoc1_34;
	real64 rArg0_35;
	word32 eax_36;
	real64 rArg1_37;
	real64 rLoc2_38;
	word32 edx_39;
	word32 ecx_40;
	!sin();
	__muldc3(fp - 0x1C, rArg1_37, 0.0, 0.0, 1.0);
}

// 08048E84: FpuStack real64 quantum_get_decoherence()
real64 quantum_get_decoherence()
{
	return (real64) globals->r80560D0;
}

// 08048E97: void quantum_set_decoherence(Stack real32 rArg04)
void quantum_set_decoherence(real32 rArg04)
{
	Eq_317 rLoc1_7 = (real64) rArg04;
	Eq_317 v6_9 = 0.0;
	if (!P && rLoc1_7 == v6_9)
		globals->dw80560CC = 0x00;
	else
	{
		globals->dw80560CC = 0x01;
		globals->r80560D0 = rArg04;
	}
}

// 08048ECA: FpuStack real64 quantum_decohere(Stack Eq_106 dwArg04, FpuStack real64 rArg0)
real64 quantum_decohere(Eq_106 dwArg04, real64 rArg0)
{
	quantum_gate_counter(0x01);
	if (globals->dw80560CC == 0x00)
		return rArg0;
	Eq_106 eax_72 = calloc(*dwArg04, 0x04);
	if (eax_72 == 0x00)
		quantum_error(0x02);
	quantum_memman(*dwArg04 << 0x02);
	Eq_106 eax_83 = *dwArg04;
	if (eax_83 > 0x00)
	{
		do
		{
			Eq_374 rLoc18_231 = (real32) (quantum_frand(eax_83) + rLoc2 - 1.0);
			Eq_384 rLoc1C_237 = (real32) (quantum_frand(eax_83) + 1.0 - 1.0);
			real32 rLoc20_243 = (real32) ((real64) rLoc18_231 * rLoc18_231 + (real64) rLoc1C_237 * rLoc1C_237);
			Eq_379 rLoc1_244 = (real64) rLoc20_243;
			rLoc2 = rLoc1_244;
		} while (rLoc1_244 >= 1.0);
		word32 esp_256;
		word32 ebp_257;
		word32 edi_258;
		word32 esi_259;
		word32 ebx_260;
		byte SCZO_261;
		word32 eax_262;
		byte SZO_263;
		byte C_264;
		byte Z_265;
		real64 rLoc2_266;
		real64 rLoc1_267;
		byte FPUF_268;
		real64 rArg0_269;
		word32 edx_270;
		word32 ecx_271;
		byte cl_272;
		byte al_273;
		real64 rArg1_274;
		!log();
		sqrt(rArg0_269 * globals->r8054280 / (real64) rLoc20_243);
	}
	else
	{
		while (Mem0[dwArg04 + 0x04:word32] > 0x00)
		{
			Eq_106 dwLoc2C_121 = 0x00;
			Eq_106 dwLoc34_122 = 0x00;
			while (*dwArg04 > dwLoc34_122)
			{
				word32 edx_176 = Mem0[dwArg04 + 0x0C:word32];
				Eq_106 edx_180 = *((word32) edx_176 + 0x0C);
				byte cl_183 = (byte) dwLoc34_122;
				uint32 eax_184 = __shrd(*((word32) edx_176 + 0x08), edx_180, cl_183);
				uint32 edx_186 = edx_180 >> cl_183;
				if ((cl_183 & 0x20) != 0x00)
					eax_184 = edx_186;
				if ((byte) (eax_184 & 0x01) != 0x00)
					dwLoc2C_121 = (real32) ((real64) eax_72[dwLoc34_122 * 0x04] + (real64) dwLoc2C_121);
				else
					dwLoc2C_121 = (real32) ((real64) dwLoc2C_121 - (real64) eax_72[dwLoc34_122 * 0x04]);
				dwLoc34_122 = dwLoc34_122 + 0x01;
			}
			word32 edx_143 = Mem0[dwArg04 + 0x0C:word32];
			word32 edx_138 = Mem0[dwArg04 + 0x0C:word32];
			Eq_106 esi_148 = *edx_143;
			Eq_106 rLoc3C_150 = *((word32) edx_143 + 0x04);
			quantum_cexp(dwLoc2C_121, rArg0, rArg1);
			__mulsc3(esi_148, rLoc3C_150, dwLoc2C_121, edx_143);
			*edx_138 = edx_143;
			*((word32) edx_138 + 0x04) = dwLoc2C_121;
		}
		free(eax_72);
		quantum_memman(-(*dwArg04 << 0x02));
		return rArg0;
	}
}

// 0804911C: void quantum_new_density_op(Stack (ptr Eq_532) dwArg04, Stack Eq_106 dwArg08, Stack (arr Eq_106) dwArg0C, Stack (ptr Eq_535) dwArg10)
void quantum_new_density_op(Eq_532 * dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C[], Eq_535 * dwArg10)
{
	Eq_106 eax_13 = calloc(dwArg08, 0x04);
	if (eax_13 == 0x00)
		quantum_error(0x02);
	Eq_106 eax_22 = calloc(dwArg08, 0x14);
	if (eax_22 == 0x00)
		quantum_error(0x02);
	quantum_memman(dwArg08 * 0x18);
	*eax_13 = dwArg0C[0x00];
	Eq_106 eax_43 = dwArg10->t0010;
	Eq_106 eax_46 = dwArg10->t0008;
	*eax_22 = dwArg10->a0000[0x00];
	Mem53[eax_22 + 0x04:word32] = Mem51[dwArg10 + 0x04:word32];
	Mem55[eax_22 + 0x08:word32] = Mem53[dwArg10 + 0x08:word32];
	Mem57[eax_22 + 0x0C:word32] = Mem55[dwArg10 + 0x0C:word32];
	Mem59[eax_22 + 0x10:word32] = Mem57[dwArg10 + 0x10:word32];
	dwArg10->t0004.u0 = 0x00;
	dwArg10->a0000[0x00].u0 = 0x00;
	dwArg10->t000C.u0 = 0x00;
	dwArg10->t0010.u0 = 0x00;
	Eq_106 dwLoc08_169 = 0x01;
	while (dwLoc08_169 < dwArg08)
	{
		eax_13[dwLoc08_169 * 0x04] = dwArg0C[dwLoc08_169 * 0x04];
		struct Eq_627 * edx_111 = dwArg10 + (dwLoc08_169 * 0x14) / 0x0024;
		word32 ecx_104 = eax_22 + dwLoc08_169 * 0x14;
		ecx_104->dw0000 = edx_111->dw0000;
		ecx_104->dw0004 = edx_111->dw0004;
		ecx_104->dw0008 = edx_111->dw0008;
		ecx_104->dw000C = edx_111->dw000C;
		ecx_104->dw0010 = edx_111->dw0010;
		Mem130[eax_22 + dwLoc08_169 * 0x14 + 0x10:word32] = eax_43;
		Mem139[eax_22 + dwLoc08_169 * 0x14 + 0x08:word32] = eax_46;
		(dwArg10 + (dwLoc08_169 * 0x14) / 0x0024)->t0004 = 0x00;
		dwArg10[dwLoc08_169 * 0x14 / 0x0024] = (struct Eq_535) 0x00;
		(dwArg10 + (dwLoc08_169 * 0x14) / 0x0024)->t000C = 0x00;
		(dwArg10 + (dwLoc08_169 * 0x14) / 0x0024)->t0010 = 0x00;
		dwLoc08_169 = dwLoc08_169 + 0x01;
	}
	dwArg04->t0000 = dwArg08;
	dwArg04->t0004 = eax_13;
	dwArg04->t0008 = eax_22;
}

// 08049315: void quantum_qureg2density_op(Stack (ptr Eq_532) dwArg04, Stack (ptr Eq_535) dwArg08)
void quantum_qureg2density_op(Eq_532 * dwArg04, Eq_535 * dwArg08)
{
	quantum_new_density_op(dwArg04, 0x01, fp - 0x0C, dwArg08);
}

// 08049351: void quantum_reduced_density_op(Stack Eq_106 dwArg04, Stack (ptr Eq_723) dwArg08)
void quantum_reduced_density_op(Eq_106 dwArg04, Eq_723 * dwArg08)
{
	dwArg08->t0004 = realloc(dwArg08->t0004, dwArg08->dw0000 << 0x03);
	if (dwArg08->t0004 == 0x00)
		quantum_error(0x02);
	dwArg08->t0008 = realloc(dwArg08->t0008, dwArg08->dw0000 * 0x28);
	if (dwArg08->t0008 == 0x00)
		quantum_error(0x02);
	quantum_memman(dwArg08->dw0000 * 0x18);
	byte cl_62 = (byte) dwArg04;
	int32 edx_343 = __shld(0x00, 0x01, cl_62);
	int32 eax_344 = 0x01 << cl_62;
	if ((cl_62 & 0x20) != 0x00)
	{
		edx_343 = eax_344;
		eax_344 = 0x00;
	}
	int32 dwLoc10_114 = 0x00;
	while (dwArg08->dw0000 > dwLoc10_114)
	{
		word32 edx_146 = Mem45[dwArg08 + 0x08:word32] + dwLoc10_114 * 0x14;
		real64 rLoc1_136 = (real64) Mem45[dwArg08 + 0x04:word32][dwLoc10_114 * 0x04];
		Eq_106 eax_147 = edx_146->t0000;
		Eq_106 eax_149 = edx_146->t0004;
		Eq_106 eax_151 = edx_146->t0008;
		Eq_106 eax_153 = edx_146->t000C;
		Eq_106 eax_155 = edx_146->t0010;
		real64 rLoc1C_158 = 0.0;
		int32 dwLoc14_159 = 0x00;
		while (Mem45[Mem45[dwArg08 + 0x08:word32] + dwLoc10_114 * 0x14 + 0x04:word32] > dwLoc14_159)
		{
			word32 eax_300 = Mem45[Mem45[dwArg08 + 0x08:word32] + dwLoc10_114 * 0x14 + 0x0C:word32] + (dwLoc14_159 << 0x04);
			if ((eax_300->dw0008 & eax_344 | eax_300->dw000C & edx_343) == 0x00)
			{
				word32 edx_333 = Mem45[Mem45[dwArg08 + 0x08:word32] + dwLoc10_114 * 0x14 + 0x0C:word32] + (dwLoc14_159 << 0x04);
				rLoc1C_158 = quantum_prob_inline(edx_333->dw0000, edx_333->dw0004) + rLoc1C_158;
			}
			dwLoc14_159 = dwLoc14_159 + 0x01;
		}
		Mem45[dwArg08 + 0x04:word32][dwLoc10_114 * 0x04] = (real32) (rLoc1_136 * rLoc1C_158);
		Mem189[dwArg08 + 0x04:word32][(Mem189[dwArg08 + 0x00:word32] + dwLoc10_114) * 0x04] = (real32) ((1.0 - rLoc1C_158) * rLoc1_136);
		word32 ebx_211 = Mem202[dwArg08 + 0x08:word32] + dwLoc10_114 * 0x14;
		quantum_state_collapse(fp - 0x7C, dwArg04, 0x00, eax_147, eax_149, eax_151, eax_153, eax_155);
		ebx_211->dw0000 = dwLoc7C;
		ebx_211->dw0004 = dwLoc78;
		ebx_211->dw0008 = dwLoc74;
		ebx_211->dw000C = dwLoc70;
		ebx_211->dw0010 = dwLoc6C;
		word32 ebx_255 = Mem243[dwArg08 + 0x08:word32] + (Mem243[dwArg08 + 0x00:word32] + dwLoc10_114) * 0x14;
		quantum_state_collapse(fp - 0x7C, dwArg04, 0x01, eax_147, eax_149, eax_151, eax_153, eax_155);
		ebx_255->dw0000 = dwLoc7C;
		ebx_255->dw0004 = dwLoc78;
		ebx_255->dw0008 = dwLoc74;
		ebx_255->dw000C = dwLoc70;
		ebx_255->dw0010 = dwLoc6C;
		quantum_delete_qureg_hashpreserve(fp - 0x40);
		dwLoc10_114 = dwLoc10_114 + 0x01;
	}
	dwArg08->dw0000 = dwArg08->dw0000 * 0x02;
}

// 0804966A: FpuStack real64 quantum_prob_inline(Stack word32 dwArg04, Stack word32 dwArg08)
real64 quantum_prob_inline(word32 dwArg04, word32 dwArg08)
{
	Eq_1013 rLoc08_15 = (real32) quantum_real(dwArg04);
	Eq_1019 rLoc0C_21 = (real32) quantum_imag(dwArg08);
	return (real64) rLoc08_15 * rLoc08_15 + (real64) rLoc0C_21 * rLoc0C_21;
}

// 080496AA: FpuStack real64 quantum_real(Stack word32 dwArg04)
real64 quantum_real(word32 dwArg04)
{
	return (real64) dwArg04;
}

// 080496C3: FpuStack real64 quantum_imag(Stack word32 dwArg08)
real64 quantum_imag(word32 dwArg08)
{
	return (real64) dwArg08;
}

// 080496DF: void quantum_density_matrix(Stack (ptr Eq_1034) dwArg04, Stack (ptr Eq_1035) dwArg08)
void quantum_density_matrix(Eq_1034 * dwArg04, Eq_1035 * dwArg08)
{
	int32 eax_23 = 0x01 << (byte) (*dwArg08->ptr0008);
	if (eax_23 < 0x00)
		quantum_error(0x03);
	quantum_new_matrix(fp - 0x34, eax_23, eax_23);
	int32 dwLoc1C_148 = 0x00;
	while (dwArg08->dw0000 > dwLoc1C_148)
	{
		quantum_reconstruct_hash(dwArg08->ptr0008 + dwLoc1C_148 * 0x14);
		int32 dwLoc14_118 = 0x00;
		while (dwLoc14_118 < eax_23)
		{
			int32 dwLoc18_150 = 0x00;
			while (dwLoc18_150 < eax_23)
			{
				struct Eq_1096 * edx_188 = dwArg08->ptr0008 + dwLoc1C_148 * 0x14;
				int32 eax_206 = quantum_get_state(dwLoc14_118, dwLoc14_118 >> 0x1F, edx_188->dw0008, edx_188->dw000C, edx_188->ptr0010);
				struct Eq_1123 * edx_215 = dwArg08->ptr0008 + dwLoc1C_148 * 0x14;
				int32 eax_233 = quantum_get_state(dwLoc18_150, dwLoc18_150 >> 0x1F, edx_215->dw0008, edx_215->dw000C, edx_215->ptr0010);
				if (eax_206 >= 0x00 && eax_233 >= 0x00)
				{
					struct Eq_1152 * eax_272 = dwLoc2C + (dwLoc30 *s dwLoc18_150 + dwLoc14_118 << 0x03);
					struct Eq_1158 * eax_297 = (dwArg08->ptr0008 + dwLoc1C_148 * 0x14)[0x03] + (eax_233 << 0x04);
					real32 rLoc48_274 = eax_272->r0000;
					real32 rLoc4C_276 = eax_272->r0004;
					Eq_106 edx_298 = eax_297->t0000;
					Eq_106 eax_299 = eax_297->t0004;
					__mulsc3(dwArg08->ptr0004[dwLoc1C_148].t0000, 0x00, edx_298, eax_299);
					Eq_106 edx_322 = (dwArg08->ptr0008 + dwLoc1C_148 * 0x14)[0x03] + (eax_206 << 0x04);
					word32 eax_326 = Mem0[edx_322 + 0x04:word32];
					quantum_conj(*edx_322, eax_326);
					__mulsc3(eax_299, edx_298, eax_326, edx_322);
					struct Eq_1221 * edi_266 = dwLoc2C + (dwLoc30 *s dwLoc18_150 + dwLoc14_118 << 0x03);
					edi_266->r0000 = (real32) ((real64) rLoc48_274 + (real64) edx_322);
					edi_266->r0004 = (real32) ((real64) rLoc4C_276 + (real64) eax_326);
				}
				dwLoc18_150 = dwLoc18_150 + 0x01;
			}
			dwLoc14_118 = dwLoc14_118 + 0x01;
		}
		dwLoc1C_148 = dwLoc1C_148 + 0x01;
	}
	dwArg04->dw0000 = dwLoc34;
	dwArg04->dw0004 = dwLoc30;
	dwArg04->dw0008 = dwLoc2C;
}

// 08049996: void quantum_reconstruct_hash(Stack (ptr Eq_1068) dwArg04)
void quantum_reconstruct_hash(Eq_1068 * dwArg04)
{
	int32 dwLoc08_11 = 0x00;
	while (0x01 << (byte) dwArg04->dw0008 > dwLoc08_11)
	{
		dwArg04->ptr0010[dwLoc08_11] = 0x00;
		dwLoc08_11 = dwLoc08_11 + 0x01;
	}
	int32 dwLoc08_21 = 0x00;
	while (dwArg04->dw0004 > dwLoc08_21)
	{
		struct Eq_1265 * eax_45 = dwArg04->dw000C + (dwLoc08_21 << 0x04);
		quantum_add_hash(eax_45->dw0008, eax_45->dw000C, dwLoc08_21, dwArg04);
		dwLoc08_21 = dwLoc08_21 + 0x01;
	}
}

// 08049A19: void quantum_add_hash(Stack int32 dwArg04, Stack int32 dwArg08, Stack int32 dwArg0C, Stack (ptr Eq_1068) dwArg10)
void quantum_add_hash(int32 dwArg04, int32 dwArg08, int32 dwArg0C, Eq_1068 * dwArg10)
{
	word32 dwLoc0C_14 = 0x00;
	ui32 dwLoc08_25 = quantum_hash64(dwArg04, dwArg08, dwArg10->dw0008);
	while (dwArg10->ptr0010[dwLoc08_25] != 0x00)
	{
		ui32 v10_56 = dwLoc08_25 + 0x01;
		dwLoc08_25 = v10_56;
		if (0x01 << (byte) dwArg10->dw0008 == v10_56)
		{
			if (dwLoc0C_14 == 0x00)
			{
				dwLoc08_25 = 0x00;
				dwLoc0C_14 = 0x01;
			}
			else
				quantum_error(0x05);
		}
	}
	dwArg10->ptr0010[dwLoc08_25] = dwArg0C + 0x01;
}

// 08049AB8: Register uint32 quantum_hash64(Stack int32 dwArg04, Stack int32 dwArg08, Stack word32 dwArg0C)
uint32 quantum_hash64(int32 dwArg04, int32 dwArg08, word32 dwArg0C)
{
	return (dwArg08 ^ dwArg04) *s 0x9E370001 >> (byte) (0x20 - dwArg0C);
}

// 08049AFA: Register int32 quantum_get_state(Stack int32 dwArg04, Stack int32 dwArg08, Stack word32 dwArg14, Stack word32 dwArg18, Stack (arr ui32) dwArg1C)
int32 quantum_get_state(int32 dwArg04, int32 dwArg08, word32 dwArg14, word32 dwArg18, ui32 dwArg1C[])
{
}

// 08049BC0: void quantum_print_density_matrix(Stack (ptr Eq_1035) dwArg04)
void quantum_print_density_matrix(Eq_1035 * dwArg04)
{
	quantum_density_matrix(fp - 44, dwArg04);
	quantum_print_matrix(dwLoc2C, dwLoc28, dwLoc24);
	quantum_delete_matrix(fp - 0x18);
}

// 08049C13: void quantum_delete_density_op(Stack (ptr Eq_1409) dwArg04)
void quantum_delete_density_op(Eq_1409 * dwArg04)
{
	quantum_destroy_hash(dwArg04->t0008);
	int32 dwLoc08_13 = 0x00;
	while (dwArg04->dw0000 > dwLoc08_13)
	{
		quantum_delete_qureg_hashpreserve(Mem0[dwArg04 + 0x08:word32] + dwLoc08_13 * 0x14);
		dwLoc08_13 = dwLoc08_13 + 0x01;
	}
	free(dwArg04->t0004);
	free(dwArg04->t0008);
	quantum_memman(dwArg04->dw0000 *s ~0x17);
	dwArg04->t0004.u0 = 0x00;
	dwArg04->t0008.u0 = 0x00;
}

// 08049C9E: FpuStack real64 quantum_purity(Stack (ptr Eq_1459) dwArg04)
real64 quantum_purity(Eq_1459 * dwArg04)
{
	real32 dwLoc24_114 = 0.0F;
	int32 dwLoc14_19 = 0x00;
	while (dwArg04->dw0000 > dwLoc14_19)
	{
		rLoc2 = (real64) dwLoc24_114;
		dwLoc24_114 = (real32) ((real64) dwArg04->ptr0004[dwLoc14_19] * (real64) (dwArg04->ptr0004)[dwLoc14_19] + rLoc2);
		dwLoc14_19 = dwLoc14_19 + 0x01;
	}
	int32 dwLoc14_126 = 0x00;
	while (dwArg04->dw0000 > dwLoc14_126)
	{
		int32 dwLoc18_116 = 0x00;
		while (dwLoc18_116 < dwLoc14_126)
		{
			quantum_dot_product(dwArg04->ptr0008 + dwLoc14_126 * 0x14, dwArg04->ptr0008 + dwLoc18_116 * 0x14);
			int32 dwLoc1C_153 = 0x00;
			while ((dwArg04->ptr0008 + dwLoc14_126 * 0x14)->dw0004 > dwLoc1C_153)
			{
				struct Eq_1530 * eax_207 = (dwArg04->ptr0008 + dwLoc14_126 * 0x14)->dw000C + (dwLoc1C_153 << 0x04);
				struct Eq_1543 * ecx_194 = dwArg04->ptr0008 + dwLoc18_116 * 0x14;
				int32 eax_222 = quantum_get_state(eax_207->dw0008, eax_207->dw000C, ecx_194->dw0008, ecx_194->dw000C, ecx_194->ptr0010);
				if (eax_222 >= 0x00)
				{
					rLoc2 = (real64) dwArg04->ptr0004[dwLoc18_116];
					__mulsc3((real32) ((real64) dwArg04->ptr0004[dwLoc14_126] * rLoc2), 0x00, 0x00, 0x00);
					struct Eq_1593 * eax_293 = (dwArg04->ptr0008 + dwLoc14_126 * 0x14)->dw000C + (dwLoc1C_153 << 0x04);
					Eq_106 edx_294 = eax_293->t0000;
					Eq_106 eax_295 = eax_293->t0004;
					__mulsc3(0x00, 0x00, edx_294, eax_295);
					Eq_106 edx_318 = (dwArg04->ptr0008 + dwLoc18_116 * 0x14)->dw000C + (eax_222 << 0x04);
					word32 eax_322 = Mem0[edx_318 + 0x04:word32];
					quantum_conj(*edx_318, eax_322);
					__mulsc3(eax_295, edx_294, eax_322, edx_318);
				}
				rLoc2 = (real64) dwLoc24_114;
				dwLoc24_114 = (real32) (quantum_real(0x00) + rLoc2 + rLoc2);
				dwLoc1C_153 = dwLoc1C_153 + 0x01;
			}
			dwLoc18_116 = dwLoc18_116 + 0x01;
		}
		dwLoc14_126 = dwLoc14_126 + 0x01;
	}
	return (real64) dwLoc24_114;
}

// 08049F64: Register word32 quantum_error_handler(Stack word32 dwArg04)
word32 quantum_error_handler(word32 dwArg04)
{
	if (dwArg04 != 0x00)
		globals->dw80560D4 = dwArg04;
	return globals->dw80560D4;
}

// 08049F7C: Register word32 quantum_strerr(Stack int32 dwArg04)
word32 quantum_strerr(int32 dwArg04)
{
	word32 dwLoc08_16;
	if (dwArg04 == 0x03)
	{
		dwLoc08_16 = 0x080542AA;
		return dwLoc08_16;
	}
	else
	{
		if (dwArg04 <= 0x03)
		{
			if (dwArg04 == 0x01)
			{
				dwLoc08_16 = 0x08054294;
				return dwLoc08_16;
			}
			if (dwArg04 > 0x01)
			{
				dwLoc08_16 = 0x0805429C;
				return dwLoc08_16;
			}
			if (dwArg04 == 0x00)
			{
				dwLoc08_16 = 134562444;
				return dwLoc08_16;
			}
		}
		else
		{
			if (dwArg04 == 0x05)
			{
				dwLoc08_16 = 0x080542CD;
				return dwLoc08_16;
			}
			if (dwArg04 < 0x05)
			{
				dwLoc08_16 = 0x080542BB;
				return dwLoc08_16;
			}
			if (dwArg04 == 0x00010000)
			{
				dwLoc08_16 = 0x080542DD;
				return dwLoc08_16;
			}
			if (dwArg04 == 0x00010001)
			{
				dwLoc08_16 = 134562555;
				return dwLoc08_16;
			}
		}
		dwLoc08_16 = 0x0805430A;
		return dwLoc08_16;
	}
}

// 0804A01C: void quantum_error(Stack int32 dwArg04)
void quantum_error(int32 dwArg04)
{
	<anonymous> * eax_9 = quantum_error_handler(0x00);
	if (eax_9 == null)
	{
		fflush(globals->ptr80560C0);
		fprintf(globals->ptr80560A0, "ERROR: %s\n", quantum_strerr(dwArg04));
		fflush(globals->ptr80560A0);
		abort();
	}
	else
	{
		word32 esp_17;
		word32 ebp_18;
		byte SCZO_19;
		word32 eax_20;
		byte Z_21;
		word32 edx_22;
		eax_9();
	}
}

// 0804A088: void quantum_exp_mod_n(Register (ptr Eq_1727) gs, Stack Eq_84 dwArg04, Stack Eq_84 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10, Stack Eq_106 dwArg14)
void quantum_exp_mod_n(Eq_1727 * gs, Eq_84 dwArg04, Eq_84 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10, Eq_106 dwArg14)
{
	quantum_sigma_x(gs, (dwArg10 + 0x01) * 0x02, dwArg14);
	Eq_106 dwLoc08_17 = 0x01;
	while (dwLoc08_17 <= dwArg0C)
	{
		Eq_208 dwLoc10_53 = (int32) (SEQ(dwArg08 >> 0x1F, dwArg08) % dwArg04);
		Eq_106 dwLoc0C_54 = 0x01;
		while (dwLoc0C_54 < dwLoc08_17)
		{
			Eq_1755 eax_83 = dwLoc10_53 *s dwLoc10_53;
			dwLoc10_53 = (int32) (SEQ(eax_83 >> 0x1F, eax_83) % dwArg04);
			dwLoc0C_54 = dwLoc0C_54 + 0x01;
		}
		mul_mod_n(gs, dwArg04, dwLoc10_53, dwArg10 * 0x03 + 0x01 + dwLoc08_17, dwArg10, dwArg14);
		dwLoc08_17 = dwLoc08_17 + 0x01;
	}
}

// 0804A130: void quantum_cnot(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C)
void quantum_cnot(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C)
{
	quantum_qec_get_status(fp - 0x1C, null);
	if (dwLoc1C != 0x00)
		quantum_cnot_ft(gs, dwArg04, dwArg08, dwArg0C);
	else if (quantum_objcode_put(gs, 0x01, dwArg04, DPB(rLoc44, dwArg08, 0), rLoc40) == 0x00)
	{
		Eq_106 dwLoc18_142 = 0x00;
		while (Mem0[dwArg0C + 0x04:word32] > dwLoc18_142)
		{
			word32 eax_109 = Mem0[dwArg0C + 0x0C:word32] + (dwLoc18_142 << 0x04);
			Eq_106 edx_110 = eax_109->t000C;
			byte cl_113 = (byte) dwArg04;
			uint32 eax_114 = __shrd(eax_109->t0008, edx_110, cl_113);
			uint32 edx_116 = edx_110 >> cl_113;
			if ((cl_113 & 0x20) != 0x00)
				eax_114 = edx_116;
			if ((byte) (eax_114 & 0x01) != 0x00)
			{
				word32 eax_154 = Mem0[dwArg0C + 0x0C:word32] + (dwLoc18_142 << 0x04);
				word32 edx_148 = Mem0[dwArg0C + 0x0C:word32] + (dwLoc18_142 << 0x04);
				word32 esi_155 = eax_154->dw0008;
				word32 edi_156 = eax_154->dw000C;
				byte cl_158 = (byte) dwArg08;
				int32 edx_163 = __shld(0x00, 0x01, cl_158);
				int32 eax_164 = 0x01 << cl_158;
				if ((cl_158 & 0x20) != 0x00)
				{
					edx_163 = eax_164;
					eax_164 = 0x00;
				}
				edx_148->dw0008 = esi_155 ^ eax_164;
				edx_148->dw000C = edi_156 ^ edx_163;
			}
			dwLoc18_142 = dwLoc18_142 + 0x01;
		}
		quantum_decohere(dwArg0C, rArg0);
	}
}

// 0804A252: void quantum_toffoli(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10)
void quantum_toffoli(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10)
{
	quantum_qec_get_status(fp - 0x1C, null);
	if (dwLoc1C != 0x00)
		quantum_toffoli_ft(gs, dwArg04, dwArg08, dwArg0C, dwArg10);
	else if (quantum_objcode_put(gs, 0x02, dwArg04, DPB(rLoc44, dwArg08, 0), DPB(rLoc40, dwArg0C, 0)) == 0x00)
	{
		Eq_106 dwLoc18_101 = 0x00;
		while (Mem0[dwArg10 + 0x04:word32] > dwLoc18_101)
		{
			word32 eax_117 = Mem0[dwArg10 + 0x0C:word32] + (dwLoc18_101 << 0x04);
			Eq_106 edx_118 = eax_117->t000C;
			byte cl_121 = (byte) dwArg04;
			uint32 eax_122 = __shrd(eax_117->t0008, edx_118, cl_121);
			uint32 edx_124 = edx_118 >> cl_121;
			if ((cl_121 & 0x20) != 0x00)
				eax_122 = edx_124;
			if ((byte) (eax_122 & 0x01) != 0x00)
			{
				word32 eax_156 = Mem0[dwArg10 + 0x0C:word32] + (dwLoc18_101 << 0x04);
				Eq_106 edx_157 = eax_156->t000C;
				byte cl_160 = (byte) dwArg08;
				uint32 eax_161 = __shrd(eax_156->t0008, edx_157, cl_160);
				uint32 edx_163 = edx_157 >> cl_160;
				if ((cl_160 & 0x20) != 0x00)
					eax_161 = edx_163;
				if ((byte) (eax_161 & 0x01) != 0x00)
				{
					word32 eax_184 = Mem0[dwArg10 + 0x0C:word32] + (dwLoc18_101 << 0x04);
					word32 edx_178 = Mem0[dwArg10 + 0x0C:word32] + (dwLoc18_101 << 0x04);
					word32 esi_185 = eax_184->dw0008;
					word32 edi_186 = eax_184->dw000C;
					byte cl_188 = (byte) dwArg0C;
					int32 edx_193 = __shld(0x00, 0x01, cl_188);
					int32 eax_194 = 0x01 << cl_188;
					if ((cl_188 & 0x20) != 0x00)
					{
						edx_193 = eax_194;
						eax_194 = 0x00;
					}
					edx_178->dw0008 = esi_185 ^ eax_194;
					edx_178->dw000C = edi_186 ^ edx_193;
				}
			}
			dwLoc18_101 = dwLoc18_101 + 0x01;
		}
		quantum_decohere(dwArg10, rArg0);
	}
}

// 0804A3B3: void quantum_unbounded_toffoli(Stack int32 dwArg04, Stack Eq_106 dwArg08)
void quantum_unbounded_toffoli(int32 dwArg04, Eq_106 dwArg08)
{
}

// 0804A535: void quantum_sigma_x(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_sigma_x(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08)
{
	quantum_qec_get_status(fp - 0x1C, null);
	if (dwLoc1C != 0x00)
		quantum_sigma_x_ft(gs, dwArg04, dwArg08);
	else if (quantum_objcode_put(gs, 0x03, dwArg04, rLoc34, rLoc30) == 0x00)
	{
		Eq_106 dwLoc18_132 = 0x00;
		while (Mem0[dwArg08 + 0x04:word32] > dwLoc18_132)
		{
			word32 eax_104 = Mem0[dwArg08 + 0x0C:word32] + (dwLoc18_132 << 0x04);
			word32 edx_98 = Mem0[dwArg08 + 0x0C:word32] + (dwLoc18_132 << 0x04);
			word32 esi_105 = eax_104->dw0008;
			word32 edi_106 = eax_104->dw000C;
			byte cl_108 = (byte) dwArg04;
			int32 edx_113 = __shld(0x00, 0x01, cl_108);
			int32 eax_114 = 0x01 << cl_108;
			if ((cl_108 & 0x20) != 0x00)
			{
				edx_113 = eax_114;
				eax_114 = 0x00;
			}
			edx_98->dw0008 = esi_105 ^ eax_114;
			edx_98->dw000C = edi_106 ^ edx_113;
			dwLoc18_132 = dwLoc18_132 + 0x01;
		}
		quantum_decohere(dwArg08, rArg0);
	}
}

// 0804A615: void quantum_sigma_y(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_sigma_y(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08)
{
	if (quantum_objcode_put(gs, 0x04, dwArg04, rLoc44, rLoc40) == 0x00)
	{
		while (Mem0[dwArg08 + 0x04:word32] > 0x00)
		{
			word32 edx_99 = Mem0[dwArg08 + 0x0C:word32];
			word32 edx_93 = Mem0[dwArg08 + 0x0C:word32];
			Eq_106 esi_103 = *((word32) edx_99 + 0x08);
			Eq_106 edi_104 = *((word32) edx_99 + 0x0C);
			byte cl_106 = (byte) dwArg04;
			int32 edx_111 = __shld(0x00, 0x01, cl_106);
			int32 eax_112 = 0x01 << cl_106;
			if ((cl_106 & 0x20) != 0x00)
			{
				edx_111 = eax_112;
				eax_112 = 0x00;
			}
			*((word32) edx_93 + 0x08) = esi_103 ^ eax_112;
			*((word32) edx_93 + 0x0C) = edi_104 ^ edx_111;
			word32 edx_129 = Mem127[dwArg08 + 0x0C:word32];
			Eq_106 edx_133 = *((word32) edx_129 + 0x0C);
			byte cl_136 = (byte) dwArg04;
			uint32 eax_137 = __shrd(*((word32) edx_129 + 0x08), edx_133, cl_136);
			uint32 edx_139 = edx_133 >> cl_136;
			if ((cl_136 & 0x20) != 0x00)
				eax_137 = edx_139;
			if ((byte) (eax_137 & 0x01) != 0x00)
			{
				word32 edx_168 = Mem127[dwArg08 + 0x0C:word32];
				word32 edx_163 = Mem127[dwArg08 + 0x0C:word32];
				Eq_106 eax_174 = *((word32) edx_168 + 0x04);
				__mulsc3(*edx_168, eax_174, 0x00, 0x3F800000);
				edx_163->u0 = 0x00;
				*((word32) edx_163 + 0x04) = eax_174;
			}
			else
			{
				word32 edx_195 = Mem127[dwArg08 + 0x0C:word32];
				word32 edx_190 = Mem127[dwArg08 + 0x0C:word32];
				Eq_106 eax_201 = *((word32) edx_195 + 0x04);
				__mulsc3(*edx_195, eax_201, 0x00, 0xBF800000);
				edx_190->u0 = 0x00;
				*((word32) edx_190 + 0x04) = eax_201;
			}
			*(fp - 0x18) = *(fp - 0x18) + 0x01;
		}
		quantum_decohere(dwArg08, rArg0);
	}
}

// 0804A79E: void quantum_sigma_z(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_sigma_z(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08)
{
	if (quantum_objcode_put(gs, 0x05, dwArg04, rLoc24, rLoc20) == 0x00)
	{
		Eq_106 dwLoc08_46 = 0x00;
		while (Mem0[dwArg08 + 0x04:word32] > dwLoc08_46)
		{
			word32 eax_70 = Mem0[dwArg08 + 0x0C:word32] + (dwLoc08_46 << 0x04);
			Eq_106 edx_71 = eax_70->t000C;
			byte cl_74 = (byte) dwArg04;
			uint32 eax_131 = __shrd(eax_70->t0008, edx_71, cl_74);
			uint32 edx_77 = edx_71 >> cl_74;
			if ((cl_74 & 0x20) != 0x00)
				eax_131 = edx_77;
			if ((byte) (eax_131 & 0x01) != 0x00)
			{
				word32 eax_107 = Mem0[dwArg08 + 0x0C:word32] + (dwLoc08_46 << 0x04);
				word32 ecx_101 = Mem0[dwArg08 + 0x0C:word32] + (dwLoc08_46 << 0x04);
				real32 dwLoc18_127 = (real32) -(real64) eax_107->dw0004;
				ecx_101->r0000 = (real32) -(real64) eax_107->dw0000;
				ecx_101->r0004 = dwLoc18_127;
			}
			dwLoc08_46 = dwLoc08_46 + 0x01;
		}
		quantum_decohere(dwArg08, rArg0);
	}
}

// 0804A85F: void quantum_swaptheleads(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_swaptheleads(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08)
{
	quantum_qec_get_status(fp - 0x28, null);
	if (dwLoc28 != 0x00)
	{
		Eq_106 dwLoc18_108 = 0x00;
		while (dwLoc18_108 < dwArg04)
		{
			quantum_cnot(gs, dwLoc18_108, dwArg04 + dwLoc18_108, dwArg08);
			quantum_cnot(gs, dwArg04 + dwLoc18_108, dwLoc18_108, dwArg08);
			quantum_cnot(gs, dwLoc18_108, dwArg04 + dwLoc18_108, dwArg08);
			dwLoc18_108 = dwLoc18_108 + 0x01;
		}
	}
	else
	{
		Eq_106 dwLoc18_110 = 0x00;
		while (Mem0[dwArg08 + 0x04:word32] > dwLoc18_110 && quantum_objcode_put(gs, 0x0E, dwArg04, rLoc44, rLoc40) == 0x00)
		{
			word32 eax_154 = Mem0[Mem0[dwArg08 + 0x0C:word32] + (dwLoc18_110 << 0x04) + 0x08:word32];
			byte cl_157 = (byte) dwArg04;
			__shld(0x00, 0x01, cl_157);
			ui32 eax_161 = 0x01 << cl_157;
			if ((cl_157 & 0x20) != 0x00)
				eax_161 = 0x00;
			ui32 eax_170 = eax_161 - 0x01 & eax_154;
			int32 dwLoc24_174 = 0x00;
			Eq_106 dwLoc1C_175 = 0x00;
			while (dwLoc1C_175 < dwArg04)
			{
				word32 eax_260 = Mem0[Mem0[dwArg08 + 0x0C:word32] + (dwLoc18_110 << 0x04) + 0x08:word32];
				byte cl_265 = (byte) (dwArg04 + dwLoc1C_175);
				__shld(0x00, 0x01, cl_265);
				ui32 eax_269 = 0x01 << cl_265;
				if ((cl_265 & 0x20) != 0x00)
					eax_269 = 0x00;
				dwLoc24_174 = (eax_260 & eax_269) + dwLoc24_174;
				dwLoc1C_175 = dwLoc1C_175 + 0x01;
			}
			word32 eax_193 = Mem0[dwArg08 + 0x0C:word32] + (dwLoc18_110 << 0x04);
			Eq_2607 eax_198 = eax_170 + dwLoc24_174;
			word32 ecx_246 = Mem0[dwArg08 + 0x0C:word32] + (dwLoc18_110 << 0x04);
			ecx_246->dw0008 = (word32) (SEQ(eax_193->dw000C, eax_193->dw0008 - eax_198) - SEQ(eax_198 >> 0x1F, eax_198)) + (eax_170 << (byte) dwArg04) + (dwLoc24_174 >> (byte) dwArg04);
			ecx_246->dw000C = v20;
			dwLoc18_110 = dwLoc18_110 + 0x01;
		}
	}
}

// 0804AA4B: void quantum_swaptheleads_omuln_controlled(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C)
void quantum_swaptheleads_omuln_controlled(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C)
{
	Eq_106 dwLoc08_21 = 0x00;
	while (dwLoc08_21 < dwArg08)
	{
		quantum_toffoli(gs, dwArg04, dwArg08 + dwLoc08_21, dwArg08 * 0x02 + dwLoc08_21 + 0x02, dwArg0C);
		quantum_toffoli(gs, dwArg04, dwArg08 * 0x02 + dwLoc08_21 + 0x02, dwArg08 + dwLoc08_21, dwArg0C);
		quantum_toffoli(gs, dwArg04, dwArg08 + dwLoc08_21, dwArg08 * 0x02 + dwLoc08_21 + 0x02, dwArg0C);
		dwLoc08_21 = dwLoc08_21 + 0x01;
	}
}

// 0804AAF9: void quantum_gate1(Stack Eq_106 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10, Stack Eq_106 dwArg14)
void quantum_gate1(Eq_106 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10, Eq_106 dwArg14)
{
}

// 0804B509: void quantum_reconstruct_hash(Stack Eq_106 dwArg04)
void quantum_reconstruct_hash(Eq_106 dwArg04)
{
	int32 dwLoc08_11 = 0x00;
	while (0x01 << (byte) Mem0[dwArg04 + 0x08:word32] > dwLoc08_11)
	{
		Mem0[dwArg04 + 0x10:word32][dwLoc08_11 * 0x04] = 0x00;
		dwLoc08_11 = dwLoc08_11 + 0x01;
	}
	Eq_106 dwLoc08_21 = 0x00;
	while (Mem0[dwArg04 + 0x04:word32] > dwLoc08_21)
	{
		word32 eax_45 = Mem0[dwArg04 + 0x0C:word32] + (dwLoc08_21 << 0x04);
		quantum_add_hash(eax_45->dw0008, eax_45->dw000C, dwLoc08_21, dwArg04);
		dwLoc08_21 = dwLoc08_21 + 0x01;
	}
}

// 0804B58C: void quantum_add_hash(Stack ui32 dwArg04, Stack ui32 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10)
void quantum_add_hash(ui32 dwArg04, ui32 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10)
{
	word32 dwLoc0C_14 = 0x00;
	word32 dwLoc08_25 = quantum_hash64(dwArg04, dwArg08, Mem0[dwArg10 + 0x08:word32]);
	while (Mem0[dwArg10 + 0x10:word32][dwLoc08_25 * 0x04] != 0x00)
	{
		ui32 v10_56 = dwLoc08_25 + 0x01;
		dwLoc08_25 = v10_56;
		if (0x01 << (byte) Mem0[dwArg10 + 0x08:word32] == v10_56)
		{
			if (dwLoc0C_14 == 0x00)
			{
				dwLoc08_25 = 0x00;
				dwLoc0C_14 = 0x01;
			}
			else
				quantum_error(0x05);
		}
	}
	Mem0[dwArg10 + 0x10:word32][dwLoc08_25 * 0x04] = dwArg0C + 0x01;
}

// 0804B62B: Register uint32 quantum_hash64(Stack ui32 dwArg04, Stack ui32 dwArg08, Stack Eq_106 dwArg0C)
uint32 quantum_hash64(ui32 dwArg04, ui32 dwArg08, Eq_106 dwArg0C)
{
	return (dwArg08 ^ dwArg04) *s 0x9E370001 >> (byte) (0x20 - dwArg0C);
}

// 0804B66D: Register ui32 quantum_get_state(Stack ui32 dwArg04, Stack ui32 dwArg08, Stack Eq_106 dwArg14, Stack Eq_106 dwArg18, Stack Eq_106 dwArg1C)
ui32 quantum_get_state(ui32 dwArg04, ui32 dwArg08, Eq_106 dwArg14, Eq_106 dwArg18, Eq_106 dwArg1C)
{
}

// 0804B733: FpuStack real64 quantum_prob_inline(Stack word32 dwArg04, Stack word32 dwArg08)
real64 quantum_prob_inline(word32 dwArg04, word32 dwArg08)
{
	Eq_3831 rLoc08_15 = (real32) quantum_real(dwArg04);
	Eq_3837 rLoc0C_21 = (real32) quantum_imag(dwArg08);
	return (real64) rLoc08_15 * rLoc08_15 + (real64) rLoc0C_21 * rLoc0C_21;
}

// 0804B773: FpuStack real64 quantum_real(Stack word32 dwArg04)
real64 quantum_real(word32 dwArg04)
{
	return (real64) dwArg04;
}

// 0804B78C: FpuStack real64 quantum_imag(Stack word32 dwArg08)
real64 quantum_imag(word32 dwArg08)
{
	return (real64) dwArg08;
}

// 0804B7A8: void quantum_gate2(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack int32 dwArg10, Stack word32 dwArg14, Stack Eq_106 dwArg18)
void quantum_gate2(word32 dwArg04, word32 dwArg08, word32 dwArg0C, int32 dwArg10, word32 dwArg14, Eq_106 dwArg18)
{
	int32 dwLoc30_16 = 0x00;
	int32 dwLoc34_17 = 0x00;
	if (dwArg10 != 0x04 || dwArg0C != 0x04)
		quantum_error(0x04);
	int32 dwLoc20_26 = 0x00;
	while (0x01 << (byte) Mem0[dwArg18 + 0x08:word32] > dwLoc20_26)
	{
		Mem0[dwArg18 + 0x10:word32][dwLoc20_26 * 0x04] = 0x00;
		dwLoc20_26 = dwLoc20_26 + 0x01;
	}
	Eq_106 dwLoc20_39 = 0x00;
	while (Mem0[dwArg18 + 0x04:word32] > dwLoc20_39)
	{
		word32 eax_946 = Mem0[dwArg18 + 0x0C:word32] + (dwLoc20_39 << 0x04);
		quantum_add_hash(eax_946->dw0008, eax_946->dw000C, dwLoc20_39, dwArg18);
		dwLoc20_39 = dwLoc20_39 + 0x01;
	}
	Eq_106 dwLoc20_54 = 0x00;
	while (Mem0[dwArg18 + 0x04:word32] > dwLoc20_54)
	{
		word32 eax_831 = Mem0[dwArg18 + 0x0C:word32] + (dwLoc20_54 << 0x04);
		word32 esi_832 = eax_831->dw0008;
		word32 edi_833 = eax_831->dw000C;
		byte cl_835 = (byte) dwArg04;
		int32 edx_840 = __shld(0x00, 0x01, cl_835);
		int32 eax_841 = 0x01 << cl_835;
		if ((cl_835 & 0x20) != 0x00)
		{
			edx_840 = eax_841;
			eax_841 = 0x00;
		}
		if (quantum_get_state(esi_832 ^ eax_841, edi_833 ^ edx_840, Mem0[dwArg18 + 0x08:word32], Mem0[dwArg18 + 0x0C:word32], Mem0[dwArg18 + 0x10:word32]) == ~0x00)
			dwLoc30_16 = dwLoc30_16 + 0x01;
		word32 eax_879 = Mem0[dwArg18 + 0x0C:word32] + (dwLoc20_54 << 0x04);
		word32 esi_880 = eax_879->dw0008;
		word32 edi_881 = eax_879->dw000C;
		byte cl_883 = (byte) dwArg08;
		int32 edx_888 = __shld(0x00, 0x01, cl_883);
		int32 eax_889 = 0x01 << cl_883;
		if ((cl_883 & 0x20) != 0x00)
		{
			edx_888 = eax_889;
			eax_889 = 0x00;
		}
		if (quantum_get_state(esi_880 ^ eax_889, edi_881 ^ edx_888, Mem0[dwArg18 + 0x08:word32], Mem0[dwArg18 + 0x0C:word32], Mem0[dwArg18 + 0x10:word32]) == ~0x00)
			dwLoc30_16 = dwLoc30_16 + 0x01;
		dwLoc20_54 = dwLoc20_54 + 0x01;
	}
	Mem98[dwArg18 + 0x0C:word32] = realloc(Mem0[dwArg18 + 0x0C:word32], Mem0[dwArg18 + 0x04:word32] + dwLoc30_16 << 0x04);
	if (Mem98[dwArg18 + 0x0C:word32] == 0x00)
		quantum_error(0x04);
	quantum_memman(dwLoc30_16 << 0x04);
	int32 dwLoc20_108 = 0x00;
	while (dwLoc20_108 < dwLoc30_16)
	{
		word32 eax_809 = Mem98[dwArg18 + 0x0C:word32] + (Mem98[dwArg18 + 0x04:word32] + dwLoc20_108 << 0x04);
		eax_809->dw0008 = 0x00;
		eax_809->dw000C = 0x00;
		word32 edx_818 = Mem811[dwArg18 + 0x0C:word32] + (Mem811[dwArg18 + 0x04:word32] + dwLoc20_108 << 0x04);
		edx_818->dw0000 = 0x00;
		edx_818->dw0004 = 0x00;
		dwLoc20_108 = dwLoc20_108 + 0x01;
	}
	word32 eax_119 = calloc(Mem98[dwArg18 + 0x04:word32] + dwLoc30_16, 0x01);
	if (eax_119 == 0x00)
		quantum_error(0x04);
	quantum_memman(Mem98[dwArg18 + 0x04:word32] + dwLoc30_16);
	word32 dwLoc2C_131 = Mem98[dwArg18 + 0x04:word32];
	byte cl_134 = (byte) *dwArg18;
	int32 edx_137 = __shld(0x00, 0x01, cl_134);
	int32 eax_138 = 0x01 << cl_134;
	if ((cl_134 & 0x20) != 0x00)
	{
		edx_137 = eax_138;
		eax_138 = 0x00;
	}
	real80 rLocAC_154 = (real80) (real64) DPB(qwLoc0104, eax_138, 0);
	if (edx_137 < 0x00)
		rLocAC_154 = (real80) ((real64) globals->r8054330 + (real64) rLocAC_154);
	real32 rLoc38_166 = (real32) (1.0 / (real64) rLocAC_154 / globals->r8054348);
	Eq_106 dwLoc20_173 = 0x00;
	while (Mem98[dwArg18 + 0x04:word32] > dwLoc20_173)
	{
		if ((byte) (word32) Mem98[dwLoc20_173 + eax_119:byte] == 0x00)
		{
			word32 eax_432 = Mem98[dwArg18 + 0x0C:word32] + (dwLoc20_173 << 0x04);
			ui32 eax_440 = quantum_bitmask(eax_432->t0008, eax_432->t000C, 0x02, fp - 0x44);
			(fp - 0x54)[eax_440].t0000 = dwLoc20_173;
			word32 eax_453 = Mem444[dwArg18 + 0x0C:word32] + (dwLoc20_173 << 0x04);
			word32 esi_454 = eax_453->dw0008;
			word32 edi_455 = eax_453->dw000C;
			byte cl_457 = (byte) dwArg08;
			int32 edx_462 = __shld(0x00, 0x01, cl_457);
			int32 eax_463 = 0x01 << cl_457;
			if ((cl_457 & 0x20) != 0x00)
			{
				edx_462 = eax_463;
				eax_463 = 0x00;
			}
			(fp - 0x54)[(eax_440 ^ 0x01) * 0x04] = quantum_get_state(esi_454 ^ eax_463, edi_455 ^ edx_462, Mem444[dwArg18 + 0x08:word32], Mem444[dwArg18 + 0x0C:word32], Mem444[dwArg18 + 0x10:word32]);
			word32 eax_502 = Mem493[dwArg18 + 0x0C:word32] + (dwLoc20_173 << 0x04);
			word32 esi_503 = eax_502->dw0008;
			word32 edi_504 = eax_502->dw000C;
			byte cl_506 = (byte) dwArg04;
			int32 edx_511 = __shld(0x00, 0x01, cl_506);
			int32 eax_512 = 0x01 << cl_506;
			if ((cl_506 & 0x20) != 0x00)
			{
				edx_511 = eax_512;
				eax_512 = 0x00;
			}
			(fp - 0x54)[(eax_440 ^ 0x02) * 0x04] = quantum_get_state(esi_503 ^ eax_512, edi_504 ^ edx_511, Mem493[dwArg18 + 0x08:word32], Mem493[dwArg18 + 0x0C:word32], Mem493[dwArg18 + 0x10:word32]);
			word32 eax_551 = Mem542[dwArg18 + 0x0C:word32] + (dwLoc20_173 << 0x04);
			word32 esi_552 = eax_551->dw0008;
			word32 edi_553 = eax_551->dw000C;
			byte cl_555 = (byte) dwArg04;
			int32 edx_560 = __shld(0x00, 0x01, cl_555);
			int32 eax_561 = 0x01 << cl_555;
			if ((cl_555 & 0x20) != 0x00)
			{
				edx_560 = eax_561;
				eax_561 = 0x00;
			}
			byte cl_583 = (byte) (word32) (byte) dwArg08;
			ui32 eax_571 = esi_552 ^ eax_561;
			ui32 edx_574 = edi_553 ^ edx_560;
			int32 esi_584 = __shld(0x00, 0x01, cl_583);
			int32 ebx_585 = 0x01 << cl_583;
			if ((cl_583 & 0x20) != 0x00)
			{
				esi_584 = ebx_585;
				ebx_585 = 0x00;
			}
			(fp - 0x54)[(eax_440 ^ 0x03) * 0x04] = quantum_get_state(ebx_585 ^ eax_571, esi_584 ^ edx_574, Mem542[dwArg18 + 0x08:word32], Mem542[dwArg18 + 0x0C:word32], Mem542[dwArg18 + 0x10:word32]);
			int32 dwLoc24_615 = 0x00;
			while (dwLoc24_615 <= 0x03)
			{
				if ((fp - 0x54)[dwLoc24_615] == ~0x00)
				{
					(fp - 0x54)[dwLoc24_615].t0000 = dwLoc2C_131;
					dwLoc2C_131 = (word32) dwLoc2C_131 + 0x01;
				}
				word32 eax_760 = Mem614[dwArg18 + 0x0C:word32] + ((fp - 0x54)[dwLoc24_615 * 0x04] << 0x04);
				word32 eax_762 = eax_760->dw0004;
				(fp - 116)[dwLoc24_615].dw0000 = eax_760->dw0000;
				(fp - 0x70)[dwLoc24_615].dw0000 = eax_762;
				dwLoc24_615 = dwLoc24_615 + 0x01;
			}
			int32 dwLoc24_624 = 0x00;
			while (dwLoc24_624 <= 0x03)
			{
				word32 edx_651 = Mem614[dwArg18 + 0x0C:word32] + ((fp - 0x54)[dwLoc24_624 * 0x04] << 0x04);
				edx_651->dw0000 = 0x00;
				edx_651->dw0004 = 0x00;
				while (true)
				{
					word32 eax_696 = Mem656[dwArg18 + 0x0C:word32] + ((fp - 0x54)[dwLoc24_624 * 0x04] << 0x04);
					struct Eq_4586 * eax_708 = dwArg14 + (dwArg10 *s dwLoc24_624 << 0x03);
					word32 edi_690 = Mem656[dwArg18 + 0x0C:word32] + ((fp - 0x54)[dwLoc24_624 * 0x04] << 0x04);
					real32 rLoc8C_698 = eax_696->r0000;
					real32 rLoc90_700 = eax_696->r0004;
					__mulsc3(eax_708->t0000, eax_708->t0004, dwLoc74, dwLoc70);
					edi_690->r0000 = (real32) ((real64) rLoc8C_698 + (real64) dwLoc70);
					edi_690->r0004 = (real32) ((real64) rLoc90_700 + (real64) dwLoc74);
				}
				*((word32) eax_119 + (fp - 0x54)[dwLoc24_624]) = 0x01;
				dwLoc24_624 = dwLoc24_624 + 0x01;
			}
		}
		dwLoc20_173 = dwLoc20_173 + 0x01;
	}
	Mem235[dwArg18 + 0x04:word32] = Mem98[dwArg18 + 0x04:word32] + dwLoc30_16;
	free(eax_119);
	quantum_memman(-Mem235[dwArg18 + 0x04:word32]);
	Eq_106 dwLoc20_244 = 0x00;
	int32 dwLoc24_245 = 0x00;
	while (Mem235[dwArg18 + 0x04:word32] > dwLoc20_244)
	{
		word32 edx_319 = Mem235[dwArg18 + 0x0C:word32] + (dwLoc20_244 << 0x04);
		if ((real64) rLoc38_166 > quantum_prob_inline(edx_319->dw0000, edx_319->dw0004))
		{
			dwLoc24_245 = dwLoc24_245 + 0x01;
			dwLoc34_17 = dwLoc34_17 + 0x01;
		}
		else if (dwLoc24_245 != 0x00)
		{
			word32 eax_357 = Mem235[dwArg18 + 0x0C:word32] + (dwLoc20_244 << 0x04);
			word32 ecx_352 = Mem235[dwArg18 + 0x0C:word32] + (dwLoc20_244 - dwLoc24_245 << 0x04);
			word32 edx_358 = eax_357->dw000C;
			ecx_352->dw0008 = eax_357->dw0008;
			ecx_352->dw000C = edx_358;
			word32 eax_374 = Mem361[dwArg18 + 0x0C:word32] + (dwLoc20_244 << 0x04);
			word32 ecx_368 = Mem361[dwArg18 + 0x0C:word32] + (dwLoc20_244 - dwLoc24_245 << 0x04);
			word32 eax_376 = eax_374->dw0004;
			ecx_368->dw0000 = eax_374->dw0000;
			ecx_368->dw0004 = eax_376;
		}
		dwLoc20_244 = dwLoc20_244 + 0x01;
	}
	if (dwLoc34_17 != 0x00)
	{
		Mem290[dwArg18 + 0x04:word32] = Mem235[dwArg18 + 0x04:word32] - dwLoc34_17;
		Mem302[dwArg18 + 0x0C:word32] = realloc(Mem290[dwArg18 + 0x0C:word32], Mem290[dwArg18 + 0x04:word32] << 0x04);
		if (Mem302[dwArg18 + 0x0C:word32] == 0x00)
			quantum_error(0x02);
		quantum_memman(-(dwLoc34_17 << 0x04));
	}
	quantum_decohere(dwArg18, rArg0);
}

// 0804C059: Register word32 quantum_bitmask(Stack Eq_106 dwArg04, Stack Eq_106 dwArg08, Stack int32 dwArg0C, Stack (arr word32) dwArg10)
word32 quantum_bitmask(Eq_106 dwArg04, Eq_106 dwArg08, int32 dwArg0C, word32 dwArg10[])
{
	word32 dwLoc0C_14 = 0x00;
	int32 dwLoc08_15 = 0x00;
	while (dwLoc08_15 < dwArg0C)
	{
		byte cl_47 = (byte) dwArg10[dwLoc08_15];
		uint32 eax_50 = __shrd(dwArg04, dwArg08, cl_47);
		uint32 edx_52 = dwArg08 >> cl_47;
		if ((cl_47 & 0x20) != 0x00)
			eax_50 = edx_52;
		if ((byte) (eax_50 & 0x01) != 0x00)
			dwLoc0C_14 = dwLoc0C_14 + (0x01 << (byte) dwLoc08_15);
		dwLoc08_15 = dwLoc08_15 + 0x01;
	}
	return dwLoc0C_14;
}

// 0804C0BF: void quantum_hadamard(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_hadamard(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08)
{
	if (quantum_objcode_put(gs, 0x06, dwArg04, rLoc44, rLoc40) == 0x00)
	{
		quantum_new_matrix(fp - 44, 0x02, 0x02);
		dwLoc24->u0 = 0x3F3504F3;
		((word32) dwLoc24 + 0x04)->u0 = 0x00;
		((word32) dwLoc24 + 0x08)->u0 = 0x3F3504F3;
		((word32) dwLoc24 + 0x0C)->u0 = 0x00;
		((word32) dwLoc24 + 0x0010)->u0 = 0x3F3504F3;
		((word32) dwLoc24 + 0x0014)->u0 = 0x00;
		((word32) dwLoc24 + 0x0018)->u0 = ~0x40CAFB0C;
		((word32) dwLoc24 + 0x001C)->u0 = 0x00;
		quantum_gate1(dwArg04, dwLoc2C, dwLoc28, dwLoc24, dwArg08);
		quantum_delete_matrix(fp - 0x18);
	}
}

// 0804C195: void quantum_walsh(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_walsh(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08)
{
	Eq_106 dwLoc08_13 = 0x00;
	while (dwLoc08_13 < dwArg04)
	{
		quantum_hadamard(gs, dwLoc08_13, dwArg08);
		dwLoc08_13 = dwLoc08_13 + 0x01;
	}
}

// 0804C1C4: FpuStack real64 quantum_r_x(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack real32 rArg08, Stack Eq_106 dwArg0C, FpuStack real64 rArg0, FpuStack real64 rArg1, FpuStack real64 rArg2, FpuStack real64 rArg3)
real64 quantum_r_x(Eq_1727 * gs, Eq_106 dwArg04, real32 rArg08, Eq_106 dwArg0C, real64 rArg0, real64 rArg1, real64 rArg2, real64 rArg3)
{
	if (quantum_objcode_put(gs, 0x07, dwArg04, (real64) rArg08, rLoc80) == 0x00)
	{
		quantum_new_matrix(fp - 44, 0x02, 0x02);
		word32 esp_105;
		word32 ebp_106;
		struct Eq_4770 * ebx_107;
		byte SCZO_108;
		real64 rLoc1_109;
		word32 eax_110;
		byte SZO_111;
		byte C_112;
		byte Z_113;
		real64 rLoc2_114;
		real64 rArg0_115;
		word32 edx_116;
		real64 rArg1_117;
		real64 rArg2_118;
		real64 rArg3_119;
		struct Eq_4783 * gs_120;
		!cos();
		real32 rLoc30_121 = (real32) rArg0_115;
		ebx_107->r0000 = rLoc30_121;
		ebx_107->dw0004 = 0x00;
		word32 esp_134;
		word32 ebp_135;
		struct Eq_4796 * ebx_136;
		byte SCZO_137;
		real64 rLoc1_138;
		word32 eax_139;
		byte SZO_140;
		byte C_141;
		byte Z_142;
		real64 rLoc2_143;
		real64 rArg0_144;
		word32 edx_145;
		real64 rArg1_146;
		real64 rArg2_147;
		real64 rArg3_148;
		struct Eq_4809 * gs_149;
		!sin();
		__muldc3(fp - 0x44, rArg1_146, 0.0, 0.0, -1.0);
		ebx_136->r0000 = (real32) rLoc44;
		real32 rLoc30_174 = (real32) rLoc3C;
		ebx_136->r0004 = rLoc30_174;
		word32 esp_191;
		word32 ebp_192;
		struct Eq_4832 * ebx_193;
		byte SCZO_194;
		real64 rLoc1_195;
		word32 eax_196;
		byte SZO_197;
		byte C_198;
		byte Z_199;
		real64 rLoc2_200;
		real64 rArg0_201;
		word32 edx_202;
		real64 rArg1_203;
		real64 rArg2_204;
		real64 rArg3_205;
		struct Eq_4845 * gs_206;
		!sin();
		__muldc3(fp - 0x44, rArg2_204, 0.0, 0.0, -1.0);
		ebx_193->r0000 = (real32) rLoc44;
		real32 rLoc30_229 = (real32) rLoc3C;
		ebx_193->r0004 = rLoc30_229;
		word32 esp_246;
		word32 ebp_247;
		struct Eq_4866 * ebx_248;
		byte SCZO_249;
		real64 rLoc1_250;
		word32 eax_251;
		byte SZO_252;
		byte C_253;
		byte Z_254;
		real64 rLoc2_255;
		word32 edx_257;
		real64 rArg1_258;
		real64 rArg2_259;
		real64 rArg3_260;
		struct Eq_4878 * gs_261;
		!cos();
		ebx_248->r0000 = (real32) rArg3_260;
		ebx_248->dw0004 = 0x00;
		quantum_gate1(dwArg04, dwLoc2C, dwLoc28, dwLoc24, dwArg0C);
		quantum_delete_matrix(fp - 0x18);
	}
	return rArg0;
}

// 0804C382: FpuStack real64 quantum_r_y(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack real32 rArg08, Stack Eq_106 dwArg0C, FpuStack real64 rArg0, FpuStack real64 rArg1, FpuStack real64 rArg2, FpuStack real64 rArg3)
real64 quantum_r_y(Eq_1727 * gs, Eq_106 dwArg04, real32 rArg08, Eq_106 dwArg0C, real64 rArg0, real64 rArg1, real64 rArg2, real64 rArg3)
{
	if (quantum_objcode_put(gs, 0x08, dwArg04, (real64) rArg08, rLoc60) == 0x00)
	{
		quantum_new_matrix(fp - 44, 0x02, 0x02);
		word32 esp_89;
		word32 ebp_90;
		struct Eq_4921 * ebx_91;
		byte SCZO_92;
		real64 rLoc1_93;
		word32 eax_94;
		byte SZO_95;
		byte C_96;
		byte Z_97;
		real64 rLoc2_98;
		real64 rArg0_99;
		word32 edx_100;
		real64 rArg1_101;
		real64 rArg2_102;
		real64 rArg3_103;
		struct Eq_4934 * gs_104;
		!cos();
		real32 rLoc30_105 = (real32) rArg0_99;
		ebx_91->r0000 = rLoc30_105;
		ebx_91->dw0004 = 0x00;
		word32 esp_118;
		word32 ebp_119;
		struct Eq_4947 * ebx_120;
		byte SCZO_121;
		real64 rLoc1_122;
		word32 eax_123;
		byte SZO_124;
		byte C_125;
		byte Z_126;
		real64 rLoc2_127;
		real64 rArg0_128;
		word32 edx_129;
		real64 rArg1_130;
		real64 rArg2_131;
		real64 rArg3_132;
		struct Eq_4960 * gs_133;
		!sin();
		real32 rLoc30_134 = (real32) rArg1_130;
		ebx_120->r0000 = rLoc30_134;
		ebx_120->dw0004 = 0x00;
		word32 esp_147;
		word32 ebp_148;
		struct Eq_4973 * ebx_149;
		byte SCZO_150;
		real64 rLoc1_151;
		word32 eax_152;
		byte SZO_153;
		byte C_154;
		byte Z_155;
		real64 rLoc2_156;
		real64 rArg0_157;
		word32 edx_158;
		real64 rArg1_159;
		real64 rArg2_160;
		real64 rArg3_161;
		struct Eq_4986 * gs_162;
		!sin();
		real32 rLoc30_163 = (real32) rArg2_160;
		ebx_149->r0000 = rLoc30_163;
		ebx_149->dw0004 = 0x00;
		word32 esp_176;
		word32 ebp_177;
		struct Eq_4999 * ebx_178;
		byte SCZO_179;
		real64 rLoc1_180;
		word32 eax_181;
		byte SZO_182;
		byte C_183;
		byte Z_184;
		real64 rLoc2_185;
		word32 edx_187;
		real64 rArg1_188;
		real64 rArg2_189;
		real64 rArg3_190;
		struct Eq_5011 * gs_191;
		!cos();
		ebx_178->r0000 = (real32) rArg3_190;
		ebx_178->dw0004 = 0x00;
		quantum_gate1(dwArg04, dwLoc2C, dwLoc28, dwLoc24, dwArg0C);
		quantum_delete_matrix(fp - 0x18);
	}
	return rArg0;
}

// 0804C4CB: void quantum_r_z(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 rArg08)
void quantum_r_z(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 rArg08)
{
	if (quantum_objcode_put(gs, 0x09, dwArg04, (real64) rArg08, rLoc20) == 0x00)
	{
		quantum_cexp((real32) ((real64) rArg08 / (real64) globals->r8054350), rArg0, rArg1);
		while (fp->ptr000C->dw0004 > *(fp - 0x10))
		{
			struct Eq_5063 * eax_92 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
			Eq_106 edx_93 = eax_92->t000C;
			byte cl_96 = (byte) fp->dw0004;
			uint32 eax_104 = __shrd(eax_92->t0008, edx_93, cl_96);
			uint32 edx_99 = edx_93 >> cl_96;
			if ((cl_96 & 0x20) != 0x00)
				eax_104 = edx_99;
			if ((byte) (eax_104 & 0x01) != 0x00)
			{
				struct Eq_5199 * eax_128 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
				struct Eq_5214 * esi_122 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
				word32 edx_129 = eax_128->dw0000;
				word32 eax_130 = eax_128->dw0004;
				word32 edx_133 = *(fp - 0x18);
				word32 eax_134 = *(fp - 0x14);
				*(fp - 0x20) = eax_134;
				*(fp - 0x24) = edx_133;
				*(fp - 0x28) = eax_130;
				*(fp - 44) = edx_129;
				__mulsc3(dwArg04, rArg08, rArg0C, rArg10);
				esi_122->dw0000 = eax_134;
				esi_122->dw0004 = edx_133;
			}
			else
			{
				struct Eq_5115 * eax_157 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
				struct Eq_5130 * esi_151 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
				word32 edx_158 = eax_157->dw0000;
				word32 eax_159 = eax_157->dw0004;
				word32 edx_162 = *(fp - 0x18);
				word32 eax_163 = *(fp - 0x14);
				*(fp - 0x20) = eax_163;
				*(fp - 0x24) = edx_162;
				*(fp - 0x28) = eax_159;
				*(fp - 44) = edx_158;
				__divsc3(dwArg04, rArg08, rArg0C, rArg10);
				esi_151->dw0000 = eax_163;
				esi_151->dw0004 = edx_162;
			}
			*(fp - 0x10) = *(fp - 0x10) + 0x01;
		}
		*(fp - 44) = (struct Eq_5053 **) fp->ptr000C;
		quantum_decohere(dwArg04, rArg2);
	}
}

// 0804C612: void quantum_phase_scale(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 rArg08)
void quantum_phase_scale(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 rArg08)
{
	if (quantum_objcode_put(gs, 11, dwArg04, (real64) rArg08, rLoc20) == 0x00)
	{
		quantum_cexp(rArg08, rArg0, rArg1);
		while (fp->ptr000C->dw0004 > *(fp - 0x10))
		{
			struct Eq_5315 * eax_83 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
			struct Eq_5330 * esi_77 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
			word32 edx_84 = eax_83->dw0000;
			word32 eax_85 = eax_83->dw0004;
			word32 edx_88 = *(fp - 0x18);
			word32 eax_89 = *(fp - 0x14);
			*(fp - 0x20) = eax_89;
			*(fp - 0x24) = edx_88;
			*(fp - 0x28) = eax_85;
			*(fp - 44) = edx_84;
			__mulsc3(dwArg04, rArg08, rArg0C, rArg10);
			esi_77->dw0000 = eax_89;
			esi_77->dw0004 = edx_88;
			*(fp - 0x10) = *(fp - 0x10) + 0x01;
		}
		*(fp - 44) = (struct Eq_5305 **) fp->ptr000C;
		quantum_decohere(dwArg04, rArg2);
	}
}

// 0804C6CD: void quantum_phase_kick(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 rArg08)
void quantum_phase_kick(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 rArg08)
{
	if (quantum_objcode_put(gs, 0x0A, dwArg04, (real64) rArg08, rLoc20) == 0x00)
	{
		quantum_cexp(rArg08, rArg0, rArg1);
		while (fp->ptr000C->dw0004 > *(fp - 0x10))
		{
			struct Eq_5444 * eax_87 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
			Eq_106 edx_88 = eax_87->t000C;
			byte cl_91 = (byte) fp->dw0004;
			uint32 eax_142 = __shrd(eax_87->t0008, edx_88, cl_91);
			uint32 edx_94 = edx_88 >> cl_91;
			if ((cl_91 & 0x20) != 0x00)
				eax_142 = edx_94;
			if ((byte) (eax_142 & 0x01) != 0x00)
			{
				struct Eq_5508 * eax_123 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
				struct Eq_5523 * esi_117 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
				word32 edx_124 = eax_123->dw0000;
				word32 eax_125 = eax_123->dw0004;
				word32 edx_128 = *(fp - 0x18);
				word32 eax_129 = *(fp - 0x14);
				*(fp - 0x20) = eax_129;
				*(fp - 0x24) = edx_128;
				*(fp - 0x28) = eax_125;
				*(fp - 44) = edx_124;
				__mulsc3(dwArg04, rArg08, rArg0C, rArg10);
				esi_117->dw0000 = eax_129;
				esi_117->dw0004 = edx_128;
			}
			*(fp - 0x10) = *(fp - 0x10) + 0x01;
		}
		*(fp - 44) = (struct Eq_5434 **) fp->ptr000C;
		quantum_decohere(dwArg04, rArg2);
	}
}

// 0804C7B9: void quantum_cond_phase(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_cond_phase(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08)
{
	if (quantum_objcode_put(gs, 0x0C, dwArg04, DPB(rLoc44, dwArg08, 0), rLoc40) == 0x00)
	{
		byte cl_80 = (byte) (dwArg04 - dwArg08);
		int32 edx_237 = __shld(0x00, 0x01, cl_80);
		int32 eax_238 = 0x01 << cl_80;
		if ((cl_80 & 0x20) != 0x00)
		{
			edx_237 = eax_238;
			eax_238 = 0x00;
		}
		real80 rLoc3C_103 = (real80) (real64) DPB(qwLoc54, eax_238, 0);
		if (edx_237 < 0x00)
			rLoc3C_103 = (real80) ((real64) globals->r8054330 + (real64) rLoc3C_103);
		quantum_cexp((real32) (globals->r8054358 / (real64) rLoc3C_103), rArg0, rArg1);
		while (fp->ptr000C->dw0004 > *(fp - 0x10))
		{
			struct Eq_5649 * eax_141 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
			Eq_106 edx_142 = eax_141->t000C;
			byte cl_145 = (byte) fp->dw0004;
			uint32 eax_146 = __shrd(eax_141->t0008, edx_142, cl_145);
			uint32 edx_148 = edx_142 >> cl_145;
			if ((cl_145 & 0x20) != 0x00)
				eax_146 = edx_148;
			if ((byte) (eax_146 & 0x01) != 0x00)
			{
				struct Eq_5713 * eax_176 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
				Eq_106 edx_177 = eax_176->t000C;
				byte cl_180 = (byte) fp->dw0008;
				uint32 eax_181 = __shrd(eax_176->t0008, edx_177, cl_180);
				uint32 edx_183 = edx_177 >> cl_180;
				if ((cl_180 & 0x20) != 0x00)
					eax_181 = edx_183;
				if ((byte) (eax_181 & 0x01) != 0x00)
				{
					struct Eq_5754 * eax_204 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
					struct Eq_5769 * esi_198 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
					word32 edx_205 = eax_204->dw0000;
					word32 eax_206 = eax_204->dw0004;
					word32 edx_209 = *(fp - 0x18);
					word32 eax_210 = *(fp - 0x14);
					*(fp - 0x40) = eax_210;
					*(fp - 0x44) = edx_209;
					*(fp - 0x48) = eax_206;
					*(fp - 0x4C) = edx_205;
					__mulsc3(dwArg04, dwArg08, rArg0C, rArg10);
					esi_198->dw0000 = eax_210;
					esi_198->dw0004 = edx_209;
				}
			}
			*(fp - 0x10) = *(fp - 0x10) + 0x01;
		}
		*(fp - 0x4C) = (struct Eq_5639 **) fp->ptr000C;
		quantum_decohere(dwArg04, rArg2);
	}
}

// 0804C929: void quantum_cond_phase_inv(Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_cond_phase_inv(Eq_106 dwArg04, Eq_106 dwArg08)
{
	byte cl_19 = (byte) (dwArg04 - dwArg08);
	int32 edx_186 = __shld(0x00, 0x01, cl_19);
	int32 eax_187 = 0x01 << cl_19;
	if ((cl_19 & 0x20) != 0x00)
	{
		edx_186 = eax_187;
		eax_187 = 0x00;
	}
	real80 rLoc3C_185 = (real80) (real64) DPB(qwLoc54, eax_187, 0);
	if (edx_186 < 0x00)
		rLoc3C_185 = (real80) ((real64) globals->r8054330 + (real64) rLoc3C_185);
	quantum_cexp((real32) (globals->r8054360 / (real64) rLoc3C_185), rArg0, rArg1);
	while (fp->ptr000C->dw0004 > *(fp - 0x10))
	{
		struct Eq_5886 * eax_90 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
		Eq_106 edx_91 = eax_90->t000C;
		byte cl_94 = (byte) fp->dw0004;
		uint32 eax_102 = __shrd(eax_90->t0008, edx_91, cl_94);
		uint32 edx_97 = edx_91 >> cl_94;
		if ((cl_94 & 0x20) != 0x00)
			eax_102 = edx_97;
		if ((byte) (eax_102 & 0x01) != 0x00)
		{
			struct Eq_5950 * eax_125 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
			Eq_106 edx_126 = eax_125->t000C;
			byte cl_129 = (byte) fp->dw0008;
			uint32 eax_130 = __shrd(eax_125->t0008, edx_126, cl_129);
			uint32 edx_132 = edx_126 >> cl_129;
			if ((cl_129 & 0x20) != 0x00)
				eax_130 = edx_132;
			if ((byte) (eax_130 & 0x01) != 0x00)
			{
				struct Eq_5991 * eax_153 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
				struct Eq_6006 * esi_147 = fp->ptr000C->dw000C + (*(fp - 0x10) << 0x04);
				word32 edx_154 = eax_153->dw0000;
				word32 eax_155 = eax_153->dw0004;
				word32 edx_158 = *(fp - 0x18);
				word32 eax_159 = *(fp - 0x14);
				*(fp - 0x40) = eax_159;
				*(fp - 0x44) = edx_158;
				*(fp - 0x48) = eax_155;
				*(fp - 0x4C) = edx_154;
				__mulsc3(dwArg04, dwArg08, rArg0C, rArg10);
				esi_147->dw0000 = eax_159;
				esi_147->dw0004 = edx_158;
			}
		}
		*(fp - 0x10) = *(fp - 0x10) + 0x01;
	}
	*(fp - 0x4C) = (struct Eq_5876 **) fp->ptr000C;
	quantum_decohere(dwArg04, rArg2);
}

// 0804CA77: void quantum_cond_phase_kick(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 rArg0C)
void quantum_cond_phase_kick(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08, Eq_106 rArg0C)
{
	if (quantum_objcode_put(gs, 0x0C, dwArg04, DPB(rLoc34, dwArg08, 0), (real64) rArg0C) == 0x00)
	{
		quantum_cexp(rArg0C, rArg0, rArg1);
		while (fp->ptr0010->dw0004 > *(fp - 0x10))
		{
			struct Eq_6099 * eax_91 = fp->ptr0010->dw000C + (*(fp - 0x10) << 0x04);
			Eq_106 edx_92 = eax_91->t000C;
			byte cl_95 = (byte) fp->dw0004;
			uint32 eax_103 = __shrd(eax_91->t0008, edx_92, cl_95);
			uint32 edx_98 = edx_92 >> cl_95;
			if ((cl_95 & 0x20) != 0x00)
				eax_103 = edx_98;
			if ((byte) (eax_103 & 0x01) != 0x00)
			{
				struct Eq_6163 * eax_126 = fp->ptr0010->dw000C + (*(fp - 0x10) << 0x04);
				Eq_106 edx_127 = eax_126->t000C;
				byte cl_130 = (byte) fp->dw0008;
				uint32 eax_131 = __shrd(eax_126->t0008, edx_127, cl_130);
				uint32 edx_133 = edx_127 >> cl_130;
				if ((cl_130 & 0x20) != 0x00)
					eax_131 = edx_133;
				if ((byte) (eax_131 & 0x01) != 0x00)
				{
					struct Eq_6204 * eax_154 = fp->ptr0010->dw000C + (*(fp - 0x10) << 0x04);
					struct Eq_6219 * esi_148 = fp->ptr0010->dw000C + (*(fp - 0x10) << 0x04);
					word32 edx_155 = eax_154->dw0000;
					word32 eax_156 = eax_154->dw0004;
					word32 edx_159 = *(fp - 0x18);
					word32 eax_160 = *(fp - 0x14);
					*(fp - 0x30) = eax_160;
					*(fp - 0x34) = edx_159;
					*(fp - 0x38) = eax_156;
					*(fp - 0x3C) = edx_155;
					__mulsc3(dwArg04, dwArg08, rArg0C, rArg10);
					esi_148->dw0000 = eax_160;
					esi_148->dw0004 = edx_159;
				}
			}
			*(fp - 0x10) = *(fp - 0x10) + 0x01;
		}
		*(fp - 0x3C) = (struct Eq_6089 **) fp->ptr0010;
		quantum_decohere(dwArg04, rArg2);
	}
}

// 0804CB9A: void quantum_gate_counter(Stack int32 dwArg04)
void quantum_gate_counter(int32 dwArg04)
{
	if (dwArg04 > 0x00)
		globals->dw80560D8 = globals->dw80560D8 + dwArg04;
	else if (dwArg04 < 0x00)
		globals->dw80560D8 = 0x00;
}

// 0804CBCC: void quantum_memman(Stack int32 dwArg04)
void quantum_memman(int32 dwArg04)
{
	globals->dw80560E0 = globals->dw80560E0 + dwArg04;
	if (globals->dw80560E0 > globals->dw80560DC)
		globals->dw80560DC = globals->dw80560E0;
}

// 0804CBFC: void quantum_new_matrix(Stack (ptr Eq_1050) dwArg04, Stack int32 dwArg08, Stack int32 dwArg0C)
void quantum_new_matrix(Eq_1050 * dwArg04, int32 dwArg08, int32 dwArg0C)
{
	Eq_106 eax_17 = calloc(dwArg08 *s dwArg0C, 0x08);
	if (eax_17 == 0x00)
		quantum_error(0x02);
	quantum_memman(dwArg0C *s dwArg08 << 0x03);
	dwArg04->dw0000 = dwArg0C;
	dwArg04->dw0004 = dwArg08;
	dwArg04->t0008 = eax_17;
}

// 0804CC70: void quantum_delete_matrix(Stack (ptr Eq_1405) dwArg04)
void quantum_delete_matrix(Eq_1405 * dwArg04)
{
	free(dwArg04->t0008);
	quantum_memman(-(dwArg04->dw0000 *s dwArg04->dw0004 << 0x03));
	dwArg04->t0008.u0 = 0x00;
}

// 0804CCAD: void quantum_print_matrix(Stack int32 dwArg04, Stack int32 dwArg08, Stack (arr Eq_13622) dwArg0C)
void quantum_print_matrix(int32 dwArg04, int32 dwArg08, Eq_13622 dwArg0C[])
{
	word32 dwLoc10_21 = 0x00;
	do
	{
		dwLoc10_21 = dwLoc10_109 + 0x01;
		word32 dwLoc10_109 = dwLoc10_21;
	} while (0x01 << (byte) dwLoc10_109 < dwArg04 != 0x00);
	int32 dwLoc08_28 = 0x00;
	while (dwArg04 > dwLoc08_28)
	{
		int32 dwLoc0C_107 = 0x00;
		while (dwArg08 > dwLoc0C_107)
		{
			printf("%g %+gi ", quantum_real(dwArg0C[dwArg08 *s dwLoc08_28 + dwLoc0C_107].dw0000), quantum_imag(*((word32) &(&(dwArg0C + (dwArg08 *s dwLoc08_28 + dwLoc0C_107 << 0x03) / 0x08)->dw0000)[0x00].dw0000 + 0x04)));
			dwLoc0C_107 = dwLoc0C_107 + 0x01;
		}
		putchar(0x0A);
		dwLoc08_28 = dwLoc08_28 + 0x01;
	}
	putchar(0x0A);
}

// 0804CD85: FpuStack real64 quantum_imag(Stack word32 dwArg08)
real64 quantum_imag(word32 dwArg08)
{
	return (real64) dwArg08;
}

// 0804CDA1: FpuStack real64 quantum_real(Stack word32 dwArg04)
real64 quantum_real(word32 dwArg04)
{
	return (real64) dwArg04;
}

// 0804CDBA: void quantum_mmult(Stack (ptr Eq_6414) dwArg04, Stack int32 dwArg08, Stack int32 dwArg0C, Stack word32 dwArg10, Stack int32 dwArg14, Stack int32 dwArg18, Stack word32 dwArg1C)
void quantum_mmult(Eq_6414 * dwArg04, int32 dwArg08, int32 dwArg0C, word32 dwArg10, int32 dwArg14, int32 dwArg18, word32 dwArg1C)
{
	if (dwArg0C != dwArg14)
		quantum_error(0x04);
	quantum_new_matrix(fp - 0x28, dwArg18, dwArg08);
	int32 dwLoc14_109 = 0x00;
	while (dwArg18 > dwLoc14_109)
	{
		int32 dwLoc18_100 = 0x00;
		while (dwArg08 > dwLoc18_100)
		{
			while (dwArg14 > 0x00)
			{
				struct Eq_6452 * eax_145 = dwLoc20 + (dwLoc24 *s dwLoc18_100 + dwLoc14_109 << 0x03);
				struct Eq_6458 * eax_166 = dwArg1C + (dwArg18 *s 0x00 + dwLoc14_109 << 0x03);
				struct Eq_6464 * eax_156 = dwArg10 + (dwArg0C *s dwLoc18_100 << 0x03);
				word32 edi_147 = eax_145->dw0000;
				real32 rLoc34_149 = eax_145->r0004;
				Eq_106 edx_167 = eax_166->t0000;
				Eq_106 eax_168 = eax_166->t0004;
				__mulsc3(eax_156->t0000, eax_156->t0004, edx_167, eax_168);
				struct Eq_6493 * esi_139 = dwLoc20 + (dwLoc24 *s dwLoc18_100 + dwLoc14_109 << 0x03);
				esi_139->r0000 = (real32) ((real64) edi_147 + (real64) eax_168);
				esi_139->r0004 = (real32) ((real64) rLoc34_149 + (real64) edx_167);
			}
			dwLoc18_100 = dwLoc18_100 + 0x01;
		}
		dwLoc14_109 = dwLoc14_109 + 0x01;
	}
	dwArg04->dw0000 = dwLoc28;
	dwArg04->dw0004 = dwLoc24;
	dwArg04->dw0008 = dwLoc20;
}

// 0804CF20: FpuStack real64 quantum_frand(Register Eq_106 eax)
real64 quantum_frand(Eq_106 eax)
{
	word32 esp_8;
	word32 ebp_9;
	byte SCZO_10;
	word32 eax_11;
	real64 rLoc1_12;
	real64 rLoc2_13;
	!rand();
	return (real64) eax_11 / globals->r8054378;
}

// 0804CF3D: Register word32 quantum_measure(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg08, Stack Eq_106 dwArg10)
word32 quantum_measure(Eq_1727 * gs, Eq_106 dwArg08, Eq_106 dwArg10)
{
}

// 0804CFE0: FpuStack real64 quantum_prob_inline(Stack word32 dwArg04, Stack word32 dwArg08)
real64 quantum_prob_inline(word32 dwArg04, word32 dwArg08)
{
	Eq_6577 rLoc08_15 = (real32) quantum_real(dwArg04);
	Eq_6583 rLoc0C_21 = (real32) quantum_imag(dwArg08);
	return (real64) rLoc08_15 * rLoc08_15 + (real64) rLoc0C_21 * rLoc0C_21;
}

// 0804D020: FpuStack real64 quantum_real(Stack word32 dwArg04)
real64 quantum_real(word32 dwArg04)
{
	return (real64) dwArg04;
}

// 0804D039: FpuStack real64 quantum_imag(Stack word32 dwArg08)
real64 quantum_imag(word32 dwArg08)
{
	return (real64) dwArg08;
}

// 0804D055: Register word32 quantum_bmeasure(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
word32 quantum_bmeasure(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08)
{
	word32 dwLoc50_156;
	word32 dwLoc14_11 = 0x00;
	Eq_378 rLoc1C_13 = 0.0;
	if (quantum_objcode_put(gs, 0x81, dwArg04, rLoc74, rLoc70) != 0x00)
		dwLoc50_156 = 0x00;
	else
	{
		byte cl_74 = (byte) dwArg04;
		int32 edx_197 = __shld(0x00, 0x01, cl_74);
		int32 eax_198 = 0x01 << cl_74;
		if ((cl_74 & 0x20) != 0x00)
		{
			edx_197 = eax_198;
			eax_198 = 0x00;
		}
		Eq_106 dwLoc10_181 = 0x00;
		while (true)
		{
			word32 eax_103 = Mem0[dwArg08 + 0x04:word32];
			if (eax_103 <= dwLoc10_181)
				break;
			word32 eax_162 = Mem0[dwArg08 + 0x0C:word32] + (dwLoc10_181 << 0x04);
			if ((eax_162->dw0008 & eax_198 | eax_162->dw000C & edx_197) == 0x00)
			{
				word32 edx_187 = Mem0[dwArg08 + 0x0C:word32] + (dwLoc10_181 << 0x04);
				rLoc1C_13 = quantum_prob_inline(edx_187->dw0000, edx_187->dw0004) + rLoc1C_13;
			}
			dwLoc10_181 = dwLoc10_181 + 0x01;
		}
		if (quantum_frand(eax_103) > rLoc1C_13)
			dwLoc14_11 = 0x01;
		quantum_state_collapse(fp - 0x40, dwArg04, dwLoc14_11, *dwArg08, Mem0[dwArg08 + 0x04:word32], Mem0[dwArg08 + 0x08:word32], Mem0[dwArg08 + 0x0C:word32], Mem0[dwArg08 + 0x10:word32]);
		quantum_delete_qureg_hashpreserve(dwArg08);
		*dwArg08 = dwLoc40;
		Mem145[dwArg08 + 0x04:word32] = dwLoc3C;
		Mem148[dwArg08 + 0x08:word32] = dwLoc38;
		Mem151[dwArg08 + 0x0C:word32] = dwLoc34;
		Mem154[dwArg08 + 0x10:word32] = dwLoc30;
		dwLoc50_156 = dwLoc14_11;
	}
	return dwLoc50_156;
}

// 0804D1A8: void quantum_bmeasure_bitpreserve(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_bmeasure_bitpreserve(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08)
{
}

// 0804D538: void test_sum(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C)
void test_sum(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C)
{
	byte cl_21 = (byte) (dwArg08 - 0x01);
	uint32 eax_24 = __shrd(dwArg04, dwArg04 >> 0x1F, cl_21);
	uint32 edx_26 = dwArg04 >> 0x1F >> cl_21;
	if ((cl_21 & 0x20) != 0x00)
		eax_24 = edx_26;
	if ((byte) (eax_24 & 0x01) != 0x00)
	{
		quantum_cnot(gs, dwArg08 * 0x02 - 0x01, dwArg08 - 0x01, dwArg0C);
		quantum_sigma_x(gs, dwArg08 * 0x02 - 0x01, dwArg0C);
		quantum_cnot(gs, dwArg08 * 0x02 - 0x01, 0x00, dwArg0C);
	}
	else
	{
		quantum_sigma_x(gs, dwArg08 * 0x02 - 0x01, dwArg0C);
		quantum_cnot(gs, dwArg08 * 0x02 - 0x01, dwArg08 - 0x01, dwArg0C);
	}
	Eq_106 dwLoc10_274 = dwArg08 - 0x02;
	while (dwLoc10_274 > 0x00)
	{
		if ((byte) (dwArg04 >> (byte) dwLoc10_274 & 0x01) != 0x00)
		{
			quantum_toffoli(gs, dwLoc10_274 + 0x01, dwArg08 + dwLoc10_274, dwLoc10_274, dwArg0C);
			quantum_sigma_x(gs, dwArg08 + dwLoc10_274, dwArg0C);
			quantum_toffoli(gs, dwLoc10_274 + 0x01, dwArg08 + dwLoc10_274, 0x00, dwArg0C);
		}
		else
		{
			quantum_sigma_x(gs, dwArg08 + dwLoc10_274, dwArg0C);
			quantum_toffoli(gs, dwLoc10_274 + 0x01, dwArg08 + dwLoc10_274, dwLoc10_274, dwArg0C);
		}
		dwLoc10_274 = dwLoc10_274 - 0x01;
	}
	if ((byte) (dwArg04 & 0x01) != 0x00)
	{
		quantum_sigma_x(gs, dwArg08, dwArg0C);
		quantum_toffoli(gs, dwArg08, 0x01, 0x00, dwArg0C);
	}
	quantum_toffoli(gs, dwArg08 * 0x02 + 0x01, 0x00, dwArg08 * 0x02, dwArg0C);
	if ((byte) (dwArg04 & 0x01) != 0x00)
	{
		quantum_toffoli(gs, dwArg08, 0x01, 0x00, dwArg0C);
		quantum_sigma_x(gs, dwArg08, dwArg0C);
	}
	Eq_106 dwLoc10_191 = 0x01;
	while (dwArg08 - 0x02 >= dwLoc10_191)
	{
		if ((byte) (dwArg04 >> (byte) dwLoc10_191 & 0x01) != 0x00)
		{
			quantum_toffoli(gs, dwLoc10_191 + 0x01, dwArg08 + dwLoc10_191, 0x00, dwArg0C);
			quantum_sigma_x(gs, dwArg08 + dwLoc10_191, dwArg0C);
			quantum_toffoli(gs, dwLoc10_191 + 0x01, dwArg08 + dwLoc10_191, dwLoc10_191, dwArg0C);
		}
		else
		{
			quantum_toffoli(gs, dwLoc10_191 + 0x01, dwArg08 + dwLoc10_191, dwLoc10_191, dwArg0C);
			quantum_sigma_x(gs, dwArg08 + dwLoc10_191, dwArg0C);
		}
		dwLoc10_191 = dwLoc10_191 + 0x01;
	}
	if ((byte) (dwArg04 >> (byte) (dwArg08 - 0x01) & 0x01) != 0x00)
	{
		quantum_cnot(gs, dwArg08 * 0x02 - 0x01, 0x00, dwArg0C);
		quantum_sigma_x(gs, dwArg08 * 0x02 - 0x01, dwArg0C);
		quantum_cnot(gs, dwArg08 * 0x02 - 0x01, dwArg08 - 0x01, dwArg0C);
	}
	else
	{
		quantum_cnot(gs, dwArg08 * 0x02 - 0x01, dwArg08 - 0x01, dwArg0C);
		quantum_sigma_x(gs, dwArg08 * 0x02 - 0x01, dwArg0C);
	}
}

// 0804D8FE: void muxfa(Register (ptr Eq_1727) gs, Stack word32 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10, Stack Eq_106 dwArg14, Stack Eq_106 dwArg18, Stack Eq_106 dwArg20)
void muxfa(Eq_1727 * gs, word32 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10, Eq_106 dwArg14, Eq_106 dwArg18, Eq_106 dwArg20)
{
	if (dwArg04 == 0x00)
	{
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg20);
	}
	if (dwArg04 == 0x03)
	{
		quantum_toffoli(gs, dwArg18, dwArg0C, dwArg10, dwArg20);
		quantum_cnot(gs, dwArg18, dwArg0C, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg20);
	}
	if (dwArg04 == 0x01)
	{
		quantum_toffoli(gs, dwArg18, dwArg14, dwArg08, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_toffoli(gs, dwArg18, dwArg14, dwArg08, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_toffoli(gs, dwArg18, dwArg14, dwArg0C, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg20);
	}
	if (dwArg04 == 0x02)
	{
		quantum_sigma_x(gs, dwArg14, dwArg20);
		quantum_toffoli(gs, dwArg18, dwArg14, dwArg08, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_toffoli(gs, dwArg18, dwArg14, dwArg08, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_toffoli(gs, dwArg18, dwArg14, dwArg0C, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg20);
		quantum_sigma_x(gs, dwArg14, dwArg20);
	}
}

// 0804DBA7: void muxfa_inv(Register (ptr Eq_1727) gs, Stack word32 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10, Stack Eq_106 dwArg14, Stack Eq_106 dwArg18, Stack Eq_106 dwArg20)
void muxfa_inv(Eq_1727 * gs, word32 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10, Eq_106 dwArg14, Eq_106 dwArg18, Eq_106 dwArg20)
{
	if (dwArg04 == 0x00)
	{
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
	}
	if (dwArg04 == 0x03)
	{
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_cnot(gs, dwArg18, dwArg0C, dwArg20);
		quantum_toffoli(gs, dwArg18, dwArg0C, dwArg10, dwArg20);
	}
	if (dwArg04 == 0x01)
	{
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_toffoli(gs, dwArg18, dwArg14, dwArg0C, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_toffoli(gs, dwArg18, dwArg14, dwArg08, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_toffoli(gs, dwArg18, dwArg14, dwArg08, dwArg20);
	}
	if (dwArg04 == 0x02)
	{
		quantum_sigma_x(gs, dwArg14, dwArg20);
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_toffoli(gs, dwArg18, dwArg14, dwArg0C, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_toffoli(gs, dwArg18, dwArg14, dwArg08, dwArg20);
		quantum_toffoli(gs, dwArg08, dwArg0C, dwArg10, dwArg20);
		quantum_toffoli(gs, dwArg18, dwArg14, dwArg08, dwArg20);
		quantum_sigma_x(gs, dwArg14, dwArg20);
	}
}

// 0804DE50: void muxha(Register (ptr Eq_1727) gs, Stack word32 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10, Stack Eq_106 dwArg14, Stack Eq_106 dwArg1C)
void muxha(Eq_1727 * gs, word32 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10, Eq_106 dwArg14, Eq_106 dwArg1C)
{
	if (dwArg04 == 0x00)
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg1C);
	if (dwArg04 == 0x03)
	{
		quantum_cnot(gs, dwArg14, dwArg0C, dwArg1C);
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg1C);
	}
	if (dwArg04 == 0x01)
	{
		quantum_toffoli(gs, dwArg14, dwArg10, dwArg0C, dwArg1C);
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg1C);
	}
	if (dwArg04 == 0x02)
	{
		quantum_sigma_x(gs, dwArg10, dwArg1C);
		quantum_toffoli(gs, dwArg14, dwArg10, dwArg0C, dwArg1C);
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg1C);
		quantum_sigma_x(gs, dwArg10, dwArg1C);
	}
}

// 0804DF51: void muxha_inv(Register (ptr Eq_1727) gs, Stack word32 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10, Stack Eq_106 dwArg14, Stack Eq_106 dwArg1C)
void muxha_inv(Eq_1727 * gs, word32 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10, Eq_106 dwArg14, Eq_106 dwArg1C)
{
	if (dwArg04 == 0x00)
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg1C);
	if (dwArg04 == 0x03)
	{
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg1C);
		quantum_cnot(gs, dwArg14, dwArg0C, dwArg1C);
	}
	if (dwArg04 == 0x01)
	{
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg1C);
		quantum_toffoli(gs, dwArg14, dwArg10, dwArg0C, dwArg1C);
	}
	if (dwArg04 == 0x02)
	{
		quantum_sigma_x(gs, dwArg10, dwArg1C);
		quantum_cnot(gs, dwArg08, dwArg0C, dwArg1C);
		quantum_toffoli(gs, dwArg14, dwArg10, dwArg0C, dwArg1C);
		quantum_sigma_x(gs, dwArg10, dwArg1C);
	}
}

// 0804E052: void madd(Register (ptr Eq_1727) gs, Stack int32 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10)
void madd(Eq_1727 * gs, int32 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10)
{
	Eq_106 dwLoc10_162 = 0x00;
	while (dwArg0C - 0x01 > dwLoc10_162)
	{
		word32 dwLoc14_127;
		if ((byte) (dwArg04 >> (byte) dwLoc10_162 & 0x01) != 0x00)
			dwLoc14_127 = 0x02;
		else
			dwLoc14_127 = 0x00;
		if ((byte) (dwArg08 >> (byte) dwLoc10_162 & 0x01) != 0x00)
			dwLoc14_127 = dwLoc14_127 + 0x01;
		muxfa(gs, dwLoc14_127, dwArg0C + dwLoc10_162, dwLoc10_162, dwLoc10_162 + 0x01, dwArg0C * 0x02, dwArg0C * 0x02 + 0x01, dwArg10);
		dwLoc10_162 = dwLoc10_162 + 0x01;
	}
	word32 dwLoc14_115 = 0x00;
	if ((byte) (dwArg04 >> (byte) (dwArg0C - 0x01) & 0x01) != 0x00)
		dwLoc14_115 = 0x02;
	if ((byte) (dwArg08 >> (byte) (dwArg0C - 0x01) & 0x01) != 0x00)
		dwLoc14_115 = dwLoc14_115 + 0x01;
	muxha(gs, dwLoc14_115, dwArg0C * 0x02 - 0x01, dwArg0C - 0x01, dwArg0C * 0x02, dwArg0C * 0x02 + 0x01, dwArg10);
}

// 0804E187: void madd_inv(Register (ptr Eq_1727) gs, Stack int32 dwArg04, Stack int32 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10)
void madd_inv(Eq_1727 * gs, int32 dwArg04, int32 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10)
{
	word32 dwLoc14_156 = 0x00;
	if ((byte) (dwArg04 >> (byte) (dwArg0C - 0x01) & 0x01) != 0x00)
		dwLoc14_156 = 0x02;
	if ((byte) (dwArg08 >> (byte) (dwArg0C - 0x01) & 0x01) != 0x00)
		dwLoc14_156 = dwLoc14_156 + 0x01;
	muxha_inv(gs, dwLoc14_156, dwArg0C - 0x01, dwArg0C * 0x02 - 0x01, dwArg0C * 0x02, dwArg0C * 0x02 + 0x01, dwArg10);
	Eq_106 dwLoc10_148 = dwArg0C - 0x02;
	while (dwLoc10_148 >= 0x00)
	{
		word32 dwLoc14_111;
		if ((byte) (dwArg04 >> (byte) dwLoc10_148 & 0x01) != 0x00)
			dwLoc14_111 = 0x02;
		else
			dwLoc14_111 = 0x00;
		if ((byte) (dwArg08 >> (byte) dwLoc10_148 & 0x01) != 0x00)
			dwLoc14_111 = dwLoc14_111 + 0x01;
		muxfa_inv(gs, dwLoc14_111, dwLoc10_148, dwArg0C + dwLoc10_148, dwArg0C + 0x01 + dwLoc10_148, dwArg0C * 0x02, dwArg0C * 0x02 + 0x01, dwArg10);
		dwLoc10_148 = dwLoc10_148 - 0x01;
	}
}

// 0804E2BE: void addn(Register (ptr Eq_1727) gs, Stack Eq_84 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10)
void addn(Eq_1727 * gs, Eq_84 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10)
{
	test_sum(gs, dwArg04 - dwArg08, dwArg0C, dwArg10);
	madd(gs, (0x01 << (byte) dwArg0C) + dwArg08 - dwArg04, dwArg08, dwArg0C, dwArg10);
}

// 0804E317: void addn_inv(Register (ptr Eq_1727) gs, Stack Eq_84 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10)
void addn_inv(Eq_1727 * gs, Eq_84 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10)
{
	quantum_cnot(gs, dwArg0C * 0x02 + 0x01, dwArg0C * 0x02, dwArg10);
	madd_inv(gs, (0x01 << (byte) dwArg0C) - dwArg08, dwArg04 - dwArg08, dwArg0C, dwArg10);
	quantum_swaptheleads(gs, dwArg0C, dwArg10);
	test_sum(gs, dwArg08, dwArg0C, dwArg10);
}

// 0804E3A0: void add_mod_n(Register (ptr Eq_1727) gs, Stack Eq_84 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10)
void add_mod_n(Eq_1727 * gs, Eq_84 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10)
{
	addn(gs, dwArg04, dwArg08, dwArg0C, dwArg10);
	addn_inv(gs, dwArg04, dwArg08, dwArg0C, dwArg10);
}

// 0804E3E8: void quantum_mu2char(Stack Eq_106 dwArg04, Stack Eq_106 dwArg08, Stack ptr32 dwArg0C)
void quantum_mu2char(Eq_106 dwArg04, Eq_106 dwArg08, ptr32 dwArg0C)
{
	Eq_106 dwLoc24_13 = dwArg04;
	Eq_106 dwLoc20_16 = dwArg08;
	int32 dwLoc10_101 = 0x00;
	while (dwLoc10_101 < 0x08)
	{
		byte cl_57 = (byte) (~(dwLoc10_101 - 0x08) * 0x08);
		byte * ebx_51 = dwLoc10_101 + dwArg0C;
		byte al_110 = (byte) __shrd(dwLoc24_13, dwLoc20_16, cl_57);
		uint32 edx_62 = dwLoc20_16 >> cl_57;
		if ((cl_57 & 0x20) != 0x00)
			al_110 = (byte) edx_62;
		*ebx_51 = al_110;
		byte cl_74 = (byte) (~(dwLoc10_101 - 0x08) * 0x08);
		int32 edx_103 = __shld(0x00, 0x01, cl_74);
		int32 eax_104 = 0x01 << cl_74;
		if ((cl_74 & 0x20) != 0x00)
		{
			edx_103 = eax_104;
			eax_104 = 0x00;
		}
		ui64 edx_eax_89 = SEQ(edx_103, eax_104 + ~0x00);
		dwLoc24_13 = dwLoc24_13 & (word32) (edx_eax_89 + 0xFFFFFFFFFF);
		dwLoc20_16 = dwLoc20_16 & SLICE(edx_eax_89 + 0xFFFFFFFFFF, word32, 32);
		dwLoc10_101 = dwLoc10_101 + 0x01;
	}
}

// 0804E481: void quantum_int2char(Stack Eq_106 dwArg04, Stack Eq_7666 dwArg08)
void quantum_int2char(Eq_106 dwArg04, Eq_7666 dwArg08)
{
	Eq_7667 dwLoc0C_12 = 0x00;
	while (dwLoc0C_12 < 0x04)
	{
		Mem62[dwLoc0C_12 + dwArg08:byte] = (byte) (int32) (SEQ(dwArg04 >> 0x1F, dwArg04) / (0x01 << (byte) (~(dwLoc0C_12 - 0x04) * 0x08)));
		dwArg04 = (int32) (SEQ(dwArg04 >> 0x1F, dwArg04) % (0x01 << (byte) (~(dwLoc0C_12 - 0x04) * 0x08)));
		dwLoc0C_12 = (word32) dwLoc0C_12 + 0x01;
	}
}

// 0804E509: void quantum_double2char(Stack word32 dwArg04, Stack word32 dwArg08, Stack (ptr byte) dwArg0C)
void quantum_double2char(word32 dwArg04, word32 dwArg08, byte * dwArg0C)
{
	byte * dwLoc08_16 = null;
	while (dwLoc08_16 <= (byte *) 0x07)
	{
		Mem37[dwLoc08_16 + dwArg0C:byte] = (byte) (word32) Mem0[dwLoc08_16 + (fp - 0x1C):byte];
		dwLoc08_16 = dwLoc08_16 + 0x01;
	}
}

// 0804E54B: Register word32 quantum_char2mu(Stack Eq_7721 dwArg04, Register out ptr32 edxOut)
word32 quantum_char2mu(Eq_7721 dwArg04, ptr32 & edxOut)
{
	word32 dwLoc1C_13 = 0x00;
	word32 dwLoc18_14 = 0x00;
	Eq_7727 dwLoc10_19 = 0x07;
	while (dwLoc10_19 >= 0x00)
	{
		word32 eax_67 = (word32) (byte) (word32) Mem0[dwLoc10_19 + dwArg04:byte];
		byte cl_75 = (byte) (~(dwLoc10_19 - 0x08) * 0x08);
		__shld(0x00, eax_67, cl_75);
		ui32 eax_102 = eax_67 << cl_75;
		if ((cl_75 & 0x20) != 0x00)
			eax_102 = 0x00;
		dwLoc1C_13 = dwLoc1C_13 + eax_102;
		dwLoc18_14 = v17;
		dwLoc10_19 = dwLoc10_19 - 0x01;
	}
	word32 edx_50;
	*edxOut = dwLoc18_14;
	return dwLoc1C_13;
}

// 0804E5C6: Register word32 quantum_char2int(Stack Eq_7761 dwArg04)
word32 quantum_char2int(Eq_7761 dwArg04)
{
	word32 dwLoc14_10 = 0x00;
	Eq_7764 dwLoc0C_15 = 0x03;
	while (dwLoc0C_15 >= 0x00)
	{
		dwLoc14_10 = dwLoc14_10 + ((word32) ((byte) ((word32) Mem0[dwLoc0C_15 + dwArg04:byte])) << (byte) (~(dwLoc0C_15 - 0x04) * 0x08));
		dwLoc0C_15 = dwLoc0C_15 - 0x01;
	}
	return dwLoc14_10;
}

// 0804E61D: FpuStack real64 quantum_char2double(Stack (ptr real64) dwArg04)
real64 quantum_char2double(real64 * dwArg04)
{
	return *dwArg04;
}

// 0804E630: void quantum_objcode_start()
void quantum_objcode_start()
{
	globals->dw80560E4 = 0x01;
	globals->dw80560F0 = 0x01;
	globals->t80560E8 = malloc(0x00010000);
	if (globals->t80560E8 == 0x00)
		quantum_error(0x02);
	quantum_memman(0x00010000);
}

// 0804E67E: void quantum_objcode_stop()
void quantum_objcode_stop()
{
	globals->dw80560E4 = 0x00;
	free(globals->t80560E8);
	globals->t80560E8.u0 = 0x00;
	quantum_memman(-(globals->dw80560F0 << 0x10));
	globals->dw80560F0 = 0x00;
}

// 0804E6C3: Register word32 quantum_objcode_put(Register (ptr Eq_1727) gs, Stack word32 dwArg04, Stack Eq_106 dwArg08, Stack real64 rArg0C, Stack real64 rArg10)
word32 quantum_objcode_put(Eq_1727 * gs, word32 dwArg04, Eq_106 dwArg08, real64 rArg0C, real64 rArg10)
{
	word32 dwLoc80_110;
	byte al_9 = (byte) dwArg04;
	word32 eax_13 = gs->dw0014;
	int32 dwLoc60_16 = 0x00;
	if (globals->dw80560E4 == 0x00)
	{
		dwLoc80_110 = 0x00;
		goto l0804EA67;
	}
	int32 edx_69 = (word32) al_9;
	if (edx_69 <= 11)
	{
		if (edx_69 >= 0x07)
		{
			quantum_int2char(dwArg08, fp - 0x57);
			quantum_double2char((word32) rArg0C, SLICE(rArg0C, word32, 32), fp - 0x53);
			dwLoc60_16 = 0x0D;
			goto l0804E9BD;
		}
		if (edx_69 == 0x02)
		{
			quantum_int2char(dwArg08, fp - 0x57);
			quantum_int2char(dwArg0C, fp - 0x53);
			quantum_int2char(dwArg10, fp - 0x4F);
			dwLoc60_16 = 0x0D;
			goto l0804E9BD;
		}
		if (edx_69 <= 0x02)
		{
			if (edx_69 == 0x00)
			{
				quantum_mu2char(dwArg08, dwArg0C, fp - 0x57);
				dwLoc60_16 = 0x09;
				goto l0804E9BD;
			}
			if (edx_69 != 0x01)
			{
l0804E9B1:
				quantum_error(0x00010001);
				goto l0804E9BD;
			}
l0804E7D8:
			quantum_int2char(dwArg08, fp - 0x57);
			quantum_int2char(dwArg0C, fp - 0x53);
			dwLoc60_16 = 0x09;
			goto l0804E9BD;
		}
		goto l0804E8A9;
	}
	if (edx_69 != 0x80)
	{
		if (edx_69 <= 0x80)
		{
			if (edx_69 != 0x0D)
			{
				if (edx_69 < 0x0D)
					goto l0804E7D8;
				if (edx_69 != 0x0E)
					goto l0804E9B1;
l0804E8A9:
				quantum_int2char(dwArg08, fp - 0x57);
				dwLoc60_16 = 0x05;
				goto l0804E9BD;
			}
			quantum_int2char(dwArg08, fp - 0x57);
			quantum_int2char(dwArg0C, fp - 0x53);
			quantum_double2char((word32) rArg10, SLICE(rArg10, word32, 32), fp - 0x4F);
			dwLoc60_16 = 0x11;
l0804E9BD:
			if (Mem0[0x080560EC:word32] + dwLoc60_16 >>u 0x10 >u Mem0[0x080560EC:word32] >>u 0x10)
			{
				globals->dw80560F0 = globals->dw80560F0 + 0x01;
				globals->t80560E8 = realloc(globals->t80560E8, globals->dw80560F0 << 0x10);
				if (globals->t80560E8 == 0x00)
					quantum_error(0x02);
				quantum_memman(0x00010000);
			}
			int32 dwLoc5C_103 = 0x00;
			while (dwLoc5C_103 < dwLoc60_16)
			{
				Mem117[Mem0[0x080560E8:word32] + Mem0[0x080560EC:word32]:byte] = (byte) (word32) (&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(&(fp - 88)[dwLoc5C_103].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00].a0000)[0x00];
				Mem120[0x080560EC:word32] = Mem117[0x080560EC:word32] + 0x01;
				dwLoc5C_103 = dwLoc5C_103 + 0x01;
			}
			dwLoc80_110 = 0x01;
l0804EA67:
			if ((eax_13 ^ gs->dw0014) == 0x00)
				return dwLoc80_110;
			__stack_chk_fail();
		}
		if (edx_69 <= 0x82)
			goto l0804E8A9;
		if (edx_69 != 0xFF)
			goto l0804E9B1;
	}
	dwLoc60_16 = 0x01;
	goto l0804E9BD;
}

// 0804EA7D: void quantum_objcode_write(Stack (ptr char) dwArg04)
void quantum_objcode_write(char * dwArg04)
{
	if (globals->dw80560E4 == 0x00)
		fwrite(0x08054380, 0x01, 0x49, globals->ptr80560A0);
	else
	{
		if (dwArg04 == null)
			dwArg04 = globals->ptr8056100;
		FILE * eax_45 = fopen(dwArg04, "w");
		if (eax_45 != null)
		{
			fwrite(globals->t80560E8, globals->t80560EC, 0x01, eax_45);
			fclose(eax_45);
		}
	}
}

// 0804EB2B: void quantum_objcode_file(Stack (ptr char) dwArg04)
void quantum_objcode_file(char * dwArg04)
{
	globals->ptr8056100 = dwArg04;
}

// 0804EB38: void quantum_objcode_exit()
void quantum_objcode_exit()
{
	quantum_objcode_write(null);
	quantum_objcode_stop();
}

// 0804EB51: void quantum_objcode_run(Register (ptr Eq_1727) gs, Stack (ptr char) dwArg04, Stack Eq_106 dwArg08)
void quantum_objcode_run(Eq_1727 * gs, char * dwArg04, Eq_106 dwArg08)
{
}

// 0804F2F4: void emul(Register (ptr Eq_1727) gs, Stack int32 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10)
void emul(Eq_1727 * gs, int32 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10)
{
	int32 dwLoc08_11 = dwArg0C - 0x01;
	while (dwLoc08_11 >= 0x00)
	{
		if ((byte) (dwArg04 >> (byte) dwLoc08_11 & 0x01) != 0x00)
			quantum_toffoli(gs, (dwArg0C + 0x01) * 0x02, dwArg08, dwArg0C + dwLoc08_11, dwArg10);
		dwLoc08_11 = dwLoc08_11 - 0x01;
	}
}

// 0804F34C: void muln(Register (ptr Eq_1727) gs, Stack Eq_84 dwArg04, Stack Eq_208 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10, Stack Eq_106 dwArg14)
void muln(Eq_1727 * gs, Eq_84 dwArg04, Eq_208 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10, Eq_106 dwArg14)
{
	Eq_106 eax_10 = dwArg10 * 0x02 + 0x01;
	quantum_toffoli(gs, dwArg0C, (dwArg10 + 0x01) * 0x02, eax_10, dwArg14);
	emul(gs, (int32) (SEQ(dwArg08 >> 0x1F, dwArg08) % dwArg04), eax_10, dwArg10, dwArg14);
	quantum_toffoli(gs, dwArg0C, (dwArg10 + 0x01) * 0x02, eax_10, dwArg14);
	Eq_106 dwLoc08_118 = 0x01;
	while (dwLoc08_118 < dwArg10)
	{
		quantum_toffoli(gs, dwArg0C, (dwArg10 + 0x01) * 0x02 + dwLoc08_118, eax_10, dwArg14);
		Eq_8482 edx_89 = dwArg08 << (byte) dwLoc08_118;
		add_mod_n(gs, dwArg04, (int32) (SEQ(edx_89 >> 0x1F, edx_89) % dwArg04), dwArg10, dwArg14);
		quantum_toffoli(gs, dwArg0C, (dwArg10 + 0x01) * 0x02 + dwLoc08_118, eax_10, dwArg14);
		dwLoc08_118 = dwLoc08_118 + 0x01;
	}
}

// 0804F472: void muln_inv(Register (ptr Eq_1727) gs, Stack Eq_84 dwArg04, Stack Eq_208 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10, Stack Eq_106 dwArg14)
void muln_inv(Eq_1727 * gs, Eq_84 dwArg04, Eq_208 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10, Eq_106 dwArg14)
{
	Eq_106 eax_10 = dwArg10 * 0x02 + 0x01;
	Eq_8513 eax_19 = quantum_inverse_mod(dwArg04, dwArg08);
	int32 dwLoc08_136 = dwArg10 - 0x01;
	while (dwLoc08_136 > 0x00)
	{
		quantum_toffoli(gs, dwArg0C, (dwArg10 + 0x01) * 0x02 + dwLoc08_136, eax_10, dwArg14);
		Eq_8529 edx_103 = eax_19 << (byte) dwLoc08_136;
		add_mod_n(gs, dwArg04, dwArg04 - (int32) (SEQ(edx_103 >> 0x1F, edx_103) % dwArg04), dwArg10, dwArg14);
		quantum_toffoli(gs, dwArg0C, (dwArg10 + 0x01) * 0x02 + dwLoc08_136, eax_10, dwArg14);
		dwLoc08_136 = dwLoc08_136 - 0x01;
	}
	quantum_toffoli(gs, dwArg0C, (dwArg10 + 0x01) * 0x02, eax_10, dwArg14);
	emul(gs, (int32) (SEQ(eax_19 >> 0x1F, eax_19) % dwArg04), eax_10, dwArg10, dwArg14);
	quantum_toffoli(gs, dwArg0C, (dwArg10 + 0x01) * 0x02, eax_10, dwArg14);
}

// 0804F5B6: void mul_mod_n(Register (ptr Eq_1727) gs, Stack Eq_84 dwArg04, Stack Eq_208 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10, Stack Eq_106 dwArg14)
void mul_mod_n(Eq_1727 * gs, Eq_84 dwArg04, Eq_208 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10, Eq_106 dwArg14)
{
	muln(gs, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
	quantum_swaptheleads_omuln_controlled(gs, dwArg0C, dwArg10, dwArg14);
	muln_inv(gs, dwArg04, dwArg08, dwArg0C, dwArg10, dwArg14);
}

// 0804F628: void quantum_qec_set_status(Stack word32 dwArg04, Stack Eq_106 dwArg08)
void quantum_qec_set_status(word32 dwArg04, Eq_106 dwArg08)
{
	globals->dw80560F4 = dwArg04;
	globals->t80560F8 = dwArg08;
}

// 0804F63D: void quantum_qec_get_status(Stack (ptr word32) dwArg04, Stack (ptr Eq_106) dwArg08)
void quantum_qec_get_status(word32 * dwArg04, Eq_106 * dwArg08)
{
	if (dwArg04 != null)
		*dwArg04 = globals->dw80560F4;
	if (dwArg08 != null)
		*dwArg08 = (union Eq_106 *) globals->t80560F8;
}

// 0804F664: void quantum_qec_encode(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C)
void quantum_qec_encode(Eq_1727 * gs, Eq_106 dwArg08, Eq_106 dwArg0C)
{
	real32 rLoc0C_9 = (real32) quantum_get_decoherence();
	quantum_set_decoherence(0x00);
	Eq_106 dwLoc08_12 = 0x00;
	while (*dwArg0C > dwLoc08_12)
	{
		if (*dwArg0C - 0x01 == dwLoc08_12)
			quantum_set_decoherence(rLoc0C_9);
		if (dwLoc08_12 < dwArg08)
		{
			quantum_hadamard(gs, Mem0[dwArg0C + 0x00:word32] + dwLoc08_12, dwArg0C);
			quantum_hadamard(gs, Mem0[dwArg0C + 0x00:word32] * 0x02 + dwLoc08_12, dwArg0C);
			quantum_cnot(gs, Mem0[dwArg0C + 0x00:word32] + dwLoc08_12, dwLoc08_12, dwArg0C);
			quantum_cnot(gs, Mem0[dwArg0C + 0x00:word32] * 0x02 + dwLoc08_12, dwLoc08_12, dwArg0C);
		}
		else
		{
			quantum_cnot(gs, dwLoc08_12, Mem0[dwArg0C + 0x00:word32] + dwLoc08_12, dwArg0C);
			quantum_cnot(gs, dwLoc08_12, Mem0[dwArg0C + 0x00:word32] * 0x02 + dwLoc08_12, dwArg0C);
		}
		dwLoc08_12 = dwLoc08_12 + 0x01;
	}
	quantum_qec_set_status(0x01, *dwArg0C);
	*dwArg0C = *dwArg0C * 0x03;
}

// 0804F79F: void quantum_qec_decode(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C)
void quantum_qec_decode(Eq_1727 * gs, Eq_106 dwArg08, Eq_106 dwArg0C)
{
	real32 rLoc18_9 = (real32) quantum_get_decoherence();
	quantum_set_decoherence(0x00);
	Eq_106 eax_15 = *dwArg0C;
	quantum_qec_set_status(0x00, 0x00);
	Eq_106 eax_32 = *dwArg0C;
	Eq_106 edx_25 = SLICE(eax_15 *s 0x55555556, word32, 32) - (eax_15 >> 0x1F);
	Eq_106 dwLoc08_129 = SLICE(eax_32 *s 0x55555556, word32, 32) - (eax_32 >> 0x1F) - 0x01;
	while (dwLoc08_129 >= 0x00)
	{
		if (dwLoc08_129 == 0x00)
			quantum_set_decoherence(rLoc18_9);
		if (dwLoc08_129 < dwArg08)
		{
			quantum_cnot(gs, edx_25 * 0x02 + dwLoc08_129, dwLoc08_129, dwArg0C);
			quantum_cnot(gs, edx_25 + dwLoc08_129, dwLoc08_129, dwArg0C);
			quantum_hadamard(gs, edx_25 * 0x02 + dwLoc08_129, dwArg0C);
			quantum_hadamard(gs, edx_25 + dwLoc08_129, dwArg0C);
		}
		else
		{
			quantum_cnot(gs, dwLoc08_129, edx_25 * 0x02 + dwLoc08_129, dwArg0C);
			quantum_cnot(gs, dwLoc08_129, edx_25 + dwLoc08_129, dwArg0C);
		}
		dwLoc08_129 = dwLoc08_129 - 0x01;
	}
	Eq_106 dwLoc08_103 = 0x01;
	while (dwLoc08_103 <= edx_25)
	{
		word32 eax_82 = quantum_bmeasure(gs, edx_25, dwArg0C);
		word32 eax_92 = quantum_bmeasure(gs, edx_25 * 0x02 - dwLoc08_103, dwArg0C);
		if (eax_82 == 0x01 && (eax_92 == 0x01 && dwLoc08_103 - 0x01 < dwArg08))
			quantum_sigma_z(gs, dwLoc08_103 - 0x01, dwArg0C);
		dwLoc08_103 = dwLoc08_103 + 0x01;
	}
}

// 0804F96E: void quantum_qec_counter(Register (ptr Eq_1727) gs, Stack int32 dwArg04, Stack int32 dwArg08, Stack Eq_106 dwArg0C)
void quantum_qec_counter(Eq_1727 * gs, int32 dwArg04, int32 dwArg08, Eq_106 dwArg0C)
{
	if (dwArg04 > 0x00)
		globals->dw80560FC = globals->dw80560FC + dwArg04;
	else if (dwArg04 < 0x00)
		globals->dw80560FC = 0x00;
	if (dwArg08 > 0x00)
		globals->dw8056088 = dwArg08;
	if (globals->dw80560FC >= globals->dw8056088)
	{
		globals->dw80560FC = 0x00;
		quantum_qec_decode(gs, globals->t80560F8, dwArg0C);
		quantum_qec_encode(gs, globals->t80560F8, dwArg0C);
	}
}

// 0804FA05: void quantum_sigma_x_ft(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_sigma_x_ft(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08)
{
	word32 eax_9 = globals->dw80560F4;
	globals->dw80560F4 = 0x00;
	real32 rLoc0C_13 = (real32) quantum_get_decoherence();
	quantum_set_decoherence(0x00);
	quantum_sigma_x(gs, dwArg04, dwArg08);
	quantum_sigma_x(gs, Mem11[0x080560F8:word32] + dwArg04, dwArg08);
	quantum_set_decoherence(rLoc0C_13);
	quantum_sigma_x(gs, Mem11[0x080560F8:word32] * 0x02 + dwArg04, dwArg08);
	quantum_qec_counter(gs, 0x01, 0x00, dwArg08);
	globals->dw80560F4 = eax_9;
}

// 0804FAA8: void quantum_cnot_ft(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C)
void quantum_cnot_ft(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C)
{
	word32 eax_9 = globals->dw80560F4;
	globals->dw80560F4 = 0x00;
	real32 rLoc0C_13 = (real32) quantum_get_decoherence();
	quantum_set_decoherence(0x00);
	quantum_cnot(gs, dwArg04, dwArg08, dwArg0C);
	quantum_cnot(gs, Mem11[0x080560F8:word32] + dwArg04, Mem11[0x080560F8:word32] + dwArg08, dwArg0C);
	quantum_set_decoherence(rLoc0C_13);
	quantum_cnot(gs, Mem11[0x080560F8:word32] * 0x02 + dwArg04, Mem11[0x080560F8:word32] * 0x02 + dwArg08, dwArg0C);
	quantum_qec_counter(gs, 0x01, 0x00, dwArg0C);
	globals->dw80560F4 = eax_9;
}

// 0804FB70: void quantum_toffoli_ft(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10)
void quantum_toffoli_ft(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10)
{
	byte cl_15 = (byte) dwArg0C;
	int32 esi_20 = __shld(0x00, 0x01, cl_15);
	int32 ebx_21 = 0x01 << cl_15;
	if ((cl_15 & 0x20) != 0x00)
	{
		esi_20 = ebx_21;
		ebx_21 = 0x00;
	}
	byte cl_33 = (byte) (Mem0[0x080560F8:word32] + dwArg0C);
	uint32 eax_37 = 0x01 << cl_33;
	uint64 edx_eax_38 = SEQ(__shld(0x00, 0x01, cl_33), eax_37);
	if ((cl_33 & 0x20) != 0x00)
	{
		eax_37 = 0x00;
		edx_eax_38 = SEQ(eax_37, 0x00);
	}
	ui64 esi_ebx_48 = SEQ(esi_20, ebx_21 + eax_37) + edx_eax_38;
	byte cl_55 = (byte) (Mem0[0x080560F8:word32] * 0x02 + dwArg0C);
	word32 ebx_50 = (word32) esi_ebx_48;
	int32 edx_379 = __shld(0x00, 0x01, cl_55);
	int32 eax_380 = 0x01 << cl_55;
	if ((cl_55 & 0x20) != 0x00)
	{
		edx_379 = eax_380;
		eax_380 = 0x00;
	}
	ui64 edx_eax_73 = SEQ(edx_379, eax_380 + ebx_50) + esi_ebx_48;
	word32 eax_74 = (word32) edx_eax_73;
	word32 edx_75 = SLICE(edx_eax_73, word32, 32);
	Eq_106 dwLoc10_301 = 0x00;
	while (Mem0[dwArg10 + 0x04:word32] > dwLoc10_301)
	{
		word32 eax_122 = Mem0[dwArg10 + 0x0C:word32] + (dwLoc10_301 << 0x04);
		Eq_106 edx_123 = eax_122->t000C;
		byte cl_127 = (byte) dwArg04;
		ui32 dwLoc14_116 = 0x00;
		ui32 dwLoc18_117 = 0x00;
		uint32 eax_128 = __shrd(eax_122->t0008, edx_123, cl_127);
		uint32 edx_130 = edx_123 >> cl_127;
		if ((cl_127 & 0x20) != 0x00)
			eax_128 = edx_130;
		if ((byte) (eax_128 & 0x01) != 0x00)
			dwLoc14_116 = 0x01;
		word32 eax_148 = Mem0[dwArg10 + 0x0C:word32] + (dwLoc10_301 << 0x04);
		Eq_106 esi_150 = eax_148->t000C;
		byte cl_154 = (byte) (Mem0[0x080560F8:word32] + dwArg04);
		uint32 eax_157 = __shrd(eax_148->t0008, esi_150, cl_154);
		uint32 edx_159 = esi_150 >> cl_154;
		if ((cl_154 & 0x20) != 0x00)
			eax_157 = edx_159;
		if ((byte) (eax_157 & 0x01) != 0x00)
			dwLoc14_116 = dwLoc14_116 ^ 0x01;
		word32 eax_177 = Mem0[dwArg10 + 0x0C:word32] + (dwLoc10_301 << 0x04);
		Eq_106 esi_179 = eax_177->t000C;
		byte cl_184 = (byte) (Mem0[0x080560F8:word32] * 0x02 + dwArg04);
		uint32 eax_187 = __shrd(eax_177->t0008, esi_179, cl_184);
		uint32 edx_189 = esi_179 >> cl_184;
		if ((cl_184 & 0x20) != 0x00)
			eax_187 = edx_189;
		if ((byte) (eax_187 & 0x01) != 0x00)
			dwLoc14_116 = dwLoc14_116 ^ 0x01;
		word32 eax_207 = Mem0[dwArg10 + 0x0C:word32] + (dwLoc10_301 << 0x04);
		Eq_106 edx_208 = eax_207->t000C;
		byte cl_212 = (byte) dwArg08;
		uint32 eax_213 = __shrd(eax_207->t0008, edx_208, cl_212);
		uint32 edx_215 = edx_208 >> cl_212;
		if ((cl_212 & 0x20) != 0x00)
			eax_213 = edx_215;
		if ((byte) (eax_213 & 0x01) != 0x00)
			dwLoc18_117 = 0x01;
		word32 eax_233 = Mem0[dwArg10 + 0x0C:word32] + (dwLoc10_301 << 0x04);
		Eq_106 esi_235 = eax_233->t000C;
		byte cl_239 = (byte) (Mem0[0x080560F8:word32] + dwArg08);
		uint32 eax_242 = __shrd(eax_233->t0008, esi_235, cl_239);
		uint32 edx_244 = esi_235 >> cl_239;
		if ((cl_239 & 0x20) != 0x00)
			eax_242 = edx_244;
		if ((byte) (eax_242 & 0x01) != 0x00)
			dwLoc18_117 = dwLoc18_117 ^ 0x01;
		word32 eax_262 = Mem0[dwArg10 + 0x0C:word32] + (dwLoc10_301 << 0x04);
		Eq_106 esi_264 = eax_262->t000C;
		byte cl_269 = (byte) (Mem0[0x080560F8:word32] * 0x02 + dwArg08);
		uint32 eax_272 = __shrd(eax_262->t0008, esi_264, cl_269);
		uint32 edx_274 = esi_264 >> cl_269;
		if ((cl_269 & 0x20) != 0x00)
			eax_272 = edx_274;
		if ((byte) (eax_272 & 0x01) != 0x00)
			dwLoc18_117 = dwLoc18_117 ^ 0x01;
		if (dwLoc14_116 == 0x01 && dwLoc18_117 == 0x01)
		{
			word32 eax_314 = Mem0[dwArg10 + 0x0C:word32] + (dwLoc10_301 << 0x04);
			word32 esi_309 = Mem0[dwArg10 + 0x0C:word32] + (dwLoc10_301 << 0x04);
			ui32 edx_320 = eax_314->dw000C ^ edx_75;
			esi_309->dw0008 = eax_314->dw0008 ^ eax_74;
			esi_309->dw000C = edx_320;
		}
		dwLoc10_301 = dwLoc10_301 + 0x01;
	}
	quantum_decohere(dwArg10, rArg0);
	quantum_qec_counter(gs, 0x01, 0x00, dwArg10);
}

// 0804FDE4: void quantum_qft(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_qft(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08)
{
	Eq_106 dwLoc08_11 = dwArg04 - 0x01;
	while (dwLoc08_11 >= 0x00)
	{
		Eq_106 dwLoc0C_32 = dwArg04 - 0x01;
		while (dwLoc0C_32 > dwLoc08_11)
		{
			quantum_cond_phase(gs, dwLoc0C_32, dwLoc08_11);
			dwLoc0C_32 = dwLoc0C_32 - 0x01;
		}
		quantum_hadamard(gs, dwLoc08_11, dwArg08);
		dwLoc08_11 = dwLoc08_11 - 0x01;
	}
}

// 0804FE43: void quantum_qft_inv(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_qft_inv(Eq_1727 * gs, Eq_106 dwArg04, Eq_106 dwArg08)
{
	Eq_106 dwLoc08_17 = 0x01;
	while (dwLoc08_17 < dwArg04)
	{
		quantum_hadamard(gs, dwLoc08_17, dwArg08);
		Eq_106 dwLoc0C_34 = dwLoc08_17;
		while (dwLoc0C_34 < dwArg04)
		{
			quantum_cond_phase_inv(dwLoc0C_34, dwLoc08_17);
			dwLoc0C_34 = dwLoc0C_34 + 0x01;
		}
		dwLoc08_17 = dwLoc08_17 + 0x01;
	}
}

// 0804FEA4: void quantum_rk4(Register (ptr Eq_9263) ebp, Stack Eq_106 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack word32 dwArg14, Stack (ptr code) dwArg18)
void quantum_rk4(Eq_9263 * ebp, Eq_106 dwArg04, word32 dwArg08, word32 dwArg0C, word32 dwArg10, word32 dwArg14, code * dwArg18)
{
	Mem32[dwArg04 + 0x10:word32] = 0x00;
	Mem37[dwArg04 + 0x08:word32] = 0x00;
	real64 rLoc74_15 = DPB(rLoc74, dwArg0C, 32);
	quantum_matrix_qureg(fp - 0x04, fp - 0x9C, dwArg18, (word32) rLoc74_15, SLICE(rLoc74_15, word32, 32), dwArg04);
	real64 rLoc7C_23 = DPB(rLoc7C, dwArg14, 32);
	__muldc3(fp - 0xAC, rLoc7C_23, 0.0, 0.0, -1.0);
	__divdc3(fp - 0xAC, rLocAC, rLocA4, globals->r8054430, 0.0);
	quantum_scalar_qureg((real32) rLocAC, (real32) rLocA4, fp - 0x38);
	quantum_vectoradd(fp - 0x9C, dwArg04, fp - 0x38);
	quantum_scalar_qureg(0x3EAAAAAB, 0x00, fp - 0x38);
	quantum_vectoradd(fp - 0x9C, dwArg04, fp - 0x38);
	quantum_delete_qureg(fp - 0x38);
	real64 rLoc1_167 = rLoc7C_23 / globals->r8054430 + rLoc74_15;
	quantum_matrix_qureg(fp - 0x04, fp - 0x9C, dwArg18, (word32) rLoc1_167, SLICE(rLoc1_167, word32, 32), fp - 0x60);
	quantum_delete_qureg(fp - 0x60);
	__muldc3(fp - 0xAC, rLoc7C_23, 0.0, 0.0, -1.0);
	__divdc3(fp - 0xAC, rLocAC, rLocA4, globals->r8054430, 0.0);
	quantum_scalar_qureg((real32) rLocAC, (real32) rLocA4, fp - 0x38);
	quantum_vectoradd(fp - 0x9C, dwArg04, fp - 0x38);
	quantum_scalar_qureg(0x3F2AAAAB, 0x00, fp - 0x38);
	quantum_vectoradd_inplace(fp - 0x4C, fp - 0x38);
	quantum_delete_qureg(fp - 0x38);
	real64 rLoc1_275 = rLoc7C_23 / globals->r8054430 + rLoc74_15;
	quantum_matrix_qureg(fp - 0x04, fp - 0x9C, dwArg18, (word32) rLoc1_275, SLICE(rLoc1_275, word32, 32), fp - 0x60);
	quantum_delete_qureg(fp - 0x60);
	__muldc3(fp - 0xAC, rLoc7C_23, 0.0, 0.0, -1.0);
	quantum_scalar_qureg((real32) rLocAC, (real32) rLocA4, fp - 0x38);
	quantum_vectoradd(fp - 0x9C, dwArg04, fp - 0x38);
	quantum_scalar_qureg(0x3EAAAAAB, 0x00, fp - 0x38);
	quantum_vectoradd_inplace(fp - 0x4C, fp - 0x38);
	quantum_delete_qureg(fp - 0x38);
	real64 rLoc1_369 = rLoc74_15 + rLoc7C_23;
	quantum_matrix_qureg(fp - 0x04, fp - 0x9C, dwArg18, (word32) rLoc1_369, SLICE(rLoc1_369, word32, 32), fp - 0x60);
	quantum_delete_qureg(fp - 0x60);
	__muldc3(fp - 0xAC, rLoc7C_23, 0.0, 0.0, -1.0);
	__divdc3(fp - 0xAC, rLocAC, rLocA4, globals->r8054438, 0.0);
	quantum_scalar_qureg((real32) rLocAC, (real32) rLocA4, fp - 0x38);
	quantum_vectoradd_inplace(fp - 0x4C, fp - 0x38);
	quantum_delete_qureg(fp - 0x38);
	quantum_delete_qureg(dwArg04);
	while (*(fp - 0x48) > *(fp - 0x10))
	{
		struct Eq_9538 * edx_479 = *(fp - 0x40) + (*(fp - 0x10) << 0x04);
		*(fp - 0x0118) = edx_479->dw0000;
		*(fp - 0x0114) = edx_479->dw0004;
		*(fp - 0x24) = quantum_prob(dwArg00, dwArg04) + *(fp - 0x24);
		*(fp - 0x10) = *(fp - 0x10) + 0x01;
	}
	*(fp - 0x3C) = *(fp - 0x14);
	*(fp - 0x44) = *(fp - 0x18);
	struct Eq_9615 * edx_462 = fp->ptr0004;
	edx_462->dw0000 = *(fp - 0x4C);
	edx_462->dw0004 = *(fp - 0x48);
	edx_462->dw0008 = *(fp - 0x44);
	edx_462->dw000C = *(fp - 0x40);
	edx_462->dw0010 = *(fp - 0x3C);
}

// 0805057C: FpuStack real64 quantum_rk4a(Stack Eq_106 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C, Stack (ptr real64) dwArg10, Stack word32 dwArg14, Stack word32 dwArg18, Stack (ptr code) dwArg1C, FpuStack real64 rArg0)
real64 quantum_rk4a(Eq_106 dwArg04, word32 dwArg08, word32 dwArg0C, real64 * dwArg10, word32 dwArg14, word32 dwArg18, code * dwArg1C, real64 rArg0)
{
	Mem29[dwArg04 + 0x10:word32] = 0x00;
	Mem34[dwArg04 + 0x08:word32] = 0x00;
	quantum_copy_qureg(dwArg04, fp - 0x5C);
	quantum_copy_qureg(dwArg04, fp - 0x48);
	struct Eq_9263 * ebp_137 = fp - 0x04;
	struct Eq_9690 * esp_136 = fp - 0xCC;
	do
	{
		real64 rLoc1_65 = *dwArg10;
		quantum_rk4(ebp_137, dwArg04, (word32) rLoc84, SLICE(rLoc84, word32, 32), (word32) rLoc1_65, SLICE(rLoc1_65, word32, 32), dwArg1C);
		real64 rLoc1_82 = *dwArg10 / globals->r8054430;
		quantum_rk4(ebp_137, fp - 0x48, (word32) rLoc84, SLICE(rLoc84, word32, 32), (word32) rLoc1_82, SLICE(rLoc1_82, word32, 32), dwArg1C);
		real64 rLoc1_97 = *dwArg10 / globals->r8054430;
		word32 dwLocC0_101 = (word32) rLoc1_97;
		word32 dwLocBC_102 = SLICE(rLoc1_97, word32, 32);
		word32 dwLocC8_105 = (word32) rLoc84;
		word32 dwLocC4_106 = SLICE(rLoc84, word32, 32);
		quantum_rk4(ebp_137, fp - 0x48, dwLocC8_105, dwLocC4_106, dwLocC0_101, dwLocBC_102, dwArg1C);
		while (ebp_137->ptr0008->dw0004 > *(ebp_137 - 0x0C))
		{
			word32 eax_245 = Mem34[Mem34[ebp_137 + 0x08:word32] + 0x0C:word32] + (Mem34[(ebp_137 - 0x0C) + 0x00:word32] << 0x04);
			struct Eq_9720 * eax_252 = *(ebp_137 - 0x38) + (*(ebp_137 - 0x0C) << 0x04);
			word32 ebx_247 = eax_245->dw0004;
			word32 edx_253 = eax_252->dw0000;
			word32 eax_254 = eax_252->dw0004;
			*(ebp_137 - 0xAC) = eax_245->dw0000;
			real64 rLoc1_256 = (real64) *(ebp_137 - 0xAC);
			*(ebp_137 - 0xAC) = ebx_247;
			real64 rLoc2_258 = (real64) *(ebp_137 - 0xAC);
			*(ebp_137 - 0xAC) = edx_253;
			real64 rLoc3_260 = (real64) *(ebp_137 - 0xAC);
			*(ebp_137 - 0xAC) = eax_254;
			real64 rLoc2_267 = rLoc2_258 - (real64) (*(ebp_137 - 0xAC));
			*(ebp_137 - 0xAC) = (real32) (rLoc1_256 - rLoc3_260);
			Eq_106 eax_272 = *(ebp_137 - 0xAC);
			*(ebp_137 - 0xAC) = (real32) rLoc2_267;
			Eq_106 edx_274 = *(ebp_137 - 0xAC);
			esp_136->t0000 = eax_272;
			esp_136->t0004 = edx_274;
			*(ebp_137 - 0x9C) = (real32) quantum_real(dwArg04);
			word32 eax_283 = Mem278[Mem278[ebp_137 + 0x08:word32] + 0x0C:word32] + (Mem278[(ebp_137 - 0x0C) + 0x00:word32] << 0x04);
			struct Eq_9854 * eax_290 = *(ebp_137 - 0x38) + (*(ebp_137 - 0x0C) << 0x04);
			word32 ebx_285 = eax_283->dw0004;
			word32 edx_291 = eax_290->dw0000;
			word32 eax_292 = eax_290->dw0004;
			*(ebp_137 - 0xAC) = eax_283->dw0000;
			real64 rLoc1_294 = (real64) *(ebp_137 - 0xAC);
			*(ebp_137 - 0xAC) = ebx_285;
			real64 rLoc2_296 = (real64) *(ebp_137 - 0xAC);
			*(ebp_137 - 0xAC) = edx_291;
			real64 rLoc3_298 = (real64) *(ebp_137 - 0xAC);
			*(ebp_137 - 0xAC) = eax_292;
			real64 rLoc2_305 = rLoc2_296 - (real64) (*(ebp_137 - 0xAC));
			*(ebp_137 - 0xAC) = (real32) (rLoc1_294 - rLoc3_298);
			Eq_106 eax_310 = *(ebp_137 - 0xAC);
			*(ebp_137 - 0xAC) = (real32) rLoc2_305;
			Eq_106 edx_312 = *(ebp_137 - 0xAC);
			esp_136->t0000 = eax_310;
			esp_136->t0004 = edx_312;
			if ((real64) *(ebp_137 - 0x9C) > quantum_imag(dwArg08))
			{
				word32 eax_344 = Mem314[Mem314[ebp_137 + 0x08:word32] + 0x0C:word32] + (Mem314[(ebp_137 - 0x0C) + 0x00:word32] << 0x04);
				struct Eq_10575 * eax_351 = *(ebp_137 - 0x38) + (*(ebp_137 - 0x0C) << 0x04);
				word32 ebx_346 = eax_344->dw0004;
				word32 edx_352 = eax_351->dw0000;
				word32 eax_353 = eax_351->dw0004;
				*(ebp_137 - 0xAC) = eax_344->dw0000;
				real64 rLoc1_355 = (real64) *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = ebx_346;
				real64 rLoc2_357 = (real64) *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = edx_352;
				real64 rLoc3_359 = (real64) *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = eax_353;
				real64 rLoc1_365 = rLoc1_355 - rLoc3_359;
				real64 rLoc2_366 = rLoc2_357 - (real64) (*(ebp_137 - 0xAC));
				*(ebp_137 - 0xAC) = (real32) rLoc1_365;
				Eq_106 eax_371 = *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = (real32) rLoc2_366;
				Eq_106 edx_373 = *(ebp_137 - 0xAC);
				esp_136->t0000 = eax_371;
				esp_136->t0004 = edx_373;
				*(ebp_137 - 0x98) = (real32) (quantum_real(dwArg04) + rLoc1_365);
				word32 eax_384 = Mem379[Mem379[ebp_137 + 0x08:word32] + 0x0C:word32] + (Mem379[(ebp_137 - 0x0C) + 0x00:word32] << 0x04);
				struct Eq_10709 * eax_391 = *(ebp_137 - 0x38) + (*(ebp_137 - 0x0C) << 0x04);
				word32 ebx_386 = eax_384->dw0004;
				word32 edx_392 = eax_391->dw0000;
				word32 eax_393 = eax_391->dw0004;
				*(ebp_137 - 0xAC) = eax_384->dw0000;
				real64 rLoc1_395 = (real64) *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = ebx_386;
				real64 rLoc2_397 = (real64) *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = edx_392;
				real64 rLoc3_399 = (real64) *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = eax_393;
				real64 rLoc2_406 = rLoc2_397 + (real64) (*(ebp_137 - 0xAC));
				*(ebp_137 - 0xAC) = (real32) (rLoc1_395 + rLoc3_399);
				Eq_106 eax_411 = *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = (real32) rLoc2_406;
				Eq_106 edx_413 = *(ebp_137 - 0xAC);
				esp_136->t0000 = eax_411;
				esp_136->t0004 = edx_413;
				*(ebp_137 - 0x28) = (union Eq_10825 *) (*(ebp_137 - 0x98) / quantum_real(dwArg04));
			}
			else
			{
				word32 eax_423 = Mem314[Mem314[ebp_137 + 0x08:word32] + 0x0C:word32] + (Mem314[(ebp_137 - 0x0C) + 0x00:word32] << 0x04);
				struct Eq_10304 * eax_430 = *(ebp_137 - 0x38) + (*(ebp_137 - 0x0C) << 0x04);
				word32 ebx_425 = eax_423->dw0004;
				word32 edx_431 = eax_430->dw0000;
				word32 eax_432 = eax_430->dw0004;
				*(ebp_137 - 0xAC) = eax_423->dw0000;
				real64 rLoc1_434 = (real64) *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = ebx_425;
				real64 rLoc2_436 = (real64) *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = edx_431;
				real64 rLoc3_438 = (real64) *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = eax_432;
				real64 rLoc1_444 = rLoc1_434 - rLoc3_438;
				real64 rLoc2_445 = rLoc2_436 - (real64) (*(ebp_137 - 0xAC));
				*(ebp_137 - 0xAC) = (real32) rLoc1_444;
				Eq_106 eax_450 = *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = (real32) rLoc2_445;
				Eq_106 edx_452 = *(ebp_137 - 0xAC);
				esp_136->t0000 = eax_450;
				esp_136->t0004 = edx_452;
				*(ebp_137 - 0x94) = (real32) (quantum_imag(dwArg08) + rLoc1_444);
				word32 eax_463 = Mem458[Mem458[ebp_137 + 0x08:word32] + 0x0C:word32] + (Mem458[(ebp_137 - 0x0C) + 0x00:word32] << 0x04);
				struct Eq_10438 * eax_470 = *(ebp_137 - 0x38) + (*(ebp_137 - 0x0C) << 0x04);
				word32 ebx_465 = eax_463->dw0004;
				word32 edx_471 = eax_470->dw0000;
				word32 eax_472 = eax_470->dw0004;
				*(ebp_137 - 0xAC) = eax_463->dw0000;
				real64 rLoc1_474 = (real64) *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = ebx_465;
				real64 rLoc2_476 = (real64) *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = edx_471;
				real64 rLoc3_478 = (real64) *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = eax_472;
				real64 rLoc2_485 = rLoc2_476 + (real64) (*(ebp_137 - 0xAC));
				*(ebp_137 - 0xAC) = (real32) (rLoc1_474 + rLoc3_478);
				Eq_106 eax_490 = *(ebp_137 - 0xAC);
				*(ebp_137 - 0xAC) = (real32) rLoc2_485;
				Eq_106 edx_492 = *(ebp_137 - 0xAC);
				esp_136->t0000 = eax_490;
				esp_136->t0004 = edx_492;
				*(ebp_137 - 0x28) = (union Eq_10554 *) (*(ebp_137 - 0x94) / quantum_imag(dwArg08));
			}
			if (*(ebp_137 - 0x28) > *(ebp_137 - 0x20))
				*(ebp_137 - 0x20) = *(ebp_137 - 0x28);
			*(ebp_137 - 0x0C) = *(ebp_137 - 0x0C) + 0x01;
		}
		*(ebp_137 - 0x30) = *ebp_137->ptr0014;
		real64 * eax_128 = ebp_137->ptr0014;
		*(ebp_137 - 0x90) = *eax_128;
		Eq_106 rLoc1_132 = *(ebp_137 - 0x88) / *(ebp_137 - 0x20);
		esp_136->t0008 = globals->t8054440;
		esp_136->t0000 = rLoc1_132;
		word32 ebx_138;
		byte SCZO_139;
		word32 eax_140;
		real64 rLoc1_141;
		real64 rLoc2_142;
		byte SZO_143;
		real64 rArg0_144;
		byte FPUF_145;
		byte CZ_146;
		word32 edx_147;
		word32 ecx_148;
		real64 rLoc3_149;
		real64 rLoc4_150;
		!pow();
		*ebp_137->ptr0014 = rArg0_144 * *(ebp_137 - 0x90);
		if (*(ebp_137 - 0x20) > *(ebp_137 - 0x88))
		{
			struct Eq_9695 * edx_186 = ebp_137->ptr0008;
			*(ebp_137 - 0x6C) = edx_186->dw0000;
			*(ebp_137 - 0x68) = edx_186->dw0004;
			*(ebp_137 - 100) = edx_186->dw0008;
			*(ebp_137 - 0x60) = (union Eq_106 *) edx_186->t000C;
			*(ebp_137 - 0x5C) = edx_186->dw0010;
			struct Eq_9695 * edx_197 = ebp_137->ptr0008;
			edx_197->dw0000 = *(ebp_137 - 88);
			edx_197->dw0004 = *(ebp_137 - 0x54);
			edx_197->dw0008 = *(ebp_137 - 0x50);
			edx_197->t000C = *(ebp_137 - 0x4C);
			edx_197->dw0010 = *(ebp_137 - 0x48);
			*(ebp_137 - 88) = *(ebp_137 - 0x6C);
			*(ebp_137 - 0x54) = *(ebp_137 - 0x68);
			*(ebp_137 - 0x50) = *(ebp_137 - 100);
			*(ebp_137 - 0x4C) = *(ebp_137 - 0x60);
			*(ebp_137 - 0x48) = *(ebp_137 - 0x5C);
			Eq_106 eax_223 = ebp_137->ptr0008->t000C;
			Eq_106 edx_224 = *(ebp_137 - 0x38);
			esp_136->t0008 = ebp_137->ptr0008->dw0004 << 0x04;
			esp_136->t0004 = eax_223;
			esp_136->t0000 = edx_224;
			memcpy(esp_136->t0000, esp_136->t0004, esp_136->t0008);
			Eq_106 eax_235 = ebp_137->ptr0008->t000C;
			Eq_106 edx_236 = *(ebp_137 - 0x4C);
			esp_136->t0008 = ebp_137->ptr0008->dw0004 << 0x04;
			esp_136->t0004 = eax_235;
			esp_136->t0000 = edx_236;
			memcpy(esp_136->t0000, esp_136->t0004, esp_136->t0008);
		}
	} while (*(ebp_137 - 0x20) > *(ebp_137 - 0x88));
	ebp_137->ptr0008->dw0010 = *(ebp_137 - 0x10);
	ebp_137->ptr0008->dw0008 = *(ebp_137 - 0x14);
	return *(ebp_137 - 0x30);
}

// 08050B0E: FpuStack real64 quantum_real(Stack Eq_106 dwArg04)
real64 quantum_real(Eq_106 dwArg04)
{
	return (real64) dwArg04;
}

// 08050B27: FpuStack real64 quantum_imag(Stack word32 dwArg08)
real64 quantum_imag(word32 dwArg08)
{
	return (real64) dwArg08;
}

// 08050B44: void quantum_matrix2qureg(Stack (ptr Eq_10941) dwArg04, Stack (ptr Eq_10942) dwArg08, Stack word32 dwArg0C)
void quantum_matrix2qureg(Eq_10941 * dwArg04, Eq_10942 * dwArg08, word32 dwArg0C)
{
}

// 08050D20: void quantum_new_qureg(Register (ptr Eq_1727) gs, Stack (ptr Eq_8231) dwArg04, Stack Eq_106 dwArg08, Stack int32 dwArg0C, Stack Eq_106 dwArg10)
void quantum_new_qureg(Eq_1727 * gs, Eq_8231 * dwArg04, Eq_106 dwArg08, int32 dwArg0C, Eq_106 dwArg10)
{
	Eq_106 eax_22 = calloc(0x01, 0x10);
	if (eax_22 == 0x00)
		quantum_error(0x02);
	quantum_memman(0x10);
	word32 eax_35 = calloc(0x01 << (byte) (dwArg10 + 0x02), 0x04);
	if (eax_35 == 0x00)
		quantum_error(0x02);
	quantum_memman(0x04 << (byte) (dwArg10 + 0x02));
	Mem50[eax_22 + 0x08:word32] = dwArg08;
	Mem51[eax_22 + 0x0C:word32] = dwArg0C;
	*eax_22 = 0x3F800000;
	Mem56[eax_22 + 0x04:word32] = 0x00;
	char * eax_58 = getenv("QUOBFILE");
	if (eax_58 != null)
	{
		quantum_objcode_start();
		quantum_objcode_file(eax_58);
		atexit(0x0804EB38);
	}
	quantum_objcode_put(gs, 0x00, dwArg08, DPB(rLoc34, dwArg0C, 0), rLoc30);
	dwArg04->t0000 = dwArg10;
	dwArg04->dw0004 = 0x01;
	Mem81[dwArg04 + 0x08:word32] = dwArg10 + 0x02;
	dwArg04->t000C = eax_22;
	dwArg04->t0010 = eax_35;
}

// 08050E60: void quantum_new_qureg_size(Stack (ptr Eq_11195) dwArg04, Stack Eq_106 dwArg08, Stack word32 dwArg0C)
void quantum_new_qureg_size(Eq_11195 * dwArg04, Eq_106 dwArg08, word32 dwArg0C)
{
	Eq_106 eax_18 = calloc(dwArg08, 0x10);
	if (eax_18 == 0x00)
		quantum_error(0x02);
	quantum_memman(dwArg08 << 0x04);
	dwArg04->dw0000 = dwArg0C;
	dwArg04->t0004 = dwArg08;
	dwArg04->dw0008 = 0x00;
	dwArg04->t000C = eax_18;
	dwArg04->dw0010 = 0x00;
}

// 08050EEA: void quantum_qureg2matrix(Stack (ptr Eq_11228) dwArg04, Stack word32 dwArg08, Stack int32 dwArg0C, Stack ptr32 dwArg14)
void quantum_qureg2matrix(Eq_11228 * dwArg04, word32 dwArg08, int32 dwArg0C, ptr32 dwArg14)
{
	quantum_new_matrix(fp - 0x14, 0x01, 0x01 << (byte) dwArg08);
	int32 dwLoc08_20 = 0x00;
	while (dwArg0C > dwLoc08_20)
	{
		struct Eq_11244 * eax_59 = dwArg14 + (dwLoc08_20 << 0x04);
		struct Eq_11248 * ecx_55 = dwLoc0C + ((dwArg14 + (dwLoc08_20 << 0x04))->dw0008 << 0x03);
		word32 eax_61 = eax_59->dw0004;
		ecx_55->dw0000 = eax_59->dw0000;
		ecx_55->dw0004 = eax_61;
		dwLoc08_20 = dwLoc08_20 + 0x01;
	}
	dwArg04->dw0000 = dwLoc14;
	dwArg04->dw0004 = dwLoc10;
	dwArg04->dw0008 = dwLoc0C;
}

// 08050F7A: void quantum_destroy_hash(Stack Eq_106 dwArg04)
void quantum_destroy_hash(Eq_106 dwArg04)
{
	free(Mem0[dwArg04 + 0x10:word32]);
	quantum_memman(~0x03 << (byte) Mem0[dwArg04 + 0x08:word32]);
	Mem20[dwArg04 + 0x10:word32] = 0x00;
}

// 08050FAF: void quantum_delete_qureg(Stack Eq_106 dwArg04)
void quantum_delete_qureg(Eq_106 dwArg04)
{
	if (Mem0[dwArg04 + 0x08:word32] != 0x00 && Mem0[dwArg04 + 0x10:word32] != 0x00)
		quantum_destroy_hash(dwArg04);
	free(Mem0[dwArg04 + 0x0C:word32]);
	quantum_memman(-(Mem0[dwArg04 + 0x04:word32] << 0x04));
	Mem27[dwArg04 + 0x0C:word32] = 0x00;
}

// 08051001: void quantum_delete_qureg_hashpreserve(Stack Eq_106 dwArg04)
void quantum_delete_qureg_hashpreserve(Eq_106 dwArg04)
{
	free(Mem0[dwArg04 + 0x0C:word32]);
	quantum_memman(-(Mem0[dwArg04 + 0x04:word32] << 0x04));
	Mem20[dwArg04 + 0x0C:word32] = 0x00;
}

// 08051034: void quantum_copy_qureg(Stack Eq_106 dwArg04, Stack (ptr Eq_9678) dwArg08)
void quantum_copy_qureg(Eq_106 dwArg04, Eq_9678 * dwArg08)
{
	dwArg08->t0000 = *dwArg04;
	Mem15[dwArg08 + 0x04:word32] = Mem13[dwArg04 + 0x04:word32];
	Mem17[dwArg08 + 0x08:word32] = Mem15[dwArg04 + 0x08:word32];
	Mem19[dwArg08 + 0x0C:word32] = Mem17[dwArg04 + 0x0C:word32];
	Mem21[dwArg08 + 0x10:word32] = Mem19[dwArg04 + 0x10:word32];
	dwArg08->t000C = calloc(dwArg08->t0004, 0x10);
	if (dwArg08->t000C == 0x00)
		quantum_error(0x02);
	quantum_memman(dwArg08->t0004 << 0x04);
	if (dwArg08->t0008 != 0x00)
	{
		dwArg08->t0010 = calloc(0x01 << (byte) dwArg08->t0008, 0x04);
		if (dwArg08->t0010 == 0x00)
			quantum_error(0x02);
		quantum_memman(0x04 << (byte) dwArg08->t0008);
	}
	memcpy(dwArg08->t000C, Mem29[dwArg04 + 0x0C:word32], Mem29[dwArg04 + 0x04:word32] << 0x04);
}

// 08051124: void quantum_print_qureg(Stack word32 dwArg04, Stack int32 dwArg08, Stack (arr Eq_13628) dwArg10)
void quantum_print_qureg(word32 dwArg04, int32 dwArg08, Eq_13628 dwArg10[])
{
	int32 dwLoc10_14 = 0x00;
	while (dwArg08 > dwLoc10_14)
	{
		struct Eq_11454 * edx_74 = &(dwArg10 + (dwLoc10_14 << 0x04) / 0x0010)->dw0000;
		real64 rLoc1_81 = quantum_prob_inline(edx_74->dw0000, edx_74->dw0004);
		qwLoc48 = DPB(qwLoc48, *((word32) &(&(dwArg10 + (dwLoc10_14 << 0x04) / 0x0010)->dw0000)[0x00].dw0000 + 0x0C), 32);
		printf("% f %+fi|%lli> (%e) (|", quantum_real(dwArg10[dwLoc10_14].dw0000), quantum_imag(*((word32) &(&(dwArg10 + (dwLoc10_14 << 0x04) / 0x0010)->dw0000)[0x00].dw0000 + 0x04)), qwLoc48, rLoc1_81);
		int32 dwLoc14_124 = dwArg04 - 0x01;
		while (dwLoc14_124 >= 0x00)
		{
			Eq_11511 eax_144 = dwLoc14_124 >> 0x1F;
			if ((dwLoc14_124 + (eax_144 >> 0x1E) & 0x03) - (eax_144 >> 0x1E) == 0x03)
				putchar(0x20);
			struct Eq_11530 * eax_156 = &(dwArg10 + (dwLoc10_14 << 0x04) / 0x0010)->dw0000;
			Eq_106 edx_157 = eax_156->t000C;
			byte cl_160 = (byte) dwLoc14_124;
			uint32 eax_161 = __shrd(eax_156->t0008, edx_157, cl_160);
			uint32 edx_162 = edx_157 >> cl_160;
			if ((cl_160 & 0x20) != 0x00)
				eax_161 = edx_162;
			printf("%i", eax_161 & 0x01);
			dwLoc14_124 = dwLoc14_124 - 0x01;
		}
		puts(">)");
		dwLoc10_14 = dwLoc10_14 + 0x01;
	}
	putchar(0x0A);
}

// 0805126A: FpuStack real64 quantum_prob_inline(Stack word32 dwArg04, Stack word32 dwArg08)
real64 quantum_prob_inline(word32 dwArg04, word32 dwArg08)
{
	Eq_11565 rLoc08_15 = (real32) quantum_real(dwArg04);
	Eq_11569 rLoc0C_21 = (real32) quantum_imag(dwArg08);
	return (real64) rLoc08_15 * rLoc08_15 + (real64) rLoc0C_21 * rLoc0C_21;
}

// 080512AA: FpuStack real64 quantum_imag(Stack word32 dwArg08)
real64 quantum_imag(word32 dwArg08)
{
	return (real64) dwArg08;
}

// 080512C6: FpuStack real64 quantum_real(Stack word32 dwArg04)
real64 quantum_real(word32 dwArg04)
{
	return (real64) dwArg04;
}

// 080512DF: void quantum_print_expn(Stack Eq_11582 dwArg04, Stack int32 dwArg08, Stack word32 dwArg10)
void quantum_print_expn(Eq_11582 dwArg04, int32 dwArg08, word32 dwArg10)
{
	int32 dwLoc10_14 = 0x00;
	while (dwArg08 > dwLoc10_14)
	{
		struct Eq_11588 * eax_57 = dwArg10 + (dwLoc10_14 << 0x04);
		word32 eax_72 = dwLoc10_14 << (byte) ((dwArg04 >>u 0x1F) + dwArg04 >> 0x01);
		qwLoc34 = DPB(qwLoc34, SLICE(SEQ(eax_57->dw000C, eax_57->dw0008 - eax_72) - SEQ(eax_72 >> 0x1F, eax_72), word32, 32), 32);
		printf("%i: %lli\n", dwLoc10_14, qwLoc34);
		dwLoc10_14 = dwLoc10_14 + 0x01;
	}
}

// 0805135C: void quantum_addscratch(Stack ui32 dwArg04, Stack (ptr Eq_11624) dwArg08)
void quantum_addscratch(ui32 dwArg04, Eq_11624 * dwArg08)
{
	dwArg08->dw0000 = dwArg08->dw0000 + dwArg04;
	int32 dwLoc08_20 = 0x00;
	while (dwArg08->dw0004 > dwLoc08_20)
	{
		struct Eq_11638 * eax_46 = dwArg08->dw000C + (dwLoc08_20 << 0x04);
		ui32 eax_48 = eax_46->dw0008;
		byte cl_50 = (byte) dwArg04;
		int32 edx_51 = __shld(eax_46->dw000C, eax_48, cl_50);
		int32 eax_52 = eax_48 << cl_50;
		if ((cl_50 & 0x20) != 0x00)
		{
			edx_51 = eax_52;
			eax_52 = 0x00;
		}
		struct Eq_11663 * ecx_66 = dwArg08->dw000C + (dwLoc08_20 << 0x04);
		ecx_66->dw0008 = eax_52;
		ecx_66->dw000C = edx_51;
		dwLoc08_20 = dwLoc08_20 + 0x01;
	}
}

// 080513DA: void quantum_print_hash(Stack word32 dwArg0C, Stack ptr32 dwArg10, Stack (arr ui32) dwArg14)
void quantum_print_hash(word32 dwArg0C, ptr32 dwArg10, ui32 dwArg14[])
{
	int32 dwLoc0C_11 = 0x00;
	while (0x01 << (byte) dwArg0C > dwLoc0C_11)
	{
		if (dwLoc0C_11 != 0x00)
		{
			qwLoc20 = DPB(qwLoc20, (dwArg10 + -(0x01 - dwArg14[dwLoc0C_11] << 0x04))->dw000C, 32);
			printf("%i: %i %llu\n", dwLoc0C_11, dwArg14[dwLoc0C_11] - 0x01, qwLoc20);
		}
		dwLoc0C_11 = dwLoc0C_11 + 0x01;
	}
}

// 08051461: void quantum_kronecker(Stack (ptr Eq_11718) dwArg04, Stack (ptr Eq_11719) dwArg08, Stack (ptr Eq_11720) dwArg0C)
void quantum_kronecker(Eq_11718 * dwArg04, Eq_11719 * dwArg08, Eq_11720 * dwArg0C)
{
	word32 eax_23 = dwArg08->dw0000 + dwArg0C->dw0000;
	Eq_106 eax_29 = dwArg0C->dw0004 *s dwArg08->dw0004;
	int32 eax_35 = dwArg0C->dw0004 *s dwArg08->dw0004;
	Eq_106 eax_41 = calloc(eax_29, 0x10);
	if (eax_41 == 0x00)
		quantum_error(0x02);
	quantum_memman(eax_29 << 0x04);
	Eq_106 eax_57 = calloc(0x01 << (byte) (eax_35 + 0x02), 0x04);
	if (eax_57 == 0x00)
		quantum_error(0x02);
	quantum_memman(0x04 << (byte) (eax_35 + 0x02));
	int32 dwLoc14_140 = 0x00;
	while (dwArg08->dw0004 > dwLoc14_140)
	{
		while (dwArg0C->dw0004 > 0x00)
		{
			struct Eq_11805 * eax_154 = dwArg08->dw000C + (dwLoc14_140 << 0x04);
			word32 edx_148 = eax_41 + (Mem0[dwArg0C + 0x04:word32] *s dwLoc14_140 << 0x04);
			ui32 ebx_155 = eax_154->dw0008;
			byte cl_159 = (byte) dwArg0C->dw0000;
			int32 edi_162 = __shld(eax_154->dw000C, ebx_155, cl_159);
			int32 esi_163 = ebx_155 << cl_159;
			if ((cl_159 & 0x20) != 0x00)
			{
				edi_162 = esi_163;
				esi_163 = 0x00;
			}
			struct Eq_11843 * edx_172 = dwArg0C->ptr000C;
			ui32 edx_181 = edi_162 | edx_172->dw000C;
			edx_148->dw0008 = esi_163 | edx_172->dw0008;
			edx_148->dw000C = edx_181;
			struct Eq_11843 * edx_200 = dwArg0C->ptr000C;
			struct Eq_11866 * eax_196 = dwArg08->dw000C + (dwLoc14_140 << 0x04);
			word32 edi_191 = eax_41 + (Mem184[dwArg0C + 0x04:word32] *s dwLoc14_140 << 0x04);
			Eq_106 edx_205 = edx_200->t0000;
			Eq_106 eax_206 = edx_200->t0004;
			__mulsc3(eax_196->t0000, eax_196->t0004, edx_205, eax_206);
			edi_191->t0000 = eax_206;
			edi_191->t0004 = edx_205;
		}
		dwLoc14_140 = dwLoc14_140 + 0x01;
	}
	dwArg04->dw0000 = eax_23;
	dwArg04->t0004 = eax_29;
	dwArg04->dw0008 = eax_35 + 0x02;
	dwArg04->t000C = eax_41;
	dwArg04->t0010 = eax_57;
}

// 0805165E: void quantum_state_collapse(Stack (ptr Eq_913) dwArg04, Stack Eq_106 dwArg08, Stack word32 dwArg0C, Stack Eq_106 dwArg10, Stack Eq_106 dwArg14, Stack Eq_106 dwArg18, Stack Eq_106 dwArg1C, Stack Eq_106 dwArg20)
void quantum_state_collapse(Eq_913 * dwArg04, Eq_106 dwArg08, word32 dwArg0C, Eq_106 dwArg10, Eq_106 dwArg14, Eq_106 dwArg18, Eq_106 dwArg1C, Eq_106 dwArg20)
{
}

// 080519B9: void quantum_dot_product(Stack (ptr Eq_1501) dwArg04, Stack Eq_106 dwArg08)
void quantum_dot_product(Eq_1501 * dwArg04, Eq_106 dwArg08)
{
	if (Mem0[dwArg08 + 0x08:word32] != 0x00)
		quantum_reconstruct_hash(dwArg08);
	int32 dwLoc10_125 = 0x00;
	while (dwArg04->dw0004 > dwLoc10_125)
	{
		struct Eq_12153 * eax_88 = dwArg04->dw000C + (dwLoc10_125 << 0x04);
		word32 eax_104 = quantum_get_state(eax_88->dw0008, eax_88->dw000C, Mem0[dwArg08 + 0x08:word32], Mem0[dwArg08 + 0x0C:word32], Mem0[dwArg08 + 0x10:word32]);
		if (eax_104 >= 0x00)
		{
			Eq_106 edx_131 = dwArg04->dw000C + (dwLoc10_125 << 0x04);
			word32 eax_135 = Mem0[edx_131 + 0x04:word32];
			quantum_conj(*edx_131, eax_135);
			word32 eax_148 = Mem0[dwArg08 + 0x0C:word32] + (eax_104 << 0x04);
			__mulsc3(eax_135, edx_131, eax_148->t0000, eax_148->t0004);
		}
		dwLoc10_125 = dwLoc10_125 + 0x01;
	}
}

// 08051AF8: void quantum_reconstruct_hash(Stack Eq_106 dwArg04)
void quantum_reconstruct_hash(Eq_106 dwArg04)
{
	int32 dwLoc08_11 = 0x00;
	while (0x01 << (byte) Mem0[dwArg04 + 0x08:word32] > dwLoc08_11)
	{
		Mem0[dwArg04 + 0x10:word32][dwLoc08_11 * 0x04] = 0x00;
		dwLoc08_11 = dwLoc08_11 + 0x01;
	}
	Eq_106 dwLoc08_21 = 0x00;
	while (Mem0[dwArg04 + 0x04:word32] > dwLoc08_21)
	{
		word32 eax_45 = Mem0[dwArg04 + 0x0C:word32] + (dwLoc08_21 << 0x04);
		quantum_add_hash(eax_45->dw0008, eax_45->dw000C, dwLoc08_21, dwArg04);
		dwLoc08_21 = dwLoc08_21 + 0x01;
	}
}

// 08051B7B: void quantum_add_hash(Stack word32 dwArg04, Stack word32 dwArg08, Stack Eq_106 dwArg0C, Stack Eq_106 dwArg10)
void quantum_add_hash(word32 dwArg04, word32 dwArg08, Eq_106 dwArg0C, Eq_106 dwArg10)
{
	word32 dwLoc0C_14 = 0x00;
	word32 dwLoc08_25 = quantum_hash64(dwArg04, dwArg08, Mem0[dwArg10 + 0x08:word32]);
	while (Mem0[dwArg10 + 0x10:word32][dwLoc08_25 * 0x04] != 0x00)
	{
		ui32 v10_56 = dwLoc08_25 + 0x01;
		dwLoc08_25 = v10_56;
		if (0x01 << (byte) Mem0[dwArg10 + 0x08:word32] == v10_56)
		{
			if (dwLoc0C_14 == 0x00)
			{
				dwLoc08_25 = 0x00;
				dwLoc0C_14 = 0x01;
			}
			else
				quantum_error(0x05);
		}
	}
	Mem0[dwArg10 + 0x10:word32][dwLoc08_25 * 0x04] = dwArg0C + 0x01;
}

// 08051C1A: Register uint32 quantum_hash64(Stack word32 dwArg04, Stack word32 dwArg08, Stack Eq_106 dwArg0C)
uint32 quantum_hash64(word32 dwArg04, word32 dwArg08, Eq_106 dwArg0C)
{
	return (dwArg08 ^ dwArg04) *s 0x9E370001 >> (byte) (0x20 - dwArg0C);
}

// 08051C5C: Register word32 quantum_get_state(Stack word32 dwArg04, Stack word32 dwArg08, Stack Eq_106 dwArg14, Stack Eq_106 dwArg18, Stack Eq_106 dwArg1C)
word32 quantum_get_state(word32 dwArg04, word32 dwArg08, Eq_106 dwArg14, Eq_106 dwArg18, Eq_106 dwArg1C)
{
}

// 08051D22: void quantum_dot_product_noconj(Stack Eq_106 dwArg04, Stack Eq_106 dwArg08)
void quantum_dot_product_noconj(Eq_106 dwArg04, Eq_106 dwArg08)
{
	if (Mem0[dwArg08 + 0x08:word32] != 0x00)
		quantum_reconstruct_hash(dwArg08);
	Eq_106 dwLoc10_125 = 0x00;
	while (Mem0[dwArg04 + 0x04:word32] > dwLoc10_125)
	{
		word32 eax_88 = Mem0[dwArg04 + 0x0C:word32] + (dwLoc10_125 << 0x04);
		word32 eax_104 = quantum_get_state(eax_88->dw0008, eax_88->dw000C, Mem0[dwArg08 + 0x08:word32], Mem0[dwArg08 + 0x0C:word32], Mem0[dwArg08 + 0x10:word32]);
		if (eax_104 >= 0x00)
		{
			word32 eax_131 = Mem0[dwArg04 + 0x0C:word32] + (dwLoc10_125 << 0x04);
			word32 eax_139 = Mem0[dwArg08 + 0x0C:word32] + (eax_104 << 0x04);
			__mulsc3(eax_131->t0000, eax_131->t0004, eax_139->t0000, eax_139->t0004);
		}
		dwLoc10_125 = dwLoc10_125 + 0x01;
	}
}

// 08051E46: void quantum_vectoradd(Stack (ptr Eq_9335) dwArg04, Stack Eq_106 dwArg08, Stack (ptr Eq_9337) dwArg0C)
void quantum_vectoradd(Eq_9335 * dwArg04, Eq_106 dwArg08, Eq_9337 * dwArg0C)
{
	quantum_copy_qureg(dwArg08, fp - 0x30);
	ui32 dwLoc1C_14 = 0x00;
	if (Mem0[dwArg08 + 0x08:word32] != 0x00 || dwArg0C->dw0008 != 0x00)
	{
		quantum_reconstruct_hash(dwArg08);
		quantum_copy_qureg(dwArg08, fp - 0x30);
		int32 dwLoc10_238 = 0x00;
		while (dwArg0C->dw0004 > dwLoc10_238)
		{
			struct Eq_12477 * eax_268 = dwArg0C->dw000C + (dwLoc10_238 << 0x04);
			if (quantum_get_state(eax_268->dw0008, eax_268->dw000C, Mem0[dwArg08 + 0x08:word32], Mem0[dwArg08 + 0x0C:word32], Mem0[dwArg08 + 0x10:word32]) == ~0x00)
				dwLoc1C_14 = dwLoc1C_14 + 0x01;
			dwLoc10_238 = dwLoc10_238 + 0x01;
		}
	}
	ui32 eax_38 = dwLoc2C + dwLoc1C_14;
	Eq_106 eax_46 = realloc(dwLoc24, eax_38 << 0x04);
	if (eax_46 == 0x00)
		quantum_error(0x02);
	quantum_memman(dwLoc1C_14 << 0x04);
	word32 dwLoc18_145 = Mem0[dwArg08 + 0x04:word32];
	int32 dwLoc10_157 = 0x00;
	while (dwArg0C->dw0004 > dwLoc10_157)
	{
		struct Eq_12524 * eax_125 = dwArg0C->dw000C + (dwLoc10_157 << 0x04);
		word32 eax_141 = quantum_get_state(eax_125->dw0008, eax_125->dw000C, Mem0[dwArg08 + 0x08:word32], Mem0[dwArg08 + 0x0C:word32], Mem0[dwArg08 + 0x10:word32]);
		if (eax_141 >= 0x00)
		{
			word32 eax_166 = eax_46 + (eax_141 << 0x04);
			struct Eq_12623 * eax_174 = dwArg0C->dw000C + (dwLoc10_157 << 0x04);
			word32 esi_162 = eax_46 + (eax_141 << 0x04);
			real32 dwLoc40_195 = (real32) ((real64) eax_166->dw0004 + (real64) eax_174->dw0004);
			esi_162->r0000 = (real32) ((real64) eax_166->dw0000 + (real64) eax_174->dw0000);
			esi_162->r0004 = dwLoc40_195;
		}
		else
		{
			struct Eq_12569 * eax_207 = dwArg0C->dw000C + (dwLoc10_157 << 0x04);
			word32 ecx_202 = eax_46 + (dwLoc18_145 << 0x04);
			word32 edx_208 = eax_207->dw000C;
			ecx_202->dw0008 = eax_207->dw0008;
			ecx_202->dw000C = edx_208;
			struct Eq_12593 * eax_220 = dwArg0C->dw000C + (dwLoc10_157 << 0x04);
			word32 ecx_215 = eax_46 + (dwLoc18_145 << 0x04);
			word32 eax_222 = eax_220->dw0004;
			ecx_215->dw0000 = eax_220->dw0000;
			ecx_215->dw0004 = eax_222;
			dwLoc18_145 = (word32) dwLoc18_145 + 0x01;
		}
		dwLoc10_157 = dwLoc10_157 + 0x01;
	}
	dwArg04->dw0000 = dwLoc30;
	dwArg04->dw0004 = eax_38;
	dwArg04->dw0008 = dwLoc28;
	dwArg04->t000C = eax_46;
	dwArg04->dw0010 = dwLoc20;
}

// 080520A8: void quantum_vectoradd_inplace(Stack Eq_106 dwArg04, Stack (ptr Eq_9415) dwArg08)
void quantum_vectoradd_inplace(Eq_106 dwArg04, Eq_9415 * dwArg08)
{
	ui32 dwLoc1C_13 = 0x00;
	if (Mem0[dwArg04 + 0x08:word32] != 0x00 || dwArg08->dw0008 != 0x00)
	{
		quantum_reconstruct_hash(dwArg04);
		int32 dwLoc10_221 = 0x00;
		while (dwArg08->dw0004 > dwLoc10_221)
		{
			struct Eq_12702 * eax_252 = dwArg08->dw000C + (dwLoc10_221 << 0x04);
			if (quantum_get_state(eax_252->dw0008, eax_252->dw000C, Mem0[dwArg04 + 0x08:word32], Mem0[dwArg04 + 0x0C:word32], Mem0[dwArg04 + 0x10:word32]) == ~0x00)
				dwLoc1C_13 = dwLoc1C_13 + 0x01;
			dwLoc10_221 = dwLoc10_221 + 0x01;
		}
	}
	Mem43[dwArg04 + 0x0C:word32] = realloc(Mem0[dwArg04 + 0x0C:word32], Mem0[dwArg04 + 0x04:word32] + dwLoc1C_13 << 0x04);
	if (Mem43[dwArg04 + 0x0C:word32] == 0x00)
		quantum_error(0x02);
	quantum_memman(dwLoc1C_13 << 0x04);
	word32 dwLoc18_128 = Mem43[dwArg04 + 0x04:word32];
	int32 dwLoc10_140 = 0x00;
	while (dwArg08->dw0004 > dwLoc10_140)
	{
		struct Eq_12749 * eax_108 = dwArg08->dw000C + (dwLoc10_140 << 0x04);
		word32 eax_124 = quantum_get_state(eax_108->dw0008, eax_108->dw000C, Mem43[dwArg04 + 0x08:word32], Mem43[dwArg04 + 0x0C:word32], Mem43[dwArg04 + 0x10:word32]);
		if (eax_124 >= 0x00)
		{
			word32 eax_151 = Mem43[dwArg04 + 0x0C:word32] + (eax_124 << 0x04);
			struct Eq_12846 * eax_159 = dwArg08->dw000C + (dwLoc10_140 << 0x04);
			word32 esi_146 = Mem43[dwArg04 + 0x0C:word32] + (eax_124 << 0x04);
			real32 dwLoc20_180 = (real32) ((real64) eax_151->dw0004 + (real64) eax_159->dw0004);
			esi_146->r0000 = (real32) ((real64) eax_151->dw0000 + (real64) eax_159->dw0000);
			esi_146->r0004 = dwLoc20_180;
		}
		else
		{
			struct Eq_12783 * eax_193 = dwArg08->dw000C + (dwLoc10_140 << 0x04);
			word32 ecx_188 = Mem43[dwArg04 + 0x0C:word32] + (dwLoc18_128 << 0x04);
			word32 edx_194 = eax_193->dw000C;
			ecx_188->dw0008 = eax_193->dw0008;
			ecx_188->dw000C = edx_194;
			struct Eq_12810 * eax_207 = dwArg08->dw000C + (dwLoc10_140 << 0x04);
			word32 ecx_202 = Mem197[dwArg04 + 0x0C:word32] + (dwLoc18_128 << 0x04);
			word32 eax_209 = eax_207->dw0004;
			ecx_202->dw0000 = eax_207->dw0000;
			ecx_202->dw0004 = eax_209;
			dwLoc18_128 = (word32) dwLoc18_128 + 0x01;
		}
		dwLoc10_140 = dwLoc10_140 + 0x01;
	}
	Mem94[dwArg04 + 0x04:word32] = Mem43[dwArg04 + 0x04:word32] + dwLoc1C_13;
}

// 080522D8: void quantum_matrix_qureg(Register ptr32 ebp, Stack Eq_106 dwArg04, Stack (ptr code) dwArg08, Stack word32 dwArg0C, Stack word32 dwArg10, Stack Eq_106 dwArg14)
void quantum_matrix_qureg(ptr32 ebp, Eq_106 dwArg04, code * dwArg08, word32 dwArg0C, word32 dwArg10, Eq_106 dwArg14)
{
	Eq_106 eax_22 = *dwArg14;
	Eq_106 eax_27 = 0x01 << (byte) eax_22;
	struct Eq_12897 * esp_117 = fp - 0x9C;
	Eq_106 eax_34 = calloc(eax_27, 0x10);
	if (eax_34 == 0x00)
		quantum_error(0x02);
	quantum_memman(eax_27 << 0x04);
	Eq_12911 dwLoc14_153 = 0x00;
	Eq_12913 dwLoc10_158 = 0x00;
	while (true)
	{
		byte cl_73 = (byte) *dwArg14;
		Eq_12911 eax_75 = 0x01 << cl_73;
		if (eax_75 >> 0x1F <= dwLoc10_158 && (eax_75 >> 0x1F < dwLoc10_158 || eax_75 <= dwLoc14_153))
			break;
		word32 ecx_87 = eax_34 + (dwLoc14_153 << 0x04);
		ecx_87->t0008 = dwLoc14_153;
		ecx_87->t000C = dwLoc10_158;
		esp_117->r000C = rLoc44;
		esp_117->t0004 = dwLoc14_153;
		esp_117->t0008 = dwLoc10_158;
		esp_117->ptr0000 = fp - 0x6C;
		union Eq_106 * esp_103;
		word32 ebp_104;
		word32 esi_105;
		word32 ebx_106;
		byte SCZO_107;
		word32 eax_108;
		word32 ecx_109;
		byte cl_110;
		byte SZO_111;
		byte C_112;
		byte Z_113;
		word32 edx_114;
		byte CZ_115;
		real64 rLoc1_116;
		dwArg08();
		*esp_103 = (union Eq_106 *) dwArg14;
		*(esp_103 - 0x04) = fp - 0x3C;
		quantum_dot_product_noconj(dwArg00, dwArg04);
		word32 esi_137 = eax_34 + (dwLoc14_153 << 0x04);
		esi_137->dw0000 = 0x00;
		esi_137->dw0004 = 0x00;
		*(esp_103 - 0x04) = fp - 0x3C;
		quantum_delete_qureg(dwArg00);
		esp_117 = esp_103 - 0x04;
		dwLoc14_153 = (word32) dwLoc14_153.u1 + 0x01;
		dwLoc10_158 = v17;
	}
	*dwArg04 = eax_22;
	Mem170[dwArg04 + 0x04:word32] = eax_27;
	Mem173[dwArg04 + 0x08:word32] = 0x00;
	Mem176[dwArg04 + 0x0C:word32] = eax_34;
	Mem179[dwArg04 + 0x10:word32] = 0x00;
}

// 08052462: void quantum_scalar_qureg(Stack Eq_106 dwArg04, Stack Eq_106 dwArg08, Stack (ptr Eq_9327) dwArg0C)
void quantum_scalar_qureg(Eq_106 dwArg04, Eq_106 dwArg08, Eq_9327 * dwArg0C)
{
	while (dwArg0C->dw0004 > 0x00)
	{
		struct Eq_13031 * edx_50 = dwArg0C->ptr000C;
		struct Eq_13031 * edx_45 = dwArg0C->ptr000C;
		__mulsc3(edx_50->t0000, edx_50->t0004, dwArg04, dwArg08);
		edx_45->t0000 = dwArg08;
		edx_45->t0004 = dwArg04;
	}
}

// 080524D7: void quantum_print_timeop(Register (ptr Eq_1727) gs, Stack Eq_106 dwArg04, Stack (ptr code) dwArg08)
void quantum_print_timeop(Eq_1727 * gs, Eq_106 dwArg04, code * dwArg08)
{
	quantum_new_matrix(fp - 0x4C, 0x01 << (byte) dwArg04, 0x01 << (byte) dwArg04);
	Eq_106 dwLoc10_133 = 0x00;
	while (true)
	{
		byte cl_63 = (byte) dwArg04;
		if (0x01 << cl_63 <= dwLoc10_133)
			break;
		int32 ecx_83 = dwLoc10_133 >> 0x1F;
		quantum_new_qureg(gs, fp - 0x6C, dwLoc10_133, ecx_83, dwArg04);
		word32 esp_113;
		word32 ebp_114;
		word32 ebx_115;
		byte SCZO_116;
		word32 ecx_117;
		word32 eax_118;
		byte cl_119;
		word32 edx_120;
		byte SZO_121;
		dwArg08();
		int32 dwLoc14_123 = 0x00;
		while (dwLoc68 > dwLoc14_123)
		{
			struct Eq_13103 * eax_152 = dwLoc60 + (dwLoc14_123 << 0x04);
			struct Eq_13108 * ecx_148 = &(dwLoc44 + ((dwLoc60 + (dwLoc14_123 << 0x04))->dw0008 + dwLoc48 *s dwLoc10_133 << 0x03) / 0x08)->dw0000;
			word32 eax_154 = eax_152->dw0004;
			ecx_148->dw0000 = eax_152->dw0000;
			ecx_148->dw0004 = eax_154;
			dwLoc14_123 = dwLoc14_123 + 0x01;
		}
		quantum_delete_qureg(fp - 0x34);
		dwLoc10_133 = dwLoc10_133 + 0x01;
	}
	quantum_print_matrix(dwLoc4C, dwLoc48, dwLoc44);
	quantum_delete_matrix(fp - 0x20);
}

// 08052614: void main(Register (ptr Eq_13141) gs, Stack word32 dwArg00, Stack int32 dwArg04, Stack (ptr Eq_13144) dwArg08)
void main(Eq_13141 * gs, word32 dwArg00, int32 dwArg04, Eq_13144 * dwArg08)
{
	__align(fp);
	Eq_84 dwLoc20_142 = 0x00;
	Eq_13150 eax_18 = time(null);
	word32 esp_20;
	word32 ecx_21;
	word32 ebp_22;
	byte SCZO_23;
	word32 eax_24;
	byte Z_25;
	word32 edx_26;
	byte SZO_27;
	byte SO_28;
	byte C_29;
	byte cl_30;
	real64 rLoc1_31;
	real64 rLoc2_32;
	struct Eq_1727 * gs_141;
	!srand();
	if (dwArg04 == 0x01)
		puts("Usage: shor [number]\n");
	else
	{
		Eq_84 eax_110 = atoi(dwArg08->ptr0004);
		if (eax_110 <= 0x0E)
			puts("Invalid number\n");
		else
		{
			Eq_106 eax_121 = quantum_getwidth(eax_110 *s eax_110);
			Eq_106 eax_125 = quantum_getwidth(eax_110);
			printf("N = %i, %i qubits required\n", eax_110, eax_125 * 0x03 + eax_121 + 0x02);
			if (dwArg04 > 0x02)
				dwLoc20_142 = atoi(dwArg08->ptr0008);
			while (true)
			{
				Eq_84 eax_157 = quantum_gcd(eax_110, dwLoc20_142);
				if (eax_157 <= 0x01 && dwLoc20_142 > 0x01)
					break;
				word32 esp_162;
				word32 ecx_163;
				word32 ebp_164;
				byte SCZO_165;
				Eq_13225 eax_166;
				byte Z_167;
				word32 edx_168;
				byte SZO_169;
				byte SO_170;
				byte C_171;
				byte cl_172;
				real64 rLoc1_173;
				real64 rLoc2_174;
				!rand();
				dwLoc20_142 = (int32) (SEQ(eax_166 >> 0x1F, eax_166) % eax_110);
			}
			printf("Random seed: %i\n", dwLoc20_142);
			quantum_new_qureg(gs_141, fp - 0x70, 0x00, 0x00, eax_121);
			Eq_106 dwLoc14_215 = 0x00;
			while (dwLoc14_215 < eax_121)
			{
				quantum_hadamard(gs_141, dwLoc14_215, fp - 0x4C);
				dwLoc14_215 = dwLoc14_215 + 0x01;
			}
			quantum_addscratch(eax_125 * 0x03 + 0x02, fp - 0x4C);
			quantum_exp_mod_n(gs_141, eax_110, dwLoc20_142, eax_121, eax_125, fp - 0x4C);
			int32 dwLoc14_241 = 0x00;
			while (eax_125 * 0x03 + 0x02 > dwLoc14_241)
			{
				quantum_bmeasure(gs_141, 0x00, fp - 0x4C);
				dwLoc14_241 = dwLoc14_241 + 0x01;
			}
			quantum_qft(gs_141, eax_121, fp - 0x4C);
			Eq_106 dwLoc14_256 = 0x00;
			while ((eax_121 >>u 0x1F) + eax_121 >> 0x01 > dwLoc14_256)
			{
				quantum_cnot(gs_141, dwLoc14_256, eax_121 - dwLoc14_256 - 0x01, fp - 0x4C);
				quantum_cnot(gs_141, eax_121 - dwLoc14_256 - 0x01, dwLoc14_256, fp - 0x4C);
				quantum_cnot(gs_141, dwLoc14_256, eax_121 - dwLoc14_256 - 0x01, fp - 0x4C);
				dwLoc14_256 = dwLoc14_256 + 0x01;
			}
			int32 eax_278 = quantum_measure(gs_141, dwLoc6C, dwLoc64);
			if (eax_278 == ~0x00)
				puts("Impossible Measurement!");
			else if (eax_278 == 0x00)
				puts("Measured zero, try again.");
			else
			{
				Eq_13338 eax_296 = 0x01 << (byte) eax_121;
				printf("Measured %i (%f), ", eax_278, (real64) eax_278 / (real64) eax_296);
				quantum_frac_approx(fp - 0x28, fp - 44, eax_121);
				printf("fractional approximation is %i/%i.\n", eax_278, eax_296);
				uint32 ecx_331 = eax_296 >> 0x1F >> 0x1F;
				Eq_13338 dwLoc2C_298 = eax_296;
				if (((word32) eax_296.u0 + ecx_331 & 0x01) - ecx_331 == 0x01 && eax_296 * 0x02 < 0x01 << (byte) eax_121)
				{
					puts("Odd denominator, trying to expand by 2.");
					dwLoc2C_298 = eax_296 * 0x02;
				}
				Eq_13379 eax_343 = dwLoc2C_298 >> 0x1F;
				if (((word32) dwLoc2C_298 + (eax_343 >> 0x1F) & 0x01) - (eax_343 >> 0x1F) == 0x01)
					puts("Odd period, try again.");
				else
				{
					Eq_84 dwLoc38_418;
					printf("Possible period is %i.\n", dwLoc2C_298);
					word32 eax_377 = quantum_ipow(dwLoc20_142, (dwLoc2C_298 >>u 0x1F) + dwLoc2C_298 >> 0x01) + (int32) (0x01 % eax_110);
					word32 edx_399 = quantum_ipow(dwLoc20_142, (dwLoc2C_298 >>u 0x1F) + dwLoc2C_298 >> 0x01) - (int32) (0x01 % eax_110);
					Eq_84 eax_407 = quantum_gcd(eax_110, eax_377);
					Eq_84 eax_413 = quantum_gcd(eax_110, edx_399);
					if (eax_407 > eax_413)
						dwLoc38_418 = eax_407;
					else
						dwLoc38_418 = eax_413;
					if (dwLoc38_418 < eax_110 && dwLoc38_418 > 0x01)
					{
						printf("%i = %i * %i\n", eax_110, dwLoc38_418, (int32) (SEQ(eax_110 >> 0x1F, eax_110) / dwLoc38_418));
						quantum_delete_qureg(fp - 0x4C);
					}
					else
						puts("Unable to determine factors, try again.");
				}
			}
		}
	}
}

// 08052B30: void quantum_get_version()
void quantum_get_version()
{
}

// 08052B40: void __mulsc3(Stack Eq_106 rArg04, Stack Eq_106 rArg08, Stack Eq_106 rArg0C, Stack Eq_106 rArg10)
void __mulsc3(Eq_106 rArg04, Eq_106 rArg08, Eq_106 rArg0C, Eq_106 rArg10)
{
	__i686.get_pc_thunk.cx(dwLoc44);
}

// 080531D5: Register word32 __i686.get_pc_thunk.cx(Stack word32 dwArg00)
word32 __i686.get_pc_thunk.cx(word32 dwArg00)
{
	return dwArg00;
}

// 080531E0: void __muldc3(Stack ptr32 dwArg04, Stack real64 rArg08, Stack real64 rArg10, Stack real64 rArg18, Stack real64 rArg20)
void __muldc3(ptr32 dwArg04, real64 rArg08, real64 rArg10, real64 rArg18, real64 rArg20)
{
	__i686.get_pc_thunk.bx(dwLoc80);
}

// 08053887: Register word32 __i686.get_pc_thunk.bx(Stack word32 dwArg00)
word32 __i686.get_pc_thunk.bx(word32 dwArg00)
{
	return dwArg00;
}

// 08053890: void __divsc3(Stack Eq_106 rArg04, Stack Eq_106 rArg08, Stack Eq_106 rArg0C, Stack Eq_106 rArg10)
void __divsc3(Eq_106 rArg04, Eq_106 rArg08, Eq_106 rArg0C, Eq_106 rArg10)
{
	Eq_154 rLoc5_17 = fabs((real64) rArg10);
	byte FPUF_20 = cond(fabs(rLoc5_17) - rLoc5_17);
	__i686.get_pc_thunk.cx(dwLoc10);
	if ((word16) FPUF_20 << 0x08)
		;
}

// 08053D00: void __divdc3(Stack ptr32 dwArg04, Stack real64 rArg08, Stack real64 rArg10, Stack real64 rArg18, Stack Eq_154 rArg20)
void __divdc3(ptr32 dwArg04, real64 rArg08, real64 rArg10, real64 rArg18, Eq_154 rArg20)
{
	Eq_154 rLoc5_22 = fabs(rArg20);
	byte FPUF_25 = cond(fabs(rLoc5_22) - rLoc5_22);
	__i686.get_pc_thunk.bx(dwLoc18);
	if ((word16) FPUF_25 << 0x08)
		;
}

// 08054170: void __libc_csu_fini()
void __libc_csu_fini()
{
}

// 08054180: void __libc_csu_init(Stack word32 dwArg04, Stack word32 dwArg08, Stack word32 dwArg0C)
void __libc_csu_init(word32 dwArg04, word32 dwArg08, word32 dwArg0C)
{
	struct Eq_13475 * ebx_16 = __i686.get_pc_thunk.bx(dwLoc14);
	_init();
	if (&ebx_16->ptr1D75 - &ebx_16->ptr1D75 >> 0x02 != 0x00)
	{
		do
		{
			word32 esp_59;
			word32 ebp_60;
			up32 edi_61;
			up32 esi_62;
			word32 ebx_63;
			byte SCZO_64;
			word32 eax_65;
			byte SZO_66;
			byte C_67;
			byte Z_68;
			ebx_16->ptr1D75();
		} while (esi_62 + 0x01 < edi_61);
	}
}

// 080541E0: void atexit(Stack word32 dwArg04)
void atexit(word32 dwArg04)
{
	word32 edx_17 = __i686.get_pc_thunk.bx(dwLoc0C)->dw1E05;
	word32 esp_27;
	word32 ebp_28;
	word32 eax_29;
	byte SZO_30;
	byte C_31;
	word32 ebx_32;
	byte SCZO_33;
	word32 edx_34;
	byte Z_35;
	!__cxa_atexit();
}

// 08054220: void __do_global_ctors_aux()
void __do_global_ctors_aux()
{
	<anonymous> * eax_11 = globals->ptr8055F00;
	if (eax_11 != (<anonymous> *) ~0x00)
	{
		do
		{
			word32 esp_26;
			word32 ebp_27;
			word32 * ebx_28;
			byte SCZO_29;
			word32 eax_30;
			byte Z_31;
			eax_11();
		} while (*ebx_28 != ~0x00);
	}
}

// 0805424C: void _fini(Register word32 esi)
void _fini(word32 esi)
{
	__do_global_dtors_aux(esi);
}

